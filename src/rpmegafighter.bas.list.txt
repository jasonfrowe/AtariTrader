------- FILE rpmegafighter.bas.asm LEVEL 1 PASS 3
      1  10000 ????						; MACRO.H
      2  10000 ????
      3  10000 ????						; Based on the 2600 macro.h file.
      4  10000 ????						; Macros irrelevant to the 7800 have been removed, and the sleep macro
      5  10000 ????						; has been adapted to give accurate results on the 7800.
      6  10000 ????
      7  10000 ????						; Version 1.0 2019/12/11 (based on the 2600 Version 1.05, 13/NOVEMBER/2003)
      8  10000 ????
      9  10000 ????						; Available macros...
     10  10000 ????						;   SLEEP n		 - sleep for n cycles
     11  10000 ????						;   SET_POINTER	 - load a 16-bit absolute to a 16-bit variable
     12  10000 ????
     13  10000 ????						;-------------------------------------------------------------------------------
     14  10000 ????						; SLEEP duration
     15  10000 ????						; Original author: Thomas Jentzsch
     16  10000 ????						; Inserts code which takes the specified number of cycles to execute.	This is
     17  10000 ????						; useful for code where precise timing is required.
     18  10000 ????						; ILLEGAL-OPCODE VERSION DOES NOT AFFECT FLAGS OR REGISTERS.
     19  10000 ????						; LEGAL OPCODE VERSION MAY AFFECT FLAGS
     20  10000 ????						; Uses illegal opcode (DASM 2.20.01 onwards).
     21  10000 ????
     22  10000 ????				       MAC	sleep
     23  10000 ????			    .CYCLES    SET	{1}
     24  10000 ????
     25  10000 ????				       IF	.CYCLES < 2
     26  10000 ????				       ECHO	"MACRO ERROR: 'SLEEP': Duration must be > 1"
     27  10000 ????				       ERR
     28  10000 ????				       ENDIF
     29  10000 ????
     30  10000 ????				       IF	.CYCLES & 1
     31  10000 ????				       IFNCONST	NO_ILLEGAL_OPCODES
     32  10000 ????				       nop	$80
     33  10000 ????				       ELSE
     34  10000 ????				       bit	$80
     35  10000 ????				       ENDIF
     36  10000 ????			    .CYCLES    SET	.CYCLES - 3
     37  10000 ????				       ENDIF
     38  10000 ????
     39  10000 ????				       REPEAT	.CYCLES / 2
     40  10000 ????				       nop
     41  10000 ????				       REPEND
     42  10000 ????				       ENDM		;usage: SLEEP n (n>1)
     43  10000 ????
     44  10000 ????
     45  10000 ????						;-------------------------------------------------------------------------------
     46  10000 ????						; FRACSLEEP duration
     47  10000 ????						; Based on Thomas Jentzsch's SLEEP macro, but takes cycles*2 to allow for
     48  10000 ????						; 7800 based 0.5 cycle sleep.
     49  10000 ????
     50  10000 ????				       MAC	fracsleep
     51  10000 ????			    .CYCLES    SET	{1}
     52  10000 ????
     53  10000 ????				       IF	.CYCLES < 4
     54  10000 ????				       ECHO	"MACRO ERROR: 'FRACSLEEP': Duration must be > 4"
     55  10000 ????				       ERR
     56  10000 ????				       ENDIF
     57  10000 ????				       IF	.CYCLES = 5
     58  10000 ????				       ECHO	"MACRO ERROR: 'FRACSLEEP': Duration = 5 is impossible"
     59  10000 ????				       ERR
     60  10000 ????				       ENDIF
     61  10000 ????
     62  10000 ????				       IF	.CYCLES & 1
     63  10000 ????				       IFNCONST	NO_ILLEGAL_OPCODES
     64  10000 ????				       nop	$0	; TIA access is 3.5 cycles
     65  10000 ????				       ELSE
     66  10000 ????				       bit	$0	; TIA access is 3.5 cycles
     67  10000 ????				       ENDIF
     68  10000 ????			    .CYCLES    SET	.CYCLES - 7
     69  10000 ????				       ENDIF
     70  10000 ????
     71  10000 ????				       IF	.CYCLES & 2
     72  10000 ????				       IFNCONST	NO_ILLEGAL_OPCODES
     73  10000 ????				       nop	$80
     74  10000 ????				       ELSE
     75  10000 ????				       bit	$80
     76  10000 ????				       ENDIF
     77  10000 ????			    .CYCLES    SET	.CYCLES - 6
     78  10000 ????				       ENDIF
     79  10000 ????
     80  10000 ????				       REPEAT	.CYCLES / 4
     81  10000 ????				       nop
     82  10000 ????				       REPEND
     83  10000 ????				       ENDM		;usage: FRACSLEEP n (n>1)
     84  10000 ????
     85  10000 ????
     86  10000 ????						;-------------------------------------------------------
     87  10000 ????						; SET_POINTER
     88  10000 ????						; Original author: Manuel Rotschkar
     89  10000 ????						;
     90  10000 ????						; Sets a 2 byte RAM pointer to an absolute address.
     91  10000 ????						;
     92  10000 ????						; Usage: SET_POINTER pointer, address
     93  10000 ????						; Example: SET_POINTER SpritePTR, SpriteData
     94  10000 ????						;
     95  10000 ????						; Note: Alters the accumulator, NZ flags
     96  10000 ????						; IN 1: 2 byte RAM location reserved for pointer
     97  10000 ????						; IN 2: absolute address
     98  10000 ????
     99  10000 ????				       MAC	set_pointer
    100  10000 ????			    .POINTER   SET	{1}
    101  10000 ????			    .ADDRESS   SET	{2}
    102  10000 ????
    103  10000 ????				       LDA	#<.ADDRESS	; Get Lowbyte of Address
    104  10000 ????				       STA	.POINTER	; Store in pointer
    105  10000 ????				       LDA	#>.ADDRESS	; Get Hibyte of Address
    106  10000 ????				       STA	.POINTER+1	; Store in pointer+1
    107  10000 ????
    108  10000 ????				       ENDM
    109  10000 ????
    110  10000 ????						; EOF
    111  10000 ????						; Provided under the CC0 license. See the included LICENSE.txt for details.
    112  10000 ????
    113  10000 ????						; 7800MACRO.H
    114  10000 ????
    115  10000 ????						;-------------------------------------------------------
    116  10000 ????						; BOXCOLLISIONCHECK
    117  10000 ????						; author: Mike Saarna
    118  10000 ????						;
    119  10000 ????						; A general bounding box collision check. compares 2 rectangles of differing size
    120  10000 ????						; and shape for overlap. Carry is set for collision detected, clear for none.
    121  10000 ????						;
    122  10000 ????						; Usage: BOXCOLLISIONCHECK x1var,y1var,w1var,h1var,x2var,y2var,w2var,h2var
    123  10000 ????						;
    124  10000 ????
    125  10000 ????				       MAC	boxcollisioncheck
    126  10000 ????			    .boxx1     SET	{1}
    127  10000 ????			    .boxy1     SET	{2}
    128  10000 ????			    .boxw1     SET	{3}
    129  10000 ????			    .boxh1     SET	{4}
    130  10000 ????			    .boxx2     SET	{5}
    131  10000 ????			    .boxy2     SET	{6}
    132  10000 ????			    .boxw2     SET	{7}
    133  10000 ????			    .boxh2     SET	{8}
    134  10000 ????
    135  10000 ????			    .DoXCollisionCheck
    136  10000 ????				       lda	.boxx1	;3
    137  10000 ????				       cmp	.boxx2	;2
    138  10000 ????				       bcs	.X1isbiggerthanX2	;2/3
    139  10000 ????			    .X2isbiggerthanX1
    140  10000 ????				       adc	#.boxw1	;2
    141  10000 ????				       cmp	.boxx2	;3
    142  10000 ????				       bcs	.DoYCollisionCheck	;3/2
    143  10000 ????				       bcc	.noboxcollision	;3
    144  10000 ????			    .X1isbiggerthanX2
    145  10000 ????				       clc		;2
    146  10000 ????				       sbc	#.boxw2	;2
    147  10000 ????				       cmp	.boxx2	;3
    148  10000 ????				       bcs	.noboxcollision	;3/2
    149  10000 ????			    .DoYCollisionCheck
    150  10000 ????				       lda	.boxy1	;3
    151  10000 ????				       cmp	.boxy2	;3
    152  10000 ????				       bcs	.Y1isbiggerthanY2	;3/2
    153  10000 ????			    .Y2isbiggerthanY1
    154  10000 ????				       adc	#.boxh1	;2
    155  10000 ????				       cmp	.boxy2	;3
    156  10000 ????				       jmp	.checkdone	;6
    157  10000 ????			    .Y1isbiggerthanY2
    158  10000 ????				       clc		;2
    159  10000 ????				       sbc	#.boxh2	;2
    160  10000 ????				       cmp	.boxy2	;3
    161  10000 ????				       bcs	.noboxcollision	;3/2
    162  10000 ????			    .boxcollision
    163  10000 ????				       sec		;2
    164  10000 ????				       .byte	$24	; hardcoded "BIT [clc opcode]", used to skip over the following clc
    165  10000 ????			    .noboxcollision
    166  10000 ????				       clc		;2
    167  10000 ????			    .checkdone
    168  10000 ????
    169  10000 ????				       ENDM
    170  10000 ????
    171  10000 ????						; QBOXCOLLISIONCHECK
    172  10000 ????						; author: unknown
    173  10000 ????						;
    174  10000 ????						; A general bounding box collision check. compares 2 rectangles of differing size
    175  10000 ????						; and shape for overlap. Carry is CLEAR for collision detected, SET for none.
    176  10000 ????						;
    177  10000 ????						; Usage: QBOXCOLLISIONCHECK x1var,y1var,w1var,h1var,x2var,y2var,w2var,h2var
    178  10000 ????						;
    179  10000 ????				       MAC	qboxcollisioncheck
    180  10000 ????			    .boxx1     SET	{1}
    181  10000 ????			    .boxy1     SET	{2}
    182  10000 ????			    .boxw1     SET	{3}
    183  10000 ????			    .boxh1     SET	{4}
    184  10000 ????			    .boxx2     SET	{5}
    185  10000 ????			    .boxy2     SET	{6}
    186  10000 ????			    .boxw2     SET	{7}
    187  10000 ????			    .boxh2     SET	{8}
    188  10000 ????
    189  10000 ????				       lda	.boxx2
    190  10000 ????				       clc
    191  10000 ????				       adc	#.boxw2
    192  10000 ????				       sbc	.boxx1
    193  10000 ????				       cmp	#.boxw1+.boxw2-1
    194  10000 ????				       bcs	.qboxcollisiondone
    195  10000 ????						;if we're here, carry is clear
    196  10000 ????				       lda	.boxy2
    197  10000 ????				       adc	#.boxh2
    198  10000 ????				       sbc	.boxy1
    199  10000 ????				       cmp	#.boxh1+.boxh2-1
    200  10000 ????			    .qboxcollisiondone
    201  10000 ????				       rol		; temp for testing - invert carry...
    202  10000 ????				       eor	#1
    203  10000 ????				       ror
    204  10000 ????				       ENDM
    205  10000 ????
    206  10000 ????
    207  10000 ????				       MAC	median3
    208  10000 ????
    209  10000 ????						; A median filter (for smoothing paddle jitter)
    210  10000 ????						;   this macro takes the current paddle value, compares it to historic
    211  10000 ????						;   values, and replaces the current paddle value with the median.
    212  10000 ????						;
    213  10000 ????						; called as:  MEDIAN3 STORAGE CURRENT
    214  10000 ????						;    where STORAGE points to 3 consecutive bytes of memory. The first 2
    215  10000 ????						;	  must be dedicated to this MEDIAN filter. The last 1 is a temp.
    216  10000 ????						;    where CURRENT is memory holding the new value you wish to compare to
    217  10000 ????						;	  the previous values, and update with the median value.
    218  10000 ????						;
    219  10000 ????						; returns: CURRENT (modified to contain median value)
    220  10000 ????						;
    221  10000 ????						; author: Mike Saarna (aka RevEng)
    222  10000 ????
    223  10000 ????			    .MedianBytes SET	{1}
    224  10000 ????			    .NewValue  SET	{2}
    225  10000 ????
    226  10000 ????				       lda	#0
    227  10000 ????				       ldy	.NewValue
    228  10000 ????				       sty	.MedianBytes+2	; put the new value in the most "recent" slot
    229  10000 ????
    230  10000 ????						; build an index from relative size comparisons between our 3 values.
    231  10000 ????				       cpy	.MedianBytes
    232  10000 ????				       rol
    233  10000 ????				       cpy	.MedianBytes+1
    234  10000 ????				       rol
    235  10000 ????				       ldy	.MedianBytes
    236  10000 ????				       cpy	.MedianBytes+1
    237  10000 ????				       rol
    238  10000 ????				       tay
    239  10000 ????
    240  10000 ????				       ldx	MedianOrderLUT,y	; convert the size-comparison index to an index to the median value
    241  10000 ????				       lda	.MedianBytes,x
    242  10000 ????				       sta	.NewValue	; we replace the new value memory with the median value
    243  10000 ????
    244  10000 ????						; then shift values from "newer" bytes to "older" bytes, leaving the
    245  10000 ????						; newest byte (.MedianBytes+2) empty for next time.
    246  10000 ????				       lda	.MedianBytes+1
    247  10000 ????				       sta	.MedianBytes
    248  10000 ????				       lda	.MedianBytes+2
    249  10000 ????				       sta	.MedianBytes+1
    250  10000 ????				       ifnconst	MedianOrderLUT
    251  10000 ????				       jmp	MedianOrderLUTend
    252  10000 ????			    MedianOrderLUT		; converts our "comparison index" to an index to the median value
    253  10000 ????				       .byte	0	; 0  B2 < B0 < B1
    254  10000 ????				       .byte	1	; 1  B2 < B1 < B0
    255  10000 ????				       .byte	2	; 2   impossible
    256  10000 ????				       .byte	2	; 3  B1 < B2 < B0
    257  10000 ????				       .byte	2	; 4  B0 < B2 < B1
    258  10000 ????				       .byte	2	; 5   impossible
    259  10000 ????				       .byte	1	; 6  B0 < B1 < B2
    260  10000 ????				       .byte	0	; 7  B1 < B0 < B2
    261  10000 ????			    MedianOrderLUTend
    262  10000 ????				       endif
    263  10000 ????				       ENDM
    264  10000 ????
    265  10000 ????				       MAC	plotsprite
    266  10000 ????
    267  10000 ????						; A macro version of the plotsprite command.
    268  10000 ????						; This trades off rom space for speed.
    269  10000 ????						; It also doesn't check if the visible screen is displayed or not.
    270  10000 ????						; It has no training wheels. It is all rusty sharp edges.
    271  10000 ????
    272  10000 ????			    .GFXLabel  SET	{1}	; constant
    273  10000 ????			    .Palette   SET	{2}	; constant/variable MACARG2CONST
    274  10000 ????			    .SpriteX   SET	{3}	; constant/variable MACARG3CONST
    275  10000 ????			    .SpriteY   SET	{4}	; constant/variable MACARG4CONST
    276  10000 ????			    .ByteOffset SET	{5}	; constant/variable MACARG5CONST
    277  10000 ????
    278  10000 ????				       if	MACARG4CONST = 0
    279  10000 ????				       lda	.SpriteY
    280  10000 ????				       else
    281  10000 ????				       lda	#.SpriteY
    282  10000 ????				       endif
    283  10000 ????
    284  10000 ????				       lsr
    285  10000 ????				       lsr
    286  10000 ????				       asr	#%11111110	; ensure carry is clear
    287  10000 ????				       if	WZONEHEIGHT = 16
    288  10000 ????				       asr	#%11111110	; ensure carry is clear
    289  10000 ????				       endif
    290  10000 ????
    291  10000 ????				       tax
    292  10000 ????
    293  10000 ????				       cpx	#WZONECOUNT
    294  10000 ????				       bcs	.PLOTSPRITEnext
    295  10000 ????						; carry is clear
    296  10000 ????
    297  10000 ????				       ifconst	VSCROLL
    298  10000 ????				       ldy	Xx3,x
    299  10000 ????				       lda	DLLMEM+11,y
    300  10000 ????				       else		; !VSCROLL
    301  10000 ????				       lda	DLPOINTL,x	; Get pointer to DL that this sprite starts in
    302  10000 ????				       endif
    303  10000 ????				       ifconst	DOUBLEBUFFER
    304  10000 ????				       adc	doublebufferdloffset
    305  10000 ????				       endif		; DOUBLEBUFFER
    306  10000 ????				       sta	dlpnt
    307  10000 ????				       ifconst	VSCROLL
    308  10000 ????				       lda	DLLMEM+10,y
    309  10000 ????				       else		; !VSCROLL
    310  10000 ????				       lda	DLPOINTH,x
    311  10000 ????				       endif		; !VSCROLL
    312  10000 ????				       ifconst	DOUBLEBUFFER
    313  10000 ????				       adc	#0
    314  10000 ????				       endif		; DOUBLEBUFFER
    315  10000 ????				       sta	dlpnt+1
    316  10000 ????
    317  10000 ????				       ldy	dlend,x	; find the next new object position in this zone
    318  10000 ????
    319  10000 ????				       ifconst	.ByteOffset
    320  10000 ????
    321  10000 ????				       if	MACARG5CONST = 1
    322  10000 ????				       lda	#.ByteOffset
    323  10000 ????				       else
    324  10000 ????				       lda	.ByteOffset
    325  10000 ????				       endif
    326  10000 ????				       ifconst	DOUBLEBUFFER
    327  10000 ????				       if	{1}_width = 1
    328  10000 ????				       clc
    329  10000 ????				       endif
    330  10000 ????				       endif
    331  10000 ????				       if	{1}_width = 2
    332  10000 ????				       asl
    333  10000 ????				       endif
    334  10000 ????				       if	{1}_width = 3
    335  10000 ????				       asl
    336  10000 ????				       if	MACARG5CONST = 1
    337  10000 ????				       adc	#.ByteOffset
    338  10000 ????				       else
    339  10000 ????				       adc	.ByteOffset
    340  10000 ????				       endif
    341  10000 ????				       endif
    342  10000 ????				       if	{1}_width = 4
    343  10000 ????				       asl
    344  10000 ????				       asl
    345  10000 ????				       endif
    346  10000 ????				       if	{1}_width = 5
    347  10000 ????				       asl
    348  10000 ????				       asl
    349  10000 ????				       if	MACARG5CONST = 1
    350  10000 ????				       adc	#.ByteOffset
    351  10000 ????				       else
    352  10000 ????				       adc	.ByteOffset
    353  10000 ????				       endif
    354  10000 ????				       endif
    355  10000 ????				       if	{1}_width = 6
    356  10000 ????				       asl
    357  10000 ????				       if	MACARG5CONST = 1
    358  10000 ????				       adc	#.ByteOffset
    359  10000 ????				       else
    360  10000 ????				       adc	.ByteOffset
    361  10000 ????				       endif
    362  10000 ????				       asl
    363  10000 ????				       endif
    364  10000 ????				       if	{1}_width = 7
    365  10000 ????				       asl
    366  10000 ????				       if	MACARG5CONST = 1
    367  10000 ????				       adc	#.ByteOffset
    368  10000 ????				       else
    369  10000 ????				       adc	.ByteOffset
    370  10000 ????				       endif
    371  10000 ????				       asl
    372  10000 ????				       if	MACARG5CONST = 1
    373  10000 ????				       adc	#.ByteOffset
    374  10000 ????				       else
    375  10000 ????				       adc	.ByteOffset
    376  10000 ????				       endif
    377  10000 ????				       endif
    378  10000 ????				       if	{1}_width = 8
    379  10000 ????				       asl
    380  10000 ????				       asl
    381  10000 ????				       asl
    382  10000 ????				       endif
    383  10000 ????				       if	{1}_width = 9
    384  10000 ????				       asl
    385  10000 ????				       asl
    386  10000 ????				       asl
    387  10000 ????				       if	MACARG5CONST = 1
    388  10000 ????				       adc	#.ByteOffset
    389  10000 ????				       else
    390  10000 ????				       adc	.ByteOffset
    391  10000 ????				       endif
    392  10000 ????				       endif
    393  10000 ????				       if	{1}_width = 10
    394  10000 ????				       asl
    395  10000 ????				       asl
    396  10000 ????				       if	MACARG5CONST = 1
    397  10000 ????				       adc	#.ByteOffset
    398  10000 ????				       else
    399  10000 ????				       adc	.ByteOffset
    400  10000 ????				       endif
    401  10000 ????				       asl
    402  10000 ????				       endif
    403  10000 ????				       if	{1}_width = 11
    404  10000 ????				       asl
    405  10000 ????				       asl
    406  10000 ????				       if	MACARG5CONST = 1
    407  10000 ????				       adc	#.ByteOffset
    408  10000 ????				       else
    409  10000 ????				       adc	.ByteOffset
    410  10000 ????				       endif
    411  10000 ????				       asl
    412  10000 ????				       if	MACARG5CONST = 1
    413  10000 ????				       adc	#.ByteOffset
    414  10000 ????				       else
    415  10000 ????				       adc	.ByteOffset
    416  10000 ????				       endif
    417  10000 ????				       endif
    418  10000 ????				       if	{1}_width = 12
    419  10000 ????				       asl
    420  10000 ????				       if	MACARG5CONST = 1
    421  10000 ????				       adc	#.ByteOffset
    422  10000 ????				       else
    423  10000 ????				       adc	.ByteOffset
    424  10000 ????				       endif
    425  10000 ????				       asl
    426  10000 ????				       asl
    427  10000 ????				       endif
    428  10000 ????				       if	{1}_width = 13
    429  10000 ????				       asl
    430  10000 ????				       if	MACARG5CONST = 1
    431  10000 ????				       adc	#.ByteOffset
    432  10000 ????				       else
    433  10000 ????				       adc	.ByteOffset
    434  10000 ????				       endif
    435  10000 ????				       asl
    436  10000 ????				       asl
    437  10000 ????				       if	MACARG5CONST = 1
    438  10000 ????				       adc	#.ByteOffset
    439  10000 ????				       else
    440  10000 ????				       adc	.ByteOffset
    441  10000 ????				       endif
    442  10000 ????
    443  10000 ????				       endif
    444  10000 ????				       if	{1}_width = 14
    445  10000 ????				       asl
    446  10000 ????				       if	MACARG5CONST = 1
    447  10000 ????				       adc	#.ByteOffset
    448  10000 ????				       else
    449  10000 ????				       adc	.ByteOffset
    450  10000 ????				       endif
    451  10000 ????				       asl
    452  10000 ????				       if	MACARG5CONST = 1
    453  10000 ????				       adc	#.ByteOffset
    454  10000 ????				       else
    455  10000 ????				       adc	.ByteOffset
    456  10000 ????				       endif
    457  10000 ????				       asl
    458  10000 ????				       endif
    459  10000 ????				       if	{1}_width = 15
    460  10000 ????				       asl
    461  10000 ????				       if	MACARG5CONST = 1
    462  10000 ????				       adc	#.ByteOffset
    463  10000 ????				       else
    464  10000 ????				       adc	.ByteOffset
    465  10000 ????				       endif
    466  10000 ????				       asl
    467  10000 ????				       if	MACARG5CONST = 1
    468  10000 ????				       adc	#.ByteOffset
    469  10000 ????				       else
    470  10000 ????				       adc	.ByteOffset
    471  10000 ????				       endif
    472  10000 ????				       asl
    473  10000 ????				       if	MACARG5CONST = 1
    474  10000 ????				       adc	#.ByteOffset
    475  10000 ????				       else
    476  10000 ????				       adc	.ByteOffset
    477  10000 ????				       endif
    478  10000 ????				       endif
    479  10000 ????				       if	{1}_width = 16
    480  10000 ????				       asl
    481  10000 ????				       asl
    482  10000 ????				       asl
    483  10000 ????				       asl
    484  10000 ????				       endif
    485  10000 ????				       adc	#<.GFXLabel	; carry is clear via previous asl or asr
    486  10000 ????				       else
    487  10000 ????				       lda	#<.GFXLabel	; carry is clear via previous asl or asr
    488  10000 ????				       endif		; .ByteOffset
    489  10000 ????				       sta	(dlpnt),y	; #1 - low byte object address
    490  10000 ????
    491  10000 ????				       iny
    492  10000 ????
    493  10000 ????				       lda	#({1}_mode | %01000000)
    494  10000 ????				       sta	(dlpnt),y	; #2 - graphics mode , indirect
    495  10000 ????
    496  10000 ????				       iny
    497  10000 ????
    498  10000 ????				       if	MACARG4CONST = 0
    499  10000 ????				       lda	.SpriteY
    500  10000 ????				       else
    501  10000 ????				       lda	#.SpriteY
    502  10000 ????				       endif
    503  10000 ????				       and	#(WZONEHEIGHT - 1)
    504  10000 ????				       cmp	#1	; clear carry if our sprite is just in this zone
    505  10000 ????				       ora	#>.GFXLabel
    506  10000 ????				       sta	(dlpnt),y	; #3 - hi byte object address
    507  10000 ????
    508  10000 ????				       iny
    509  10000 ????
    510  10000 ????				       if	MACARG2CONST = 1
    511  10000 ????				       lda	#({1}_width_twoscompliment | (.Palette * 32))
    512  10000 ????				       else
    513  10000 ????				       lda	#({1}_width_twoscompliment)
    514  10000 ????				       ora	.Palette
    515  10000 ????				       endif
    516  10000 ????				       sta	(dlpnt),y	; #4 - palette|width
    517  10000 ????
    518  10000 ????				       iny
    519  10000 ????
    520  10000 ????				       if	MACARG3CONST = 1
    521  10000 ????				       lda	#.SpriteX
    522  10000 ????				       else
    523  10000 ????				       lda	.SpriteX
    524  10000 ????				       endif
    525  10000 ????				       sta	(dlpnt),y	; #5 - x object position
    526  10000 ????
    527  10000 ????				       iny
    528  10000 ????				       sty	dlend,x
    529  10000 ????
    530  10000 ????				       ifconst	ALWAYSTERMINATE
    531  10000 ????				       iny
    532  10000 ????				       lda	#0
    533  10000 ????				       sta	(dlpnt),y
    534  10000 ????				       endif
    535  10000 ????
    536  10000 ????				       bcc	.PLOTSPRITEend
    537  10000 ????
    538  10000 ????			    .PLOTSPRITEnext
    539  10000 ????				       inx		; next zone
    540  10000 ????
    541  10000 ????				       cpx	#WZONECOUNT
    542  10000 ????				       bcs	.PLOTSPRITEend
    543  10000 ????						; carry is clear
    544  10000 ????
    545  10000 ????				       ifconst	VSCROLL
    546  10000 ????				       ldy	Xx3,x
    547  10000 ????				       lda	DLLMEM+11,y
    548  10000 ????				       else		; !VSCROLL
    549  10000 ????				       lda	DLPOINTL,x	;Get pointer to DL that this sprite starts in
    550  10000 ????				       endif		; !VSCROLL
    551  10000 ????				       ifconst	DOUBLEBUFFER
    552  10000 ????				       adc	doublebufferdloffset
    553  10000 ????				       endif		; DOUBLEBUFFER
    554  10000 ????				       sta	dlpnt
    555  10000 ????				       ifconst	VSCROLL
    556  10000 ????				       lda	DLLMEM+10,y
    557  10000 ????				       else		; !VSCROLL
    558  10000 ????				       lda	DLPOINTH,x
    559  10000 ????				       endif		; !VSCROLL
    560  10000 ????				       ifconst	DOUBLEBUFFER
    561  10000 ????				       adc	#0
    562  10000 ????				       endif		; DOUBLEBUFFER
    563  10000 ????				       sta	dlpnt+1
    564  10000 ????
    565  10000 ????				       ldy	dlend,x	; find the next new object position in this zone
    566  10000 ????
    567  10000 ????				       ifconst	.ByteOffset
    568  10000 ????
    569  10000 ????				       if	MACARG5CONST = 1
    570  10000 ????				       lda	#.ByteOffset
    571  10000 ????				       else
    572  10000 ????				       lda	.ByteOffset
    573  10000 ????				       endif
    574  10000 ????				       if	{1}_width = 1
    575  10000 ????				       clc
    576  10000 ????				       endif
    577  10000 ????				       if	{1}_width = 2
    578  10000 ????				       asl		; carry clear
    579  10000 ????				       endif
    580  10000 ????				       if	{1}_width = 3
    581  10000 ????				       asl		; carry clear
    582  10000 ????				       if	MACARG5CONST = 1
    583  10000 ????				       adc	#.ByteOffset
    584  10000 ????				       else
    585  10000 ????				       adc	.ByteOffset
    586  10000 ????				       endif
    587  10000 ????				       endif
    588  10000 ????				       if	{1}_width = 4
    589  10000 ????				       asl		; carry clear
    590  10000 ????				       asl
    591  10000 ????				       endif
    592  10000 ????				       if	{1}_width = 5
    593  10000 ????				       asl		; carry clear
    594  10000 ????				       asl
    595  10000 ????				       if	MACARG5CONST = 1
    596  10000 ????				       adc	#.ByteOffset
    597  10000 ????				       else
    598  10000 ????				       adc	.ByteOffset
    599  10000 ????				       endif
    600  10000 ????				       endif
    601  10000 ????				       if	{1}_width = 6
    602  10000 ????				       asl		; carry clear
    603  10000 ????				       if	MACARG5CONST = 1
    604  10000 ????				       adc	#.ByteOffset
    605  10000 ????				       else
    606  10000 ????				       adc	.ByteOffset
    607  10000 ????				       endif
    608  10000 ????				       asl
    609  10000 ????				       endif
    610  10000 ????				       if	{1}_width = 7
    611  10000 ????				       asl		; carry clear
    612  10000 ????				       if	MACARG5CONST = 1
    613  10000 ????				       adc	#.ByteOffset
    614  10000 ????				       else
    615  10000 ????				       adc	.ByteOffset
    616  10000 ????				       endif
    617  10000 ????				       asl
    618  10000 ????				       endif
    619  10000 ????				       if	{1}_width = 8
    620  10000 ????				       asl		; carry clear
    621  10000 ????				       asl
    622  10000 ????				       asl
    623  10000 ????				       endif
    624  10000 ????				       if	{1}_width = 9
    625  10000 ????				       asl		; carry clear
    626  10000 ????				       asl
    627  10000 ????				       asl
    628  10000 ????				       if	MACARG5CONST = 1
    629  10000 ????				       adc	#.ByteOffset
    630  10000 ????				       else
    631  10000 ????				       adc	.ByteOffset
    632  10000 ????				       endif
    633  10000 ????				       endif
    634  10000 ????				       if	{1}_width = 10
    635  10000 ????				       asl		; carry clear
    636  10000 ????				       asl
    637  10000 ????				       if	MACARG5CONST = 1
    638  10000 ????				       adc	#.ByteOffset
    639  10000 ????				       else
    640  10000 ????				       adc	.ByteOffset
    641  10000 ????				       endif
    642  10000 ????				       asl
    643  10000 ????				       endif
    644  10000 ????				       if	{1}_width = 11
    645  10000 ????				       asl		; carry clear
    646  10000 ????				       asl
    647  10000 ????				       if	MACARG5CONST = 1
    648  10000 ????				       adc	#.ByteOffset
    649  10000 ????				       else
    650  10000 ????				       adc	.ByteOffset
    651  10000 ????				       endif
    652  10000 ????				       asl
    653  10000 ????				       if	MACARG5CONST = 1
    654  10000 ????				       adc	#.ByteOffset
    655  10000 ????				       else
    656  10000 ????				       adc	.ByteOffset
    657  10000 ????				       endif
    658  10000 ????				       endif
    659  10000 ????				       if	{1}_width = 12
    660  10000 ????				       asl		; carry clear
    661  10000 ????				       if	MACARG5CONST = 1
    662  10000 ????				       adc	#.ByteOffset
    663  10000 ????				       else
    664  10000 ????				       adc	.ByteOffset
    665  10000 ????				       endif
    666  10000 ????				       asl
    667  10000 ????				       asl
    668  10000 ????				       endif
    669  10000 ????				       if	{1}_width = 13
    670  10000 ????				       asl		; carry clear
    671  10000 ????				       if	MACARG5CONST = 1
    672  10000 ????				       adc	#.ByteOffset
    673  10000 ????				       else
    674  10000 ????				       adc	.ByteOffset
    675  10000 ????				       endif
    676  10000 ????				       asl
    677  10000 ????				       asl
    678  10000 ????				       if	MACARG5CONST = 1
    679  10000 ????				       adc	#.ByteOffset
    680  10000 ????				       else
    681  10000 ????				       adc	.ByteOffset
    682  10000 ????				       endif
    683  10000 ????				       endif
    684  10000 ????				       if	{1}_width = 14
    685  10000 ????				       asl		; carry clear
    686  10000 ????				       if	MACARG5CONST = 1
    687  10000 ????				       adc	#.ByteOffset
    688  10000 ????				       else
    689  10000 ????				       adc	.ByteOffset
    690  10000 ????				       endif
    691  10000 ????				       asl
    692  10000 ????				       if	MACARG5CONST = 1
    693  10000 ????				       adc	#.ByteOffset
    694  10000 ????				       else
    695  10000 ????				       adc	.ByteOffset
    696  10000 ????				       endif
    697  10000 ????				       asl
    698  10000 ????				       endif
    699  10000 ????				       if	{1}_width = 15
    700  10000 ????				       asl
    701  10000 ????				       if	MACARG5CONST = 1
    702  10000 ????				       adc	#.ByteOffset
    703  10000 ????				       else
    704  10000 ????				       adc	.ByteOffset
    705  10000 ????				       endif
    706  10000 ????				       asl
    707  10000 ????				       if	MACARG5CONST = 1
    708  10000 ????				       adc	#.ByteOffset
    709  10000 ????				       else
    710  10000 ????				       adc	.ByteOffset
    711  10000 ????				       endif
    712  10000 ????				       asl
    713  10000 ????				       if	MACARG5CONST = 1
    714  10000 ????				       adc	#.ByteOffset
    715  10000 ????				       else
    716  10000 ????				       adc	.ByteOffset
    717  10000 ????				       endif
    718  10000 ????				       endif
    719  10000 ????				       if	{1}_width = 16
    720  10000 ????				       asl
    721  10000 ????				       asl
    722  10000 ????				       asl
    723  10000 ????				       asl
    724  10000 ????				       endif
    725  10000 ????				       adc	#<.GFXLabel
    726  10000 ????				       else
    727  10000 ????				       lda	#<.GFXLabel
    728  10000 ????				       endif		; .ByteOffset
    729  10000 ????
    730  10000 ????				       sta	(dlpnt),y	; #1 - low byte object address
    731  10000 ????
    732  10000 ????				       iny
    733  10000 ????
    734  10000 ????				       lda	#({1}_mode | %01000000)
    735  10000 ????				       sta	(dlpnt),y	; #2 - graphics mode , indirect
    736  10000 ????
    737  10000 ????				       iny
    738  10000 ????
    739  10000 ????				       if	MACARG4CONST = 0
    740  10000 ????				       lda	.SpriteY
    741  10000 ????				       else
    742  10000 ????				       lda	#.SpriteY
    743  10000 ????				       endif
    744  10000 ????				       and	#(WZONEHEIGHT - 1)
    745  10000 ????				       ora	#>(.GFXLabel - (WZONEHEIGHT * 256))	; start in the dma hole
    746  10000 ????				       sta	(dlpnt),y	; #3 - hi byte object address
    747  10000 ????
    748  10000 ????				       iny
    749  10000 ????
    750  10000 ????				       if	MACARG2CONST = 1
    751  10000 ????				       lda	#({1}_width_twoscompliment | (.Palette * 32))
    752  10000 ????				       else
    753  10000 ????				       lda	#({1}_width_twoscompliment)
    754  10000 ????				       ora	.Palette
    755  10000 ????				       endif
    756  10000 ????				       sta	(dlpnt),y	; #4 - palette|width
    757  10000 ????
    758  10000 ????				       iny
    759  10000 ????
    760  10000 ????				       if	MACARG3CONST = 1
    761  10000 ????				       lda	#.SpriteX
    762  10000 ????				       else
    763  10000 ????				       lda	.SpriteX
    764  10000 ????				       endif
    765  10000 ????				       sta	(dlpnt),y	; #5 - x object position
    766  10000 ????
    767  10000 ????				       iny
    768  10000 ????				       sty	dlend,x
    769  10000 ????
    770  10000 ????				       ifconst	ALWAYSTERMINATE
    771  10000 ????				       iny
    772  10000 ????				       lda	#0
    773  10000 ????				       sta	(dlpnt),y
    774  10000 ????				       endif
    775  10000 ????
    776  10000 ????			    .PLOTSPRITEend
    777  10000 ????				       ENDM
    778  10000 ????
    779  10000 ????				       MAC	plotsprite4
    780  10000 ????
    781  10000 ????						; A macro version of plotsprite. (with 4 byte objects)
    782  10000 ????						; This trades off rom space for speed.
    783  10000 ????						; It also doesn't check if the visible screen is displayed or not.
    784  10000 ????						; It has no training wheels. It is all rusty sharp edges.
    785  10000 ????
    786  10000 ????			    .GFXLabel  SET	{1}
    787  10000 ????			    .Palette   SET	{2}	; constant
    788  10000 ????			    .SpriteX   SET	{3}	; variable
    789  10000 ????			    .SpriteY   SET	{4}	; variable
    790  10000 ????			    .ByteOffset SET	{5}	; variable
    791  10000 ????
    792  10000 ????				       if	MACARG4CONST = 0
    793  10000 ????				       lda	.SpriteY
    794  10000 ????				       else
    795  10000 ????				       lda	#.SpriteY
    796  10000 ????				       endif
    797  10000 ????				       lsr
    798  10000 ????				       lsr
    799  10000 ????				       asr	#%11111110	; ensure carry is clear
    800  10000 ????				       if	WZONEHEIGHT = 16
    801  10000 ????				       asr	#%11111110	; ensure carry is clear
    802  10000 ????				       endif
    803  10000 ????
    804  10000 ????				       tax
    805  10000 ????
    806  10000 ????				       cpx	#WZONECOUNT
    807  10000 ????				       bcs	.PLOTSPRITEnext
    808  10000 ????						; carry is clear
    809  10000 ????				       ifconst	VSCROLL
    810  10000 ????				       ldy	Xx3,x
    811  10000 ????				       lda	DLLMEM+11,y
    812  10000 ????				       else		; !VSCROLL
    813  10000 ????				       lda	DLPOINTL,x	;Get pointer to DL that this sprite starts in
    814  10000 ????				       endif		; !VSCROLL
    815  10000 ????				       ifconst	DOUBLEBUFFER
    816  10000 ????				       adc	doublebufferdloffset
    817  10000 ????				       endif		; DOUBLEBUFFER
    818  10000 ????				       sta	dlpnt
    819  10000 ????				       ifconst	VSCROLL
    820  10000 ????				       lda	DLLMEM+10,y
    821  10000 ????				       else		; !VSCROLL
    822  10000 ????				       lda	DLPOINTH,x
    823  10000 ????				       endif		; !VSCROLL
    824  10000 ????				       ifconst	DOUBLEBUFFER
    825  10000 ????				       adc	#0
    826  10000 ????				       endif		; DOUBLEBUFFER
    827  10000 ????				       sta	dlpnt+1
    828  10000 ????
    829  10000 ????				       ldy	dlend,x	; find the next new object position in this zone
    830  10000 ????
    831  10000 ????				       ifconst	.ByteOffset
    832  10000 ????
    833  10000 ????				       if	MACARG5CONST = 1
    834  10000 ????				       lda	#.ByteOffset
    835  10000 ????				       else
    836  10000 ????				       lda	.ByteOffset
    837  10000 ????				       endif
    838  10000 ????				       ifconst	DOUBLEBUFFER
    839  10000 ????				       if	{1}_width = 1
    840  10000 ????				       clc
    841  10000 ????				       endif
    842  10000 ????				       endif
    843  10000 ????				       if	{1}_width = 2
    844  10000 ????				       asl
    845  10000 ????				       endif
    846  10000 ????				       if	{1}_width = 3
    847  10000 ????				       asl
    848  10000 ????				       if	MACARG5CONST = 1
    849  10000 ????				       adc	#.ByteOffset
    850  10000 ????				       else
    851  10000 ????				       adc	.ByteOffset
    852  10000 ????				       endif
    853  10000 ????				       endif
    854  10000 ????				       if	{1}_width = 4
    855  10000 ????				       asl
    856  10000 ????				       asl
    857  10000 ????				       endif
    858  10000 ????				       if	{1}_width = 5
    859  10000 ????				       asl
    860  10000 ????				       asl
    861  10000 ????				       if	MACARG5CONST = 1
    862  10000 ????				       adc	#.ByteOffset
    863  10000 ????				       else
    864  10000 ????				       adc	.ByteOffset
    865  10000 ????				       endif
    866  10000 ????				       endif
    867  10000 ????				       if	{1}_width = 6
    868  10000 ????				       asl
    869  10000 ????				       if	MACARG5CONST = 1
    870  10000 ????				       adc	#.ByteOffset
    871  10000 ????				       else
    872  10000 ????				       adc	.ByteOffset
    873  10000 ????				       endif
    874  10000 ????
    875  10000 ????				       asl
    876  10000 ????				       endif
    877  10000 ????				       if	{1}_width = 7
    878  10000 ????				       asl
    879  10000 ????				       if	MACARG5CONST = 1
    880  10000 ????				       adc	#.ByteOffset
    881  10000 ????				       else
    882  10000 ????				       adc	.ByteOffset
    883  10000 ????				       endif
    884  10000 ????				       asl
    885  10000 ????				       if	MACARG5CONST = 1
    886  10000 ????				       adc	#.ByteOffset
    887  10000 ????				       else
    888  10000 ????				       adc	.ByteOffset
    889  10000 ????				       endif
    890  10000 ????				       endif
    891  10000 ????				       if	{1}_width = 8
    892  10000 ????				       asl
    893  10000 ????				       asl
    894  10000 ????				       asl
    895  10000 ????				       endif
    896  10000 ????				       if	{1}_width = 9
    897  10000 ????				       asl
    898  10000 ????				       asl
    899  10000 ????				       asl
    900  10000 ????				       if	MACARG5CONST = 1
    901  10000 ????				       adc	#.ByteOffset
    902  10000 ????				       else
    903  10000 ????				       adc	.ByteOffset
    904  10000 ????				       endif
    905  10000 ????				       endif
    906  10000 ????				       if	{1}_width = 10
    907  10000 ????				       asl
    908  10000 ????				       asl
    909  10000 ????				       if	MACARG5CONST = 1
    910  10000 ????				       adc	#.ByteOffset
    911  10000 ????				       else
    912  10000 ????				       adc	.ByteOffset
    913  10000 ????				       endif
    914  10000 ????				       asl
    915  10000 ????				       endif
    916  10000 ????				       if	{1}_width = 11
    917  10000 ????				       asl
    918  10000 ????				       asl
    919  10000 ????				       if	MACARG5CONST = 1
    920  10000 ????				       adc	#.ByteOffset
    921  10000 ????				       else
    922  10000 ????				       adc	.ByteOffset
    923  10000 ????				       endif
    924  10000 ????				       asl
    925  10000 ????				       if	MACARG5CONST = 1
    926  10000 ????				       adc	#.ByteOffset
    927  10000 ????				       else
    928  10000 ????				       adc	.ByteOffset
    929  10000 ????				       endif
    930  10000 ????				       endif
    931  10000 ????				       if	{1}_width = 12
    932  10000 ????				       asl
    933  10000 ????				       if	MACARG5CONST = 1
    934  10000 ????				       adc	#.ByteOffset
    935  10000 ????				       else
    936  10000 ????				       adc	.ByteOffset
    937  10000 ????				       endif
    938  10000 ????				       asl
    939  10000 ????				       asl
    940  10000 ????				       endif
    941  10000 ????				       if	{1}_width = 13
    942  10000 ????				       asl
    943  10000 ????				       if	MACARG5CONST = 1
    944  10000 ????				       adc	#.ByteOffset
    945  10000 ????				       else
    946  10000 ????				       adc	.ByteOffset
    947  10000 ????				       endif
    948  10000 ????				       asl
    949  10000 ????				       asl
    950  10000 ????				       if	MACARG5CONST = 1
    951  10000 ????				       adc	#.ByteOffset
    952  10000 ????				       else
    953  10000 ????				       adc	.ByteOffset
    954  10000 ????				       endif
    955  10000 ????				       endif
    956  10000 ????				       if	{1}_width = 14
    957  10000 ????				       asl
    958  10000 ????				       if	MACARG5CONST = 1
    959  10000 ????				       adc	#.ByteOffset
    960  10000 ????				       else
    961  10000 ????				       adc	.ByteOffset
    962  10000 ????				       endif
    963  10000 ????				       asl
    964  10000 ????				       if	MACARG5CONST = 1
    965  10000 ????				       adc	#.ByteOffset
    966  10000 ????				       else
    967  10000 ????				       adc	.ByteOffset
    968  10000 ????				       endif
    969  10000 ????				       asl
    970  10000 ????				       endif
    971  10000 ????				       if	{1}_width = 15
    972  10000 ????				       asl
    973  10000 ????				       if	MACARG5CONST = 1
    974  10000 ????				       adc	#.ByteOffset
    975  10000 ????				       else
    976  10000 ????				       adc	.ByteOffset
    977  10000 ????				       endif
    978  10000 ????				       asl
    979  10000 ????				       if	MACARG5CONST = 1
    980  10000 ????				       adc	#.ByteOffset
    981  10000 ????				       else
    982  10000 ????				       adc	.ByteOffset
    983  10000 ????				       endif
    984  10000 ????				       asl
    985  10000 ????				       if	MACARG5CONST = 1
    986  10000 ????				       adc	#.ByteOffset
    987  10000 ????				       else
    988  10000 ????				       adc	.ByteOffset
    989  10000 ????				       endif
    990  10000 ????				       endif
    991  10000 ????				       if	{1}_width = 16
    992  10000 ????				       asl
    993  10000 ????				       asl
    994  10000 ????				       asl
    995  10000 ????				       asl
    996  10000 ????				       endif
    997  10000 ????				       adc	#<.GFXLabel	; carry is clear via previous asl or asr
    998  10000 ????				       else
    999  10000 ????				       lda	#<.GFXLabel	; carry is clear via previous asl or asr
   1000  10000 ????				       endif		; .ByteOffset
   1001  10000 ????				       sta	(dlpnt),y	; #1 - low byte object address
   1002  10000 ????
   1003  10000 ????				       iny
   1004  10000 ????
   1005  10000 ????				       if	MACARG2CONST = 1
   1006  10000 ????				       lda	#({1}_width_twoscompliment | (.Palette * 32))
   1007  10000 ????				       else
   1008  10000 ????				       lda	#({1}_width_twoscompliment)
   1009  10000 ????				       ora	.Palette
   1010  10000 ????				       endif
   1011  10000 ????				       sta	(dlpnt),y	; #2 - palette|width
   1012  10000 ????
   1013  10000 ????				       iny
   1014  10000 ????				       if	MACARG4CONST = 0
   1015  10000 ????				       lda	.SpriteY
   1016  10000 ????				       else
   1017  10000 ????				       lda	#.SpriteY
   1018  10000 ????				       endif
   1019  10000 ????				       and	#(WZONEHEIGHT - 1)
   1020  10000 ????				       cmp	#1	; clear carry if our sprite is just in this zone
   1021  10000 ????				       ora	#>.GFXLabel
   1022  10000 ????				       sta	(dlpnt),y	; #3 - hi byte object address
   1023  10000 ????
   1024  10000 ????				       iny
   1025  10000 ????				       if	MACARG3CONST = 1
   1026  10000 ????				       lda	#.SpriteX
   1027  10000 ????				       else
   1028  10000 ????				       lda	.SpriteX
   1029  10000 ????				       endif
   1030  10000 ????				       sta	(dlpnt),y	; #4 - x object position
   1031  10000 ????
   1032  10000 ????				       iny
   1033  10000 ????				       sty	dlend,x
   1034  10000 ????
   1035  10000 ????				       ifconst	ALWAYSTERMINATE
   1036  10000 ????				       iny
   1037  10000 ????				       lda	#0
   1038  10000 ????				       sta	(dlpnt),y
   1039  10000 ????				       endif
   1040  10000 ????
   1041  10000 ????				       bcc	.PLOTSPRITEend
   1042  10000 ????
   1043  10000 ????			    .PLOTSPRITEnext
   1044  10000 ????				       inx		; next zone
   1045  10000 ????
   1046  10000 ????				       cpx	#WZONECOUNT
   1047  10000 ????				       bcs	.PLOTSPRITEend
   1048  10000 ????						; carry is clear
   1049  10000 ????				       ifconst	VSCROLL
   1050  10000 ????				       ldy	Xx3,x
   1051  10000 ????				       lda	DLLMEM+11,y
   1052  10000 ????				       else		; !VSCROLL
   1053  10000 ????				       lda	DLPOINTL,x	;Get pointer to DL that this sprite starts in
   1054  10000 ????				       endif		; !VSCROLL
   1055  10000 ????				       ifconst	DOUBLEBUFFER
   1056  10000 ????				       adc	doublebufferdloffset
   1057  10000 ????				       endif		; DOUBLEBUFFER
   1058  10000 ????				       sta	dlpnt
   1059  10000 ????				       ifconst	VSCROLL
   1060  10000 ????				       lda	DLLMEM+10,y
   1061  10000 ????				       else		; !VSCROLL
   1062  10000 ????				       lda	DLPOINTH,x
   1063  10000 ????				       endif		; !VSCROLL
   1064  10000 ????				       ifconst	DOUBLEBUFFER
   1065  10000 ????				       adc	#0
   1066  10000 ????				       endif		; DOUBLEBUFFER
   1067  10000 ????				       sta	dlpnt+1
   1068  10000 ????
   1069  10000 ????				       ldy	dlend,x	; find the next new object position in this zone
   1070  10000 ????
   1071  10000 ????				       ifconst	.ByteOffset
   1072  10000 ????
   1073  10000 ????				       if	MACARG5CONST = 1
   1074  10000 ????				       lda	#.ByteOffset
   1075  10000 ????				       else
   1076  10000 ????				       lda	.ByteOffset
   1077  10000 ????				       endif
   1078  10000 ????				       if	{1}_width = 1
   1079  10000 ????				       clc
   1080  10000 ????				       endif
   1081  10000 ????				       if	{1}_width = 2
   1082  10000 ????				       asl		; carry clear
   1083  10000 ????				       endif
   1084  10000 ????				       if	{1}_width = 3
   1085  10000 ????				       asl		; carry clear
   1086  10000 ????				       if	MACARG5CONST = 1
   1087  10000 ????				       adc	#.ByteOffset
   1088  10000 ????				       else
   1089  10000 ????				       adc	.ByteOffset
   1090  10000 ????				       endif
   1091  10000 ????				       endif
   1092  10000 ????				       if	{1}_width = 4
   1093  10000 ????				       asl		; carry clear
   1094  10000 ????				       asl
   1095  10000 ????				       endif
   1096  10000 ????				       if	{1}_width = 5
   1097  10000 ????				       asl		; carry clear
   1098  10000 ????				       asl
   1099  10000 ????				       if	MACARG5CONST = 1
   1100  10000 ????				       adc	#.ByteOffset
   1101  10000 ????				       else
   1102  10000 ????				       adc	.ByteOffset
   1103  10000 ????				       endif
   1104  10000 ????				       endif
   1105  10000 ????				       if	{1}_width = 6
   1106  10000 ????				       asl		; carry clear
   1107  10000 ????				       if	MACARG5CONST = 1
   1108  10000 ????				       adc	#.ByteOffset
   1109  10000 ????				       else
   1110  10000 ????				       adc	.ByteOffset
   1111  10000 ????				       endif
   1112  10000 ????
   1113  10000 ????				       asl
   1114  10000 ????				       endif
   1115  10000 ????				       if	{1}_width = 7
   1116  10000 ????				       asl		; carry clear
   1117  10000 ????				       if	MACARG5CONST = 1
   1118  10000 ????				       adc	#.ByteOffset
   1119  10000 ????				       else
   1120  10000 ????				       adc	.ByteOffset
   1121  10000 ????				       endif
   1122  10000 ????				       asl
   1123  10000 ????				       endif
   1124  10000 ????				       if	{1}_width = 8
   1125  10000 ????				       asl		; carry clear
   1126  10000 ????				       asl
   1127  10000 ????				       asl
   1128  10000 ????				       endif
   1129  10000 ????				       if	{1}_width = 9
   1130  10000 ????				       asl		; carry clear
   1131  10000 ????				       asl
   1132  10000 ????				       asl
   1133  10000 ????				       if	MACARG5CONST = 1
   1134  10000 ????				       adc	#.ByteOffset
   1135  10000 ????				       else
   1136  10000 ????				       adc	.ByteOffset
   1137  10000 ????				       endif
   1138  10000 ????				       endif
   1139  10000 ????				       if	{1}_width = 10
   1140  10000 ????				       asl		; carry clear
   1141  10000 ????				       asl
   1142  10000 ????				       if	MACARG5CONST = 1
   1143  10000 ????				       adc	#.ByteOffset
   1144  10000 ????				       else
   1145  10000 ????				       adc	.ByteOffset
   1146  10000 ????				       endif
   1147  10000 ????				       asl
   1148  10000 ????				       endif
   1149  10000 ????				       if	{1}_width = 11
   1150  10000 ????				       asl		; carry clear
   1151  10000 ????				       asl
   1152  10000 ????				       if	MACARG5CONST = 1
   1153  10000 ????				       adc	#.ByteOffset
   1154  10000 ????				       else
   1155  10000 ????				       adc	.ByteOffset
   1156  10000 ????				       endif
   1157  10000 ????				       asl
   1158  10000 ????				       if	MACARG5CONST = 1
   1159  10000 ????				       adc	#.ByteOffset
   1160  10000 ????				       else
   1161  10000 ????				       adc	.ByteOffset
   1162  10000 ????				       endif
   1163  10000 ????				       endif
   1164  10000 ????				       if	{1}_width = 12
   1165  10000 ????				       asl		; carry clear
   1166  10000 ????				       if	MACARG5CONST = 1
   1167  10000 ????				       adc	#.ByteOffset
   1168  10000 ????				       else
   1169  10000 ????				       adc	.ByteOffset
   1170  10000 ????				       endif
   1171  10000 ????				       asl
   1172  10000 ????				       asl
   1173  10000 ????				       endif
   1174  10000 ????				       if	{1}_width = 13
   1175  10000 ????				       asl		; carry clear
   1176  10000 ????				       if	MACARG5CONST = 1
   1177  10000 ????				       adc	#.ByteOffset
   1178  10000 ????				       else
   1179  10000 ????				       adc	.ByteOffset
   1180  10000 ????				       endif
   1181  10000 ????				       asl
   1182  10000 ????				       asl
   1183  10000 ????				       if	MACARG5CONST = 1
   1184  10000 ????				       adc	#.ByteOffset
   1185  10000 ????				       else
   1186  10000 ????				       adc	.ByteOffset
   1187  10000 ????				       endif
   1188  10000 ????				       endif
   1189  10000 ????				       if	{1}_width = 14
   1190  10000 ????				       asl		; carry clear
   1191  10000 ????				       if	MACARG5CONST = 1
   1192  10000 ????				       adc	#.ByteOffset
   1193  10000 ????				       else
   1194  10000 ????				       adc	.ByteOffset
   1195  10000 ????				       endif
   1196  10000 ????				       asl
   1197  10000 ????				       if	MACARG5CONST = 1
   1198  10000 ????				       adc	#.ByteOffset
   1199  10000 ????				       else
   1200  10000 ????				       adc	.ByteOffset
   1201  10000 ????				       endif
   1202  10000 ????				       asl
   1203  10000 ????				       endif
   1204  10000 ????				       if	{1}_width = 15
   1205  10000 ????				       asl
   1206  10000 ????				       if	MACARG5CONST = 1
   1207  10000 ????				       adc	#.ByteOffset
   1208  10000 ????				       else
   1209  10000 ????				       adc	.ByteOffset
   1210  10000 ????				       endif
   1211  10000 ????				       asl
   1212  10000 ????				       if	MACARG5CONST = 1
   1213  10000 ????				       adc	#.ByteOffset
   1214  10000 ????				       else
   1215  10000 ????				       adc	.ByteOffset
   1216  10000 ????				       endif
   1217  10000 ????				       asl
   1218  10000 ????				       if	MACARG5CONST = 1
   1219  10000 ????				       adc	#.ByteOffset
   1220  10000 ????				       else
   1221  10000 ????				       adc	.ByteOffset
   1222  10000 ????				       endif
   1223  10000 ????				       endif
   1224  10000 ????				       if	{1}_width = 16
   1225  10000 ????				       asl
   1226  10000 ????				       asl
   1227  10000 ????				       asl
   1228  10000 ????				       asl
   1229  10000 ????				       endif
   1230  10000 ????				       adc	#<.GFXLabel
   1231  10000 ????				       else
   1232  10000 ????				       lda	#<.GFXLabel
   1233  10000 ????				       endif		; .ByteOffset
   1234  10000 ????				       sta	(dlpnt),y	; #1 - low byte object address
   1235  10000 ????
   1236  10000 ????				       iny
   1237  10000 ????				       if	MACARG2CONST = 1
   1238  10000 ????				       lda	#({1}_width_twoscompliment | (.Palette * 32))
   1239  10000 ????				       else
   1240  10000 ????				       lda	#({1}_width_twoscompliment)
   1241  10000 ????				       ora	.Palette
   1242  10000 ????				       endif
   1243  10000 ????
   1244  10000 ????				       sta	(dlpnt),y	; #2 - palette|width
   1245  10000 ????
   1246  10000 ????				       iny
   1247  10000 ????				       if	MACARG4CONST = 0
   1248  10000 ????				       lda	.SpriteY
   1249  10000 ????				       else
   1250  10000 ????				       lda	#.SpriteY
   1251  10000 ????				       endif
   1252  10000 ????				       and	#(WZONEHEIGHT - 1)
   1253  10000 ????				       ora	#>(.GFXLabel - (WZONEHEIGHT * 256))	; start in the dma hole
   1254  10000 ????				       sta	(dlpnt),y	; #3 - hi byte object address
   1255  10000 ????
   1256  10000 ????				       iny
   1257  10000 ????				       if	MACARG3CONST = 1
   1258  10000 ????				       lda	#.SpriteX
   1259  10000 ????				       else
   1260  10000 ????				       lda	.SpriteX
   1261  10000 ????				       endif
   1262  10000 ????				       sta	(dlpnt),y	; #4 - x object position
   1263  10000 ????
   1264  10000 ????				       iny
   1265  10000 ????				       sty	dlend,x
   1266  10000 ????
   1267  10000 ????				       ifconst	ALWAYSTERMINATE
   1268  10000 ????				       iny
   1269  10000 ????				       lda	#0
   1270  10000 ????				       sta	(dlpnt),y
   1271  10000 ????				       endif
   1272  10000 ????
   1273  10000 ????			    .PLOTSPRITEend
   1274  10000 ????				       ENDM
   1275  10000 ????
   1276  10000 ????				       MAC	scrollsetup
   1277  10000 ????
   1278  10000 ????						; If vertical scrolling is enabled...
   1279  10000 ????						;   * Fills the DLs with hidden masking sprites.
   1280  10000 ????						; Adds blank sprites to the DLs to fill the screen.
   1281  10000 ????						; If horizontal scrolling is enabled...
   1282  10000 ????						;   * Adds another blank DL off-screen
   1283  10000 ????
   1284  10000 ????						; {1} - constant - the first dl of the scrolling area
   1285  10000 ????						; {2} - symbol   - blank tile label
   1286  10000 ????
   1287  10000 ????						; *** clear the saved dl ending for scrolling zones...
   1288  10000 ????				       ldx	#{1}
   1289  10000 ????				       lda	#0
   1290  10000 ????			    .scrollcleardls
   1291  10000 ????				       sta	dlend,x
   1292  10000 ????				       inx
   1293  10000 ????				       cpx	#WZONECOUNT
   1294  10000 ????				       bne	.scrollcleardls
   1295  10000 ????
   1296  10000 ????				       ifconst	VSCROLL
   1297  10000 ????						; *** adjust the ending for our mask dl to allow for mask objects...
   1298  10000 ????				       dex
   1299  10000 ????				       lda	#(maskscrollspriteend-maskscrollsprite)
   1300  10000 ????				       sta	dlend,x
   1301  10000 ????
   1302  10000 ????						; *** Add 4x dma masking objects to last zone...
   1303  10000 ????				       ldx	#(maskscrollspriteend-maskscrollsprite-1)
   1304  10000 ????			    .scrollpopulateloop1
   1305  10000 ????				       lda	maskscrollsprite,x
   1306  10000 ????				       sta	LASTZONEADDRESS+0,x
   1307  10000 ????				       ifconst	DOUBLEBUFFER
   1308  10000 ????				       sta	LASTZONEADDRESS+0+DOUBLEBUFFEROFFSET,x
   1309  10000 ????				       endif		; DOUBLEBUFFER
   1310  10000 ????				       dex
   1311  10000 ????				       bpl	.scrollpopulateloop1
   1312  10000 ????				       inx		; x=0
   1313  10000 ????				       stx	finescrolly
   1314  10000 ????				       endif		; VSCROLL
   1315  10000 ????
   1316  10000 ????						; *** Add blank sprite-tile objects to the scrolling zones...
   1317  10000 ????			    PLOTSP4    =	1	; ensure we use 4 byte sprites
   1318  10000 ????
   1319  10000 ????						; convert byte width of the sprit to coordinate width...
   1320  10000 ????				       if	{2}_mode = 0	; ### 160A, 320A, 320D
   1321  10000 ????			    .scrollXWIDTH SET	({2}_width * 4)	; 4x 160-mode pixels per byte
   1322  10000 ????				       else		; ### 160B, 320B, 320C
   1323  10000 ????			    .scrollXWIDTH SET	({2}_width * 2)	; 2x 160-mode pixels per byte
   1324  10000 ????				       endif
   1325  10000 ????
   1326  10000 ????						; figure out how many sprites we need to fill a screen width...
   1327  10000 ????			    .scrollSPRITECOuNT SET	((160+.scrollXWIDTH-1)/.scrollXWIDTH)
   1328  10000 ????				       ifconst	HSCROLL
   1329  10000 ????			    .scrollSPRITECOuNT SET	(.scrollSPRITECOuNT+1)
   1330  10000 ????				       endif		; HSCROLL
   1331  10000 ????
   1332  10000 ????						; setup plotsprite4 parameters...
   1333  10000 ????				       lda	#<{2}
   1334  10000 ????				       sta	temp1
   1335  10000 ????				       lda	#>{2}
   1336  10000 ????				       sta	temp2
   1337  10000 ????				       lda	#{2}_width_twoscompliment
   1338  10000 ????				       sta	temp3	; width
   1339  10000 ????
   1340  10000 ????				       lda	#{1}
   1341  10000 ????				       asl
   1342  10000 ????				       asl
   1343  10000 ????				       asl
   1344  10000 ????				       if	WZONEHEIGHT
   1345  10000 ????				       asl
   1346  10000 ????				       endif
   1347  10000 ????				       sta	temp5	; Y
   1348  10000 ????			    .scrollpopulateloop2
   1349  10000 ????				       lda	#0
   1350  10000 ????				       sta	temp4	; X
   1351  10000 ????			    .scrollpopulateloop3
   1352  10000 ????				       jsr	skipplotsprite4wait
   1353  10000 ????				       lda	temp4	; X
   1354  10000 ????				       clc
   1355  10000 ????				       adc	#.scrollXWIDTH
   1356  10000 ????				       sta	temp4	; X
   1357  10000 ????				       cmp	#(.scrollSPRITECOuNT*.scrollXWIDTH)
   1358  10000 ????				       bne	.scrollpopulateloop3
   1359  10000 ????				       lda	temp5	; Y
   1360  10000 ????				       clc
   1361  10000 ????				       adc	#WZONEHEIGHT
   1362  10000 ????				       sta	temp5	; Y
   1363  10000 ????				       cmp	#((WZONECOUNT*WZONEHEIGHT)+WZONEHEIGHT)
   1364  10000 ????				       bne	.scrollpopulateloop2
   1365  10000 ????				       ENDM
   1366  10000 ????
   1367  10000 ????				       MAC	sizeof
   1368  10000 ????
   1369  10000 ????						; echoes the size difference between the current address and the
   1370  10000 ????						; a label that was passed as an argument. This is a quick way to
   1371  10000 ????						; determine the size of a structure.
   1372  10000 ????
   1373  10000 ????			    .NAME      SETSTR	{1}
   1374  10000 ????				       echo	" The Size of",.NAME,"is:",[* - {1}]d,[* - {2}]d,"bytes."
   1375  10000 ????				       ENDM
   1376  10000 ????
   1377  10000 ????						;
   1378  10000 ????						; speakjet.inc
   1379  10000 ????						;
   1380  10000 ????						;
   1381  10000 ????						; AtariVox Speech Synth Driver
   1382  10000 ????						;
   1383  10000 ????						; By Alex Herbert, 2004
   1384  10000 ????						;
   1385  10000 ????
   1386  10000 ????
   1387  10000 ????
   1388  10000 ????
   1389  10000 ????						; Constants
   1390  10000 ????
   1391  10000 ????
   1392  10000 ????		00 01	    SERIAL_OUTMASK equ	$01
   1393  10000 ????		00 02	    SERIAL_RDYMASK equ	$02
   1394  10000 ????
   1395  10000 ????
   1396  10000 ????
   1397  10000 ????						; Macros
   1398  10000 ????
   1399  10000 ????				       mac	spkout
   1400  10000 ????
   1401  10000 ????						; check buffer-full status
   1402  10000 ????				       lda	SWCHA
   1403  10000 ????				       and	#SERIAL_RDYMASK
   1404  10000 ????				       beq	.speech_done
   1405  10000 ????
   1406  10000 ????						; get next speech byte
   1407  10000 ????				       ldy	#$00
   1408  10000 ????				       lda	(speech_addr),y
   1409  10000 ????
   1410  10000 ????						; invert data and check for end of string
   1411  10000 ????				       eor	#$ff
   1412  10000 ????						;sta BACKGRND ; debug - uncomment to flash the background color with vox data
   1413  10000 ????				       beq	.speech_done
   1414  10000 ????				       sta	{1}
   1415  10000 ????
   1416  10000 ????						; increment speech pointer
   1417  10000 ????				       inc	speech_addr
   1418  10000 ????				       bne	.incaddr_skip
   1419  10000 ????				       inc	speech_addr+1
   1420  10000 ????			    .incaddr_skip
   1421  10000 ????
   1422  10000 ????						; output byte as serial data
   1423  10000 ????
   1424  10000 ????				       sec		; start bit
   1425  10000 ????			    .byteout_loop
   1426  10000 ????						; put carry flag into bit 0 of SWACNT, preserving other bits
   1427  10000 ????				       lda	SWACNT	; 4
   1428  10000 ????				       and	#$fe	; 2 6
   1429  10000 ????				       adc	#$00	; 2 8
   1430  10000 ????				       sta	SWACNT	; 4 12
   1431  10000 ????
   1432  10000 ????						; 10 bits sent? (1 start bit, 8 data bits, 1 stop bit)
   1433  10000 ????				       cpy	#$09	; 2 14
   1434  10000 ????				       beq	.speech_done	; 2 16
   1435  10000 ????				       iny		; 2 18
   1436  10000 ????
   1437  10000 ????						; the 7800 is 1.5x faster than the 2600. Waste more cycles here
   1438  10000 ????						; to match the original baud rate...
   1439  10000 ????						;ldx	  #$07 ; 2600
   1440  10000 ????				       ldx	#$0D
   1441  10000 ????
   1442  10000 ????			    .delay_loop
   1443  10000 ????				       dex		;
   1444  10000 ????				       bne	.delay_loop	; 36 54
   1445  10000 ????
   1446  10000 ????						; shift next data bit into carry
   1447  10000 ????				       lsr	{1}	; 5 59
   1448  10000 ????
   1449  10000 ????						; and loop (branch always taken)
   1450  10000 ????				       bpl	.byteout_loop	; 3 62 cycles for loop
   1451  10000 ????
   1452  10000 ????			    .speech_done
   1453  10000 ????
   1454  10000 ????				       endm
   1455  10000 ????
   1456  10000 ????
   1457  10000 ????				       mac	speak
   1458  10000 ????
   1459  10000 ????				       lda	#<{1}
   1460  10000 ????				       sta	speech_addr
   1461  10000 ????				       lda	#>{1}
   1462  10000 ????				       sta	speech_addr+1
   1463  10000 ????
   1464  10000 ????				       endm
   1465  10000 ????
   1466  10000 ????
   1467  10000 ????
   1468  10000 ????						; Provided under the CC0 license. See the included LICENSE.txt for details.
   1469  10000 ????
   1470  10000 ????				       processor	6502
   1471  10000 ????
------- FILE 7800basic.h LEVEL 2 PASS 3
      0  10000 ????				       include	"7800basic.h"
      1  10000 ????						; Provided under the CC0 license. See the included LICENSE.txt for details.
      2  10000 ????
      3  10000 ????				       processor	6502
------- FILE 7800.h LEVEL 3 PASS 3
      0  10000 ????				       include	"7800.h"
      1  10000 ????						; Provided under the CC0 license. See the included LICENSE.txt for details.
      2  10000 ????
      3  10000 ????						; 7800.h
      4  10000 ????						; Version 1.0, 2019/12/13
      5  10000 ????
      6  10000 ????						; This file defines hardware registers and memory mapping for the
      7  10000 ????						; Atari 7800. It is distributed as a companion machine-specific support package
      8  10000 ????						; for the DASM compiler. Updates to this file, DASM, and associated tools are
      9  10000 ????						; available at https://github.com/dasm-assembler/dasm
     10  10000 ????
     11  10000 ????
     12  10000 ????						; ******************** 7800 Hardware Addresses ***************************
     13  10000 ????						;
     14  10000 ????						;	 MEMORY MAP USAGE OF THE 7800
     15  10000 ????						;
     16  10000 ????						;	  00 -   1F	TIA REGISTERS
     17  10000 ????						;	  20 -   3F	MARIA REGISTERS
     18  10000 ????						;	  40 -   FF	RAM block 0 (zero page)
     19  10000 ????						;	 100 -  11F	TIA   (mirror of 0000-001f)
     20  10000 ????						;	 120 -  13F	MARIA (mirror of 0020-003f)
     21  10000 ????						;	 140 -  1FF	RAM block 1 (stack)
     22  10000 ????						;	 200 -  21F	TIA   (mirror of 0000-001f)
     23  10000 ????						;	 220 -  23F	MARIA (mirror of 0020-003f)
     24  10000 ????						;	 240 -  27F	???
     25  10000 ????						;	 280 -  2FF	RIOT I/O ports and timers
     26  10000 ????						;	 300 -  31F	TIA   (mirror of 0000-001f)
     27  10000 ????						;	 320 -  33F	MARIA (mirror of 0020-003f)
     28  10000 ????						;	 340 -  3FF	???
     29  10000 ????						;	 400 -  47F	unused address space
     30  10000 ????						;	 480 -  4FF	RIOT RAM
     31  10000 ????						;	 500 -  57F	unused address space
     32  10000 ????						;	 580 -  5FF	RIOT RAM (mirror of 0480-04ff)
     33  10000 ????						;	 600 - 17FF	unused address space
     34  10000 ????						;	1800 - 203F	RAM
     35  10000 ????						;	2040 - 20FF	RAM block 0 (mirror of 0000-001f)
     36  10000 ????						;	2100 - 213F	RAM
     37  10000 ????						;	2140 - 21FF	RAM block 1 (mirror of 0140-01ff)
     38  10000 ????						;	2200 - 27FF	RAM
     39  10000 ????						;	2800 - 2FFF	unavailable to external devices (bios bus-conflict)
     40  10000 ????						;	3000 - 3FFF	unused address space
     41  10000 ????						;	4000 - FF7F	potential cartridge address space
     42  10000 ????						;	FF80 - FFF9	RESERVED FOR ENCRYPTION
     43  10000 ????						;	FFFA - FFFF	6502 VECTORS
     44  10000 ????
     45  10000 ????
     46  10000 ????						;****** 00-1F ********* TIA REGISTERS ******************
     47  10000 ????
     48  10000 ????		00 01	    INPTCTRL   =	$01	;Input control. In same address space as TIA. write-only
     49  10000 ????		00 01	    VBLANK     =	$01	;VBLANK. D7=1:dump paddle caps to ground.     write-only
     50  10000 ????		00 02	    _WSYNC     =	$02	;Wait for HSync			       write-only
     51  10000 ????		00 03	    _RSYNC     =	$03	;Reset HSync				       write-only
     52  10000 ????		00 08	    INPT0      =	$08	;Paddle Control Input 0		       read-only
     53  10000 ????		00 09	    INPT1      =	$09	;Paddle Control Input 1		       read-only
     54  10000 ????		00 0a	    INPT2      =	$0A	;Paddle Control Input 2		       read-only
     55  10000 ????		00 0b	    INPT3      =	$0B	;Paddle Control Input 3		       read-only
     56  10000 ????
     57  10000 ????						; ** some common alternate names for INPT0/1/2/3
     58  10000 ????		00 08	    INPT4B     =	$08	;Joystick 0 Fire 1			       read-only
     59  10000 ????		00 09	    INPT4A     =	$09	;Joystick 0 Fire 1			       read-only
     60  10000 ????		00 0a	    INPT5B     =	$0A	;Joystick 1 Fire 0			       read-only
     61  10000 ????		00 0b	    INPT5A     =	$0B	;Joystick 1 Fire 1			       read-only
     62  10000 ????		00 08	    INPT4R     =	$08	;Joystick 0 Fire 1			       read-only
     63  10000 ????		00 09	    INPT4L     =	$09	;Joystick 0 Fire 1			       read-only
     64  10000 ????		00 0a	    INPT5R     =	$0A	;Joystick 1 Fire 0			       read-only
     65  10000 ????		00 0b	    INPT5L     =	$0B	;Joystick 1 Fire 1			       read-only
     66  10000 ????
     67  10000 ????		00 0c	    INPT4      =	$0C	;Player 0 Fire Button Input		       read-only
     68  10000 ????		00 0d	    INPT5      =	$0D	;Player 1 Fire Button Input		       read-only
     69  10000 ????
     70  10000 ????		00 15	    AUDC0      =	$15	;Audio Control Channel   0		       write-only
     71  10000 ????		00 16	    AUDC1      =	$16	;Audio Control Channel   1		       write-only
     72  10000 ????		00 17	    AUDF0      =	$17	;Audio Frequency Channel 0		       write-only
     73  10000 ????		00 18	    AUDF1      =	$18	;Audio Frequency Channel 1		       write-only
     74  10000 ????		00 19	    AUDV0      =	$19	;Audio Volume Channel	  0		       write-only
     75  10000 ????		00 1a	    AUDV1      =	$1A	;Audio Volume Channel	  1		       write-only
     76  10000 ????
     77  10000 ????						;****** 20-3F ********* MARIA REGISTERS ***************
     78  10000 ????
     79  10000 ????		00 20	    BACKGRND   =	$20	;Background Color			       write-only
     80  10000 ????		00 21	    P0C1       =	$21	;Palette 0 - Color 1			       write-only
     81  10000 ????		00 22	    P0C2       =	$22	;Palette 0 - Color 2			       write-only
     82  10000 ????		00 23	    P0C3       =	$23	;Palette 0 - Color 3			       write-only
     83  10000 ????		00 24	    WSYNC      =	$24	;Wait For Sync 			       write-only
     84  10000 ????		00 25	    P1C1       =	$25	;Palette 1 - Color 1			       write-only
     85  10000 ????		00 26	    P1C2       =	$26	;Palette 1 - Color 2			       write-only
     86  10000 ????		00 27	    P1C3       =	$27	;Palette 1 - Color 3			       write-only
     87  10000 ????		00 28	    MSTAT      =	$28	;Maria Status				       read-only
     88  10000 ????		00 29	    P2C1       =	$29	;Palette 2 - Color 1			       write-only
     89  10000 ????		00 2a	    P2C2       =	$2A	;Palette 2 - Color 2			       write-only
     90  10000 ????		00 2b	    P2C3       =	$2B	;Palette 2 - Color 3			       write-only
     91  10000 ????		00 2c	    DPPH       =	$2C	;Display List List Pointer High	       write-only
     92  10000 ????		00 2d	    P3C1       =	$2D	;Palette 3 - Color 1			       write-only
     93  10000 ????		00 2e	    P3C2       =	$2E	;Palette 3 - Color 2			       write-only
     94  10000 ????		00 2f	    P3C3       =	$2F	;Palette 3 - Color 3			       write-only
     95  10000 ????		00 30	    DPPL       =	$30	;Display List List Pointer Low 	       write-only
     96  10000 ????		00 31	    P4C1       =	$31	;Palette 4 - Color 1			       write-only
     97  10000 ????		00 32	    P4C2       =	$32	;Palette 4 - Color 2			       write-only
     98  10000 ????		00 33	    P4C3       =	$33	;Palette 4 - Color 3			       write-only
     99  10000 ????		00 34	    CHARBASE   =	$34	;Character Base Address		       write-only
    100  10000 ????		00 34	    CHBASE     =	$34	;Character Base Address		       write-only
    101  10000 ????		00 35	    P5C1       =	$35	;Palette 5 - Color 1			       write-only
    102  10000 ????		00 36	    P5C2       =	$36	;Palette 5 - Color 2			       write-only
    103  10000 ????		00 37	    P5C3       =	$37	;Palette 5 - Color 3			       write-only
    104  10000 ????		00 38	    OFFSET     =	$38	;Unused - Store zero here		       write-only
    105  10000 ????		00 39	    P6C1       =	$39	;Palette 6 - Color 1			       write-only
    106  10000 ????		00 3a	    P6C2       =	$3A	;Palette 6 - Color 2			       write-only
    107  10000 ????		00 3b	    P6C3       =	$3B	;Palette 6 - Color 3			       write-only
    108  10000 ????		00 3c	    CTRL       =	$3C	;Maria Control Register		       write-only
    109  10000 ????		00 3d	    P7C1       =	$3D	;Palette 7 - Color 1			       write-only
    110  10000 ????		00 3e	    P7C2       =	$3E	;Palette 7 - Color 2			       write-only
    111  10000 ????		00 3f	    P7C3       =	$3F	;Palette 7 - Color 3			       write-only
    112  10000 ????
    113  10000 ????
    114  10000 ????						;****** 280-2FF ******* PIA PORTS AND TIMERS ************
    115  10000 ????
    116  10000 ????		02 80	    SWCHA      =	$280	;P0+P1 Joystick Directional Input	       read-write
    117  10000 ????		02 81	    CTLSWA     =	$281	;I/O Control for SCHWA 		       read-write
    118  10000 ????		02 81	    SWACNT     =	$281	;VCS name for above			       read-write
    119  10000 ????		02 82	    SWCHB      =	$282	;Console Switches			       read-write
    120  10000 ????		02 83	    CTLSWB     =	$283	;I/O Control for SCHWB 		       read-write
    121  10000 ????		02 83	    SWBCNT     =	$283	;VCS name for above			       read-write
    122  10000 ????		02 84	    INTIM      =	$284	;Interval Timer Read			       read-only
    123  10000 ????		02 85	    TIMINT     =	$285	;Interval Timer Interrupt		       read-only
    124  10000 ????
    125  10000 ????		02 94	    TIM1T      =	$294	;Set 1    CLK Interval (838   nsec/interval)  write-only
    126  10000 ????		02 95	    TIM8T      =	$295	;Set 8    CLK Interval (6.7   usec/interval)  write-only
    127  10000 ????		02 96	    TIM64T     =	$296	;Set 64   CLK Interval (63.6  usec/interval)  write-only
    128  10000 ????		02 97	    T1024T     =	$297	;Set 1024 CLK Interval (858.2 usec/interval)  write-only
    129  10000 ????		02 9e	    TIM64TI    =	$29E	;Interrupt timer 64T			       write-only
    130  10000 ????
    131  10000 ????						;XM
    132  10000 ????		04 70	    XCTRL      =	$470	; 7=YM2151 6=RAM@6k 5=RAM@4k 4=pokey@450 3=hsc 2=cart 1=RoF_bank1 0=RoF_bank2
    133  10000 ????		04 70	    XCTRL1     =	$470
    134  10000 ????		04 78	    XCTRL2     =	$478
    135  10000 ????		04 7c	    XCTRL3     =	$47c
    136  10000 ????		04 71	    XCTRL4     =	$471
    137  10000 ????		04 72	    XCTRL5     =	$472
    138  10000 ????
    139  10000 ????						; Pokey register relative locations, since its base may be different
    140  10000 ????						; depending on the hardware.
    141  10000 ????		00 00	    PAUDF0     =	$0	; extra audio channels and frequencies
    142  10000 ????		00 01	    PAUDC0     =	$1
    143  10000 ????		00 02	    PAUDF1     =	$2
    144  10000 ????		00 03	    PAUDC1     =	$3
    145  10000 ????		00 04	    PAUDF2     =	$4
    146  10000 ????		00 05	    PAUDC2     =	$5
    147  10000 ????		00 06	    PAUDF3     =	$6
    148  10000 ????		00 07	    PAUDC3     =	$7
    149  10000 ????		00 08	    PAUDCTL    =	$8	; Audio Control
    150  10000 ????		00 09	    PSTIMER    =	$9
    151  10000 ????		00 0a	    PRANDOM    =	$A	; 17 bit polycounter pseudo random
    152  10000 ????		00 0f	    PSKCTL     =	$F	; Serial Port control
------- FILE 7800basic.h
------- FILE 7800basic_variable_redefs.h LEVEL 3 PASS 3
      0  10000 ????				       include	"7800basic_variable_redefs.h"
      1  10000 ????						; This file contains variable mapping and other information for the current project.
      2  10000 ????
      3  10000 ????		00 00	    scoredigits_s15_mode =	$00
      4  10000 ????		00 1e	    scoredigits_s15_width_twoscompliment =	$1e
      5  10000 ????		00 02	    scoredigits_s15_width =	$02
      6  10000 ????		00 00	    scoredigits_s14_mode =	$00
      7  10000 ????		00 1e	    scoredigits_s14_width_twoscompliment =	$1e
      8  10000 ????		00 02	    scoredigits_s14_width =	$02
      9  10000 ????		00 00	    scoredigits_s13_mode =	$00
     10  10000 ????		00 1e	    scoredigits_s13_width_twoscompliment =	$1e
     11  10000 ????		00 02	    scoredigits_s13_width =	$02
     12  10000 ????		00 00	    scoredigits_s12_mode =	$00
     13  10000 ????		00 1e	    scoredigits_s12_width_twoscompliment =	$1e
     14  10000 ????		00 02	    scoredigits_s12_width =	$02
     15  10000 ????		00 00	    scoredigits_s11_mode =	$00
     16  10000 ????		00 1e	    scoredigits_s11_width_twoscompliment =	$1e
     17  10000 ????		00 02	    scoredigits_s11_width =	$02
     18  10000 ????		00 00	    scoredigits_s10_mode =	$00
     19  10000 ????		00 1e	    scoredigits_s10_width_twoscompliment =	$1e
     20  10000 ????		00 02	    scoredigits_s10_width =	$02
     21  10000 ????		00 00	    scoredigits_s09_mode =	$00
     22  10000 ????		00 1e	    scoredigits_s09_width_twoscompliment =	$1e
     23  10000 ????		00 02	    scoredigits_s09_width =	$02
     24  10000 ????		00 00	    scoredigits_s08_mode =	$00
     25  10000 ????		00 1e	    scoredigits_s08_width_twoscompliment =	$1e
     26  10000 ????		00 02	    scoredigits_s08_width =	$02
     27  10000 ????		00 00	    scoredigits_s07_mode =	$00
     28  10000 ????		00 1e	    scoredigits_s07_width_twoscompliment =	$1e
     29  10000 ????		00 02	    scoredigits_s07_width =	$02
     30  10000 ????		00 00	    scoredigits_s06_mode =	$00
     31  10000 ????		00 1e	    scoredigits_s06_width_twoscompliment =	$1e
     32  10000 ????		00 02	    scoredigits_s06_width =	$02
     33  10000 ????		00 00	    scoredigits_s05_mode =	$00
     34  10000 ????		00 1e	    scoredigits_s05_width_twoscompliment =	$1e
     35  10000 ????		00 02	    scoredigits_s05_width =	$02
     36  10000 ????		00 00	    scoredigits_s04_mode =	$00
     37  10000 ????		00 1e	    scoredigits_s04_width_twoscompliment =	$1e
     38  10000 ????		00 02	    scoredigits_s04_width =	$02
     39  10000 ????		00 00	    scoredigits_s03_mode =	$00
     40  10000 ????		00 1e	    scoredigits_s03_width_twoscompliment =	$1e
     41  10000 ????		00 02	    scoredigits_s03_width =	$02
     42  10000 ????		00 00	    scoredigits_s02_mode =	$00
     43  10000 ????		00 1e	    scoredigits_s02_width_twoscompliment =	$1e
     44  10000 ????		00 02	    scoredigits_s02_width =	$02
     45  10000 ????		00 00	    scoredigits_s01_mode =	$00
     46  10000 ????		00 1e	    scoredigits_s01_width_twoscompliment =	$1e
     47  10000 ????		00 02	    scoredigits_s01_width =	$02
     48  10000 ????		00 00	    scoredigits_s00_mode =	$00
     49  10000 ????		00 1e	    scoredigits_s00_width_twoscompliment =	$1e
     50  10000 ????		00 02	    scoredigits_s00_width =	$02
     51  10000 ????		00 00	    asteroid_M_conv_tallsprite_00_mode =	$00
     52  10000 ????		00 1c	    asteroid_M_conv_tallsprite_00_width_twoscompliment =	$1c
     53  10000 ????		00 04	    asteroid_M_conv_tallsprite_00_width =	$04
     54  10000 ????		00 00	    asteroid_M_conv_mode =	$00
     55  10000 ????		00 1c	    asteroid_M_conv_width_twoscompliment =	$1c
     56  10000 ????		00 04	    asteroid_M_conv_width =	$04
     57  10000 ????		00 00	    asteroid_L_conv_tallsprite_02_mode =	$00
     58  10000 ????		00 18	    asteroid_L_conv_tallsprite_02_width_twoscompliment =	$18
     59  10000 ????		00 08	    asteroid_L_conv_tallsprite_02_width =	$08
     60  10000 ????		00 00	    asteroid_L_conv_tallsprite_01_mode =	$00
     61  10000 ????		00 18	    asteroid_L_conv_tallsprite_01_width_twoscompliment =	$18
     62  10000 ????		00 08	    asteroid_L_conv_tallsprite_01_width =	$08
     63  10000 ????		00 00	    asteroid_L_conv_tallsprite_00_mode =	$00
     64  10000 ????		00 18	    asteroid_L_conv_tallsprite_00_width_twoscompliment =	$18
     65  10000 ????		00 08	    asteroid_L_conv_tallsprite_00_width =	$08
     66  10000 ????		00 00	    asteroid_L_conv_mode =	$00
     67  10000 ????		00 18	    asteroid_L_conv_width_twoscompliment =	$18
     68  10000 ????		00 08	    asteroid_L_conv_width =	$08
     69  10000 ????		00 00	    fighter_conv_mode =	$00
     70  10000 ????		00 1f	    fighter_conv_width_twoscompliment =	$1f
     71  10000 ????		00 01	    fighter_conv_width =	$01
     72  10000 ????		00 00	    bullet_conv_mode =	$00
     73  10000 ????		00 1f	    bullet_conv_width_twoscompliment =	$1f
     74  10000 ????		00 01	    bullet_conv_width =	$01
     75  10000 ????		00 00	    sprite_spaceship16_mode =	$00
     76  10000 ????		00 1c	    sprite_spaceship16_width_twoscompliment =	$1c
     77  10000 ????		00 04	    sprite_spaceship16_width =	$04
     78  10000 ????		00 00	    sprite_spaceship15_mode =	$00
     79  10000 ????		00 1c	    sprite_spaceship15_width_twoscompliment =	$1c
     80  10000 ????		00 04	    sprite_spaceship15_width =	$04
     81  10000 ????		00 00	    sprite_spaceship14_mode =	$00
     82  10000 ????		00 1c	    sprite_spaceship14_width_twoscompliment =	$1c
     83  10000 ????		00 04	    sprite_spaceship14_width =	$04
     84  10000 ????		00 00	    sprite_spaceship13_mode =	$00
     85  10000 ????		00 1c	    sprite_spaceship13_width_twoscompliment =	$1c
     86  10000 ????		00 04	    sprite_spaceship13_width =	$04
     87  10000 ????		00 00	    sprite_spaceship12_mode =	$00
     88  10000 ????		00 1c	    sprite_spaceship12_width_twoscompliment =	$1c
     89  10000 ????		00 04	    sprite_spaceship12_width =	$04
     90  10000 ????		00 00	    sprite_spaceship11_mode =	$00
     91  10000 ????		00 1c	    sprite_spaceship11_width_twoscompliment =	$1c
     92  10000 ????		00 04	    sprite_spaceship11_width =	$04
     93  10000 ????		00 00	    sprite_spaceship10_mode =	$00
     94  10000 ????		00 1c	    sprite_spaceship10_width_twoscompliment =	$1c
     95  10000 ????		00 04	    sprite_spaceship10_width =	$04
     96  10000 ????		00 00	    sprite_spaceship9_mode =	$00
     97  10000 ????		00 1c	    sprite_spaceship9_width_twoscompliment =	$1c
     98  10000 ????		00 04	    sprite_spaceship9_width =	$04
     99  10000 ????		00 00	    sprite_spaceship8_mode =	$00
    100  10000 ????		00 1c	    sprite_spaceship8_width_twoscompliment =	$1c
    101  10000 ????		00 04	    sprite_spaceship8_width =	$04
    102  10000 ????		00 00	    sprite_spaceship7_mode =	$00
    103  10000 ????		00 1c	    sprite_spaceship7_width_twoscompliment =	$1c
    104  10000 ????		00 04	    sprite_spaceship7_width =	$04
    105  10000 ????		00 00	    sprite_spaceship6_mode =	$00
    106  10000 ????		00 1c	    sprite_spaceship6_width_twoscompliment =	$1c
    107  10000 ????		00 04	    sprite_spaceship6_width =	$04
    108  10000 ????		00 00	    sprite_spaceship5_mode =	$00
    109  10000 ????		00 1c	    sprite_spaceship5_width_twoscompliment =	$1c
    110  10000 ????		00 04	    sprite_spaceship5_width =	$04
    111  10000 ????		00 00	    sprite_spaceship4_mode =	$00
    112  10000 ????		00 1c	    sprite_spaceship4_width_twoscompliment =	$1c
    113  10000 ????		00 04	    sprite_spaceship4_width =	$04
    114  10000 ????		00 00	    sprite_spaceship3_mode =	$00
    115  10000 ????		00 1c	    sprite_spaceship3_width_twoscompliment =	$1c
    116  10000 ????		00 04	    sprite_spaceship3_width =	$04
    117  10000 ????		00 00	    sprite_spaceship2_mode =	$00
    118  10000 ????		00 1c	    sprite_spaceship2_width_twoscompliment =	$1c
    119  10000 ????		00 04	    sprite_spaceship2_width =	$04
    120  10000 ????		00 00	    sprite_spaceship1_mode =	$00
    121  10000 ????		00 1c	    sprite_spaceship1_width_twoscompliment =	$1c
    122  10000 ????		00 04	    sprite_spaceship1_width =	$04
    123  10000 ????		22 2b	    cycle_state =	var143
    124  10000 ????
    125  10000 ????		22 2a	    sc3        =	var142
    126  10000 ????
    127  10000 ????		22 29	    sc2        =	var141
    128  10000 ????
    129  10000 ????		22 28	    sc1        =	var140
    130  10000 ????
    131  10000 ????		22 4b	    cam_y_hi   =	var175
    132  10000 ????
    133  10000 ????		22 4a	    cam_y      =	var174
    134  10000 ????
    135  10000 ????		22 49	    cam_x_hi   =	var173
    136  10000 ????
    137  10000 ????		22 48	    cam_x      =	var172
    138  10000 ????
    139  10000 ????		22 2e	    bcd_score  =	var146
    140  10000 ????
    141  10000 ????		22 2d	    score_e    =	var145
    142  10000 ????
    143  10000 ????		22 2c	    score_p    =	var144
    144  10000 ????
    145  10000 ????		22 47	    py_hi      =	var171
    146  10000 ????
    147  10000 ????		22 46	    px_hi      =	var170
    148  10000 ????
    149  10000 ????		01 65	    blife3     =	var37
    150  10000 ????
    151  10000 ????		01 64	    blife2     =	var36
    152  10000 ????		01 63	    blife1     =	var35
    153  10000 ????		01 62	    blife0     =	var34
    154  10000 ????		01 59	    bul_y3     =	var25
    155  10000 ????
    156  10000 ????		01 58	    bul_y2     =	var24
    157  10000 ????		01 57	    bul_y1     =	var23
    158  10000 ????		01 56	    bul_y0     =	var22
    159  10000 ????		01 55	    bul_x3     =	var21
    160  10000 ????
    161  10000 ????		01 54	    bul_x2     =	var20
    162  10000 ????		01 53	    bul_x1     =	var19
    163  10000 ????		01 52	    bul_x0     =	var18
    164  10000 ????		22 38	    ay_hi      =	var156
    165  10000 ????
    166  10000 ????		22 37	    ax_hi      =	var155
    167  10000 ????
    168  10000 ????		22 36	    alife      =	var154
    169  10000 ????
    170  10000 ????		22 35	    avy        =	var153
    171  10000 ????
    172  10000 ????		22 34	    avx        =	var152
    173  10000 ????
    174  10000 ????		22 33	    ay	       =	var151
    175  10000 ????
    176  10000 ????		22 32	    ax	       =	var150
    177  10000 ????
    178  10000 ????		22 30	    rand_val   =	var148
    179  10000 ????
    180  10000 ????		01 8a	    ex_hi      =	var74
    181  10000 ????
    182  10000 ????		01 78	    elife      =	var56
    183  10000 ????
    184  10000 ????		01 74	    evy        =	var52
    185  10000 ????
    186  10000 ????		01 70	    evx        =	var48
    187  10000 ????
    188  10000 ????		01 6c	    ey	       =	var44
    189  10000 ????
    190  10000 ????		01 68	    ex	       =	var40
    191  10000 ????
    192  10000 ????		22 2b	    cycle_state =	var143
    193  10000 ????
    194  10000 ????		22 2a	    sc3        =	var142
    195  10000 ????
    196  10000 ????		22 29	    sc2        =	var141
    197  10000 ????
    198  10000 ????		22 28	    sc1        =	var140
    199  10000 ????
    200  10000 ????		22 14	    star_c     =	var120
    201  10000 ????
    202  10000 ????		22 00	    star_y     =	var100
    203  10000 ????
    204  10000 ????		01 90	    star_x     =	var80
    205  10000 ????
    206  10000 ????		01 89	    temp_w     =	var73
    207  10000 ????
    208  10000 ????		01 88	    ecooldown  =	var72
    209  10000 ????
    210  10000 ????		22 60	    temp_val_hi =	var196
    211  10000 ????
    212  10000 ????		22 5c	    ebul_y_hi  =	var192
    213  10000 ????
    214  10000 ????		22 58	    ebul_x_hi  =	var188
    215  10000 ????
    216  10000 ????		22 54	    bul_y_hi   =	var184
    217  10000 ????
    218  10000 ????		22 50	    bul_x_hi   =	var180
    219  10000 ????
    220  10000 ????		22 40	    eblife     =	var164
    221  10000 ????
    222  10000 ????		22 3c	    ebul_vy    =	var160
    223  10000 ????
    224  10000 ????		01 84	    ebul_vx    =	var68
    225  10000 ????
    226  10000 ????		01 80	    ebul_y     =	var64
    227  10000 ????
    228  10000 ????		01 7c	    ebul_x     =	var60
    229  10000 ????
    230  10000 ????		01 62	    blife      =	var34
    231  10000 ????
    232  10000 ????		01 5e	    bul_vy     =	var30
    233  10000 ????
    234  10000 ????		01 5a	    bul_vx     =	var26
    235  10000 ????
    236  10000 ????		01 56	    bul_y      =	var22
    237  10000 ????
    238  10000 ????		01 52	    bul_x      =	var18
    239  10000 ????
    240  10000 ????		01 67	    temp_by    =	var39
    241  10000 ????
    242  10000 ????		01 66	    temp_bx    =	var38
    243  10000 ????
    244  10000 ????		01 51	    iter       =	var17
    245  10000 ????
    246  10000 ????		01 50	    bcooldown  =	var16
    247  10000 ????
    248  10000 ????		01 4f	    temp_v     =	var15
    249  10000 ????
    250  10000 ????		01 4e	    common     =	var14
    251  10000 ????
    252  10000 ????		01 4d	    frame      =	var13
    253  10000 ????
    254  10000 ????		01 4c	    temp_acc   =	var12
    255  10000 ????
    256  10000 ????		01 4b	    move_step  =	var11
    257  10000 ????
    258  10000 ????		01 4a	    rot_timer  =	var10
    259  10000 ????
    260  10000 ????		01 49	    shpfr      =	var9
    261  10000 ????
    262  10000 ????		01 48	    angle      =	var8
    263  10000 ????
    264  10000 ????		01 47	    ry	       =	var7
    265  10000 ????
    266  10000 ????		01 46	    rx	       =	var6
    267  10000 ????
    268  10000 ????		01 45	    vy_m       =	var5
    269  10000 ????
    270  10000 ????		01 44	    vy_p       =	var4
    271  10000 ????
    272  10000 ????		01 43	    vx_m       =	var3
    273  10000 ????
    274  10000 ????		01 42	    vx_p       =	var2
    275  10000 ????
    276  10000 ????		01 41	    py	       =	var1
    277  10000 ????
    278  10000 ????		01 40	    px	       =	var0
    279  10000 ????
    280  10000 ????		00 0c	    scoredigits_s15_color3 =	$0c
    281  10000 ????		00 09	    scoredigits_s15_color2 =	$09
    282  10000 ????		00 00	    scoredigits_s15_color1 =	$00
    283  10000 ????		00 64	    scoredigits_s15_color0 =	$64
    284  10000 ????		00 0c	    scoredigits_s14_color3 =	$0c
    285  10000 ????		00 09	    scoredigits_s14_color2 =	$09
    286  10000 ????		00 00	    scoredigits_s14_color1 =	$00
    287  10000 ????		00 64	    scoredigits_s14_color0 =	$64
    288  10000 ????		00 0c	    scoredigits_s13_color3 =	$0c
    289  10000 ????		00 09	    scoredigits_s13_color2 =	$09
    290  10000 ????		00 00	    scoredigits_s13_color1 =	$00
    291  10000 ????		00 64	    scoredigits_s13_color0 =	$64
    292  10000 ????		00 0c	    scoredigits_s12_color3 =	$0c
    293  10000 ????		00 09	    scoredigits_s12_color2 =	$09
    294  10000 ????		00 00	    scoredigits_s12_color1 =	$00
    295  10000 ????		00 64	    scoredigits_s12_color0 =	$64
    296  10000 ????		00 0c	    scoredigits_s11_color3 =	$0c
    297  10000 ????		00 09	    scoredigits_s11_color2 =	$09
    298  10000 ????		00 00	    scoredigits_s11_color1 =	$00
    299  10000 ????		00 64	    scoredigits_s11_color0 =	$64
    300  10000 ????		00 0c	    scoredigits_s10_color3 =	$0c
    301  10000 ????		00 09	    scoredigits_s10_color2 =	$09
    302  10000 ????		00 00	    scoredigits_s10_color1 =	$00
    303  10000 ????		00 64	    scoredigits_s10_color0 =	$64
    304  10000 ????		00 0c	    scoredigits_s09_color3 =	$0c
    305  10000 ????		00 09	    scoredigits_s09_color2 =	$09
    306  10000 ????		00 00	    scoredigits_s09_color1 =	$00
    307  10000 ????		00 64	    scoredigits_s09_color0 =	$64
    308  10000 ????		00 0c	    scoredigits_s08_color3 =	$0c
    309  10000 ????		00 09	    scoredigits_s08_color2 =	$09
    310  10000 ????		00 00	    scoredigits_s08_color1 =	$00
    311  10000 ????		00 64	    scoredigits_s08_color0 =	$64
    312  10000 ????		00 0c	    scoredigits_s07_color3 =	$0c
    313  10000 ????		00 09	    scoredigits_s07_color2 =	$09
    314  10000 ????		00 00	    scoredigits_s07_color1 =	$00
    315  10000 ????		00 64	    scoredigits_s07_color0 =	$64
    316  10000 ????		00 0c	    scoredigits_s06_color3 =	$0c
    317  10000 ????		00 09	    scoredigits_s06_color2 =	$09
    318  10000 ????		00 00	    scoredigits_s06_color1 =	$00
    319  10000 ????		00 64	    scoredigits_s06_color0 =	$64
    320  10000 ????		00 0c	    scoredigits_s05_color3 =	$0c
    321  10000 ????		00 09	    scoredigits_s05_color2 =	$09
    322  10000 ????		00 00	    scoredigits_s05_color1 =	$00
    323  10000 ????		00 64	    scoredigits_s05_color0 =	$64
    324  10000 ????		00 0c	    scoredigits_s04_color3 =	$0c
    325  10000 ????		00 09	    scoredigits_s04_color2 =	$09
    326  10000 ????		00 00	    scoredigits_s04_color1 =	$00
    327  10000 ????		00 64	    scoredigits_s04_color0 =	$64
    328  10000 ????		00 0c	    scoredigits_s03_color3 =	$0c
    329  10000 ????		00 09	    scoredigits_s03_color2 =	$09
    330  10000 ????		00 00	    scoredigits_s03_color1 =	$00
    331  10000 ????		00 64	    scoredigits_s03_color0 =	$64
    332  10000 ????		00 0c	    scoredigits_s02_color3 =	$0c
    333  10000 ????		00 09	    scoredigits_s02_color2 =	$09
    334  10000 ????		00 00	    scoredigits_s02_color1 =	$00
    335  10000 ????		00 64	    scoredigits_s02_color0 =	$64
    336  10000 ????		00 0c	    scoredigits_s01_color3 =	$0c
    337  10000 ????		00 09	    scoredigits_s01_color2 =	$09
    338  10000 ????		00 00	    scoredigits_s01_color1 =	$00
    339  10000 ????		00 64	    scoredigits_s01_color0 =	$64
    340  10000 ????		00 0c	    scoredigits_s00_color3 =	$0c
    341  10000 ????		00 09	    scoredigits_s00_color2 =	$09
    342  10000 ????		00 00	    scoredigits_s00_color1 =	$00
    343  10000 ????		00 64	    scoredigits_s00_color0 =	$64
    344  10000 ????		00 0f	    asteroid_M_conv_tallsprite_00_color3 =	$0f
    345  10000 ????		00 38	    asteroid_M_conv_tallsprite_00_color2 =	$38
    346  10000 ????		00 1d	    asteroid_M_conv_tallsprite_00_color1 =	$1d
    347  10000 ????		00 00	    asteroid_M_conv_tallsprite_00_color0 =	$00
    348  10000 ????		00 0f	    asteroid_M_conv_color3 =	$0f
    349  10000 ????		00 38	    asteroid_M_conv_color2 =	$38
    350  10000 ????		00 1d	    asteroid_M_conv_color1 =	$1d
    351  10000 ????		00 00	    asteroid_M_conv_color0 =	$00
    352  10000 ????		00 0f	    asteroid_L_conv_tallsprite_02_color3 =	$0f
    353  10000 ????		00 38	    asteroid_L_conv_tallsprite_02_color2 =	$38
    354  10000 ????		00 1d	    asteroid_L_conv_tallsprite_02_color1 =	$1d
    355  10000 ????		00 00	    asteroid_L_conv_tallsprite_02_color0 =	$00
    356  10000 ????		00 0f	    asteroid_L_conv_tallsprite_01_color3 =	$0f
    357  10000 ????		00 38	    asteroid_L_conv_tallsprite_01_color2 =	$38
    358  10000 ????		00 1d	    asteroid_L_conv_tallsprite_01_color1 =	$1d
    359  10000 ????		00 00	    asteroid_L_conv_tallsprite_01_color0 =	$00
    360  10000 ????		00 0f	    asteroid_L_conv_tallsprite_00_color3 =	$0f
    361  10000 ????		00 38	    asteroid_L_conv_tallsprite_00_color2 =	$38
    362  10000 ????		00 1d	    asteroid_L_conv_tallsprite_00_color1 =	$1d
    363  10000 ????		00 00	    asteroid_L_conv_tallsprite_00_color0 =	$00
    364  10000 ????		00 0f	    asteroid_L_conv_color3 =	$0f
    365  10000 ????		00 38	    asteroid_L_conv_color2 =	$38
    366  10000 ????		00 1d	    asteroid_L_conv_color1 =	$1d
    367  10000 ????		00 00	    asteroid_L_conv_color0 =	$00
    368  10000 ????		00 0f	    fighter_conv_color3 =	$0f
    369  10000 ????		00 38	    fighter_conv_color2 =	$38
    370  10000 ????		00 1d	    fighter_conv_color1 =	$1d
    371  10000 ????		00 00	    fighter_conv_color0 =	$00
    372  10000 ????		00 0f	    bullet_conv_color3 =	$0f
    373  10000 ????		00 38	    bullet_conv_color2 =	$38
    374  10000 ????		00 1d	    bullet_conv_color1 =	$1d
    375  10000 ????		00 00	    bullet_conv_color0 =	$00
    376  10000 ????		00 00	    sprite_spaceship16_color255 =	0
    377  10000 ????		00 00	    sprite_spaceship16_color254 =	0
    378  10000 ????		00 00	    sprite_spaceship16_color253 =	0
    379  10000 ????		00 00	    sprite_spaceship16_color252 =	0
    380  10000 ????		00 00	    sprite_spaceship16_color251 =	0
    381  10000 ????		00 00	    sprite_spaceship16_color250 =	0
    382  10000 ????		00 00	    sprite_spaceship16_color249 =	0
    383  10000 ????		00 00	    sprite_spaceship16_color248 =	0
    384  10000 ????		00 00	    sprite_spaceship16_color247 =	0
    385  10000 ????		00 00	    sprite_spaceship16_color246 =	0
    386  10000 ????		00 00	    sprite_spaceship16_color245 =	0
    387  10000 ????		00 00	    sprite_spaceship16_color244 =	0
    388  10000 ????		00 00	    sprite_spaceship16_color243 =	0
    389  10000 ????		00 00	    sprite_spaceship16_color242 =	0
    390  10000 ????		00 00	    sprite_spaceship16_color241 =	0
    391  10000 ????		00 00	    sprite_spaceship16_color240 =	0
    392  10000 ????		00 00	    sprite_spaceship16_color239 =	0
    393  10000 ????		00 00	    sprite_spaceship16_color238 =	0
    394  10000 ????		00 00	    sprite_spaceship16_color237 =	0
    395  10000 ????		00 00	    sprite_spaceship16_color236 =	0
    396  10000 ????		00 00	    sprite_spaceship16_color235 =	0
    397  10000 ????		00 00	    sprite_spaceship16_color234 =	0
    398  10000 ????		00 00	    sprite_spaceship16_color233 =	0
    399  10000 ????		00 00	    sprite_spaceship16_color232 =	0
    400  10000 ????		00 00	    sprite_spaceship16_color231 =	0
    401  10000 ????		00 00	    sprite_spaceship16_color230 =	0
    402  10000 ????		00 00	    sprite_spaceship16_color229 =	0
    403  10000 ????		00 00	    sprite_spaceship16_color228 =	0
    404  10000 ????		00 00	    sprite_spaceship16_color227 =	0
    405  10000 ????		00 00	    sprite_spaceship16_color226 =	0
    406  10000 ????		00 00	    sprite_spaceship16_color225 =	0
    407  10000 ????		00 00	    sprite_spaceship16_color224 =	0
    408  10000 ????		00 00	    sprite_spaceship16_color223 =	0
    409  10000 ????		00 00	    sprite_spaceship16_color222 =	0
    410  10000 ????		00 00	    sprite_spaceship16_color221 =	0
    411  10000 ????		00 00	    sprite_spaceship16_color220 =	0
    412  10000 ????		00 00	    sprite_spaceship16_color219 =	0
    413  10000 ????		00 00	    sprite_spaceship16_color218 =	0
    414  10000 ????		00 00	    sprite_spaceship16_color217 =	0
    415  10000 ????		00 00	    sprite_spaceship16_color216 =	0
    416  10000 ????		00 00	    sprite_spaceship16_color215 =	0
    417  10000 ????		00 00	    sprite_spaceship16_color214 =	0
    418  10000 ????		00 00	    sprite_spaceship16_color213 =	0
    419  10000 ????		00 00	    sprite_spaceship16_color212 =	0
    420  10000 ????		00 00	    sprite_spaceship16_color211 =	0
    421  10000 ????		00 00	    sprite_spaceship16_color210 =	0
    422  10000 ????		00 00	    sprite_spaceship16_color209 =	0
    423  10000 ????		00 00	    sprite_spaceship16_color208 =	0
    424  10000 ????		00 00	    sprite_spaceship16_color207 =	0
    425  10000 ????		00 00	    sprite_spaceship16_color206 =	0
    426  10000 ????		00 00	    sprite_spaceship16_color205 =	0
    427  10000 ????		00 00	    sprite_spaceship16_color204 =	0
    428  10000 ????		00 00	    sprite_spaceship16_color203 =	0
    429  10000 ????		00 00	    sprite_spaceship16_color202 =	0
    430  10000 ????		00 00	    sprite_spaceship16_color201 =	0
    431  10000 ????		00 00	    sprite_spaceship16_color200 =	0
    432  10000 ????		00 00	    sprite_spaceship16_color199 =	0
    433  10000 ????		00 00	    sprite_spaceship16_color198 =	0
    434  10000 ????		00 00	    sprite_spaceship16_color197 =	0
    435  10000 ????		00 00	    sprite_spaceship16_color196 =	0
    436  10000 ????		00 00	    sprite_spaceship16_color195 =	0
    437  10000 ????		00 00	    sprite_spaceship16_color194 =	0
    438  10000 ????		00 00	    sprite_spaceship16_color193 =	0
    439  10000 ????		00 00	    sprite_spaceship16_color192 =	0
    440  10000 ????		00 00	    sprite_spaceship16_color191 =	0
    441  10000 ????		00 00	    sprite_spaceship16_color190 =	0
    442  10000 ????		00 00	    sprite_spaceship16_color189 =	0
    443  10000 ????		00 00	    sprite_spaceship16_color188 =	0
    444  10000 ????		00 00	    sprite_spaceship16_color187 =	0
    445  10000 ????		00 00	    sprite_spaceship16_color186 =	0
    446  10000 ????		00 00	    sprite_spaceship16_color185 =	0
    447  10000 ????		00 00	    sprite_spaceship16_color184 =	0
    448  10000 ????		00 00	    sprite_spaceship16_color183 =	0
    449  10000 ????		00 00	    sprite_spaceship16_color182 =	0
    450  10000 ????		00 00	    sprite_spaceship16_color181 =	0
    451  10000 ????		00 00	    sprite_spaceship16_color180 =	0
    452  10000 ????		00 00	    sprite_spaceship16_color179 =	0
    453  10000 ????		00 00	    sprite_spaceship16_color178 =	0
    454  10000 ????		00 00	    sprite_spaceship16_color177 =	0
    455  10000 ????		00 00	    sprite_spaceship16_color176 =	0
    456  10000 ????		00 00	    sprite_spaceship16_color175 =	0
    457  10000 ????		00 00	    sprite_spaceship16_color174 =	0
    458  10000 ????		00 00	    sprite_spaceship16_color173 =	0
    459  10000 ????		00 00	    sprite_spaceship16_color172 =	0
    460  10000 ????		00 00	    sprite_spaceship16_color171 =	0
    461  10000 ????		00 00	    sprite_spaceship16_color170 =	0
    462  10000 ????		00 00	    sprite_spaceship16_color169 =	0
    463  10000 ????		00 00	    sprite_spaceship16_color168 =	0
    464  10000 ????		00 00	    sprite_spaceship16_color167 =	0
    465  10000 ????		00 00	    sprite_spaceship16_color166 =	0
    466  10000 ????		00 00	    sprite_spaceship16_color165 =	0
    467  10000 ????		00 00	    sprite_spaceship16_color164 =	0
    468  10000 ????		00 00	    sprite_spaceship16_color163 =	0
    469  10000 ????		00 00	    sprite_spaceship16_color162 =	0
    470  10000 ????		00 00	    sprite_spaceship16_color161 =	0
    471  10000 ????		00 00	    sprite_spaceship16_color160 =	0
    472  10000 ????		00 00	    sprite_spaceship16_color159 =	0
    473  10000 ????		00 00	    sprite_spaceship16_color158 =	0
    474  10000 ????		00 00	    sprite_spaceship16_color157 =	0
    475  10000 ????		00 00	    sprite_spaceship16_color156 =	0
    476  10000 ????		00 00	    sprite_spaceship16_color155 =	0
    477  10000 ????		00 00	    sprite_spaceship16_color154 =	0
    478  10000 ????		00 00	    sprite_spaceship16_color153 =	0
    479  10000 ????		00 00	    sprite_spaceship16_color152 =	0
    480  10000 ????		00 00	    sprite_spaceship16_color151 =	0
    481  10000 ????		00 00	    sprite_spaceship16_color150 =	0
    482  10000 ????		00 00	    sprite_spaceship16_color149 =	0
    483  10000 ????		00 00	    sprite_spaceship16_color148 =	0
    484  10000 ????		00 00	    sprite_spaceship16_color147 =	0
    485  10000 ????		00 00	    sprite_spaceship16_color146 =	0
    486  10000 ????		00 00	    sprite_spaceship16_color145 =	0
    487  10000 ????		00 00	    sprite_spaceship16_color144 =	0
    488  10000 ????		00 00	    sprite_spaceship16_color143 =	0
    489  10000 ????		00 00	    sprite_spaceship16_color142 =	0
    490  10000 ????		00 00	    sprite_spaceship16_color141 =	0
    491  10000 ????		00 00	    sprite_spaceship16_color140 =	0
    492  10000 ????		00 00	    sprite_spaceship16_color139 =	0
    493  10000 ????		00 00	    sprite_spaceship16_color138 =	0
    494  10000 ????		00 00	    sprite_spaceship16_color137 =	0
    495  10000 ????		00 00	    sprite_spaceship16_color136 =	0
    496  10000 ????		00 00	    sprite_spaceship16_color135 =	0
    497  10000 ????		00 00	    sprite_spaceship16_color134 =	0
    498  10000 ????		00 00	    sprite_spaceship16_color133 =	0
    499  10000 ????		00 00	    sprite_spaceship16_color132 =	0
    500  10000 ????		00 00	    sprite_spaceship16_color131 =	0
    501  10000 ????		00 00	    sprite_spaceship16_color130 =	0
    502  10000 ????		00 00	    sprite_spaceship16_color129 =	0
    503  10000 ????		00 00	    sprite_spaceship16_color128 =	0
    504  10000 ????		00 00	    sprite_spaceship16_color127 =	0
    505  10000 ????		00 00	    sprite_spaceship16_color126 =	0
    506  10000 ????		00 00	    sprite_spaceship16_color125 =	0
    507  10000 ????		00 00	    sprite_spaceship16_color124 =	0
    508  10000 ????		00 00	    sprite_spaceship16_color123 =	0
    509  10000 ????		00 00	    sprite_spaceship16_color122 =	0
    510  10000 ????		00 00	    sprite_spaceship16_color121 =	0
    511  10000 ????		00 00	    sprite_spaceship16_color120 =	0
    512  10000 ????		00 00	    sprite_spaceship16_color119 =	0
    513  10000 ????		00 00	    sprite_spaceship16_color118 =	0
    514  10000 ????		00 00	    sprite_spaceship16_color117 =	0
    515  10000 ????		00 00	    sprite_spaceship16_color116 =	0
    516  10000 ????		00 00	    sprite_spaceship16_color115 =	0
    517  10000 ????		00 00	    sprite_spaceship16_color114 =	0
    518  10000 ????		00 00	    sprite_spaceship16_color113 =	0
    519  10000 ????		00 00	    sprite_spaceship16_color112 =	0
    520  10000 ????		00 00	    sprite_spaceship16_color111 =	0
    521  10000 ????		00 00	    sprite_spaceship16_color110 =	0
    522  10000 ????		00 00	    sprite_spaceship16_color109 =	0
    523  10000 ????		00 00	    sprite_spaceship16_color108 =	0
    524  10000 ????		00 00	    sprite_spaceship16_color107 =	0
    525  10000 ????		00 00	    sprite_spaceship16_color106 =	0
    526  10000 ????		00 00	    sprite_spaceship16_color105 =	0
    527  10000 ????		00 00	    sprite_spaceship16_color104 =	0
    528  10000 ????		00 00	    sprite_spaceship16_color103 =	0
    529  10000 ????		00 00	    sprite_spaceship16_color102 =	0
    530  10000 ????		00 00	    sprite_spaceship16_color101 =	0
    531  10000 ????		00 00	    sprite_spaceship16_color100 =	0
    532  10000 ????		00 00	    sprite_spaceship16_color99 =	0
    533  10000 ????		00 00	    sprite_spaceship16_color98 =	0
    534  10000 ????		00 00	    sprite_spaceship16_color97 =	0
    535  10000 ????		00 00	    sprite_spaceship16_color96 =	0
    536  10000 ????		00 00	    sprite_spaceship16_color95 =	0
    537  10000 ????		00 00	    sprite_spaceship16_color94 =	0
    538  10000 ????		00 00	    sprite_spaceship16_color93 =	0
    539  10000 ????		00 00	    sprite_spaceship16_color92 =	0
    540  10000 ????		00 00	    sprite_spaceship16_color91 =	0
    541  10000 ????		00 00	    sprite_spaceship16_color90 =	0
    542  10000 ????		00 00	    sprite_spaceship16_color89 =	0
    543  10000 ????		00 00	    sprite_spaceship16_color88 =	0
    544  10000 ????		00 00	    sprite_spaceship16_color87 =	0
    545  10000 ????		00 00	    sprite_spaceship16_color86 =	0
    546  10000 ????		00 00	    sprite_spaceship16_color85 =	0
    547  10000 ????		00 00	    sprite_spaceship16_color84 =	0
    548  10000 ????		00 00	    sprite_spaceship16_color83 =	0
    549  10000 ????		00 00	    sprite_spaceship16_color82 =	0
    550  10000 ????		00 00	    sprite_spaceship16_color81 =	0
    551  10000 ????		00 00	    sprite_spaceship16_color80 =	0
    552  10000 ????		00 00	    sprite_spaceship16_color79 =	0
    553  10000 ????		00 00	    sprite_spaceship16_color78 =	0
    554  10000 ????		00 00	    sprite_spaceship16_color77 =	0
    555  10000 ????		00 00	    sprite_spaceship16_color76 =	0
    556  10000 ????		00 00	    sprite_spaceship16_color75 =	0
    557  10000 ????		00 00	    sprite_spaceship16_color74 =	0
    558  10000 ????		00 00	    sprite_spaceship16_color73 =	0
    559  10000 ????		00 00	    sprite_spaceship16_color72 =	0
    560  10000 ????		00 00	    sprite_spaceship16_color71 =	0
    561  10000 ????		00 00	    sprite_spaceship16_color70 =	0
    562  10000 ????		00 00	    sprite_spaceship16_color69 =	0
    563  10000 ????		00 00	    sprite_spaceship16_color68 =	0
    564  10000 ????		00 00	    sprite_spaceship16_color67 =	0
    565  10000 ????		00 00	    sprite_spaceship16_color66 =	0
    566  10000 ????		00 00	    sprite_spaceship16_color65 =	0
    567  10000 ????		00 00	    sprite_spaceship16_color64 =	0
    568  10000 ????		00 00	    sprite_spaceship16_color63 =	0
    569  10000 ????		00 00	    sprite_spaceship16_color62 =	0
    570  10000 ????		00 00	    sprite_spaceship16_color61 =	0
    571  10000 ????		00 00	    sprite_spaceship16_color60 =	0
    572  10000 ????		00 00	    sprite_spaceship16_color59 =	0
    573  10000 ????		00 00	    sprite_spaceship16_color58 =	0
    574  10000 ????		00 00	    sprite_spaceship16_color57 =	0
    575  10000 ????		00 00	    sprite_spaceship16_color56 =	0
    576  10000 ????		00 00	    sprite_spaceship16_color55 =	0
    577  10000 ????		00 00	    sprite_spaceship16_color54 =	0
    578  10000 ????		00 00	    sprite_spaceship16_color53 =	0
    579  10000 ????		00 00	    sprite_spaceship16_color52 =	0
    580  10000 ????		00 00	    sprite_spaceship16_color51 =	0
    581  10000 ????		00 00	    sprite_spaceship16_color50 =	0
    582  10000 ????		00 00	    sprite_spaceship16_color49 =	0
    583  10000 ????		00 00	    sprite_spaceship16_color48 =	0
    584  10000 ????		00 00	    sprite_spaceship16_color47 =	0
    585  10000 ????		00 00	    sprite_spaceship16_color46 =	0
    586  10000 ????		00 00	    sprite_spaceship16_color45 =	0
    587  10000 ????		00 00	    sprite_spaceship16_color44 =	0
    588  10000 ????		00 00	    sprite_spaceship16_color43 =	0
    589  10000 ????		00 00	    sprite_spaceship16_color42 =	0
    590  10000 ????		00 00	    sprite_spaceship16_color41 =	0
    591  10000 ????		00 00	    sprite_spaceship16_color40 =	0
    592  10000 ????		00 00	    sprite_spaceship16_color39 =	0
    593  10000 ????		00 00	    sprite_spaceship16_color38 =	0
    594  10000 ????		00 00	    sprite_spaceship16_color37 =	0
    595  10000 ????		00 00	    sprite_spaceship16_color36 =	0
    596  10000 ????		00 00	    sprite_spaceship16_color35 =	0
    597  10000 ????		00 00	    sprite_spaceship16_color34 =	0
    598  10000 ????		00 00	    sprite_spaceship16_color33 =	0
    599  10000 ????		00 00	    sprite_spaceship16_color32 =	0
    600  10000 ????		00 00	    sprite_spaceship16_color31 =	0
    601  10000 ????		00 00	    sprite_spaceship16_color30 =	0
    602  10000 ????		00 00	    sprite_spaceship16_color29 =	0
    603  10000 ????		00 00	    sprite_spaceship16_color28 =	0
    604  10000 ????		00 00	    sprite_spaceship16_color27 =	0
    605  10000 ????		00 00	    sprite_spaceship16_color26 =	0
    606  10000 ????		00 00	    sprite_spaceship16_color25 =	0
    607  10000 ????		00 00	    sprite_spaceship16_color24 =	0
    608  10000 ????		00 00	    sprite_spaceship16_color23 =	0
    609  10000 ????		00 00	    sprite_spaceship16_color22 =	0
    610  10000 ????		00 00	    sprite_spaceship16_color21 =	0
    611  10000 ????		00 00	    sprite_spaceship16_color20 =	0
    612  10000 ????		00 00	    sprite_spaceship16_color19 =	0
    613  10000 ????		00 00	    sprite_spaceship16_color18 =	0
    614  10000 ????		00 00	    sprite_spaceship16_color17 =	0
    615  10000 ????		00 00	    sprite_spaceship16_color16 =	0
    616  10000 ????		00 00	    sprite_spaceship16_color15 =	0
    617  10000 ????		00 00	    sprite_spaceship16_color14 =	0
    618  10000 ????		00 00	    sprite_spaceship16_color13 =	0
    619  10000 ????		00 00	    sprite_spaceship16_color12 =	0
    620  10000 ????		00 00	    sprite_spaceship16_color11 =	0
    621  10000 ????		00 00	    sprite_spaceship16_color10 =	0
    622  10000 ????		00 00	    sprite_spaceship16_color9 =	0
    623  10000 ????		00 00	    sprite_spaceship16_color8 =	0
    624  10000 ????		00 00	    sprite_spaceship16_color7 =	0
    625  10000 ????		00 00	    sprite_spaceship16_color6 =	0
    626  10000 ????		00 00	    sprite_spaceship16_color5 =	0
    627  10000 ????		00 00	    sprite_spaceship16_color4 =	0
    628  10000 ????		00 1e	    sprite_spaceship16_color3 =	$1e
    629  10000 ????		00 81	    sprite_spaceship16_color2 =	$81
    630  10000 ????		00 44	    sprite_spaceship16_color1 =	$44
    631  10000 ????		00 00	    sprite_spaceship16_color0 =	$00
    632  10000 ????		00 00	    sprite_spaceship15_color255 =	0
    633  10000 ????		00 00	    sprite_spaceship15_color254 =	0
    634  10000 ????		00 00	    sprite_spaceship15_color253 =	0
    635  10000 ????		00 00	    sprite_spaceship15_color252 =	0
    636  10000 ????		00 00	    sprite_spaceship15_color251 =	0
    637  10000 ????		00 00	    sprite_spaceship15_color250 =	0
    638  10000 ????		00 00	    sprite_spaceship15_color249 =	0
    639  10000 ????		00 00	    sprite_spaceship15_color248 =	0
    640  10000 ????		00 00	    sprite_spaceship15_color247 =	0
    641  10000 ????		00 00	    sprite_spaceship15_color246 =	0
    642  10000 ????		00 00	    sprite_spaceship15_color245 =	0
    643  10000 ????		00 00	    sprite_spaceship15_color244 =	0
    644  10000 ????		00 00	    sprite_spaceship15_color243 =	0
    645  10000 ????		00 00	    sprite_spaceship15_color242 =	0
    646  10000 ????		00 00	    sprite_spaceship15_color241 =	0
    647  10000 ????		00 00	    sprite_spaceship15_color240 =	0
    648  10000 ????		00 00	    sprite_spaceship15_color239 =	0
    649  10000 ????		00 00	    sprite_spaceship15_color238 =	0
    650  10000 ????		00 00	    sprite_spaceship15_color237 =	0
    651  10000 ????		00 00	    sprite_spaceship15_color236 =	0
    652  10000 ????		00 00	    sprite_spaceship15_color235 =	0
    653  10000 ????		00 00	    sprite_spaceship15_color234 =	0
    654  10000 ????		00 00	    sprite_spaceship15_color233 =	0
    655  10000 ????		00 00	    sprite_spaceship15_color232 =	0
    656  10000 ????		00 00	    sprite_spaceship15_color231 =	0
    657  10000 ????		00 00	    sprite_spaceship15_color230 =	0
    658  10000 ????		00 00	    sprite_spaceship15_color229 =	0
    659  10000 ????		00 00	    sprite_spaceship15_color228 =	0
    660  10000 ????		00 00	    sprite_spaceship15_color227 =	0
    661  10000 ????		00 00	    sprite_spaceship15_color226 =	0
    662  10000 ????		00 00	    sprite_spaceship15_color225 =	0
    663  10000 ????		00 00	    sprite_spaceship15_color224 =	0
    664  10000 ????		00 00	    sprite_spaceship15_color223 =	0
    665  10000 ????		00 00	    sprite_spaceship15_color222 =	0
    666  10000 ????		00 00	    sprite_spaceship15_color221 =	0
    667  10000 ????		00 00	    sprite_spaceship15_color220 =	0
    668  10000 ????		00 00	    sprite_spaceship15_color219 =	0
    669  10000 ????		00 00	    sprite_spaceship15_color218 =	0
    670  10000 ????		00 00	    sprite_spaceship15_color217 =	0
    671  10000 ????		00 00	    sprite_spaceship15_color216 =	0
    672  10000 ????		00 00	    sprite_spaceship15_color215 =	0
    673  10000 ????		00 00	    sprite_spaceship15_color214 =	0
    674  10000 ????		00 00	    sprite_spaceship15_color213 =	0
    675  10000 ????		00 00	    sprite_spaceship15_color212 =	0
    676  10000 ????		00 00	    sprite_spaceship15_color211 =	0
    677  10000 ????		00 00	    sprite_spaceship15_color210 =	0
    678  10000 ????		00 00	    sprite_spaceship15_color209 =	0
    679  10000 ????		00 00	    sprite_spaceship15_color208 =	0
    680  10000 ????		00 00	    sprite_spaceship15_color207 =	0
    681  10000 ????		00 00	    sprite_spaceship15_color206 =	0
    682  10000 ????		00 00	    sprite_spaceship15_color205 =	0
    683  10000 ????		00 00	    sprite_spaceship15_color204 =	0
    684  10000 ????		00 00	    sprite_spaceship15_color203 =	0
    685  10000 ????		00 00	    sprite_spaceship15_color202 =	0
    686  10000 ????		00 00	    sprite_spaceship15_color201 =	0
    687  10000 ????		00 00	    sprite_spaceship15_color200 =	0
    688  10000 ????		00 00	    sprite_spaceship15_color199 =	0
    689  10000 ????		00 00	    sprite_spaceship15_color198 =	0
    690  10000 ????		00 00	    sprite_spaceship15_color197 =	0
    691  10000 ????		00 00	    sprite_spaceship15_color196 =	0
    692  10000 ????		00 00	    sprite_spaceship15_color195 =	0
    693  10000 ????		00 00	    sprite_spaceship15_color194 =	0
    694  10000 ????		00 00	    sprite_spaceship15_color193 =	0
    695  10000 ????		00 00	    sprite_spaceship15_color192 =	0
    696  10000 ????		00 00	    sprite_spaceship15_color191 =	0
    697  10000 ????		00 00	    sprite_spaceship15_color190 =	0
    698  10000 ????		00 00	    sprite_spaceship15_color189 =	0
    699  10000 ????		00 00	    sprite_spaceship15_color188 =	0
    700  10000 ????		00 00	    sprite_spaceship15_color187 =	0
    701  10000 ????		00 00	    sprite_spaceship15_color186 =	0
    702  10000 ????		00 00	    sprite_spaceship15_color185 =	0
    703  10000 ????		00 00	    sprite_spaceship15_color184 =	0
    704  10000 ????		00 00	    sprite_spaceship15_color183 =	0
    705  10000 ????		00 00	    sprite_spaceship15_color182 =	0
    706  10000 ????		00 00	    sprite_spaceship15_color181 =	0
    707  10000 ????		00 00	    sprite_spaceship15_color180 =	0
    708  10000 ????		00 00	    sprite_spaceship15_color179 =	0
    709  10000 ????		00 00	    sprite_spaceship15_color178 =	0
    710  10000 ????		00 00	    sprite_spaceship15_color177 =	0
    711  10000 ????		00 00	    sprite_spaceship15_color176 =	0
    712  10000 ????		00 00	    sprite_spaceship15_color175 =	0
    713  10000 ????		00 00	    sprite_spaceship15_color174 =	0
    714  10000 ????		00 00	    sprite_spaceship15_color173 =	0
    715  10000 ????		00 00	    sprite_spaceship15_color172 =	0
    716  10000 ????		00 00	    sprite_spaceship15_color171 =	0
    717  10000 ????		00 00	    sprite_spaceship15_color170 =	0
    718  10000 ????		00 00	    sprite_spaceship15_color169 =	0
    719  10000 ????		00 00	    sprite_spaceship15_color168 =	0
    720  10000 ????		00 00	    sprite_spaceship15_color167 =	0
    721  10000 ????		00 00	    sprite_spaceship15_color166 =	0
    722  10000 ????		00 00	    sprite_spaceship15_color165 =	0
    723  10000 ????		00 00	    sprite_spaceship15_color164 =	0
    724  10000 ????		00 00	    sprite_spaceship15_color163 =	0
    725  10000 ????		00 00	    sprite_spaceship15_color162 =	0
    726  10000 ????		00 00	    sprite_spaceship15_color161 =	0
    727  10000 ????		00 00	    sprite_spaceship15_color160 =	0
    728  10000 ????		00 00	    sprite_spaceship15_color159 =	0
    729  10000 ????		00 00	    sprite_spaceship15_color158 =	0
    730  10000 ????		00 00	    sprite_spaceship15_color157 =	0
    731  10000 ????		00 00	    sprite_spaceship15_color156 =	0
    732  10000 ????		00 00	    sprite_spaceship15_color155 =	0
    733  10000 ????		00 00	    sprite_spaceship15_color154 =	0
    734  10000 ????		00 00	    sprite_spaceship15_color153 =	0
    735  10000 ????		00 00	    sprite_spaceship15_color152 =	0
    736  10000 ????		00 00	    sprite_spaceship15_color151 =	0
    737  10000 ????		00 00	    sprite_spaceship15_color150 =	0
    738  10000 ????		00 00	    sprite_spaceship15_color149 =	0
    739  10000 ????		00 00	    sprite_spaceship15_color148 =	0
    740  10000 ????		00 00	    sprite_spaceship15_color147 =	0
    741  10000 ????		00 00	    sprite_spaceship15_color146 =	0
    742  10000 ????		00 00	    sprite_spaceship15_color145 =	0
    743  10000 ????		00 00	    sprite_spaceship15_color144 =	0
    744  10000 ????		00 00	    sprite_spaceship15_color143 =	0
    745  10000 ????		00 00	    sprite_spaceship15_color142 =	0
    746  10000 ????		00 00	    sprite_spaceship15_color141 =	0
    747  10000 ????		00 00	    sprite_spaceship15_color140 =	0
    748  10000 ????		00 00	    sprite_spaceship15_color139 =	0
    749  10000 ????		00 00	    sprite_spaceship15_color138 =	0
    750  10000 ????		00 00	    sprite_spaceship15_color137 =	0
    751  10000 ????		00 00	    sprite_spaceship15_color136 =	0
    752  10000 ????		00 00	    sprite_spaceship15_color135 =	0
    753  10000 ????		00 00	    sprite_spaceship15_color134 =	0
    754  10000 ????		00 00	    sprite_spaceship15_color133 =	0
    755  10000 ????		00 00	    sprite_spaceship15_color132 =	0
    756  10000 ????		00 00	    sprite_spaceship15_color131 =	0
    757  10000 ????		00 00	    sprite_spaceship15_color130 =	0
    758  10000 ????		00 00	    sprite_spaceship15_color129 =	0
    759  10000 ????		00 00	    sprite_spaceship15_color128 =	0
    760  10000 ????		00 00	    sprite_spaceship15_color127 =	0
    761  10000 ????		00 00	    sprite_spaceship15_color126 =	0
    762  10000 ????		00 00	    sprite_spaceship15_color125 =	0
    763  10000 ????		00 00	    sprite_spaceship15_color124 =	0
    764  10000 ????		00 00	    sprite_spaceship15_color123 =	0
    765  10000 ????		00 00	    sprite_spaceship15_color122 =	0
    766  10000 ????		00 00	    sprite_spaceship15_color121 =	0
    767  10000 ????		00 00	    sprite_spaceship15_color120 =	0
    768  10000 ????		00 00	    sprite_spaceship15_color119 =	0
    769  10000 ????		00 00	    sprite_spaceship15_color118 =	0
    770  10000 ????		00 00	    sprite_spaceship15_color117 =	0
    771  10000 ????		00 00	    sprite_spaceship15_color116 =	0
    772  10000 ????		00 00	    sprite_spaceship15_color115 =	0
    773  10000 ????		00 00	    sprite_spaceship15_color114 =	0
    774  10000 ????		00 00	    sprite_spaceship15_color113 =	0
    775  10000 ????		00 00	    sprite_spaceship15_color112 =	0
    776  10000 ????		00 00	    sprite_spaceship15_color111 =	0
    777  10000 ????		00 00	    sprite_spaceship15_color110 =	0
    778  10000 ????		00 00	    sprite_spaceship15_color109 =	0
    779  10000 ????		00 00	    sprite_spaceship15_color108 =	0
    780  10000 ????		00 00	    sprite_spaceship15_color107 =	0
    781  10000 ????		00 00	    sprite_spaceship15_color106 =	0
    782  10000 ????		00 00	    sprite_spaceship15_color105 =	0
    783  10000 ????		00 00	    sprite_spaceship15_color104 =	0
    784  10000 ????		00 00	    sprite_spaceship15_color103 =	0
    785  10000 ????		00 00	    sprite_spaceship15_color102 =	0
    786  10000 ????		00 00	    sprite_spaceship15_color101 =	0
    787  10000 ????		00 00	    sprite_spaceship15_color100 =	0
    788  10000 ????		00 00	    sprite_spaceship15_color99 =	0
    789  10000 ????		00 00	    sprite_spaceship15_color98 =	0
    790  10000 ????		00 00	    sprite_spaceship15_color97 =	0
    791  10000 ????		00 00	    sprite_spaceship15_color96 =	0
    792  10000 ????		00 00	    sprite_spaceship15_color95 =	0
    793  10000 ????		00 00	    sprite_spaceship15_color94 =	0
    794  10000 ????		00 00	    sprite_spaceship15_color93 =	0
    795  10000 ????		00 00	    sprite_spaceship15_color92 =	0
    796  10000 ????		00 00	    sprite_spaceship15_color91 =	0
    797  10000 ????		00 00	    sprite_spaceship15_color90 =	0
    798  10000 ????		00 00	    sprite_spaceship15_color89 =	0
    799  10000 ????		00 00	    sprite_spaceship15_color88 =	0
    800  10000 ????		00 00	    sprite_spaceship15_color87 =	0
    801  10000 ????		00 00	    sprite_spaceship15_color86 =	0
    802  10000 ????		00 00	    sprite_spaceship15_color85 =	0
    803  10000 ????		00 00	    sprite_spaceship15_color84 =	0
    804  10000 ????		00 00	    sprite_spaceship15_color83 =	0
    805  10000 ????		00 00	    sprite_spaceship15_color82 =	0
    806  10000 ????		00 00	    sprite_spaceship15_color81 =	0
    807  10000 ????		00 00	    sprite_spaceship15_color80 =	0
    808  10000 ????		00 00	    sprite_spaceship15_color79 =	0
    809  10000 ????		00 00	    sprite_spaceship15_color78 =	0
    810  10000 ????		00 00	    sprite_spaceship15_color77 =	0
    811  10000 ????		00 00	    sprite_spaceship15_color76 =	0
    812  10000 ????		00 00	    sprite_spaceship15_color75 =	0
    813  10000 ????		00 00	    sprite_spaceship15_color74 =	0
    814  10000 ????		00 00	    sprite_spaceship15_color73 =	0
    815  10000 ????		00 00	    sprite_spaceship15_color72 =	0
    816  10000 ????		00 00	    sprite_spaceship15_color71 =	0
    817  10000 ????		00 00	    sprite_spaceship15_color70 =	0
    818  10000 ????		00 00	    sprite_spaceship15_color69 =	0
    819  10000 ????		00 00	    sprite_spaceship15_color68 =	0
    820  10000 ????		00 00	    sprite_spaceship15_color67 =	0
    821  10000 ????		00 00	    sprite_spaceship15_color66 =	0
    822  10000 ????		00 00	    sprite_spaceship15_color65 =	0
    823  10000 ????		00 00	    sprite_spaceship15_color64 =	0
    824  10000 ????		00 00	    sprite_spaceship15_color63 =	0
    825  10000 ????		00 00	    sprite_spaceship15_color62 =	0
    826  10000 ????		00 00	    sprite_spaceship15_color61 =	0
    827  10000 ????		00 00	    sprite_spaceship15_color60 =	0
    828  10000 ????		00 00	    sprite_spaceship15_color59 =	0
    829  10000 ????		00 00	    sprite_spaceship15_color58 =	0
    830  10000 ????		00 00	    sprite_spaceship15_color57 =	0
    831  10000 ????		00 00	    sprite_spaceship15_color56 =	0
    832  10000 ????		00 00	    sprite_spaceship15_color55 =	0
    833  10000 ????		00 00	    sprite_spaceship15_color54 =	0
    834  10000 ????		00 00	    sprite_spaceship15_color53 =	0
    835  10000 ????		00 00	    sprite_spaceship15_color52 =	0
    836  10000 ????		00 00	    sprite_spaceship15_color51 =	0
    837  10000 ????		00 00	    sprite_spaceship15_color50 =	0
    838  10000 ????		00 00	    sprite_spaceship15_color49 =	0
    839  10000 ????		00 00	    sprite_spaceship15_color48 =	0
    840  10000 ????		00 00	    sprite_spaceship15_color47 =	0
    841  10000 ????		00 00	    sprite_spaceship15_color46 =	0
    842  10000 ????		00 00	    sprite_spaceship15_color45 =	0
    843  10000 ????		00 00	    sprite_spaceship15_color44 =	0
    844  10000 ????		00 00	    sprite_spaceship15_color43 =	0
    845  10000 ????		00 00	    sprite_spaceship15_color42 =	0
    846  10000 ????		00 00	    sprite_spaceship15_color41 =	0
    847  10000 ????		00 00	    sprite_spaceship15_color40 =	0
    848  10000 ????		00 00	    sprite_spaceship15_color39 =	0
    849  10000 ????		00 00	    sprite_spaceship15_color38 =	0
    850  10000 ????		00 00	    sprite_spaceship15_color37 =	0
    851  10000 ????		00 00	    sprite_spaceship15_color36 =	0
    852  10000 ????		00 00	    sprite_spaceship15_color35 =	0
    853  10000 ????		00 00	    sprite_spaceship15_color34 =	0
    854  10000 ????		00 00	    sprite_spaceship15_color33 =	0
    855  10000 ????		00 00	    sprite_spaceship15_color32 =	0
    856  10000 ????		00 00	    sprite_spaceship15_color31 =	0
    857  10000 ????		00 00	    sprite_spaceship15_color30 =	0
    858  10000 ????		00 00	    sprite_spaceship15_color29 =	0
    859  10000 ????		00 00	    sprite_spaceship15_color28 =	0
    860  10000 ????		00 00	    sprite_spaceship15_color27 =	0
    861  10000 ????		00 00	    sprite_spaceship15_color26 =	0
    862  10000 ????		00 00	    sprite_spaceship15_color25 =	0
    863  10000 ????		00 00	    sprite_spaceship15_color24 =	0
    864  10000 ????		00 00	    sprite_spaceship15_color23 =	0
    865  10000 ????		00 00	    sprite_spaceship15_color22 =	0
    866  10000 ????		00 00	    sprite_spaceship15_color21 =	0
    867  10000 ????		00 00	    sprite_spaceship15_color20 =	0
    868  10000 ????		00 00	    sprite_spaceship15_color19 =	0
    869  10000 ????		00 00	    sprite_spaceship15_color18 =	0
    870  10000 ????		00 00	    sprite_spaceship15_color17 =	0
    871  10000 ????		00 00	    sprite_spaceship15_color16 =	0
    872  10000 ????		00 00	    sprite_spaceship15_color15 =	0
    873  10000 ????		00 00	    sprite_spaceship15_color14 =	0
    874  10000 ????		00 00	    sprite_spaceship15_color13 =	0
    875  10000 ????		00 00	    sprite_spaceship15_color12 =	0
    876  10000 ????		00 00	    sprite_spaceship15_color11 =	0
    877  10000 ????		00 00	    sprite_spaceship15_color10 =	0
    878  10000 ????		00 00	    sprite_spaceship15_color9 =	0
    879  10000 ????		00 00	    sprite_spaceship15_color8 =	0
    880  10000 ????		00 00	    sprite_spaceship15_color7 =	0
    881  10000 ????		00 00	    sprite_spaceship15_color6 =	0
    882  10000 ????		00 00	    sprite_spaceship15_color5 =	0
    883  10000 ????		00 00	    sprite_spaceship15_color4 =	0
    884  10000 ????		00 1e	    sprite_spaceship15_color3 =	$1e
    885  10000 ????		00 81	    sprite_spaceship15_color2 =	$81
    886  10000 ????		00 44	    sprite_spaceship15_color1 =	$44
    887  10000 ????		00 00	    sprite_spaceship15_color0 =	$00
    888  10000 ????		00 00	    sprite_spaceship14_color255 =	0
    889  10000 ????		00 00	    sprite_spaceship14_color254 =	0
    890  10000 ????		00 00	    sprite_spaceship14_color253 =	0
    891  10000 ????		00 00	    sprite_spaceship14_color252 =	0
    892  10000 ????		00 00	    sprite_spaceship14_color251 =	0
    893  10000 ????		00 00	    sprite_spaceship14_color250 =	0
    894  10000 ????		00 00	    sprite_spaceship14_color249 =	0
    895  10000 ????		00 00	    sprite_spaceship14_color248 =	0
    896  10000 ????		00 00	    sprite_spaceship14_color247 =	0
    897  10000 ????		00 00	    sprite_spaceship14_color246 =	0
    898  10000 ????		00 00	    sprite_spaceship14_color245 =	0
    899  10000 ????		00 00	    sprite_spaceship14_color244 =	0
    900  10000 ????		00 00	    sprite_spaceship14_color243 =	0
    901  10000 ????		00 00	    sprite_spaceship14_color242 =	0
    902  10000 ????		00 00	    sprite_spaceship14_color241 =	0
    903  10000 ????		00 00	    sprite_spaceship14_color240 =	0
    904  10000 ????		00 00	    sprite_spaceship14_color239 =	0
    905  10000 ????		00 00	    sprite_spaceship14_color238 =	0
    906  10000 ????		00 00	    sprite_spaceship14_color237 =	0
    907  10000 ????		00 00	    sprite_spaceship14_color236 =	0
    908  10000 ????		00 00	    sprite_spaceship14_color235 =	0
    909  10000 ????		00 00	    sprite_spaceship14_color234 =	0
    910  10000 ????		00 00	    sprite_spaceship14_color233 =	0
    911  10000 ????		00 00	    sprite_spaceship14_color232 =	0
    912  10000 ????		00 00	    sprite_spaceship14_color231 =	0
    913  10000 ????		00 00	    sprite_spaceship14_color230 =	0
    914  10000 ????		00 00	    sprite_spaceship14_color229 =	0
    915  10000 ????		00 00	    sprite_spaceship14_color228 =	0
    916  10000 ????		00 00	    sprite_spaceship14_color227 =	0
    917  10000 ????		00 00	    sprite_spaceship14_color226 =	0
    918  10000 ????		00 00	    sprite_spaceship14_color225 =	0
    919  10000 ????		00 00	    sprite_spaceship14_color224 =	0
    920  10000 ????		00 00	    sprite_spaceship14_color223 =	0
    921  10000 ????		00 00	    sprite_spaceship14_color222 =	0
    922  10000 ????		00 00	    sprite_spaceship14_color221 =	0
    923  10000 ????		00 00	    sprite_spaceship14_color220 =	0
    924  10000 ????		00 00	    sprite_spaceship14_color219 =	0
    925  10000 ????		00 00	    sprite_spaceship14_color218 =	0
    926  10000 ????		00 00	    sprite_spaceship14_color217 =	0
    927  10000 ????		00 00	    sprite_spaceship14_color216 =	0
    928  10000 ????		00 00	    sprite_spaceship14_color215 =	0
    929  10000 ????		00 00	    sprite_spaceship14_color214 =	0
    930  10000 ????		00 00	    sprite_spaceship14_color213 =	0
    931  10000 ????		00 00	    sprite_spaceship14_color212 =	0
    932  10000 ????		00 00	    sprite_spaceship14_color211 =	0
    933  10000 ????		00 00	    sprite_spaceship14_color210 =	0
    934  10000 ????		00 00	    sprite_spaceship14_color209 =	0
    935  10000 ????		00 00	    sprite_spaceship14_color208 =	0
    936  10000 ????		00 00	    sprite_spaceship14_color207 =	0
    937  10000 ????		00 00	    sprite_spaceship14_color206 =	0
    938  10000 ????		00 00	    sprite_spaceship14_color205 =	0
    939  10000 ????		00 00	    sprite_spaceship14_color204 =	0
    940  10000 ????		00 00	    sprite_spaceship14_color203 =	0
    941  10000 ????		00 00	    sprite_spaceship14_color202 =	0
    942  10000 ????		00 00	    sprite_spaceship14_color201 =	0
    943  10000 ????		00 00	    sprite_spaceship14_color200 =	0
    944  10000 ????		00 00	    sprite_spaceship14_color199 =	0
    945  10000 ????		00 00	    sprite_spaceship14_color198 =	0
    946  10000 ????		00 00	    sprite_spaceship14_color197 =	0
    947  10000 ????		00 00	    sprite_spaceship14_color196 =	0
    948  10000 ????		00 00	    sprite_spaceship14_color195 =	0
    949  10000 ????		00 00	    sprite_spaceship14_color194 =	0
    950  10000 ????		00 00	    sprite_spaceship14_color193 =	0
    951  10000 ????		00 00	    sprite_spaceship14_color192 =	0
    952  10000 ????		00 00	    sprite_spaceship14_color191 =	0
    953  10000 ????		00 00	    sprite_spaceship14_color190 =	0
    954  10000 ????		00 00	    sprite_spaceship14_color189 =	0
    955  10000 ????		00 00	    sprite_spaceship14_color188 =	0
    956  10000 ????		00 00	    sprite_spaceship14_color187 =	0
    957  10000 ????		00 00	    sprite_spaceship14_color186 =	0
    958  10000 ????		00 00	    sprite_spaceship14_color185 =	0
    959  10000 ????		00 00	    sprite_spaceship14_color184 =	0
    960  10000 ????		00 00	    sprite_spaceship14_color183 =	0
    961  10000 ????		00 00	    sprite_spaceship14_color182 =	0
    962  10000 ????		00 00	    sprite_spaceship14_color181 =	0
    963  10000 ????		00 00	    sprite_spaceship14_color180 =	0
    964  10000 ????		00 00	    sprite_spaceship14_color179 =	0
    965  10000 ????		00 00	    sprite_spaceship14_color178 =	0
    966  10000 ????		00 00	    sprite_spaceship14_color177 =	0
    967  10000 ????		00 00	    sprite_spaceship14_color176 =	0
    968  10000 ????		00 00	    sprite_spaceship14_color175 =	0
    969  10000 ????		00 00	    sprite_spaceship14_color174 =	0
    970  10000 ????		00 00	    sprite_spaceship14_color173 =	0
    971  10000 ????		00 00	    sprite_spaceship14_color172 =	0
    972  10000 ????		00 00	    sprite_spaceship14_color171 =	0
    973  10000 ????		00 00	    sprite_spaceship14_color170 =	0
    974  10000 ????		00 00	    sprite_spaceship14_color169 =	0
    975  10000 ????		00 00	    sprite_spaceship14_color168 =	0
    976  10000 ????		00 00	    sprite_spaceship14_color167 =	0
    977  10000 ????		00 00	    sprite_spaceship14_color166 =	0
    978  10000 ????		00 00	    sprite_spaceship14_color165 =	0
    979  10000 ????		00 00	    sprite_spaceship14_color164 =	0
    980  10000 ????		00 00	    sprite_spaceship14_color163 =	0
    981  10000 ????		00 00	    sprite_spaceship14_color162 =	0
    982  10000 ????		00 00	    sprite_spaceship14_color161 =	0
    983  10000 ????		00 00	    sprite_spaceship14_color160 =	0
    984  10000 ????		00 00	    sprite_spaceship14_color159 =	0
    985  10000 ????		00 00	    sprite_spaceship14_color158 =	0
    986  10000 ????		00 00	    sprite_spaceship14_color157 =	0
    987  10000 ????		00 00	    sprite_spaceship14_color156 =	0
    988  10000 ????		00 00	    sprite_spaceship14_color155 =	0
    989  10000 ????		00 00	    sprite_spaceship14_color154 =	0
    990  10000 ????		00 00	    sprite_spaceship14_color153 =	0
    991  10000 ????		00 00	    sprite_spaceship14_color152 =	0
    992  10000 ????		00 00	    sprite_spaceship14_color151 =	0
    993  10000 ????		00 00	    sprite_spaceship14_color150 =	0
    994  10000 ????		00 00	    sprite_spaceship14_color149 =	0
    995  10000 ????		00 00	    sprite_spaceship14_color148 =	0
    996  10000 ????		00 00	    sprite_spaceship14_color147 =	0
    997  10000 ????		00 00	    sprite_spaceship14_color146 =	0
    998  10000 ????		00 00	    sprite_spaceship14_color145 =	0
    999  10000 ????		00 00	    sprite_spaceship14_color144 =	0
   1000  10000 ????		00 00	    sprite_spaceship14_color143 =	0
   1001  10000 ????		00 00	    sprite_spaceship14_color142 =	0
   1002  10000 ????		00 00	    sprite_spaceship14_color141 =	0
   1003  10000 ????		00 00	    sprite_spaceship14_color140 =	0
   1004  10000 ????		00 00	    sprite_spaceship14_color139 =	0
   1005  10000 ????		00 00	    sprite_spaceship14_color138 =	0
   1006  10000 ????		00 00	    sprite_spaceship14_color137 =	0
   1007  10000 ????		00 00	    sprite_spaceship14_color136 =	0
   1008  10000 ????		00 00	    sprite_spaceship14_color135 =	0
   1009  10000 ????		00 00	    sprite_spaceship14_color134 =	0
   1010  10000 ????		00 00	    sprite_spaceship14_color133 =	0
   1011  10000 ????		00 00	    sprite_spaceship14_color132 =	0
   1012  10000 ????		00 00	    sprite_spaceship14_color131 =	0
   1013  10000 ????		00 00	    sprite_spaceship14_color130 =	0
   1014  10000 ????		00 00	    sprite_spaceship14_color129 =	0
   1015  10000 ????		00 00	    sprite_spaceship14_color128 =	0
   1016  10000 ????		00 00	    sprite_spaceship14_color127 =	0
   1017  10000 ????		00 00	    sprite_spaceship14_color126 =	0
   1018  10000 ????		00 00	    sprite_spaceship14_color125 =	0
   1019  10000 ????		00 00	    sprite_spaceship14_color124 =	0
   1020  10000 ????		00 00	    sprite_spaceship14_color123 =	0
   1021  10000 ????		00 00	    sprite_spaceship14_color122 =	0
   1022  10000 ????		00 00	    sprite_spaceship14_color121 =	0
   1023  10000 ????		00 00	    sprite_spaceship14_color120 =	0
   1024  10000 ????		00 00	    sprite_spaceship14_color119 =	0
   1025  10000 ????		00 00	    sprite_spaceship14_color118 =	0
   1026  10000 ????		00 00	    sprite_spaceship14_color117 =	0
   1027  10000 ????		00 00	    sprite_spaceship14_color116 =	0
   1028  10000 ????		00 00	    sprite_spaceship14_color115 =	0
   1029  10000 ????		00 00	    sprite_spaceship14_color114 =	0
   1030  10000 ????		00 00	    sprite_spaceship14_color113 =	0
   1031  10000 ????		00 00	    sprite_spaceship14_color112 =	0
   1032  10000 ????		00 00	    sprite_spaceship14_color111 =	0
   1033  10000 ????		00 00	    sprite_spaceship14_color110 =	0
   1034  10000 ????		00 00	    sprite_spaceship14_color109 =	0
   1035  10000 ????		00 00	    sprite_spaceship14_color108 =	0
   1036  10000 ????		00 00	    sprite_spaceship14_color107 =	0
   1037  10000 ????		00 00	    sprite_spaceship14_color106 =	0
   1038  10000 ????		00 00	    sprite_spaceship14_color105 =	0
   1039  10000 ????		00 00	    sprite_spaceship14_color104 =	0
   1040  10000 ????		00 00	    sprite_spaceship14_color103 =	0
   1041  10000 ????		00 00	    sprite_spaceship14_color102 =	0
   1042  10000 ????		00 00	    sprite_spaceship14_color101 =	0
   1043  10000 ????		00 00	    sprite_spaceship14_color100 =	0
   1044  10000 ????		00 00	    sprite_spaceship14_color99 =	0
   1045  10000 ????		00 00	    sprite_spaceship14_color98 =	0
   1046  10000 ????		00 00	    sprite_spaceship14_color97 =	0
   1047  10000 ????		00 00	    sprite_spaceship14_color96 =	0
   1048  10000 ????		00 00	    sprite_spaceship14_color95 =	0
   1049  10000 ????		00 00	    sprite_spaceship14_color94 =	0
   1050  10000 ????		00 00	    sprite_spaceship14_color93 =	0
   1051  10000 ????		00 00	    sprite_spaceship14_color92 =	0
   1052  10000 ????		00 00	    sprite_spaceship14_color91 =	0
   1053  10000 ????		00 00	    sprite_spaceship14_color90 =	0
   1054  10000 ????		00 00	    sprite_spaceship14_color89 =	0
   1055  10000 ????		00 00	    sprite_spaceship14_color88 =	0
   1056  10000 ????		00 00	    sprite_spaceship14_color87 =	0
   1057  10000 ????		00 00	    sprite_spaceship14_color86 =	0
   1058  10000 ????		00 00	    sprite_spaceship14_color85 =	0
   1059  10000 ????		00 00	    sprite_spaceship14_color84 =	0
   1060  10000 ????		00 00	    sprite_spaceship14_color83 =	0
   1061  10000 ????		00 00	    sprite_spaceship14_color82 =	0
   1062  10000 ????		00 00	    sprite_spaceship14_color81 =	0
   1063  10000 ????		00 00	    sprite_spaceship14_color80 =	0
   1064  10000 ????		00 00	    sprite_spaceship14_color79 =	0
   1065  10000 ????		00 00	    sprite_spaceship14_color78 =	0
   1066  10000 ????		00 00	    sprite_spaceship14_color77 =	0
   1067  10000 ????		00 00	    sprite_spaceship14_color76 =	0
   1068  10000 ????		00 00	    sprite_spaceship14_color75 =	0
   1069  10000 ????		00 00	    sprite_spaceship14_color74 =	0
   1070  10000 ????		00 00	    sprite_spaceship14_color73 =	0
   1071  10000 ????		00 00	    sprite_spaceship14_color72 =	0
   1072  10000 ????		00 00	    sprite_spaceship14_color71 =	0
   1073  10000 ????		00 00	    sprite_spaceship14_color70 =	0
   1074  10000 ????		00 00	    sprite_spaceship14_color69 =	0
   1075  10000 ????		00 00	    sprite_spaceship14_color68 =	0
   1076  10000 ????		00 00	    sprite_spaceship14_color67 =	0
   1077  10000 ????		00 00	    sprite_spaceship14_color66 =	0
   1078  10000 ????		00 00	    sprite_spaceship14_color65 =	0
   1079  10000 ????		00 00	    sprite_spaceship14_color64 =	0
   1080  10000 ????		00 00	    sprite_spaceship14_color63 =	0
   1081  10000 ????		00 00	    sprite_spaceship14_color62 =	0
   1082  10000 ????		00 00	    sprite_spaceship14_color61 =	0
   1083  10000 ????		00 00	    sprite_spaceship14_color60 =	0
   1084  10000 ????		00 00	    sprite_spaceship14_color59 =	0
   1085  10000 ????		00 00	    sprite_spaceship14_color58 =	0
   1086  10000 ????		00 00	    sprite_spaceship14_color57 =	0
   1087  10000 ????		00 00	    sprite_spaceship14_color56 =	0
   1088  10000 ????		00 00	    sprite_spaceship14_color55 =	0
   1089  10000 ????		00 00	    sprite_spaceship14_color54 =	0
   1090  10000 ????		00 00	    sprite_spaceship14_color53 =	0
   1091  10000 ????		00 00	    sprite_spaceship14_color52 =	0
   1092  10000 ????		00 00	    sprite_spaceship14_color51 =	0
   1093  10000 ????		00 00	    sprite_spaceship14_color50 =	0
   1094  10000 ????		00 00	    sprite_spaceship14_color49 =	0
   1095  10000 ????		00 00	    sprite_spaceship14_color48 =	0
   1096  10000 ????		00 00	    sprite_spaceship14_color47 =	0
   1097  10000 ????		00 00	    sprite_spaceship14_color46 =	0
   1098  10000 ????		00 00	    sprite_spaceship14_color45 =	0
   1099  10000 ????		00 00	    sprite_spaceship14_color44 =	0
   1100  10000 ????		00 00	    sprite_spaceship14_color43 =	0
   1101  10000 ????		00 00	    sprite_spaceship14_color42 =	0
   1102  10000 ????		00 00	    sprite_spaceship14_color41 =	0
   1103  10000 ????		00 00	    sprite_spaceship14_color40 =	0
   1104  10000 ????		00 00	    sprite_spaceship14_color39 =	0
   1105  10000 ????		00 00	    sprite_spaceship14_color38 =	0
   1106  10000 ????		00 00	    sprite_spaceship14_color37 =	0
   1107  10000 ????		00 00	    sprite_spaceship14_color36 =	0
   1108  10000 ????		00 00	    sprite_spaceship14_color35 =	0
   1109  10000 ????		00 00	    sprite_spaceship14_color34 =	0
   1110  10000 ????		00 00	    sprite_spaceship14_color33 =	0
   1111  10000 ????		00 00	    sprite_spaceship14_color32 =	0
   1112  10000 ????		00 00	    sprite_spaceship14_color31 =	0
   1113  10000 ????		00 00	    sprite_spaceship14_color30 =	0
   1114  10000 ????		00 00	    sprite_spaceship14_color29 =	0
   1115  10000 ????		00 00	    sprite_spaceship14_color28 =	0
   1116  10000 ????		00 00	    sprite_spaceship14_color27 =	0
   1117  10000 ????		00 00	    sprite_spaceship14_color26 =	0
   1118  10000 ????		00 00	    sprite_spaceship14_color25 =	0
   1119  10000 ????		00 00	    sprite_spaceship14_color24 =	0
   1120  10000 ????		00 00	    sprite_spaceship14_color23 =	0
   1121  10000 ????		00 00	    sprite_spaceship14_color22 =	0
   1122  10000 ????		00 00	    sprite_spaceship14_color21 =	0
   1123  10000 ????		00 00	    sprite_spaceship14_color20 =	0
   1124  10000 ????		00 00	    sprite_spaceship14_color19 =	0
   1125  10000 ????		00 00	    sprite_spaceship14_color18 =	0
   1126  10000 ????		00 00	    sprite_spaceship14_color17 =	0
   1127  10000 ????		00 00	    sprite_spaceship14_color16 =	0
   1128  10000 ????		00 00	    sprite_spaceship14_color15 =	0
   1129  10000 ????		00 00	    sprite_spaceship14_color14 =	0
   1130  10000 ????		00 00	    sprite_spaceship14_color13 =	0
   1131  10000 ????		00 00	    sprite_spaceship14_color12 =	0
   1132  10000 ????		00 00	    sprite_spaceship14_color11 =	0
   1133  10000 ????		00 00	    sprite_spaceship14_color10 =	0
   1134  10000 ????		00 00	    sprite_spaceship14_color9 =	0
   1135  10000 ????		00 00	    sprite_spaceship14_color8 =	0
   1136  10000 ????		00 00	    sprite_spaceship14_color7 =	0
   1137  10000 ????		00 00	    sprite_spaceship14_color6 =	0
   1138  10000 ????		00 00	    sprite_spaceship14_color5 =	0
   1139  10000 ????		00 00	    sprite_spaceship14_color4 =	0
   1140  10000 ????		00 1e	    sprite_spaceship14_color3 =	$1e
   1141  10000 ????		00 81	    sprite_spaceship14_color2 =	$81
   1142  10000 ????		00 44	    sprite_spaceship14_color1 =	$44
   1143  10000 ????		00 00	    sprite_spaceship14_color0 =	$00
   1144  10000 ????		00 00	    sprite_spaceship13_color255 =	0
   1145  10000 ????		00 00	    sprite_spaceship13_color254 =	0
   1146  10000 ????		00 00	    sprite_spaceship13_color253 =	0
   1147  10000 ????		00 00	    sprite_spaceship13_color252 =	0
   1148  10000 ????		00 00	    sprite_spaceship13_color251 =	0
   1149  10000 ????		00 00	    sprite_spaceship13_color250 =	0
   1150  10000 ????		00 00	    sprite_spaceship13_color249 =	0
   1151  10000 ????		00 00	    sprite_spaceship13_color248 =	0
   1152  10000 ????		00 00	    sprite_spaceship13_color247 =	0
   1153  10000 ????		00 00	    sprite_spaceship13_color246 =	0
   1154  10000 ????		00 00	    sprite_spaceship13_color245 =	0
   1155  10000 ????		00 00	    sprite_spaceship13_color244 =	0
   1156  10000 ????		00 00	    sprite_spaceship13_color243 =	0
   1157  10000 ????		00 00	    sprite_spaceship13_color242 =	0
   1158  10000 ????		00 00	    sprite_spaceship13_color241 =	0
   1159  10000 ????		00 00	    sprite_spaceship13_color240 =	0
   1160  10000 ????		00 00	    sprite_spaceship13_color239 =	0
   1161  10000 ????		00 00	    sprite_spaceship13_color238 =	0
   1162  10000 ????		00 00	    sprite_spaceship13_color237 =	0
   1163  10000 ????		00 00	    sprite_spaceship13_color236 =	0
   1164  10000 ????		00 00	    sprite_spaceship13_color235 =	0
   1165  10000 ????		00 00	    sprite_spaceship13_color234 =	0
   1166  10000 ????		00 00	    sprite_spaceship13_color233 =	0
   1167  10000 ????		00 00	    sprite_spaceship13_color232 =	0
   1168  10000 ????		00 00	    sprite_spaceship13_color231 =	0
   1169  10000 ????		00 00	    sprite_spaceship13_color230 =	0
   1170  10000 ????		00 00	    sprite_spaceship13_color229 =	0
   1171  10000 ????		00 00	    sprite_spaceship13_color228 =	0
   1172  10000 ????		00 00	    sprite_spaceship13_color227 =	0
   1173  10000 ????		00 00	    sprite_spaceship13_color226 =	0
   1174  10000 ????		00 00	    sprite_spaceship13_color225 =	0
   1175  10000 ????		00 00	    sprite_spaceship13_color224 =	0
   1176  10000 ????		00 00	    sprite_spaceship13_color223 =	0
   1177  10000 ????		00 00	    sprite_spaceship13_color222 =	0
   1178  10000 ????		00 00	    sprite_spaceship13_color221 =	0
   1179  10000 ????		00 00	    sprite_spaceship13_color220 =	0
   1180  10000 ????		00 00	    sprite_spaceship13_color219 =	0
   1181  10000 ????		00 00	    sprite_spaceship13_color218 =	0
   1182  10000 ????		00 00	    sprite_spaceship13_color217 =	0
   1183  10000 ????		00 00	    sprite_spaceship13_color216 =	0
   1184  10000 ????		00 00	    sprite_spaceship13_color215 =	0
   1185  10000 ????		00 00	    sprite_spaceship13_color214 =	0
   1186  10000 ????		00 00	    sprite_spaceship13_color213 =	0
   1187  10000 ????		00 00	    sprite_spaceship13_color212 =	0
   1188  10000 ????		00 00	    sprite_spaceship13_color211 =	0
   1189  10000 ????		00 00	    sprite_spaceship13_color210 =	0
   1190  10000 ????		00 00	    sprite_spaceship13_color209 =	0
   1191  10000 ????		00 00	    sprite_spaceship13_color208 =	0
   1192  10000 ????		00 00	    sprite_spaceship13_color207 =	0
   1193  10000 ????		00 00	    sprite_spaceship13_color206 =	0
   1194  10000 ????		00 00	    sprite_spaceship13_color205 =	0
   1195  10000 ????		00 00	    sprite_spaceship13_color204 =	0
   1196  10000 ????		00 00	    sprite_spaceship13_color203 =	0
   1197  10000 ????		00 00	    sprite_spaceship13_color202 =	0
   1198  10000 ????		00 00	    sprite_spaceship13_color201 =	0
   1199  10000 ????		00 00	    sprite_spaceship13_color200 =	0
   1200  10000 ????		00 00	    sprite_spaceship13_color199 =	0
   1201  10000 ????		00 00	    sprite_spaceship13_color198 =	0
   1202  10000 ????		00 00	    sprite_spaceship13_color197 =	0
   1203  10000 ????		00 00	    sprite_spaceship13_color196 =	0
   1204  10000 ????		00 00	    sprite_spaceship13_color195 =	0
   1205  10000 ????		00 00	    sprite_spaceship13_color194 =	0
   1206  10000 ????		00 00	    sprite_spaceship13_color193 =	0
   1207  10000 ????		00 00	    sprite_spaceship13_color192 =	0
   1208  10000 ????		00 00	    sprite_spaceship13_color191 =	0
   1209  10000 ????		00 00	    sprite_spaceship13_color190 =	0
   1210  10000 ????		00 00	    sprite_spaceship13_color189 =	0
   1211  10000 ????		00 00	    sprite_spaceship13_color188 =	0
   1212  10000 ????		00 00	    sprite_spaceship13_color187 =	0
   1213  10000 ????		00 00	    sprite_spaceship13_color186 =	0
   1214  10000 ????		00 00	    sprite_spaceship13_color185 =	0
   1215  10000 ????		00 00	    sprite_spaceship13_color184 =	0
   1216  10000 ????		00 00	    sprite_spaceship13_color183 =	0
   1217  10000 ????		00 00	    sprite_spaceship13_color182 =	0
   1218  10000 ????		00 00	    sprite_spaceship13_color181 =	0
   1219  10000 ????		00 00	    sprite_spaceship13_color180 =	0
   1220  10000 ????		00 00	    sprite_spaceship13_color179 =	0
   1221  10000 ????		00 00	    sprite_spaceship13_color178 =	0
   1222  10000 ????		00 00	    sprite_spaceship13_color177 =	0
   1223  10000 ????		00 00	    sprite_spaceship13_color176 =	0
   1224  10000 ????		00 00	    sprite_spaceship13_color175 =	0
   1225  10000 ????		00 00	    sprite_spaceship13_color174 =	0
   1226  10000 ????		00 00	    sprite_spaceship13_color173 =	0
   1227  10000 ????		00 00	    sprite_spaceship13_color172 =	0
   1228  10000 ????		00 00	    sprite_spaceship13_color171 =	0
   1229  10000 ????		00 00	    sprite_spaceship13_color170 =	0
   1230  10000 ????		00 00	    sprite_spaceship13_color169 =	0
   1231  10000 ????		00 00	    sprite_spaceship13_color168 =	0
   1232  10000 ????		00 00	    sprite_spaceship13_color167 =	0
   1233  10000 ????		00 00	    sprite_spaceship13_color166 =	0
   1234  10000 ????		00 00	    sprite_spaceship13_color165 =	0
   1235  10000 ????		00 00	    sprite_spaceship13_color164 =	0
   1236  10000 ????		00 00	    sprite_spaceship13_color163 =	0
   1237  10000 ????		00 00	    sprite_spaceship13_color162 =	0
   1238  10000 ????		00 00	    sprite_spaceship13_color161 =	0
   1239  10000 ????		00 00	    sprite_spaceship13_color160 =	0
   1240  10000 ????		00 00	    sprite_spaceship13_color159 =	0
   1241  10000 ????		00 00	    sprite_spaceship13_color158 =	0
   1242  10000 ????		00 00	    sprite_spaceship13_color157 =	0
   1243  10000 ????		00 00	    sprite_spaceship13_color156 =	0
   1244  10000 ????		00 00	    sprite_spaceship13_color155 =	0
   1245  10000 ????		00 00	    sprite_spaceship13_color154 =	0
   1246  10000 ????		00 00	    sprite_spaceship13_color153 =	0
   1247  10000 ????		00 00	    sprite_spaceship13_color152 =	0
   1248  10000 ????		00 00	    sprite_spaceship13_color151 =	0
   1249  10000 ????		00 00	    sprite_spaceship13_color150 =	0
   1250  10000 ????		00 00	    sprite_spaceship13_color149 =	0
   1251  10000 ????		00 00	    sprite_spaceship13_color148 =	0
   1252  10000 ????		00 00	    sprite_spaceship13_color147 =	0
   1253  10000 ????		00 00	    sprite_spaceship13_color146 =	0
   1254  10000 ????		00 00	    sprite_spaceship13_color145 =	0
   1255  10000 ????		00 00	    sprite_spaceship13_color144 =	0
   1256  10000 ????		00 00	    sprite_spaceship13_color143 =	0
   1257  10000 ????		00 00	    sprite_spaceship13_color142 =	0
   1258  10000 ????		00 00	    sprite_spaceship13_color141 =	0
   1259  10000 ????		00 00	    sprite_spaceship13_color140 =	0
   1260  10000 ????		00 00	    sprite_spaceship13_color139 =	0
   1261  10000 ????		00 00	    sprite_spaceship13_color138 =	0
   1262  10000 ????		00 00	    sprite_spaceship13_color137 =	0
   1263  10000 ????		00 00	    sprite_spaceship13_color136 =	0
   1264  10000 ????		00 00	    sprite_spaceship13_color135 =	0
   1265  10000 ????		00 00	    sprite_spaceship13_color134 =	0
   1266  10000 ????		00 00	    sprite_spaceship13_color133 =	0
   1267  10000 ????		00 00	    sprite_spaceship13_color132 =	0
   1268  10000 ????		00 00	    sprite_spaceship13_color131 =	0
   1269  10000 ????		00 00	    sprite_spaceship13_color130 =	0
   1270  10000 ????		00 00	    sprite_spaceship13_color129 =	0
   1271  10000 ????		00 00	    sprite_spaceship13_color128 =	0
   1272  10000 ????		00 00	    sprite_spaceship13_color127 =	0
   1273  10000 ????		00 00	    sprite_spaceship13_color126 =	0
   1274  10000 ????		00 00	    sprite_spaceship13_color125 =	0
   1275  10000 ????		00 00	    sprite_spaceship13_color124 =	0
   1276  10000 ????		00 00	    sprite_spaceship13_color123 =	0
   1277  10000 ????		00 00	    sprite_spaceship13_color122 =	0
   1278  10000 ????		00 00	    sprite_spaceship13_color121 =	0
   1279  10000 ????		00 00	    sprite_spaceship13_color120 =	0
   1280  10000 ????		00 00	    sprite_spaceship13_color119 =	0
   1281  10000 ????		00 00	    sprite_spaceship13_color118 =	0
   1282  10000 ????		00 00	    sprite_spaceship13_color117 =	0
   1283  10000 ????		00 00	    sprite_spaceship13_color116 =	0
   1284  10000 ????		00 00	    sprite_spaceship13_color115 =	0
   1285  10000 ????		00 00	    sprite_spaceship13_color114 =	0
   1286  10000 ????		00 00	    sprite_spaceship13_color113 =	0
   1287  10000 ????		00 00	    sprite_spaceship13_color112 =	0
   1288  10000 ????		00 00	    sprite_spaceship13_color111 =	0
   1289  10000 ????		00 00	    sprite_spaceship13_color110 =	0
   1290  10000 ????		00 00	    sprite_spaceship13_color109 =	0
   1291  10000 ????		00 00	    sprite_spaceship13_color108 =	0
   1292  10000 ????		00 00	    sprite_spaceship13_color107 =	0
   1293  10000 ????		00 00	    sprite_spaceship13_color106 =	0
   1294  10000 ????		00 00	    sprite_spaceship13_color105 =	0
   1295  10000 ????		00 00	    sprite_spaceship13_color104 =	0
   1296  10000 ????		00 00	    sprite_spaceship13_color103 =	0
   1297  10000 ????		00 00	    sprite_spaceship13_color102 =	0
   1298  10000 ????		00 00	    sprite_spaceship13_color101 =	0
   1299  10000 ????		00 00	    sprite_spaceship13_color100 =	0
   1300  10000 ????		00 00	    sprite_spaceship13_color99 =	0
   1301  10000 ????		00 00	    sprite_spaceship13_color98 =	0
   1302  10000 ????		00 00	    sprite_spaceship13_color97 =	0
   1303  10000 ????		00 00	    sprite_spaceship13_color96 =	0
   1304  10000 ????		00 00	    sprite_spaceship13_color95 =	0
   1305  10000 ????		00 00	    sprite_spaceship13_color94 =	0
   1306  10000 ????		00 00	    sprite_spaceship13_color93 =	0
   1307  10000 ????		00 00	    sprite_spaceship13_color92 =	0
   1308  10000 ????		00 00	    sprite_spaceship13_color91 =	0
   1309  10000 ????		00 00	    sprite_spaceship13_color90 =	0
   1310  10000 ????		00 00	    sprite_spaceship13_color89 =	0
   1311  10000 ????		00 00	    sprite_spaceship13_color88 =	0
   1312  10000 ????		00 00	    sprite_spaceship13_color87 =	0
   1313  10000 ????		00 00	    sprite_spaceship13_color86 =	0
   1314  10000 ????		00 00	    sprite_spaceship13_color85 =	0
   1315  10000 ????		00 00	    sprite_spaceship13_color84 =	0
   1316  10000 ????		00 00	    sprite_spaceship13_color83 =	0
   1317  10000 ????		00 00	    sprite_spaceship13_color82 =	0
   1318  10000 ????		00 00	    sprite_spaceship13_color81 =	0
   1319  10000 ????		00 00	    sprite_spaceship13_color80 =	0
   1320  10000 ????		00 00	    sprite_spaceship13_color79 =	0
   1321  10000 ????		00 00	    sprite_spaceship13_color78 =	0
   1322  10000 ????		00 00	    sprite_spaceship13_color77 =	0
   1323  10000 ????		00 00	    sprite_spaceship13_color76 =	0
   1324  10000 ????		00 00	    sprite_spaceship13_color75 =	0
   1325  10000 ????		00 00	    sprite_spaceship13_color74 =	0
   1326  10000 ????		00 00	    sprite_spaceship13_color73 =	0
   1327  10000 ????		00 00	    sprite_spaceship13_color72 =	0
   1328  10000 ????		00 00	    sprite_spaceship13_color71 =	0
   1329  10000 ????		00 00	    sprite_spaceship13_color70 =	0
   1330  10000 ????		00 00	    sprite_spaceship13_color69 =	0
   1331  10000 ????		00 00	    sprite_spaceship13_color68 =	0
   1332  10000 ????		00 00	    sprite_spaceship13_color67 =	0
   1333  10000 ????		00 00	    sprite_spaceship13_color66 =	0
   1334  10000 ????		00 00	    sprite_spaceship13_color65 =	0
   1335  10000 ????		00 00	    sprite_spaceship13_color64 =	0
   1336  10000 ????		00 00	    sprite_spaceship13_color63 =	0
   1337  10000 ????		00 00	    sprite_spaceship13_color62 =	0
   1338  10000 ????		00 00	    sprite_spaceship13_color61 =	0
   1339  10000 ????		00 00	    sprite_spaceship13_color60 =	0
   1340  10000 ????		00 00	    sprite_spaceship13_color59 =	0
   1341  10000 ????		00 00	    sprite_spaceship13_color58 =	0
   1342  10000 ????		00 00	    sprite_spaceship13_color57 =	0
   1343  10000 ????		00 00	    sprite_spaceship13_color56 =	0
   1344  10000 ????		00 00	    sprite_spaceship13_color55 =	0
   1345  10000 ????		00 00	    sprite_spaceship13_color54 =	0
   1346  10000 ????		00 00	    sprite_spaceship13_color53 =	0
   1347  10000 ????		00 00	    sprite_spaceship13_color52 =	0
   1348  10000 ????		00 00	    sprite_spaceship13_color51 =	0
   1349  10000 ????		00 00	    sprite_spaceship13_color50 =	0
   1350  10000 ????		00 00	    sprite_spaceship13_color49 =	0
   1351  10000 ????		00 00	    sprite_spaceship13_color48 =	0
   1352  10000 ????		00 00	    sprite_spaceship13_color47 =	0
   1353  10000 ????		00 00	    sprite_spaceship13_color46 =	0
   1354  10000 ????		00 00	    sprite_spaceship13_color45 =	0
   1355  10000 ????		00 00	    sprite_spaceship13_color44 =	0
   1356  10000 ????		00 00	    sprite_spaceship13_color43 =	0
   1357  10000 ????		00 00	    sprite_spaceship13_color42 =	0
   1358  10000 ????		00 00	    sprite_spaceship13_color41 =	0
   1359  10000 ????		00 00	    sprite_spaceship13_color40 =	0
   1360  10000 ????		00 00	    sprite_spaceship13_color39 =	0
   1361  10000 ????		00 00	    sprite_spaceship13_color38 =	0
   1362  10000 ????		00 00	    sprite_spaceship13_color37 =	0
   1363  10000 ????		00 00	    sprite_spaceship13_color36 =	0
   1364  10000 ????		00 00	    sprite_spaceship13_color35 =	0
   1365  10000 ????		00 00	    sprite_spaceship13_color34 =	0
   1366  10000 ????		00 00	    sprite_spaceship13_color33 =	0
   1367  10000 ????		00 00	    sprite_spaceship13_color32 =	0
   1368  10000 ????		00 00	    sprite_spaceship13_color31 =	0
   1369  10000 ????		00 00	    sprite_spaceship13_color30 =	0
   1370  10000 ????		00 00	    sprite_spaceship13_color29 =	0
   1371  10000 ????		00 00	    sprite_spaceship13_color28 =	0
   1372  10000 ????		00 00	    sprite_spaceship13_color27 =	0
   1373  10000 ????		00 00	    sprite_spaceship13_color26 =	0
   1374  10000 ????		00 00	    sprite_spaceship13_color25 =	0
   1375  10000 ????		00 00	    sprite_spaceship13_color24 =	0
   1376  10000 ????		00 00	    sprite_spaceship13_color23 =	0
   1377  10000 ????		00 00	    sprite_spaceship13_color22 =	0
   1378  10000 ????		00 00	    sprite_spaceship13_color21 =	0
   1379  10000 ????		00 00	    sprite_spaceship13_color20 =	0
   1380  10000 ????		00 00	    sprite_spaceship13_color19 =	0
   1381  10000 ????		00 00	    sprite_spaceship13_color18 =	0
   1382  10000 ????		00 00	    sprite_spaceship13_color17 =	0
   1383  10000 ????		00 00	    sprite_spaceship13_color16 =	0
   1384  10000 ????		00 00	    sprite_spaceship13_color15 =	0
   1385  10000 ????		00 00	    sprite_spaceship13_color14 =	0
   1386  10000 ????		00 00	    sprite_spaceship13_color13 =	0
   1387  10000 ????		00 00	    sprite_spaceship13_color12 =	0
   1388  10000 ????		00 00	    sprite_spaceship13_color11 =	0
   1389  10000 ????		00 00	    sprite_spaceship13_color10 =	0
   1390  10000 ????		00 00	    sprite_spaceship13_color9 =	0
   1391  10000 ????		00 00	    sprite_spaceship13_color8 =	0
   1392  10000 ????		00 00	    sprite_spaceship13_color7 =	0
   1393  10000 ????		00 00	    sprite_spaceship13_color6 =	0
   1394  10000 ????		00 00	    sprite_spaceship13_color5 =	0
   1395  10000 ????		00 00	    sprite_spaceship13_color4 =	0
   1396  10000 ????		00 1e	    sprite_spaceship13_color3 =	$1e
   1397  10000 ????		00 81	    sprite_spaceship13_color2 =	$81
   1398  10000 ????		00 44	    sprite_spaceship13_color1 =	$44
   1399  10000 ????		00 00	    sprite_spaceship13_color0 =	$00
   1400  10000 ????		00 00	    sprite_spaceship12_color255 =	0
   1401  10000 ????		00 00	    sprite_spaceship12_color254 =	0
   1402  10000 ????		00 00	    sprite_spaceship12_color253 =	0
   1403  10000 ????		00 00	    sprite_spaceship12_color252 =	0
   1404  10000 ????		00 00	    sprite_spaceship12_color251 =	0
   1405  10000 ????		00 00	    sprite_spaceship12_color250 =	0
   1406  10000 ????		00 00	    sprite_spaceship12_color249 =	0
   1407  10000 ????		00 00	    sprite_spaceship12_color248 =	0
   1408  10000 ????		00 00	    sprite_spaceship12_color247 =	0
   1409  10000 ????		00 00	    sprite_spaceship12_color246 =	0
   1410  10000 ????		00 00	    sprite_spaceship12_color245 =	0
   1411  10000 ????		00 00	    sprite_spaceship12_color244 =	0
   1412  10000 ????		00 00	    sprite_spaceship12_color243 =	0
   1413  10000 ????		00 00	    sprite_spaceship12_color242 =	0
   1414  10000 ????		00 00	    sprite_spaceship12_color241 =	0
   1415  10000 ????		00 00	    sprite_spaceship12_color240 =	0
   1416  10000 ????		00 00	    sprite_spaceship12_color239 =	0
   1417  10000 ????		00 00	    sprite_spaceship12_color238 =	0
   1418  10000 ????		00 00	    sprite_spaceship12_color237 =	0
   1419  10000 ????		00 00	    sprite_spaceship12_color236 =	0
   1420  10000 ????		00 00	    sprite_spaceship12_color235 =	0
   1421  10000 ????		00 00	    sprite_spaceship12_color234 =	0
   1422  10000 ????		00 00	    sprite_spaceship12_color233 =	0
   1423  10000 ????		00 00	    sprite_spaceship12_color232 =	0
   1424  10000 ????		00 00	    sprite_spaceship12_color231 =	0
   1425  10000 ????		00 00	    sprite_spaceship12_color230 =	0
   1426  10000 ????		00 00	    sprite_spaceship12_color229 =	0
   1427  10000 ????		00 00	    sprite_spaceship12_color228 =	0
   1428  10000 ????		00 00	    sprite_spaceship12_color227 =	0
   1429  10000 ????		00 00	    sprite_spaceship12_color226 =	0
   1430  10000 ????		00 00	    sprite_spaceship12_color225 =	0
   1431  10000 ????		00 00	    sprite_spaceship12_color224 =	0
   1432  10000 ????		00 00	    sprite_spaceship12_color223 =	0
   1433  10000 ????		00 00	    sprite_spaceship12_color222 =	0
   1434  10000 ????		00 00	    sprite_spaceship12_color221 =	0
   1435  10000 ????		00 00	    sprite_spaceship12_color220 =	0
   1436  10000 ????		00 00	    sprite_spaceship12_color219 =	0
   1437  10000 ????		00 00	    sprite_spaceship12_color218 =	0
   1438  10000 ????		00 00	    sprite_spaceship12_color217 =	0
   1439  10000 ????		00 00	    sprite_spaceship12_color216 =	0
   1440  10000 ????		00 00	    sprite_spaceship12_color215 =	0
   1441  10000 ????		00 00	    sprite_spaceship12_color214 =	0
   1442  10000 ????		00 00	    sprite_spaceship12_color213 =	0
   1443  10000 ????		00 00	    sprite_spaceship12_color212 =	0
   1444  10000 ????		00 00	    sprite_spaceship12_color211 =	0
   1445  10000 ????		00 00	    sprite_spaceship12_color210 =	0
   1446  10000 ????		00 00	    sprite_spaceship12_color209 =	0
   1447  10000 ????		00 00	    sprite_spaceship12_color208 =	0
   1448  10000 ????		00 00	    sprite_spaceship12_color207 =	0
   1449  10000 ????		00 00	    sprite_spaceship12_color206 =	0
   1450  10000 ????		00 00	    sprite_spaceship12_color205 =	0
   1451  10000 ????		00 00	    sprite_spaceship12_color204 =	0
   1452  10000 ????		00 00	    sprite_spaceship12_color203 =	0
   1453  10000 ????		00 00	    sprite_spaceship12_color202 =	0
   1454  10000 ????		00 00	    sprite_spaceship12_color201 =	0
   1455  10000 ????		00 00	    sprite_spaceship12_color200 =	0
   1456  10000 ????		00 00	    sprite_spaceship12_color199 =	0
   1457  10000 ????		00 00	    sprite_spaceship12_color198 =	0
   1458  10000 ????		00 00	    sprite_spaceship12_color197 =	0
   1459  10000 ????		00 00	    sprite_spaceship12_color196 =	0
   1460  10000 ????		00 00	    sprite_spaceship12_color195 =	0
   1461  10000 ????		00 00	    sprite_spaceship12_color194 =	0
   1462  10000 ????		00 00	    sprite_spaceship12_color193 =	0
   1463  10000 ????		00 00	    sprite_spaceship12_color192 =	0
   1464  10000 ????		00 00	    sprite_spaceship12_color191 =	0
   1465  10000 ????		00 00	    sprite_spaceship12_color190 =	0
   1466  10000 ????		00 00	    sprite_spaceship12_color189 =	0
   1467  10000 ????		00 00	    sprite_spaceship12_color188 =	0
   1468  10000 ????		00 00	    sprite_spaceship12_color187 =	0
   1469  10000 ????		00 00	    sprite_spaceship12_color186 =	0
   1470  10000 ????		00 00	    sprite_spaceship12_color185 =	0
   1471  10000 ????		00 00	    sprite_spaceship12_color184 =	0
   1472  10000 ????		00 00	    sprite_spaceship12_color183 =	0
   1473  10000 ????		00 00	    sprite_spaceship12_color182 =	0
   1474  10000 ????		00 00	    sprite_spaceship12_color181 =	0
   1475  10000 ????		00 00	    sprite_spaceship12_color180 =	0
   1476  10000 ????		00 00	    sprite_spaceship12_color179 =	0
   1477  10000 ????		00 00	    sprite_spaceship12_color178 =	0
   1478  10000 ????		00 00	    sprite_spaceship12_color177 =	0
   1479  10000 ????		00 00	    sprite_spaceship12_color176 =	0
   1480  10000 ????		00 00	    sprite_spaceship12_color175 =	0
   1481  10000 ????		00 00	    sprite_spaceship12_color174 =	0
   1482  10000 ????		00 00	    sprite_spaceship12_color173 =	0
   1483  10000 ????		00 00	    sprite_spaceship12_color172 =	0
   1484  10000 ????		00 00	    sprite_spaceship12_color171 =	0
   1485  10000 ????		00 00	    sprite_spaceship12_color170 =	0
   1486  10000 ????		00 00	    sprite_spaceship12_color169 =	0
   1487  10000 ????		00 00	    sprite_spaceship12_color168 =	0
   1488  10000 ????		00 00	    sprite_spaceship12_color167 =	0
   1489  10000 ????		00 00	    sprite_spaceship12_color166 =	0
   1490  10000 ????		00 00	    sprite_spaceship12_color165 =	0
   1491  10000 ????		00 00	    sprite_spaceship12_color164 =	0
   1492  10000 ????		00 00	    sprite_spaceship12_color163 =	0
   1493  10000 ????		00 00	    sprite_spaceship12_color162 =	0
   1494  10000 ????		00 00	    sprite_spaceship12_color161 =	0
   1495  10000 ????		00 00	    sprite_spaceship12_color160 =	0
   1496  10000 ????		00 00	    sprite_spaceship12_color159 =	0
   1497  10000 ????		00 00	    sprite_spaceship12_color158 =	0
   1498  10000 ????		00 00	    sprite_spaceship12_color157 =	0
   1499  10000 ????		00 00	    sprite_spaceship12_color156 =	0
   1500  10000 ????		00 00	    sprite_spaceship12_color155 =	0
   1501  10000 ????		00 00	    sprite_spaceship12_color154 =	0
   1502  10000 ????		00 00	    sprite_spaceship12_color153 =	0
   1503  10000 ????		00 00	    sprite_spaceship12_color152 =	0
   1504  10000 ????		00 00	    sprite_spaceship12_color151 =	0
   1505  10000 ????		00 00	    sprite_spaceship12_color150 =	0
   1506  10000 ????		00 00	    sprite_spaceship12_color149 =	0
   1507  10000 ????		00 00	    sprite_spaceship12_color148 =	0
   1508  10000 ????		00 00	    sprite_spaceship12_color147 =	0
   1509  10000 ????		00 00	    sprite_spaceship12_color146 =	0
   1510  10000 ????		00 00	    sprite_spaceship12_color145 =	0
   1511  10000 ????		00 00	    sprite_spaceship12_color144 =	0
   1512  10000 ????		00 00	    sprite_spaceship12_color143 =	0
   1513  10000 ????		00 00	    sprite_spaceship12_color142 =	0
   1514  10000 ????		00 00	    sprite_spaceship12_color141 =	0
   1515  10000 ????		00 00	    sprite_spaceship12_color140 =	0
   1516  10000 ????		00 00	    sprite_spaceship12_color139 =	0
   1517  10000 ????		00 00	    sprite_spaceship12_color138 =	0
   1518  10000 ????		00 00	    sprite_spaceship12_color137 =	0
   1519  10000 ????		00 00	    sprite_spaceship12_color136 =	0
   1520  10000 ????		00 00	    sprite_spaceship12_color135 =	0
   1521  10000 ????		00 00	    sprite_spaceship12_color134 =	0
   1522  10000 ????		00 00	    sprite_spaceship12_color133 =	0
   1523  10000 ????		00 00	    sprite_spaceship12_color132 =	0
   1524  10000 ????		00 00	    sprite_spaceship12_color131 =	0
   1525  10000 ????		00 00	    sprite_spaceship12_color130 =	0
   1526  10000 ????		00 00	    sprite_spaceship12_color129 =	0
   1527  10000 ????		00 00	    sprite_spaceship12_color128 =	0
   1528  10000 ????		00 00	    sprite_spaceship12_color127 =	0
   1529  10000 ????		00 00	    sprite_spaceship12_color126 =	0
   1530  10000 ????		00 00	    sprite_spaceship12_color125 =	0
   1531  10000 ????		00 00	    sprite_spaceship12_color124 =	0
   1532  10000 ????		00 00	    sprite_spaceship12_color123 =	0
   1533  10000 ????		00 00	    sprite_spaceship12_color122 =	0
   1534  10000 ????		00 00	    sprite_spaceship12_color121 =	0
   1535  10000 ????		00 00	    sprite_spaceship12_color120 =	0
   1536  10000 ????		00 00	    sprite_spaceship12_color119 =	0
   1537  10000 ????		00 00	    sprite_spaceship12_color118 =	0
   1538  10000 ????		00 00	    sprite_spaceship12_color117 =	0
   1539  10000 ????		00 00	    sprite_spaceship12_color116 =	0
   1540  10000 ????		00 00	    sprite_spaceship12_color115 =	0
   1541  10000 ????		00 00	    sprite_spaceship12_color114 =	0
   1542  10000 ????		00 00	    sprite_spaceship12_color113 =	0
   1543  10000 ????		00 00	    sprite_spaceship12_color112 =	0
   1544  10000 ????		00 00	    sprite_spaceship12_color111 =	0
   1545  10000 ????		00 00	    sprite_spaceship12_color110 =	0
   1546  10000 ????		00 00	    sprite_spaceship12_color109 =	0
   1547  10000 ????		00 00	    sprite_spaceship12_color108 =	0
   1548  10000 ????		00 00	    sprite_spaceship12_color107 =	0
   1549  10000 ????		00 00	    sprite_spaceship12_color106 =	0
   1550  10000 ????		00 00	    sprite_spaceship12_color105 =	0
   1551  10000 ????		00 00	    sprite_spaceship12_color104 =	0
   1552  10000 ????		00 00	    sprite_spaceship12_color103 =	0
   1553  10000 ????		00 00	    sprite_spaceship12_color102 =	0
   1554  10000 ????		00 00	    sprite_spaceship12_color101 =	0
   1555  10000 ????		00 00	    sprite_spaceship12_color100 =	0
   1556  10000 ????		00 00	    sprite_spaceship12_color99 =	0
   1557  10000 ????		00 00	    sprite_spaceship12_color98 =	0
   1558  10000 ????		00 00	    sprite_spaceship12_color97 =	0
   1559  10000 ????		00 00	    sprite_spaceship12_color96 =	0
   1560  10000 ????		00 00	    sprite_spaceship12_color95 =	0
   1561  10000 ????		00 00	    sprite_spaceship12_color94 =	0
   1562  10000 ????		00 00	    sprite_spaceship12_color93 =	0
   1563  10000 ????		00 00	    sprite_spaceship12_color92 =	0
   1564  10000 ????		00 00	    sprite_spaceship12_color91 =	0
   1565  10000 ????		00 00	    sprite_spaceship12_color90 =	0
   1566  10000 ????		00 00	    sprite_spaceship12_color89 =	0
   1567  10000 ????		00 00	    sprite_spaceship12_color88 =	0
   1568  10000 ????		00 00	    sprite_spaceship12_color87 =	0
   1569  10000 ????		00 00	    sprite_spaceship12_color86 =	0
   1570  10000 ????		00 00	    sprite_spaceship12_color85 =	0
   1571  10000 ????		00 00	    sprite_spaceship12_color84 =	0
   1572  10000 ????		00 00	    sprite_spaceship12_color83 =	0
   1573  10000 ????		00 00	    sprite_spaceship12_color82 =	0
   1574  10000 ????		00 00	    sprite_spaceship12_color81 =	0
   1575  10000 ????		00 00	    sprite_spaceship12_color80 =	0
   1576  10000 ????		00 00	    sprite_spaceship12_color79 =	0
   1577  10000 ????		00 00	    sprite_spaceship12_color78 =	0
   1578  10000 ????		00 00	    sprite_spaceship12_color77 =	0
   1579  10000 ????		00 00	    sprite_spaceship12_color76 =	0
   1580  10000 ????		00 00	    sprite_spaceship12_color75 =	0
   1581  10000 ????		00 00	    sprite_spaceship12_color74 =	0
   1582  10000 ????		00 00	    sprite_spaceship12_color73 =	0
   1583  10000 ????		00 00	    sprite_spaceship12_color72 =	0
   1584  10000 ????		00 00	    sprite_spaceship12_color71 =	0
   1585  10000 ????		00 00	    sprite_spaceship12_color70 =	0
   1586  10000 ????		00 00	    sprite_spaceship12_color69 =	0
   1587  10000 ????		00 00	    sprite_spaceship12_color68 =	0
   1588  10000 ????		00 00	    sprite_spaceship12_color67 =	0
   1589  10000 ????		00 00	    sprite_spaceship12_color66 =	0
   1590  10000 ????		00 00	    sprite_spaceship12_color65 =	0
   1591  10000 ????		00 00	    sprite_spaceship12_color64 =	0
   1592  10000 ????		00 00	    sprite_spaceship12_color63 =	0
   1593  10000 ????		00 00	    sprite_spaceship12_color62 =	0
   1594  10000 ????		00 00	    sprite_spaceship12_color61 =	0
   1595  10000 ????		00 00	    sprite_spaceship12_color60 =	0
   1596  10000 ????		00 00	    sprite_spaceship12_color59 =	0
   1597  10000 ????		00 00	    sprite_spaceship12_color58 =	0
   1598  10000 ????		00 00	    sprite_spaceship12_color57 =	0
   1599  10000 ????		00 00	    sprite_spaceship12_color56 =	0
   1600  10000 ????		00 00	    sprite_spaceship12_color55 =	0
   1601  10000 ????		00 00	    sprite_spaceship12_color54 =	0
   1602  10000 ????		00 00	    sprite_spaceship12_color53 =	0
   1603  10000 ????		00 00	    sprite_spaceship12_color52 =	0
   1604  10000 ????		00 00	    sprite_spaceship12_color51 =	0
   1605  10000 ????		00 00	    sprite_spaceship12_color50 =	0
   1606  10000 ????		00 00	    sprite_spaceship12_color49 =	0
   1607  10000 ????		00 00	    sprite_spaceship12_color48 =	0
   1608  10000 ????		00 00	    sprite_spaceship12_color47 =	0
   1609  10000 ????		00 00	    sprite_spaceship12_color46 =	0
   1610  10000 ????		00 00	    sprite_spaceship12_color45 =	0
   1611  10000 ????		00 00	    sprite_spaceship12_color44 =	0
   1612  10000 ????		00 00	    sprite_spaceship12_color43 =	0
   1613  10000 ????		00 00	    sprite_spaceship12_color42 =	0
   1614  10000 ????		00 00	    sprite_spaceship12_color41 =	0
   1615  10000 ????		00 00	    sprite_spaceship12_color40 =	0
   1616  10000 ????		00 00	    sprite_spaceship12_color39 =	0
   1617  10000 ????		00 00	    sprite_spaceship12_color38 =	0
   1618  10000 ????		00 00	    sprite_spaceship12_color37 =	0
   1619  10000 ????		00 00	    sprite_spaceship12_color36 =	0
   1620  10000 ????		00 00	    sprite_spaceship12_color35 =	0
   1621  10000 ????		00 00	    sprite_spaceship12_color34 =	0
   1622  10000 ????		00 00	    sprite_spaceship12_color33 =	0
   1623  10000 ????		00 00	    sprite_spaceship12_color32 =	0
   1624  10000 ????		00 00	    sprite_spaceship12_color31 =	0
   1625  10000 ????		00 00	    sprite_spaceship12_color30 =	0
   1626  10000 ????		00 00	    sprite_spaceship12_color29 =	0
   1627  10000 ????		00 00	    sprite_spaceship12_color28 =	0
   1628  10000 ????		00 00	    sprite_spaceship12_color27 =	0
   1629  10000 ????		00 00	    sprite_spaceship12_color26 =	0
   1630  10000 ????		00 00	    sprite_spaceship12_color25 =	0
   1631  10000 ????		00 00	    sprite_spaceship12_color24 =	0
   1632  10000 ????		00 00	    sprite_spaceship12_color23 =	0
   1633  10000 ????		00 00	    sprite_spaceship12_color22 =	0
   1634  10000 ????		00 00	    sprite_spaceship12_color21 =	0
   1635  10000 ????		00 00	    sprite_spaceship12_color20 =	0
   1636  10000 ????		00 00	    sprite_spaceship12_color19 =	0
   1637  10000 ????		00 00	    sprite_spaceship12_color18 =	0
   1638  10000 ????		00 00	    sprite_spaceship12_color17 =	0
   1639  10000 ????		00 00	    sprite_spaceship12_color16 =	0
   1640  10000 ????		00 00	    sprite_spaceship12_color15 =	0
   1641  10000 ????		00 00	    sprite_spaceship12_color14 =	0
   1642  10000 ????		00 00	    sprite_spaceship12_color13 =	0
   1643  10000 ????		00 00	    sprite_spaceship12_color12 =	0
   1644  10000 ????		00 00	    sprite_spaceship12_color11 =	0
   1645  10000 ????		00 00	    sprite_spaceship12_color10 =	0
   1646  10000 ????		00 00	    sprite_spaceship12_color9 =	0
   1647  10000 ????		00 00	    sprite_spaceship12_color8 =	0
   1648  10000 ????		00 00	    sprite_spaceship12_color7 =	0
   1649  10000 ????		00 00	    sprite_spaceship12_color6 =	0
   1650  10000 ????		00 00	    sprite_spaceship12_color5 =	0
   1651  10000 ????		00 00	    sprite_spaceship12_color4 =	0
   1652  10000 ????		00 1e	    sprite_spaceship12_color3 =	$1e
   1653  10000 ????		00 81	    sprite_spaceship12_color2 =	$81
   1654  10000 ????		00 44	    sprite_spaceship12_color1 =	$44
   1655  10000 ????		00 00	    sprite_spaceship12_color0 =	$00
   1656  10000 ????		00 00	    sprite_spaceship11_color255 =	0
   1657  10000 ????		00 00	    sprite_spaceship11_color254 =	0
   1658  10000 ????		00 00	    sprite_spaceship11_color253 =	0
   1659  10000 ????		00 00	    sprite_spaceship11_color252 =	0
   1660  10000 ????		00 00	    sprite_spaceship11_color251 =	0
   1661  10000 ????		00 00	    sprite_spaceship11_color250 =	0
   1662  10000 ????		00 00	    sprite_spaceship11_color249 =	0
   1663  10000 ????		00 00	    sprite_spaceship11_color248 =	0
   1664  10000 ????		00 00	    sprite_spaceship11_color247 =	0
   1665  10000 ????		00 00	    sprite_spaceship11_color246 =	0
   1666  10000 ????		00 00	    sprite_spaceship11_color245 =	0
   1667  10000 ????		00 00	    sprite_spaceship11_color244 =	0
   1668  10000 ????		00 00	    sprite_spaceship11_color243 =	0
   1669  10000 ????		00 00	    sprite_spaceship11_color242 =	0
   1670  10000 ????		00 00	    sprite_spaceship11_color241 =	0
   1671  10000 ????		00 00	    sprite_spaceship11_color240 =	0
   1672  10000 ????		00 00	    sprite_spaceship11_color239 =	0
   1673  10000 ????		00 00	    sprite_spaceship11_color238 =	0
   1674  10000 ????		00 00	    sprite_spaceship11_color237 =	0
   1675  10000 ????		00 00	    sprite_spaceship11_color236 =	0
   1676  10000 ????		00 00	    sprite_spaceship11_color235 =	0
   1677  10000 ????		00 00	    sprite_spaceship11_color234 =	0
   1678  10000 ????		00 00	    sprite_spaceship11_color233 =	0
   1679  10000 ????		00 00	    sprite_spaceship11_color232 =	0
   1680  10000 ????		00 00	    sprite_spaceship11_color231 =	0
   1681  10000 ????		00 00	    sprite_spaceship11_color230 =	0
   1682  10000 ????		00 00	    sprite_spaceship11_color229 =	0
   1683  10000 ????		00 00	    sprite_spaceship11_color228 =	0
   1684  10000 ????		00 00	    sprite_spaceship11_color227 =	0
   1685  10000 ????		00 00	    sprite_spaceship11_color226 =	0
   1686  10000 ????		00 00	    sprite_spaceship11_color225 =	0
   1687  10000 ????		00 00	    sprite_spaceship11_color224 =	0
   1688  10000 ????		00 00	    sprite_spaceship11_color223 =	0
   1689  10000 ????		00 00	    sprite_spaceship11_color222 =	0
   1690  10000 ????		00 00	    sprite_spaceship11_color221 =	0
   1691  10000 ????		00 00	    sprite_spaceship11_color220 =	0
   1692  10000 ????		00 00	    sprite_spaceship11_color219 =	0
   1693  10000 ????		00 00	    sprite_spaceship11_color218 =	0
   1694  10000 ????		00 00	    sprite_spaceship11_color217 =	0
   1695  10000 ????		00 00	    sprite_spaceship11_color216 =	0
   1696  10000 ????		00 00	    sprite_spaceship11_color215 =	0
   1697  10000 ????		00 00	    sprite_spaceship11_color214 =	0
   1698  10000 ????		00 00	    sprite_spaceship11_color213 =	0
   1699  10000 ????		00 00	    sprite_spaceship11_color212 =	0
   1700  10000 ????		00 00	    sprite_spaceship11_color211 =	0
   1701  10000 ????		00 00	    sprite_spaceship11_color210 =	0
   1702  10000 ????		00 00	    sprite_spaceship11_color209 =	0
   1703  10000 ????		00 00	    sprite_spaceship11_color208 =	0
   1704  10000 ????		00 00	    sprite_spaceship11_color207 =	0
   1705  10000 ????		00 00	    sprite_spaceship11_color206 =	0
   1706  10000 ????		00 00	    sprite_spaceship11_color205 =	0
   1707  10000 ????		00 00	    sprite_spaceship11_color204 =	0
   1708  10000 ????		00 00	    sprite_spaceship11_color203 =	0
   1709  10000 ????		00 00	    sprite_spaceship11_color202 =	0
   1710  10000 ????		00 00	    sprite_spaceship11_color201 =	0
   1711  10000 ????		00 00	    sprite_spaceship11_color200 =	0
   1712  10000 ????		00 00	    sprite_spaceship11_color199 =	0
   1713  10000 ????		00 00	    sprite_spaceship11_color198 =	0
   1714  10000 ????		00 00	    sprite_spaceship11_color197 =	0
   1715  10000 ????		00 00	    sprite_spaceship11_color196 =	0
   1716  10000 ????		00 00	    sprite_spaceship11_color195 =	0
   1717  10000 ????		00 00	    sprite_spaceship11_color194 =	0
   1718  10000 ????		00 00	    sprite_spaceship11_color193 =	0
   1719  10000 ????		00 00	    sprite_spaceship11_color192 =	0
   1720  10000 ????		00 00	    sprite_spaceship11_color191 =	0
   1721  10000 ????		00 00	    sprite_spaceship11_color190 =	0
   1722  10000 ????		00 00	    sprite_spaceship11_color189 =	0
   1723  10000 ????		00 00	    sprite_spaceship11_color188 =	0
   1724  10000 ????		00 00	    sprite_spaceship11_color187 =	0
   1725  10000 ????		00 00	    sprite_spaceship11_color186 =	0
   1726  10000 ????		00 00	    sprite_spaceship11_color185 =	0
   1727  10000 ????		00 00	    sprite_spaceship11_color184 =	0
   1728  10000 ????		00 00	    sprite_spaceship11_color183 =	0
   1729  10000 ????		00 00	    sprite_spaceship11_color182 =	0
   1730  10000 ????		00 00	    sprite_spaceship11_color181 =	0
   1731  10000 ????		00 00	    sprite_spaceship11_color180 =	0
   1732  10000 ????		00 00	    sprite_spaceship11_color179 =	0
   1733  10000 ????		00 00	    sprite_spaceship11_color178 =	0
   1734  10000 ????		00 00	    sprite_spaceship11_color177 =	0
   1735  10000 ????		00 00	    sprite_spaceship11_color176 =	0
   1736  10000 ????		00 00	    sprite_spaceship11_color175 =	0
   1737  10000 ????		00 00	    sprite_spaceship11_color174 =	0
   1738  10000 ????		00 00	    sprite_spaceship11_color173 =	0
   1739  10000 ????		00 00	    sprite_spaceship11_color172 =	0
   1740  10000 ????		00 00	    sprite_spaceship11_color171 =	0
   1741  10000 ????		00 00	    sprite_spaceship11_color170 =	0
   1742  10000 ????		00 00	    sprite_spaceship11_color169 =	0
   1743  10000 ????		00 00	    sprite_spaceship11_color168 =	0
   1744  10000 ????		00 00	    sprite_spaceship11_color167 =	0
   1745  10000 ????		00 00	    sprite_spaceship11_color166 =	0
   1746  10000 ????		00 00	    sprite_spaceship11_color165 =	0
   1747  10000 ????		00 00	    sprite_spaceship11_color164 =	0
   1748  10000 ????		00 00	    sprite_spaceship11_color163 =	0
   1749  10000 ????		00 00	    sprite_spaceship11_color162 =	0
   1750  10000 ????		00 00	    sprite_spaceship11_color161 =	0
   1751  10000 ????		00 00	    sprite_spaceship11_color160 =	0
   1752  10000 ????		00 00	    sprite_spaceship11_color159 =	0
   1753  10000 ????		00 00	    sprite_spaceship11_color158 =	0
   1754  10000 ????		00 00	    sprite_spaceship11_color157 =	0
   1755  10000 ????		00 00	    sprite_spaceship11_color156 =	0
   1756  10000 ????		00 00	    sprite_spaceship11_color155 =	0
   1757  10000 ????		00 00	    sprite_spaceship11_color154 =	0
   1758  10000 ????		00 00	    sprite_spaceship11_color153 =	0
   1759  10000 ????		00 00	    sprite_spaceship11_color152 =	0
   1760  10000 ????		00 00	    sprite_spaceship11_color151 =	0
   1761  10000 ????		00 00	    sprite_spaceship11_color150 =	0
   1762  10000 ????		00 00	    sprite_spaceship11_color149 =	0
   1763  10000 ????		00 00	    sprite_spaceship11_color148 =	0
   1764  10000 ????		00 00	    sprite_spaceship11_color147 =	0
   1765  10000 ????		00 00	    sprite_spaceship11_color146 =	0
   1766  10000 ????		00 00	    sprite_spaceship11_color145 =	0
   1767  10000 ????		00 00	    sprite_spaceship11_color144 =	0
   1768  10000 ????		00 00	    sprite_spaceship11_color143 =	0
   1769  10000 ????		00 00	    sprite_spaceship11_color142 =	0
   1770  10000 ????		00 00	    sprite_spaceship11_color141 =	0
   1771  10000 ????		00 00	    sprite_spaceship11_color140 =	0
   1772  10000 ????		00 00	    sprite_spaceship11_color139 =	0
   1773  10000 ????		00 00	    sprite_spaceship11_color138 =	0
   1774  10000 ????		00 00	    sprite_spaceship11_color137 =	0
   1775  10000 ????		00 00	    sprite_spaceship11_color136 =	0
   1776  10000 ????		00 00	    sprite_spaceship11_color135 =	0
   1777  10000 ????		00 00	    sprite_spaceship11_color134 =	0
   1778  10000 ????		00 00	    sprite_spaceship11_color133 =	0
   1779  10000 ????		00 00	    sprite_spaceship11_color132 =	0
   1780  10000 ????		00 00	    sprite_spaceship11_color131 =	0
   1781  10000 ????		00 00	    sprite_spaceship11_color130 =	0
   1782  10000 ????		00 00	    sprite_spaceship11_color129 =	0
   1783  10000 ????		00 00	    sprite_spaceship11_color128 =	0
   1784  10000 ????		00 00	    sprite_spaceship11_color127 =	0
   1785  10000 ????		00 00	    sprite_spaceship11_color126 =	0
   1786  10000 ????		00 00	    sprite_spaceship11_color125 =	0
   1787  10000 ????		00 00	    sprite_spaceship11_color124 =	0
   1788  10000 ????		00 00	    sprite_spaceship11_color123 =	0
   1789  10000 ????		00 00	    sprite_spaceship11_color122 =	0
   1790  10000 ????		00 00	    sprite_spaceship11_color121 =	0
   1791  10000 ????		00 00	    sprite_spaceship11_color120 =	0
   1792  10000 ????		00 00	    sprite_spaceship11_color119 =	0
   1793  10000 ????		00 00	    sprite_spaceship11_color118 =	0
   1794  10000 ????		00 00	    sprite_spaceship11_color117 =	0
   1795  10000 ????		00 00	    sprite_spaceship11_color116 =	0
   1796  10000 ????		00 00	    sprite_spaceship11_color115 =	0
   1797  10000 ????		00 00	    sprite_spaceship11_color114 =	0
   1798  10000 ????		00 00	    sprite_spaceship11_color113 =	0
   1799  10000 ????		00 00	    sprite_spaceship11_color112 =	0
   1800  10000 ????		00 00	    sprite_spaceship11_color111 =	0
   1801  10000 ????		00 00	    sprite_spaceship11_color110 =	0
   1802  10000 ????		00 00	    sprite_spaceship11_color109 =	0
   1803  10000 ????		00 00	    sprite_spaceship11_color108 =	0
   1804  10000 ????		00 00	    sprite_spaceship11_color107 =	0
   1805  10000 ????		00 00	    sprite_spaceship11_color106 =	0
   1806  10000 ????		00 00	    sprite_spaceship11_color105 =	0
   1807  10000 ????		00 00	    sprite_spaceship11_color104 =	0
   1808  10000 ????		00 00	    sprite_spaceship11_color103 =	0
   1809  10000 ????		00 00	    sprite_spaceship11_color102 =	0
   1810  10000 ????		00 00	    sprite_spaceship11_color101 =	0
   1811  10000 ????		00 00	    sprite_spaceship11_color100 =	0
   1812  10000 ????		00 00	    sprite_spaceship11_color99 =	0
   1813  10000 ????		00 00	    sprite_spaceship11_color98 =	0
   1814  10000 ????		00 00	    sprite_spaceship11_color97 =	0
   1815  10000 ????		00 00	    sprite_spaceship11_color96 =	0
   1816  10000 ????		00 00	    sprite_spaceship11_color95 =	0
   1817  10000 ????		00 00	    sprite_spaceship11_color94 =	0
   1818  10000 ????		00 00	    sprite_spaceship11_color93 =	0
   1819  10000 ????		00 00	    sprite_spaceship11_color92 =	0
   1820  10000 ????		00 00	    sprite_spaceship11_color91 =	0
   1821  10000 ????		00 00	    sprite_spaceship11_color90 =	0
   1822  10000 ????		00 00	    sprite_spaceship11_color89 =	0
   1823  10000 ????		00 00	    sprite_spaceship11_color88 =	0
   1824  10000 ????		00 00	    sprite_spaceship11_color87 =	0
   1825  10000 ????		00 00	    sprite_spaceship11_color86 =	0
   1826  10000 ????		00 00	    sprite_spaceship11_color85 =	0
   1827  10000 ????		00 00	    sprite_spaceship11_color84 =	0
   1828  10000 ????		00 00	    sprite_spaceship11_color83 =	0
   1829  10000 ????		00 00	    sprite_spaceship11_color82 =	0
   1830  10000 ????		00 00	    sprite_spaceship11_color81 =	0
   1831  10000 ????		00 00	    sprite_spaceship11_color80 =	0
   1832  10000 ????		00 00	    sprite_spaceship11_color79 =	0
   1833  10000 ????		00 00	    sprite_spaceship11_color78 =	0
   1834  10000 ????		00 00	    sprite_spaceship11_color77 =	0
   1835  10000 ????		00 00	    sprite_spaceship11_color76 =	0
   1836  10000 ????		00 00	    sprite_spaceship11_color75 =	0
   1837  10000 ????		00 00	    sprite_spaceship11_color74 =	0
   1838  10000 ????		00 00	    sprite_spaceship11_color73 =	0
   1839  10000 ????		00 00	    sprite_spaceship11_color72 =	0
   1840  10000 ????		00 00	    sprite_spaceship11_color71 =	0
   1841  10000 ????		00 00	    sprite_spaceship11_color70 =	0
   1842  10000 ????		00 00	    sprite_spaceship11_color69 =	0
   1843  10000 ????		00 00	    sprite_spaceship11_color68 =	0
   1844  10000 ????		00 00	    sprite_spaceship11_color67 =	0
   1845  10000 ????		00 00	    sprite_spaceship11_color66 =	0
   1846  10000 ????		00 00	    sprite_spaceship11_color65 =	0
   1847  10000 ????		00 00	    sprite_spaceship11_color64 =	0
   1848  10000 ????		00 00	    sprite_spaceship11_color63 =	0
   1849  10000 ????		00 00	    sprite_spaceship11_color62 =	0
   1850  10000 ????		00 00	    sprite_spaceship11_color61 =	0
   1851  10000 ????		00 00	    sprite_spaceship11_color60 =	0
   1852  10000 ????		00 00	    sprite_spaceship11_color59 =	0
   1853  10000 ????		00 00	    sprite_spaceship11_color58 =	0
   1854  10000 ????		00 00	    sprite_spaceship11_color57 =	0
   1855  10000 ????		00 00	    sprite_spaceship11_color56 =	0
   1856  10000 ????		00 00	    sprite_spaceship11_color55 =	0
   1857  10000 ????		00 00	    sprite_spaceship11_color54 =	0
   1858  10000 ????		00 00	    sprite_spaceship11_color53 =	0
   1859  10000 ????		00 00	    sprite_spaceship11_color52 =	0
   1860  10000 ????		00 00	    sprite_spaceship11_color51 =	0
   1861  10000 ????		00 00	    sprite_spaceship11_color50 =	0
   1862  10000 ????		00 00	    sprite_spaceship11_color49 =	0
   1863  10000 ????		00 00	    sprite_spaceship11_color48 =	0
   1864  10000 ????		00 00	    sprite_spaceship11_color47 =	0
   1865  10000 ????		00 00	    sprite_spaceship11_color46 =	0
   1866  10000 ????		00 00	    sprite_spaceship11_color45 =	0
   1867  10000 ????		00 00	    sprite_spaceship11_color44 =	0
   1868  10000 ????		00 00	    sprite_spaceship11_color43 =	0
   1869  10000 ????		00 00	    sprite_spaceship11_color42 =	0
   1870  10000 ????		00 00	    sprite_spaceship11_color41 =	0
   1871  10000 ????		00 00	    sprite_spaceship11_color40 =	0
   1872  10000 ????		00 00	    sprite_spaceship11_color39 =	0
   1873  10000 ????		00 00	    sprite_spaceship11_color38 =	0
   1874  10000 ????		00 00	    sprite_spaceship11_color37 =	0
   1875  10000 ????		00 00	    sprite_spaceship11_color36 =	0
   1876  10000 ????		00 00	    sprite_spaceship11_color35 =	0
   1877  10000 ????		00 00	    sprite_spaceship11_color34 =	0
   1878  10000 ????		00 00	    sprite_spaceship11_color33 =	0
   1879  10000 ????		00 00	    sprite_spaceship11_color32 =	0
   1880  10000 ????		00 00	    sprite_spaceship11_color31 =	0
   1881  10000 ????		00 00	    sprite_spaceship11_color30 =	0
   1882  10000 ????		00 00	    sprite_spaceship11_color29 =	0
   1883  10000 ????		00 00	    sprite_spaceship11_color28 =	0
   1884  10000 ????		00 00	    sprite_spaceship11_color27 =	0
   1885  10000 ????		00 00	    sprite_spaceship11_color26 =	0
   1886  10000 ????		00 00	    sprite_spaceship11_color25 =	0
   1887  10000 ????		00 00	    sprite_spaceship11_color24 =	0
   1888  10000 ????		00 00	    sprite_spaceship11_color23 =	0
   1889  10000 ????		00 00	    sprite_spaceship11_color22 =	0
   1890  10000 ????		00 00	    sprite_spaceship11_color21 =	0
   1891  10000 ????		00 00	    sprite_spaceship11_color20 =	0
   1892  10000 ????		00 00	    sprite_spaceship11_color19 =	0
   1893  10000 ????		00 00	    sprite_spaceship11_color18 =	0
   1894  10000 ????		00 00	    sprite_spaceship11_color17 =	0
   1895  10000 ????		00 00	    sprite_spaceship11_color16 =	0
   1896  10000 ????		00 00	    sprite_spaceship11_color15 =	0
   1897  10000 ????		00 00	    sprite_spaceship11_color14 =	0
   1898  10000 ????		00 00	    sprite_spaceship11_color13 =	0
   1899  10000 ????		00 00	    sprite_spaceship11_color12 =	0
   1900  10000 ????		00 00	    sprite_spaceship11_color11 =	0
   1901  10000 ????		00 00	    sprite_spaceship11_color10 =	0
   1902  10000 ????		00 00	    sprite_spaceship11_color9 =	0
   1903  10000 ????		00 00	    sprite_spaceship11_color8 =	0
   1904  10000 ????		00 00	    sprite_spaceship11_color7 =	0
   1905  10000 ????		00 00	    sprite_spaceship11_color6 =	0
   1906  10000 ????		00 00	    sprite_spaceship11_color5 =	0
   1907  10000 ????		00 00	    sprite_spaceship11_color4 =	0
   1908  10000 ????		00 1e	    sprite_spaceship11_color3 =	$1e
   1909  10000 ????		00 81	    sprite_spaceship11_color2 =	$81
   1910  10000 ????		00 44	    sprite_spaceship11_color1 =	$44
   1911  10000 ????		00 00	    sprite_spaceship11_color0 =	$00
   1912  10000 ????		00 00	    sprite_spaceship10_color255 =	0
   1913  10000 ????		00 00	    sprite_spaceship10_color254 =	0
   1914  10000 ????		00 00	    sprite_spaceship10_color253 =	0
   1915  10000 ????		00 00	    sprite_spaceship10_color252 =	0
   1916  10000 ????		00 00	    sprite_spaceship10_color251 =	0
   1917  10000 ????		00 00	    sprite_spaceship10_color250 =	0
   1918  10000 ????		00 00	    sprite_spaceship10_color249 =	0
   1919  10000 ????		00 00	    sprite_spaceship10_color248 =	0
   1920  10000 ????		00 00	    sprite_spaceship10_color247 =	0
   1921  10000 ????		00 00	    sprite_spaceship10_color246 =	0
   1922  10000 ????		00 00	    sprite_spaceship10_color245 =	0
   1923  10000 ????		00 00	    sprite_spaceship10_color244 =	0
   1924  10000 ????		00 00	    sprite_spaceship10_color243 =	0
   1925  10000 ????		00 00	    sprite_spaceship10_color242 =	0
   1926  10000 ????		00 00	    sprite_spaceship10_color241 =	0
   1927  10000 ????		00 00	    sprite_spaceship10_color240 =	0
   1928  10000 ????		00 00	    sprite_spaceship10_color239 =	0
   1929  10000 ????		00 00	    sprite_spaceship10_color238 =	0
   1930  10000 ????		00 00	    sprite_spaceship10_color237 =	0
   1931  10000 ????		00 00	    sprite_spaceship10_color236 =	0
   1932  10000 ????		00 00	    sprite_spaceship10_color235 =	0
   1933  10000 ????		00 00	    sprite_spaceship10_color234 =	0
   1934  10000 ????		00 00	    sprite_spaceship10_color233 =	0
   1935  10000 ????		00 00	    sprite_spaceship10_color232 =	0
   1936  10000 ????		00 00	    sprite_spaceship10_color231 =	0
   1937  10000 ????		00 00	    sprite_spaceship10_color230 =	0
   1938  10000 ????		00 00	    sprite_spaceship10_color229 =	0
   1939  10000 ????		00 00	    sprite_spaceship10_color228 =	0
   1940  10000 ????		00 00	    sprite_spaceship10_color227 =	0
   1941  10000 ????		00 00	    sprite_spaceship10_color226 =	0
   1942  10000 ????		00 00	    sprite_spaceship10_color225 =	0
   1943  10000 ????		00 00	    sprite_spaceship10_color224 =	0
   1944  10000 ????		00 00	    sprite_spaceship10_color223 =	0
   1945  10000 ????		00 00	    sprite_spaceship10_color222 =	0
   1946  10000 ????		00 00	    sprite_spaceship10_color221 =	0
   1947  10000 ????		00 00	    sprite_spaceship10_color220 =	0
   1948  10000 ????		00 00	    sprite_spaceship10_color219 =	0
   1949  10000 ????		00 00	    sprite_spaceship10_color218 =	0
   1950  10000 ????		00 00	    sprite_spaceship10_color217 =	0
   1951  10000 ????		00 00	    sprite_spaceship10_color216 =	0
   1952  10000 ????		00 00	    sprite_spaceship10_color215 =	0
   1953  10000 ????		00 00	    sprite_spaceship10_color214 =	0
   1954  10000 ????		00 00	    sprite_spaceship10_color213 =	0
   1955  10000 ????		00 00	    sprite_spaceship10_color212 =	0
   1956  10000 ????		00 00	    sprite_spaceship10_color211 =	0
   1957  10000 ????		00 00	    sprite_spaceship10_color210 =	0
   1958  10000 ????		00 00	    sprite_spaceship10_color209 =	0
   1959  10000 ????		00 00	    sprite_spaceship10_color208 =	0
   1960  10000 ????		00 00	    sprite_spaceship10_color207 =	0
   1961  10000 ????		00 00	    sprite_spaceship10_color206 =	0
   1962  10000 ????		00 00	    sprite_spaceship10_color205 =	0
   1963  10000 ????		00 00	    sprite_spaceship10_color204 =	0
   1964  10000 ????		00 00	    sprite_spaceship10_color203 =	0
   1965  10000 ????		00 00	    sprite_spaceship10_color202 =	0
   1966  10000 ????		00 00	    sprite_spaceship10_color201 =	0
   1967  10000 ????		00 00	    sprite_spaceship10_color200 =	0
   1968  10000 ????		00 00	    sprite_spaceship10_color199 =	0
   1969  10000 ????		00 00	    sprite_spaceship10_color198 =	0
   1970  10000 ????		00 00	    sprite_spaceship10_color197 =	0
   1971  10000 ????		00 00	    sprite_spaceship10_color196 =	0
   1972  10000 ????		00 00	    sprite_spaceship10_color195 =	0
   1973  10000 ????		00 00	    sprite_spaceship10_color194 =	0
   1974  10000 ????		00 00	    sprite_spaceship10_color193 =	0
   1975  10000 ????		00 00	    sprite_spaceship10_color192 =	0
   1976  10000 ????		00 00	    sprite_spaceship10_color191 =	0
   1977  10000 ????		00 00	    sprite_spaceship10_color190 =	0
   1978  10000 ????		00 00	    sprite_spaceship10_color189 =	0
   1979  10000 ????		00 00	    sprite_spaceship10_color188 =	0
   1980  10000 ????		00 00	    sprite_spaceship10_color187 =	0
   1981  10000 ????		00 00	    sprite_spaceship10_color186 =	0
   1982  10000 ????		00 00	    sprite_spaceship10_color185 =	0
   1983  10000 ????		00 00	    sprite_spaceship10_color184 =	0
   1984  10000 ????		00 00	    sprite_spaceship10_color183 =	0
   1985  10000 ????		00 00	    sprite_spaceship10_color182 =	0
   1986  10000 ????		00 00	    sprite_spaceship10_color181 =	0
   1987  10000 ????		00 00	    sprite_spaceship10_color180 =	0
   1988  10000 ????		00 00	    sprite_spaceship10_color179 =	0
   1989  10000 ????		00 00	    sprite_spaceship10_color178 =	0
   1990  10000 ????		00 00	    sprite_spaceship10_color177 =	0
   1991  10000 ????		00 00	    sprite_spaceship10_color176 =	0
   1992  10000 ????		00 00	    sprite_spaceship10_color175 =	0
   1993  10000 ????		00 00	    sprite_spaceship10_color174 =	0
   1994  10000 ????		00 00	    sprite_spaceship10_color173 =	0
   1995  10000 ????		00 00	    sprite_spaceship10_color172 =	0
   1996  10000 ????		00 00	    sprite_spaceship10_color171 =	0
   1997  10000 ????		00 00	    sprite_spaceship10_color170 =	0
   1998  10000 ????		00 00	    sprite_spaceship10_color169 =	0
   1999  10000 ????		00 00	    sprite_spaceship10_color168 =	0
   2000  10000 ????		00 00	    sprite_spaceship10_color167 =	0
   2001  10000 ????		00 00	    sprite_spaceship10_color166 =	0
   2002  10000 ????		00 00	    sprite_spaceship10_color165 =	0
   2003  10000 ????		00 00	    sprite_spaceship10_color164 =	0
   2004  10000 ????		00 00	    sprite_spaceship10_color163 =	0
   2005  10000 ????		00 00	    sprite_spaceship10_color162 =	0
   2006  10000 ????		00 00	    sprite_spaceship10_color161 =	0
   2007  10000 ????		00 00	    sprite_spaceship10_color160 =	0
   2008  10000 ????		00 00	    sprite_spaceship10_color159 =	0
   2009  10000 ????		00 00	    sprite_spaceship10_color158 =	0
   2010  10000 ????		00 00	    sprite_spaceship10_color157 =	0
   2011  10000 ????		00 00	    sprite_spaceship10_color156 =	0
   2012  10000 ????		00 00	    sprite_spaceship10_color155 =	0
   2013  10000 ????		00 00	    sprite_spaceship10_color154 =	0
   2014  10000 ????		00 00	    sprite_spaceship10_color153 =	0
   2015  10000 ????		00 00	    sprite_spaceship10_color152 =	0
   2016  10000 ????		00 00	    sprite_spaceship10_color151 =	0
   2017  10000 ????		00 00	    sprite_spaceship10_color150 =	0
   2018  10000 ????		00 00	    sprite_spaceship10_color149 =	0
   2019  10000 ????		00 00	    sprite_spaceship10_color148 =	0
   2020  10000 ????		00 00	    sprite_spaceship10_color147 =	0
   2021  10000 ????		00 00	    sprite_spaceship10_color146 =	0
   2022  10000 ????		00 00	    sprite_spaceship10_color145 =	0
   2023  10000 ????		00 00	    sprite_spaceship10_color144 =	0
   2024  10000 ????		00 00	    sprite_spaceship10_color143 =	0
   2025  10000 ????		00 00	    sprite_spaceship10_color142 =	0
   2026  10000 ????		00 00	    sprite_spaceship10_color141 =	0
   2027  10000 ????		00 00	    sprite_spaceship10_color140 =	0
   2028  10000 ????		00 00	    sprite_spaceship10_color139 =	0
   2029  10000 ????		00 00	    sprite_spaceship10_color138 =	0
   2030  10000 ????		00 00	    sprite_spaceship10_color137 =	0
   2031  10000 ????		00 00	    sprite_spaceship10_color136 =	0
   2032  10000 ????		00 00	    sprite_spaceship10_color135 =	0
   2033  10000 ????		00 00	    sprite_spaceship10_color134 =	0
   2034  10000 ????		00 00	    sprite_spaceship10_color133 =	0
   2035  10000 ????		00 00	    sprite_spaceship10_color132 =	0
   2036  10000 ????		00 00	    sprite_spaceship10_color131 =	0
   2037  10000 ????		00 00	    sprite_spaceship10_color130 =	0
   2038  10000 ????		00 00	    sprite_spaceship10_color129 =	0
   2039  10000 ????		00 00	    sprite_spaceship10_color128 =	0
   2040  10000 ????		00 00	    sprite_spaceship10_color127 =	0
   2041  10000 ????		00 00	    sprite_spaceship10_color126 =	0
   2042  10000 ????		00 00	    sprite_spaceship10_color125 =	0
   2043  10000 ????		00 00	    sprite_spaceship10_color124 =	0
   2044  10000 ????		00 00	    sprite_spaceship10_color123 =	0
   2045  10000 ????		00 00	    sprite_spaceship10_color122 =	0
   2046  10000 ????		00 00	    sprite_spaceship10_color121 =	0
   2047  10000 ????		00 00	    sprite_spaceship10_color120 =	0
   2048  10000 ????		00 00	    sprite_spaceship10_color119 =	0
   2049  10000 ????		00 00	    sprite_spaceship10_color118 =	0
   2050  10000 ????		00 00	    sprite_spaceship10_color117 =	0
   2051  10000 ????		00 00	    sprite_spaceship10_color116 =	0
   2052  10000 ????		00 00	    sprite_spaceship10_color115 =	0
   2053  10000 ????		00 00	    sprite_spaceship10_color114 =	0
   2054  10000 ????		00 00	    sprite_spaceship10_color113 =	0
   2055  10000 ????		00 00	    sprite_spaceship10_color112 =	0
   2056  10000 ????		00 00	    sprite_spaceship10_color111 =	0
   2057  10000 ????		00 00	    sprite_spaceship10_color110 =	0
   2058  10000 ????		00 00	    sprite_spaceship10_color109 =	0
   2059  10000 ????		00 00	    sprite_spaceship10_color108 =	0
   2060  10000 ????		00 00	    sprite_spaceship10_color107 =	0
   2061  10000 ????		00 00	    sprite_spaceship10_color106 =	0
   2062  10000 ????		00 00	    sprite_spaceship10_color105 =	0
   2063  10000 ????		00 00	    sprite_spaceship10_color104 =	0
   2064  10000 ????		00 00	    sprite_spaceship10_color103 =	0
   2065  10000 ????		00 00	    sprite_spaceship10_color102 =	0
   2066  10000 ????		00 00	    sprite_spaceship10_color101 =	0
   2067  10000 ????		00 00	    sprite_spaceship10_color100 =	0
   2068  10000 ????		00 00	    sprite_spaceship10_color99 =	0
   2069  10000 ????		00 00	    sprite_spaceship10_color98 =	0
   2070  10000 ????		00 00	    sprite_spaceship10_color97 =	0
   2071  10000 ????		00 00	    sprite_spaceship10_color96 =	0
   2072  10000 ????		00 00	    sprite_spaceship10_color95 =	0
   2073  10000 ????		00 00	    sprite_spaceship10_color94 =	0
   2074  10000 ????		00 00	    sprite_spaceship10_color93 =	0
   2075  10000 ????		00 00	    sprite_spaceship10_color92 =	0
   2076  10000 ????		00 00	    sprite_spaceship10_color91 =	0
   2077  10000 ????		00 00	    sprite_spaceship10_color90 =	0
   2078  10000 ????		00 00	    sprite_spaceship10_color89 =	0
   2079  10000 ????		00 00	    sprite_spaceship10_color88 =	0
   2080  10000 ????		00 00	    sprite_spaceship10_color87 =	0
   2081  10000 ????		00 00	    sprite_spaceship10_color86 =	0
   2082  10000 ????		00 00	    sprite_spaceship10_color85 =	0
   2083  10000 ????		00 00	    sprite_spaceship10_color84 =	0
   2084  10000 ????		00 00	    sprite_spaceship10_color83 =	0
   2085  10000 ????		00 00	    sprite_spaceship10_color82 =	0
   2086  10000 ????		00 00	    sprite_spaceship10_color81 =	0
   2087  10000 ????		00 00	    sprite_spaceship10_color80 =	0
   2088  10000 ????		00 00	    sprite_spaceship10_color79 =	0
   2089  10000 ????		00 00	    sprite_spaceship10_color78 =	0
   2090  10000 ????		00 00	    sprite_spaceship10_color77 =	0
   2091  10000 ????		00 00	    sprite_spaceship10_color76 =	0
   2092  10000 ????		00 00	    sprite_spaceship10_color75 =	0
   2093  10000 ????		00 00	    sprite_spaceship10_color74 =	0
   2094  10000 ????		00 00	    sprite_spaceship10_color73 =	0
   2095  10000 ????		00 00	    sprite_spaceship10_color72 =	0
   2096  10000 ????		00 00	    sprite_spaceship10_color71 =	0
   2097  10000 ????		00 00	    sprite_spaceship10_color70 =	0
   2098  10000 ????		00 00	    sprite_spaceship10_color69 =	0
   2099  10000 ????		00 00	    sprite_spaceship10_color68 =	0
   2100  10000 ????		00 00	    sprite_spaceship10_color67 =	0
   2101  10000 ????		00 00	    sprite_spaceship10_color66 =	0
   2102  10000 ????		00 00	    sprite_spaceship10_color65 =	0
   2103  10000 ????		00 00	    sprite_spaceship10_color64 =	0
   2104  10000 ????		00 00	    sprite_spaceship10_color63 =	0
   2105  10000 ????		00 00	    sprite_spaceship10_color62 =	0
   2106  10000 ????		00 00	    sprite_spaceship10_color61 =	0
   2107  10000 ????		00 00	    sprite_spaceship10_color60 =	0
   2108  10000 ????		00 00	    sprite_spaceship10_color59 =	0
   2109  10000 ????		00 00	    sprite_spaceship10_color58 =	0
   2110  10000 ????		00 00	    sprite_spaceship10_color57 =	0
   2111  10000 ????		00 00	    sprite_spaceship10_color56 =	0
   2112  10000 ????		00 00	    sprite_spaceship10_color55 =	0
   2113  10000 ????		00 00	    sprite_spaceship10_color54 =	0
   2114  10000 ????		00 00	    sprite_spaceship10_color53 =	0
   2115  10000 ????		00 00	    sprite_spaceship10_color52 =	0
   2116  10000 ????		00 00	    sprite_spaceship10_color51 =	0
   2117  10000 ????		00 00	    sprite_spaceship10_color50 =	0
   2118  10000 ????		00 00	    sprite_spaceship10_color49 =	0
   2119  10000 ????		00 00	    sprite_spaceship10_color48 =	0
   2120  10000 ????		00 00	    sprite_spaceship10_color47 =	0
   2121  10000 ????		00 00	    sprite_spaceship10_color46 =	0
   2122  10000 ????		00 00	    sprite_spaceship10_color45 =	0
   2123  10000 ????		00 00	    sprite_spaceship10_color44 =	0
   2124  10000 ????		00 00	    sprite_spaceship10_color43 =	0
   2125  10000 ????		00 00	    sprite_spaceship10_color42 =	0
   2126  10000 ????		00 00	    sprite_spaceship10_color41 =	0
   2127  10000 ????		00 00	    sprite_spaceship10_color40 =	0
   2128  10000 ????		00 00	    sprite_spaceship10_color39 =	0
   2129  10000 ????		00 00	    sprite_spaceship10_color38 =	0
   2130  10000 ????		00 00	    sprite_spaceship10_color37 =	0
   2131  10000 ????		00 00	    sprite_spaceship10_color36 =	0
   2132  10000 ????		00 00	    sprite_spaceship10_color35 =	0
   2133  10000 ????		00 00	    sprite_spaceship10_color34 =	0
   2134  10000 ????		00 00	    sprite_spaceship10_color33 =	0
   2135  10000 ????		00 00	    sprite_spaceship10_color32 =	0
   2136  10000 ????		00 00	    sprite_spaceship10_color31 =	0
   2137  10000 ????		00 00	    sprite_spaceship10_color30 =	0
   2138  10000 ????		00 00	    sprite_spaceship10_color29 =	0
   2139  10000 ????		00 00	    sprite_spaceship10_color28 =	0
   2140  10000 ????		00 00	    sprite_spaceship10_color27 =	0
   2141  10000 ????		00 00	    sprite_spaceship10_color26 =	0
   2142  10000 ????		00 00	    sprite_spaceship10_color25 =	0
   2143  10000 ????		00 00	    sprite_spaceship10_color24 =	0
   2144  10000 ????		00 00	    sprite_spaceship10_color23 =	0
   2145  10000 ????		00 00	    sprite_spaceship10_color22 =	0
   2146  10000 ????		00 00	    sprite_spaceship10_color21 =	0
   2147  10000 ????		00 00	    sprite_spaceship10_color20 =	0
   2148  10000 ????		00 00	    sprite_spaceship10_color19 =	0
   2149  10000 ????		00 00	    sprite_spaceship10_color18 =	0
   2150  10000 ????		00 00	    sprite_spaceship10_color17 =	0
   2151  10000 ????		00 00	    sprite_spaceship10_color16 =	0
   2152  10000 ????		00 00	    sprite_spaceship10_color15 =	0
   2153  10000 ????		00 00	    sprite_spaceship10_color14 =	0
   2154  10000 ????		00 00	    sprite_spaceship10_color13 =	0
   2155  10000 ????		00 00	    sprite_spaceship10_color12 =	0
   2156  10000 ????		00 00	    sprite_spaceship10_color11 =	0
   2157  10000 ????		00 00	    sprite_spaceship10_color10 =	0
   2158  10000 ????		00 00	    sprite_spaceship10_color9 =	0
   2159  10000 ????		00 00	    sprite_spaceship10_color8 =	0
   2160  10000 ????		00 00	    sprite_spaceship10_color7 =	0
   2161  10000 ????		00 00	    sprite_spaceship10_color6 =	0
   2162  10000 ????		00 00	    sprite_spaceship10_color5 =	0
   2163  10000 ????		00 00	    sprite_spaceship10_color4 =	0
   2164  10000 ????		00 1e	    sprite_spaceship10_color3 =	$1e
   2165  10000 ????		00 81	    sprite_spaceship10_color2 =	$81
   2166  10000 ????		00 44	    sprite_spaceship10_color1 =	$44
   2167  10000 ????		00 00	    sprite_spaceship10_color0 =	$00
   2168  10000 ????		00 00	    sprite_spaceship9_color255 =	0
   2169  10000 ????		00 00	    sprite_spaceship9_color254 =	0
   2170  10000 ????		00 00	    sprite_spaceship9_color253 =	0
   2171  10000 ????		00 00	    sprite_spaceship9_color252 =	0
   2172  10000 ????		00 00	    sprite_spaceship9_color251 =	0
   2173  10000 ????		00 00	    sprite_spaceship9_color250 =	0
   2174  10000 ????		00 00	    sprite_spaceship9_color249 =	0
   2175  10000 ????		00 00	    sprite_spaceship9_color248 =	0
   2176  10000 ????		00 00	    sprite_spaceship9_color247 =	0
   2177  10000 ????		00 00	    sprite_spaceship9_color246 =	0
   2178  10000 ????		00 00	    sprite_spaceship9_color245 =	0
   2179  10000 ????		00 00	    sprite_spaceship9_color244 =	0
   2180  10000 ????		00 00	    sprite_spaceship9_color243 =	0
   2181  10000 ????		00 00	    sprite_spaceship9_color242 =	0
   2182  10000 ????		00 00	    sprite_spaceship9_color241 =	0
   2183  10000 ????		00 00	    sprite_spaceship9_color240 =	0
   2184  10000 ????		00 00	    sprite_spaceship9_color239 =	0
   2185  10000 ????		00 00	    sprite_spaceship9_color238 =	0
   2186  10000 ????		00 00	    sprite_spaceship9_color237 =	0
   2187  10000 ????		00 00	    sprite_spaceship9_color236 =	0
   2188  10000 ????		00 00	    sprite_spaceship9_color235 =	0
   2189  10000 ????		00 00	    sprite_spaceship9_color234 =	0
   2190  10000 ????		00 00	    sprite_spaceship9_color233 =	0
   2191  10000 ????		00 00	    sprite_spaceship9_color232 =	0
   2192  10000 ????		00 00	    sprite_spaceship9_color231 =	0
   2193  10000 ????		00 00	    sprite_spaceship9_color230 =	0
   2194  10000 ????		00 00	    sprite_spaceship9_color229 =	0
   2195  10000 ????		00 00	    sprite_spaceship9_color228 =	0
   2196  10000 ????		00 00	    sprite_spaceship9_color227 =	0
   2197  10000 ????		00 00	    sprite_spaceship9_color226 =	0
   2198  10000 ????		00 00	    sprite_spaceship9_color225 =	0
   2199  10000 ????		00 00	    sprite_spaceship9_color224 =	0
   2200  10000 ????		00 00	    sprite_spaceship9_color223 =	0
   2201  10000 ????		00 00	    sprite_spaceship9_color222 =	0
   2202  10000 ????		00 00	    sprite_spaceship9_color221 =	0
   2203  10000 ????		00 00	    sprite_spaceship9_color220 =	0
   2204  10000 ????		00 00	    sprite_spaceship9_color219 =	0
   2205  10000 ????		00 00	    sprite_spaceship9_color218 =	0
   2206  10000 ????		00 00	    sprite_spaceship9_color217 =	0
   2207  10000 ????		00 00	    sprite_spaceship9_color216 =	0
   2208  10000 ????		00 00	    sprite_spaceship9_color215 =	0
   2209  10000 ????		00 00	    sprite_spaceship9_color214 =	0
   2210  10000 ????		00 00	    sprite_spaceship9_color213 =	0
   2211  10000 ????		00 00	    sprite_spaceship9_color212 =	0
   2212  10000 ????		00 00	    sprite_spaceship9_color211 =	0
   2213  10000 ????		00 00	    sprite_spaceship9_color210 =	0
   2214  10000 ????		00 00	    sprite_spaceship9_color209 =	0
   2215  10000 ????		00 00	    sprite_spaceship9_color208 =	0
   2216  10000 ????		00 00	    sprite_spaceship9_color207 =	0
   2217  10000 ????		00 00	    sprite_spaceship9_color206 =	0
   2218  10000 ????		00 00	    sprite_spaceship9_color205 =	0
   2219  10000 ????		00 00	    sprite_spaceship9_color204 =	0
   2220  10000 ????		00 00	    sprite_spaceship9_color203 =	0
   2221  10000 ????		00 00	    sprite_spaceship9_color202 =	0
   2222  10000 ????		00 00	    sprite_spaceship9_color201 =	0
   2223  10000 ????		00 00	    sprite_spaceship9_color200 =	0
   2224  10000 ????		00 00	    sprite_spaceship9_color199 =	0
   2225  10000 ????		00 00	    sprite_spaceship9_color198 =	0
   2226  10000 ????		00 00	    sprite_spaceship9_color197 =	0
   2227  10000 ????		00 00	    sprite_spaceship9_color196 =	0
   2228  10000 ????		00 00	    sprite_spaceship9_color195 =	0
   2229  10000 ????		00 00	    sprite_spaceship9_color194 =	0
   2230  10000 ????		00 00	    sprite_spaceship9_color193 =	0
   2231  10000 ????		00 00	    sprite_spaceship9_color192 =	0
   2232  10000 ????		00 00	    sprite_spaceship9_color191 =	0
   2233  10000 ????		00 00	    sprite_spaceship9_color190 =	0
   2234  10000 ????		00 00	    sprite_spaceship9_color189 =	0
   2235  10000 ????		00 00	    sprite_spaceship9_color188 =	0
   2236  10000 ????		00 00	    sprite_spaceship9_color187 =	0
   2237  10000 ????		00 00	    sprite_spaceship9_color186 =	0
   2238  10000 ????		00 00	    sprite_spaceship9_color185 =	0
   2239  10000 ????		00 00	    sprite_spaceship9_color184 =	0
   2240  10000 ????		00 00	    sprite_spaceship9_color183 =	0
   2241  10000 ????		00 00	    sprite_spaceship9_color182 =	0
   2242  10000 ????		00 00	    sprite_spaceship9_color181 =	0
   2243  10000 ????		00 00	    sprite_spaceship9_color180 =	0
   2244  10000 ????		00 00	    sprite_spaceship9_color179 =	0
   2245  10000 ????		00 00	    sprite_spaceship9_color178 =	0
   2246  10000 ????		00 00	    sprite_spaceship9_color177 =	0
   2247  10000 ????		00 00	    sprite_spaceship9_color176 =	0
   2248  10000 ????		00 00	    sprite_spaceship9_color175 =	0
   2249  10000 ????		00 00	    sprite_spaceship9_color174 =	0
   2250  10000 ????		00 00	    sprite_spaceship9_color173 =	0
   2251  10000 ????		00 00	    sprite_spaceship9_color172 =	0
   2252  10000 ????		00 00	    sprite_spaceship9_color171 =	0
   2253  10000 ????		00 00	    sprite_spaceship9_color170 =	0
   2254  10000 ????		00 00	    sprite_spaceship9_color169 =	0
   2255  10000 ????		00 00	    sprite_spaceship9_color168 =	0
   2256  10000 ????		00 00	    sprite_spaceship9_color167 =	0
   2257  10000 ????		00 00	    sprite_spaceship9_color166 =	0
   2258  10000 ????		00 00	    sprite_spaceship9_color165 =	0
   2259  10000 ????		00 00	    sprite_spaceship9_color164 =	0
   2260  10000 ????		00 00	    sprite_spaceship9_color163 =	0
   2261  10000 ????		00 00	    sprite_spaceship9_color162 =	0
   2262  10000 ????		00 00	    sprite_spaceship9_color161 =	0
   2263  10000 ????		00 00	    sprite_spaceship9_color160 =	0
   2264  10000 ????		00 00	    sprite_spaceship9_color159 =	0
   2265  10000 ????		00 00	    sprite_spaceship9_color158 =	0
   2266  10000 ????		00 00	    sprite_spaceship9_color157 =	0
   2267  10000 ????		00 00	    sprite_spaceship9_color156 =	0
   2268  10000 ????		00 00	    sprite_spaceship9_color155 =	0
   2269  10000 ????		00 00	    sprite_spaceship9_color154 =	0
   2270  10000 ????		00 00	    sprite_spaceship9_color153 =	0
   2271  10000 ????		00 00	    sprite_spaceship9_color152 =	0
   2272  10000 ????		00 00	    sprite_spaceship9_color151 =	0
   2273  10000 ????		00 00	    sprite_spaceship9_color150 =	0
   2274  10000 ????		00 00	    sprite_spaceship9_color149 =	0
   2275  10000 ????		00 00	    sprite_spaceship9_color148 =	0
   2276  10000 ????		00 00	    sprite_spaceship9_color147 =	0
   2277  10000 ????		00 00	    sprite_spaceship9_color146 =	0
   2278  10000 ????		00 00	    sprite_spaceship9_color145 =	0
   2279  10000 ????		00 00	    sprite_spaceship9_color144 =	0
   2280  10000 ????		00 00	    sprite_spaceship9_color143 =	0
   2281  10000 ????		00 00	    sprite_spaceship9_color142 =	0
   2282  10000 ????		00 00	    sprite_spaceship9_color141 =	0
   2283  10000 ????		00 00	    sprite_spaceship9_color140 =	0
   2284  10000 ????		00 00	    sprite_spaceship9_color139 =	0
   2285  10000 ????		00 00	    sprite_spaceship9_color138 =	0
   2286  10000 ????		00 00	    sprite_spaceship9_color137 =	0
   2287  10000 ????		00 00	    sprite_spaceship9_color136 =	0
   2288  10000 ????		00 00	    sprite_spaceship9_color135 =	0
   2289  10000 ????		00 00	    sprite_spaceship9_color134 =	0
   2290  10000 ????		00 00	    sprite_spaceship9_color133 =	0
   2291  10000 ????		00 00	    sprite_spaceship9_color132 =	0
   2292  10000 ????		00 00	    sprite_spaceship9_color131 =	0
   2293  10000 ????		00 00	    sprite_spaceship9_color130 =	0
   2294  10000 ????		00 00	    sprite_spaceship9_color129 =	0
   2295  10000 ????		00 00	    sprite_spaceship9_color128 =	0
   2296  10000 ????		00 00	    sprite_spaceship9_color127 =	0
   2297  10000 ????		00 00	    sprite_spaceship9_color126 =	0
   2298  10000 ????		00 00	    sprite_spaceship9_color125 =	0
   2299  10000 ????		00 00	    sprite_spaceship9_color124 =	0
   2300  10000 ????		00 00	    sprite_spaceship9_color123 =	0
   2301  10000 ????		00 00	    sprite_spaceship9_color122 =	0
   2302  10000 ????		00 00	    sprite_spaceship9_color121 =	0
   2303  10000 ????		00 00	    sprite_spaceship9_color120 =	0
   2304  10000 ????		00 00	    sprite_spaceship9_color119 =	0
   2305  10000 ????		00 00	    sprite_spaceship9_color118 =	0
   2306  10000 ????		00 00	    sprite_spaceship9_color117 =	0
   2307  10000 ????		00 00	    sprite_spaceship9_color116 =	0
   2308  10000 ????		00 00	    sprite_spaceship9_color115 =	0
   2309  10000 ????		00 00	    sprite_spaceship9_color114 =	0
   2310  10000 ????		00 00	    sprite_spaceship9_color113 =	0
   2311  10000 ????		00 00	    sprite_spaceship9_color112 =	0
   2312  10000 ????		00 00	    sprite_spaceship9_color111 =	0
   2313  10000 ????		00 00	    sprite_spaceship9_color110 =	0
   2314  10000 ????		00 00	    sprite_spaceship9_color109 =	0
   2315  10000 ????		00 00	    sprite_spaceship9_color108 =	0
   2316  10000 ????		00 00	    sprite_spaceship9_color107 =	0
   2317  10000 ????		00 00	    sprite_spaceship9_color106 =	0
   2318  10000 ????		00 00	    sprite_spaceship9_color105 =	0
   2319  10000 ????		00 00	    sprite_spaceship9_color104 =	0
   2320  10000 ????		00 00	    sprite_spaceship9_color103 =	0
   2321  10000 ????		00 00	    sprite_spaceship9_color102 =	0
   2322  10000 ????		00 00	    sprite_spaceship9_color101 =	0
   2323  10000 ????		00 00	    sprite_spaceship9_color100 =	0
   2324  10000 ????		00 00	    sprite_spaceship9_color99 =	0
   2325  10000 ????		00 00	    sprite_spaceship9_color98 =	0
   2326  10000 ????		00 00	    sprite_spaceship9_color97 =	0
   2327  10000 ????		00 00	    sprite_spaceship9_color96 =	0
   2328  10000 ????		00 00	    sprite_spaceship9_color95 =	0
   2329  10000 ????		00 00	    sprite_spaceship9_color94 =	0
   2330  10000 ????		00 00	    sprite_spaceship9_color93 =	0
   2331  10000 ????		00 00	    sprite_spaceship9_color92 =	0
   2332  10000 ????		00 00	    sprite_spaceship9_color91 =	0
   2333  10000 ????		00 00	    sprite_spaceship9_color90 =	0
   2334  10000 ????		00 00	    sprite_spaceship9_color89 =	0
   2335  10000 ????		00 00	    sprite_spaceship9_color88 =	0
   2336  10000 ????		00 00	    sprite_spaceship9_color87 =	0
   2337  10000 ????		00 00	    sprite_spaceship9_color86 =	0
   2338  10000 ????		00 00	    sprite_spaceship9_color85 =	0
   2339  10000 ????		00 00	    sprite_spaceship9_color84 =	0
   2340  10000 ????		00 00	    sprite_spaceship9_color83 =	0
   2341  10000 ????		00 00	    sprite_spaceship9_color82 =	0
   2342  10000 ????		00 00	    sprite_spaceship9_color81 =	0
   2343  10000 ????		00 00	    sprite_spaceship9_color80 =	0
   2344  10000 ????		00 00	    sprite_spaceship9_color79 =	0
   2345  10000 ????		00 00	    sprite_spaceship9_color78 =	0
   2346  10000 ????		00 00	    sprite_spaceship9_color77 =	0
   2347  10000 ????		00 00	    sprite_spaceship9_color76 =	0
   2348  10000 ????		00 00	    sprite_spaceship9_color75 =	0
   2349  10000 ????		00 00	    sprite_spaceship9_color74 =	0
   2350  10000 ????		00 00	    sprite_spaceship9_color73 =	0
   2351  10000 ????		00 00	    sprite_spaceship9_color72 =	0
   2352  10000 ????		00 00	    sprite_spaceship9_color71 =	0
   2353  10000 ????		00 00	    sprite_spaceship9_color70 =	0
   2354  10000 ????		00 00	    sprite_spaceship9_color69 =	0
   2355  10000 ????		00 00	    sprite_spaceship9_color68 =	0
   2356  10000 ????		00 00	    sprite_spaceship9_color67 =	0
   2357  10000 ????		00 00	    sprite_spaceship9_color66 =	0
   2358  10000 ????		00 00	    sprite_spaceship9_color65 =	0
   2359  10000 ????		00 00	    sprite_spaceship9_color64 =	0
   2360  10000 ????		00 00	    sprite_spaceship9_color63 =	0
   2361  10000 ????		00 00	    sprite_spaceship9_color62 =	0
   2362  10000 ????		00 00	    sprite_spaceship9_color61 =	0
   2363  10000 ????		00 00	    sprite_spaceship9_color60 =	0
   2364  10000 ????		00 00	    sprite_spaceship9_color59 =	0
   2365  10000 ????		00 00	    sprite_spaceship9_color58 =	0
   2366  10000 ????		00 00	    sprite_spaceship9_color57 =	0
   2367  10000 ????		00 00	    sprite_spaceship9_color56 =	0
   2368  10000 ????		00 00	    sprite_spaceship9_color55 =	0
   2369  10000 ????		00 00	    sprite_spaceship9_color54 =	0
   2370  10000 ????		00 00	    sprite_spaceship9_color53 =	0
   2371  10000 ????		00 00	    sprite_spaceship9_color52 =	0
   2372  10000 ????		00 00	    sprite_spaceship9_color51 =	0
   2373  10000 ????		00 00	    sprite_spaceship9_color50 =	0
   2374  10000 ????		00 00	    sprite_spaceship9_color49 =	0
   2375  10000 ????		00 00	    sprite_spaceship9_color48 =	0
   2376  10000 ????		00 00	    sprite_spaceship9_color47 =	0
   2377  10000 ????		00 00	    sprite_spaceship9_color46 =	0
   2378  10000 ????		00 00	    sprite_spaceship9_color45 =	0
   2379  10000 ????		00 00	    sprite_spaceship9_color44 =	0
   2380  10000 ????		00 00	    sprite_spaceship9_color43 =	0
   2381  10000 ????		00 00	    sprite_spaceship9_color42 =	0
   2382  10000 ????		00 00	    sprite_spaceship9_color41 =	0
   2383  10000 ????		00 00	    sprite_spaceship9_color40 =	0
   2384  10000 ????		00 00	    sprite_spaceship9_color39 =	0
   2385  10000 ????		00 00	    sprite_spaceship9_color38 =	0
   2386  10000 ????		00 00	    sprite_spaceship9_color37 =	0
   2387  10000 ????		00 00	    sprite_spaceship9_color36 =	0
   2388  10000 ????		00 00	    sprite_spaceship9_color35 =	0
   2389  10000 ????		00 00	    sprite_spaceship9_color34 =	0
   2390  10000 ????		00 00	    sprite_spaceship9_color33 =	0
   2391  10000 ????		00 00	    sprite_spaceship9_color32 =	0
   2392  10000 ????		00 00	    sprite_spaceship9_color31 =	0
   2393  10000 ????		00 00	    sprite_spaceship9_color30 =	0
   2394  10000 ????		00 00	    sprite_spaceship9_color29 =	0
   2395  10000 ????		00 00	    sprite_spaceship9_color28 =	0
   2396  10000 ????		00 00	    sprite_spaceship9_color27 =	0
   2397  10000 ????		00 00	    sprite_spaceship9_color26 =	0
   2398  10000 ????		00 00	    sprite_spaceship9_color25 =	0
   2399  10000 ????		00 00	    sprite_spaceship9_color24 =	0
   2400  10000 ????		00 00	    sprite_spaceship9_color23 =	0
   2401  10000 ????		00 00	    sprite_spaceship9_color22 =	0
   2402  10000 ????		00 00	    sprite_spaceship9_color21 =	0
   2403  10000 ????		00 00	    sprite_spaceship9_color20 =	0
   2404  10000 ????		00 00	    sprite_spaceship9_color19 =	0
   2405  10000 ????		00 00	    sprite_spaceship9_color18 =	0
   2406  10000 ????		00 00	    sprite_spaceship9_color17 =	0
   2407  10000 ????		00 00	    sprite_spaceship9_color16 =	0
   2408  10000 ????		00 00	    sprite_spaceship9_color15 =	0
   2409  10000 ????		00 00	    sprite_spaceship9_color14 =	0
   2410  10000 ????		00 00	    sprite_spaceship9_color13 =	0
   2411  10000 ????		00 00	    sprite_spaceship9_color12 =	0
   2412  10000 ????		00 00	    sprite_spaceship9_color11 =	0
   2413  10000 ????		00 00	    sprite_spaceship9_color10 =	0
   2414  10000 ????		00 00	    sprite_spaceship9_color9 =	0
   2415  10000 ????		00 00	    sprite_spaceship9_color8 =	0
   2416  10000 ????		00 00	    sprite_spaceship9_color7 =	0
   2417  10000 ????		00 00	    sprite_spaceship9_color6 =	0
   2418  10000 ????		00 00	    sprite_spaceship9_color5 =	0
   2419  10000 ????		00 00	    sprite_spaceship9_color4 =	0
   2420  10000 ????		00 1e	    sprite_spaceship9_color3 =	$1e
   2421  10000 ????		00 81	    sprite_spaceship9_color2 =	$81
   2422  10000 ????		00 44	    sprite_spaceship9_color1 =	$44
   2423  10000 ????		00 00	    sprite_spaceship9_color0 =	$00
   2424  10000 ????		00 00	    sprite_spaceship8_color255 =	0
   2425  10000 ????		00 00	    sprite_spaceship8_color254 =	0
   2426  10000 ????		00 00	    sprite_spaceship8_color253 =	0
   2427  10000 ????		00 00	    sprite_spaceship8_color252 =	0
   2428  10000 ????		00 00	    sprite_spaceship8_color251 =	0
   2429  10000 ????		00 00	    sprite_spaceship8_color250 =	0
   2430  10000 ????		00 00	    sprite_spaceship8_color249 =	0
   2431  10000 ????		00 00	    sprite_spaceship8_color248 =	0
   2432  10000 ????		00 00	    sprite_spaceship8_color247 =	0
   2433  10000 ????		00 00	    sprite_spaceship8_color246 =	0
   2434  10000 ????		00 00	    sprite_spaceship8_color245 =	0
   2435  10000 ????		00 00	    sprite_spaceship8_color244 =	0
   2436  10000 ????		00 00	    sprite_spaceship8_color243 =	0
   2437  10000 ????		00 00	    sprite_spaceship8_color242 =	0
   2438  10000 ????		00 00	    sprite_spaceship8_color241 =	0
   2439  10000 ????		00 00	    sprite_spaceship8_color240 =	0
   2440  10000 ????		00 00	    sprite_spaceship8_color239 =	0
   2441  10000 ????		00 00	    sprite_spaceship8_color238 =	0
   2442  10000 ????		00 00	    sprite_spaceship8_color237 =	0
   2443  10000 ????		00 00	    sprite_spaceship8_color236 =	0
   2444  10000 ????		00 00	    sprite_spaceship8_color235 =	0
   2445  10000 ????		00 00	    sprite_spaceship8_color234 =	0
   2446  10000 ????		00 00	    sprite_spaceship8_color233 =	0
   2447  10000 ????		00 00	    sprite_spaceship8_color232 =	0
   2448  10000 ????		00 00	    sprite_spaceship8_color231 =	0
   2449  10000 ????		00 00	    sprite_spaceship8_color230 =	0
   2450  10000 ????		00 00	    sprite_spaceship8_color229 =	0
   2451  10000 ????		00 00	    sprite_spaceship8_color228 =	0
   2452  10000 ????		00 00	    sprite_spaceship8_color227 =	0
   2453  10000 ????		00 00	    sprite_spaceship8_color226 =	0
   2454  10000 ????		00 00	    sprite_spaceship8_color225 =	0
   2455  10000 ????		00 00	    sprite_spaceship8_color224 =	0
   2456  10000 ????		00 00	    sprite_spaceship8_color223 =	0
   2457  10000 ????		00 00	    sprite_spaceship8_color222 =	0
   2458  10000 ????		00 00	    sprite_spaceship8_color221 =	0
   2459  10000 ????		00 00	    sprite_spaceship8_color220 =	0
   2460  10000 ????		00 00	    sprite_spaceship8_color219 =	0
   2461  10000 ????		00 00	    sprite_spaceship8_color218 =	0
   2462  10000 ????		00 00	    sprite_spaceship8_color217 =	0
   2463  10000 ????		00 00	    sprite_spaceship8_color216 =	0
   2464  10000 ????		00 00	    sprite_spaceship8_color215 =	0
   2465  10000 ????		00 00	    sprite_spaceship8_color214 =	0
   2466  10000 ????		00 00	    sprite_spaceship8_color213 =	0
   2467  10000 ????		00 00	    sprite_spaceship8_color212 =	0
   2468  10000 ????		00 00	    sprite_spaceship8_color211 =	0
   2469  10000 ????		00 00	    sprite_spaceship8_color210 =	0
   2470  10000 ????		00 00	    sprite_spaceship8_color209 =	0
   2471  10000 ????		00 00	    sprite_spaceship8_color208 =	0
   2472  10000 ????		00 00	    sprite_spaceship8_color207 =	0
   2473  10000 ????		00 00	    sprite_spaceship8_color206 =	0
   2474  10000 ????		00 00	    sprite_spaceship8_color205 =	0
   2475  10000 ????		00 00	    sprite_spaceship8_color204 =	0
   2476  10000 ????		00 00	    sprite_spaceship8_color203 =	0
   2477  10000 ????		00 00	    sprite_spaceship8_color202 =	0
   2478  10000 ????		00 00	    sprite_spaceship8_color201 =	0
   2479  10000 ????		00 00	    sprite_spaceship8_color200 =	0
   2480  10000 ????		00 00	    sprite_spaceship8_color199 =	0
   2481  10000 ????		00 00	    sprite_spaceship8_color198 =	0
   2482  10000 ????		00 00	    sprite_spaceship8_color197 =	0
   2483  10000 ????		00 00	    sprite_spaceship8_color196 =	0
   2484  10000 ????		00 00	    sprite_spaceship8_color195 =	0
   2485  10000 ????		00 00	    sprite_spaceship8_color194 =	0
   2486  10000 ????		00 00	    sprite_spaceship8_color193 =	0
   2487  10000 ????		00 00	    sprite_spaceship8_color192 =	0
   2488  10000 ????		00 00	    sprite_spaceship8_color191 =	0
   2489  10000 ????		00 00	    sprite_spaceship8_color190 =	0
   2490  10000 ????		00 00	    sprite_spaceship8_color189 =	0
   2491  10000 ????		00 00	    sprite_spaceship8_color188 =	0
   2492  10000 ????		00 00	    sprite_spaceship8_color187 =	0
   2493  10000 ????		00 00	    sprite_spaceship8_color186 =	0
   2494  10000 ????		00 00	    sprite_spaceship8_color185 =	0
   2495  10000 ????		00 00	    sprite_spaceship8_color184 =	0
   2496  10000 ????		00 00	    sprite_spaceship8_color183 =	0
   2497  10000 ????		00 00	    sprite_spaceship8_color182 =	0
   2498  10000 ????		00 00	    sprite_spaceship8_color181 =	0
   2499  10000 ????		00 00	    sprite_spaceship8_color180 =	0
   2500  10000 ????		00 00	    sprite_spaceship8_color179 =	0
   2501  10000 ????		00 00	    sprite_spaceship8_color178 =	0
   2502  10000 ????		00 00	    sprite_spaceship8_color177 =	0
   2503  10000 ????		00 00	    sprite_spaceship8_color176 =	0
   2504  10000 ????		00 00	    sprite_spaceship8_color175 =	0
   2505  10000 ????		00 00	    sprite_spaceship8_color174 =	0
   2506  10000 ????		00 00	    sprite_spaceship8_color173 =	0
   2507  10000 ????		00 00	    sprite_spaceship8_color172 =	0
   2508  10000 ????		00 00	    sprite_spaceship8_color171 =	0
   2509  10000 ????		00 00	    sprite_spaceship8_color170 =	0
   2510  10000 ????		00 00	    sprite_spaceship8_color169 =	0
   2511  10000 ????		00 00	    sprite_spaceship8_color168 =	0
   2512  10000 ????		00 00	    sprite_spaceship8_color167 =	0
   2513  10000 ????		00 00	    sprite_spaceship8_color166 =	0
   2514  10000 ????		00 00	    sprite_spaceship8_color165 =	0
   2515  10000 ????		00 00	    sprite_spaceship8_color164 =	0
   2516  10000 ????		00 00	    sprite_spaceship8_color163 =	0
   2517  10000 ????		00 00	    sprite_spaceship8_color162 =	0
   2518  10000 ????		00 00	    sprite_spaceship8_color161 =	0
   2519  10000 ????		00 00	    sprite_spaceship8_color160 =	0
   2520  10000 ????		00 00	    sprite_spaceship8_color159 =	0
   2521  10000 ????		00 00	    sprite_spaceship8_color158 =	0
   2522  10000 ????		00 00	    sprite_spaceship8_color157 =	0
   2523  10000 ????		00 00	    sprite_spaceship8_color156 =	0
   2524  10000 ????		00 00	    sprite_spaceship8_color155 =	0
   2525  10000 ????		00 00	    sprite_spaceship8_color154 =	0
   2526  10000 ????		00 00	    sprite_spaceship8_color153 =	0
   2527  10000 ????		00 00	    sprite_spaceship8_color152 =	0
   2528  10000 ????		00 00	    sprite_spaceship8_color151 =	0
   2529  10000 ????		00 00	    sprite_spaceship8_color150 =	0
   2530  10000 ????		00 00	    sprite_spaceship8_color149 =	0
   2531  10000 ????		00 00	    sprite_spaceship8_color148 =	0
   2532  10000 ????		00 00	    sprite_spaceship8_color147 =	0
   2533  10000 ????		00 00	    sprite_spaceship8_color146 =	0
   2534  10000 ????		00 00	    sprite_spaceship8_color145 =	0
   2535  10000 ????		00 00	    sprite_spaceship8_color144 =	0
   2536  10000 ????		00 00	    sprite_spaceship8_color143 =	0
   2537  10000 ????		00 00	    sprite_spaceship8_color142 =	0
   2538  10000 ????		00 00	    sprite_spaceship8_color141 =	0
   2539  10000 ????		00 00	    sprite_spaceship8_color140 =	0
   2540  10000 ????		00 00	    sprite_spaceship8_color139 =	0
   2541  10000 ????		00 00	    sprite_spaceship8_color138 =	0
   2542  10000 ????		00 00	    sprite_spaceship8_color137 =	0
   2543  10000 ????		00 00	    sprite_spaceship8_color136 =	0
   2544  10000 ????		00 00	    sprite_spaceship8_color135 =	0
   2545  10000 ????		00 00	    sprite_spaceship8_color134 =	0
   2546  10000 ????		00 00	    sprite_spaceship8_color133 =	0
   2547  10000 ????		00 00	    sprite_spaceship8_color132 =	0
   2548  10000 ????		00 00	    sprite_spaceship8_color131 =	0
   2549  10000 ????		00 00	    sprite_spaceship8_color130 =	0
   2550  10000 ????		00 00	    sprite_spaceship8_color129 =	0
   2551  10000 ????		00 00	    sprite_spaceship8_color128 =	0
   2552  10000 ????		00 00	    sprite_spaceship8_color127 =	0
   2553  10000 ????		00 00	    sprite_spaceship8_color126 =	0
   2554  10000 ????		00 00	    sprite_spaceship8_color125 =	0
   2555  10000 ????		00 00	    sprite_spaceship8_color124 =	0
   2556  10000 ????		00 00	    sprite_spaceship8_color123 =	0
   2557  10000 ????		00 00	    sprite_spaceship8_color122 =	0
   2558  10000 ????		00 00	    sprite_spaceship8_color121 =	0
   2559  10000 ????		00 00	    sprite_spaceship8_color120 =	0
   2560  10000 ????		00 00	    sprite_spaceship8_color119 =	0
   2561  10000 ????		00 00	    sprite_spaceship8_color118 =	0
   2562  10000 ????		00 00	    sprite_spaceship8_color117 =	0
   2563  10000 ????		00 00	    sprite_spaceship8_color116 =	0
   2564  10000 ????		00 00	    sprite_spaceship8_color115 =	0
   2565  10000 ????		00 00	    sprite_spaceship8_color114 =	0
   2566  10000 ????		00 00	    sprite_spaceship8_color113 =	0
   2567  10000 ????		00 00	    sprite_spaceship8_color112 =	0
   2568  10000 ????		00 00	    sprite_spaceship8_color111 =	0
   2569  10000 ????		00 00	    sprite_spaceship8_color110 =	0
   2570  10000 ????		00 00	    sprite_spaceship8_color109 =	0
   2571  10000 ????		00 00	    sprite_spaceship8_color108 =	0
   2572  10000 ????		00 00	    sprite_spaceship8_color107 =	0
   2573  10000 ????		00 00	    sprite_spaceship8_color106 =	0
   2574  10000 ????		00 00	    sprite_spaceship8_color105 =	0
   2575  10000 ????		00 00	    sprite_spaceship8_color104 =	0
   2576  10000 ????		00 00	    sprite_spaceship8_color103 =	0
   2577  10000 ????		00 00	    sprite_spaceship8_color102 =	0
   2578  10000 ????		00 00	    sprite_spaceship8_color101 =	0
   2579  10000 ????		00 00	    sprite_spaceship8_color100 =	0
   2580  10000 ????		00 00	    sprite_spaceship8_color99 =	0
   2581  10000 ????		00 00	    sprite_spaceship8_color98 =	0
   2582  10000 ????		00 00	    sprite_spaceship8_color97 =	0
   2583  10000 ????		00 00	    sprite_spaceship8_color96 =	0
   2584  10000 ????		00 00	    sprite_spaceship8_color95 =	0
   2585  10000 ????		00 00	    sprite_spaceship8_color94 =	0
   2586  10000 ????		00 00	    sprite_spaceship8_color93 =	0
   2587  10000 ????		00 00	    sprite_spaceship8_color92 =	0
   2588  10000 ????		00 00	    sprite_spaceship8_color91 =	0
   2589  10000 ????		00 00	    sprite_spaceship8_color90 =	0
   2590  10000 ????		00 00	    sprite_spaceship8_color89 =	0
   2591  10000 ????		00 00	    sprite_spaceship8_color88 =	0
   2592  10000 ????		00 00	    sprite_spaceship8_color87 =	0
   2593  10000 ????		00 00	    sprite_spaceship8_color86 =	0
   2594  10000 ????		00 00	    sprite_spaceship8_color85 =	0
   2595  10000 ????		00 00	    sprite_spaceship8_color84 =	0
   2596  10000 ????		00 00	    sprite_spaceship8_color83 =	0
   2597  10000 ????		00 00	    sprite_spaceship8_color82 =	0
   2598  10000 ????		00 00	    sprite_spaceship8_color81 =	0
   2599  10000 ????		00 00	    sprite_spaceship8_color80 =	0
   2600  10000 ????		00 00	    sprite_spaceship8_color79 =	0
   2601  10000 ????		00 00	    sprite_spaceship8_color78 =	0
   2602  10000 ????		00 00	    sprite_spaceship8_color77 =	0
   2603  10000 ????		00 00	    sprite_spaceship8_color76 =	0
   2604  10000 ????		00 00	    sprite_spaceship8_color75 =	0
   2605  10000 ????		00 00	    sprite_spaceship8_color74 =	0
   2606  10000 ????		00 00	    sprite_spaceship8_color73 =	0
   2607  10000 ????		00 00	    sprite_spaceship8_color72 =	0
   2608  10000 ????		00 00	    sprite_spaceship8_color71 =	0
   2609  10000 ????		00 00	    sprite_spaceship8_color70 =	0
   2610  10000 ????		00 00	    sprite_spaceship8_color69 =	0
   2611  10000 ????		00 00	    sprite_spaceship8_color68 =	0
   2612  10000 ????		00 00	    sprite_spaceship8_color67 =	0
   2613  10000 ????		00 00	    sprite_spaceship8_color66 =	0
   2614  10000 ????		00 00	    sprite_spaceship8_color65 =	0
   2615  10000 ????		00 00	    sprite_spaceship8_color64 =	0
   2616  10000 ????		00 00	    sprite_spaceship8_color63 =	0
   2617  10000 ????		00 00	    sprite_spaceship8_color62 =	0
   2618  10000 ????		00 00	    sprite_spaceship8_color61 =	0
   2619  10000 ????		00 00	    sprite_spaceship8_color60 =	0
   2620  10000 ????		00 00	    sprite_spaceship8_color59 =	0
   2621  10000 ????		00 00	    sprite_spaceship8_color58 =	0
   2622  10000 ????		00 00	    sprite_spaceship8_color57 =	0
   2623  10000 ????		00 00	    sprite_spaceship8_color56 =	0
   2624  10000 ????		00 00	    sprite_spaceship8_color55 =	0
   2625  10000 ????		00 00	    sprite_spaceship8_color54 =	0
   2626  10000 ????		00 00	    sprite_spaceship8_color53 =	0
   2627  10000 ????		00 00	    sprite_spaceship8_color52 =	0
   2628  10000 ????		00 00	    sprite_spaceship8_color51 =	0
   2629  10000 ????		00 00	    sprite_spaceship8_color50 =	0
   2630  10000 ????		00 00	    sprite_spaceship8_color49 =	0
   2631  10000 ????		00 00	    sprite_spaceship8_color48 =	0
   2632  10000 ????		00 00	    sprite_spaceship8_color47 =	0
   2633  10000 ????		00 00	    sprite_spaceship8_color46 =	0
   2634  10000 ????		00 00	    sprite_spaceship8_color45 =	0
   2635  10000 ????		00 00	    sprite_spaceship8_color44 =	0
   2636  10000 ????		00 00	    sprite_spaceship8_color43 =	0
   2637  10000 ????		00 00	    sprite_spaceship8_color42 =	0
   2638  10000 ????		00 00	    sprite_spaceship8_color41 =	0
   2639  10000 ????		00 00	    sprite_spaceship8_color40 =	0
   2640  10000 ????		00 00	    sprite_spaceship8_color39 =	0
   2641  10000 ????		00 00	    sprite_spaceship8_color38 =	0
   2642  10000 ????		00 00	    sprite_spaceship8_color37 =	0
   2643  10000 ????		00 00	    sprite_spaceship8_color36 =	0
   2644  10000 ????		00 00	    sprite_spaceship8_color35 =	0
   2645  10000 ????		00 00	    sprite_spaceship8_color34 =	0
   2646  10000 ????		00 00	    sprite_spaceship8_color33 =	0
   2647  10000 ????		00 00	    sprite_spaceship8_color32 =	0
   2648  10000 ????		00 00	    sprite_spaceship8_color31 =	0
   2649  10000 ????		00 00	    sprite_spaceship8_color30 =	0
   2650  10000 ????		00 00	    sprite_spaceship8_color29 =	0
   2651  10000 ????		00 00	    sprite_spaceship8_color28 =	0
   2652  10000 ????		00 00	    sprite_spaceship8_color27 =	0
   2653  10000 ????		00 00	    sprite_spaceship8_color26 =	0
   2654  10000 ????		00 00	    sprite_spaceship8_color25 =	0
   2655  10000 ????		00 00	    sprite_spaceship8_color24 =	0
   2656  10000 ????		00 00	    sprite_spaceship8_color23 =	0
   2657  10000 ????		00 00	    sprite_spaceship8_color22 =	0
   2658  10000 ????		00 00	    sprite_spaceship8_color21 =	0
   2659  10000 ????		00 00	    sprite_spaceship8_color20 =	0
   2660  10000 ????		00 00	    sprite_spaceship8_color19 =	0
   2661  10000 ????		00 00	    sprite_spaceship8_color18 =	0
   2662  10000 ????		00 00	    sprite_spaceship8_color17 =	0
   2663  10000 ????		00 00	    sprite_spaceship8_color16 =	0
   2664  10000 ????		00 00	    sprite_spaceship8_color15 =	0
   2665  10000 ????		00 00	    sprite_spaceship8_color14 =	0
   2666  10000 ????		00 00	    sprite_spaceship8_color13 =	0
   2667  10000 ????		00 00	    sprite_spaceship8_color12 =	0
   2668  10000 ????		00 00	    sprite_spaceship8_color11 =	0
   2669  10000 ????		00 00	    sprite_spaceship8_color10 =	0
   2670  10000 ????		00 00	    sprite_spaceship8_color9 =	0
   2671  10000 ????		00 00	    sprite_spaceship8_color8 =	0
   2672  10000 ????		00 00	    sprite_spaceship8_color7 =	0
   2673  10000 ????		00 00	    sprite_spaceship8_color6 =	0
   2674  10000 ????		00 00	    sprite_spaceship8_color5 =	0
   2675  10000 ????		00 00	    sprite_spaceship8_color4 =	0
   2676  10000 ????		00 1e	    sprite_spaceship8_color3 =	$1e
   2677  10000 ????		00 81	    sprite_spaceship8_color2 =	$81
   2678  10000 ????		00 44	    sprite_spaceship8_color1 =	$44
   2679  10000 ????		00 00	    sprite_spaceship8_color0 =	$00
   2680  10000 ????		00 00	    sprite_spaceship7_color255 =	0
   2681  10000 ????		00 00	    sprite_spaceship7_color254 =	0
   2682  10000 ????		00 00	    sprite_spaceship7_color253 =	0
   2683  10000 ????		00 00	    sprite_spaceship7_color252 =	0
   2684  10000 ????		00 00	    sprite_spaceship7_color251 =	0
   2685  10000 ????		00 00	    sprite_spaceship7_color250 =	0
   2686  10000 ????		00 00	    sprite_spaceship7_color249 =	0
   2687  10000 ????		00 00	    sprite_spaceship7_color248 =	0
   2688  10000 ????		00 00	    sprite_spaceship7_color247 =	0
   2689  10000 ????		00 00	    sprite_spaceship7_color246 =	0
   2690  10000 ????		00 00	    sprite_spaceship7_color245 =	0
   2691  10000 ????		00 00	    sprite_spaceship7_color244 =	0
   2692  10000 ????		00 00	    sprite_spaceship7_color243 =	0
   2693  10000 ????		00 00	    sprite_spaceship7_color242 =	0
   2694  10000 ????		00 00	    sprite_spaceship7_color241 =	0
   2695  10000 ????		00 00	    sprite_spaceship7_color240 =	0
   2696  10000 ????		00 00	    sprite_spaceship7_color239 =	0
   2697  10000 ????		00 00	    sprite_spaceship7_color238 =	0
   2698  10000 ????		00 00	    sprite_spaceship7_color237 =	0
   2699  10000 ????		00 00	    sprite_spaceship7_color236 =	0
   2700  10000 ????		00 00	    sprite_spaceship7_color235 =	0
   2701  10000 ????		00 00	    sprite_spaceship7_color234 =	0
   2702  10000 ????		00 00	    sprite_spaceship7_color233 =	0
   2703  10000 ????		00 00	    sprite_spaceship7_color232 =	0
   2704  10000 ????		00 00	    sprite_spaceship7_color231 =	0
   2705  10000 ????		00 00	    sprite_spaceship7_color230 =	0
   2706  10000 ????		00 00	    sprite_spaceship7_color229 =	0
   2707  10000 ????		00 00	    sprite_spaceship7_color228 =	0
   2708  10000 ????		00 00	    sprite_spaceship7_color227 =	0
   2709  10000 ????		00 00	    sprite_spaceship7_color226 =	0
   2710  10000 ????		00 00	    sprite_spaceship7_color225 =	0
   2711  10000 ????		00 00	    sprite_spaceship7_color224 =	0
   2712  10000 ????		00 00	    sprite_spaceship7_color223 =	0
   2713  10000 ????		00 00	    sprite_spaceship7_color222 =	0
   2714  10000 ????		00 00	    sprite_spaceship7_color221 =	0
   2715  10000 ????		00 00	    sprite_spaceship7_color220 =	0
   2716  10000 ????		00 00	    sprite_spaceship7_color219 =	0
   2717  10000 ????		00 00	    sprite_spaceship7_color218 =	0
   2718  10000 ????		00 00	    sprite_spaceship7_color217 =	0
   2719  10000 ????		00 00	    sprite_spaceship7_color216 =	0
   2720  10000 ????		00 00	    sprite_spaceship7_color215 =	0
   2721  10000 ????		00 00	    sprite_spaceship7_color214 =	0
   2722  10000 ????		00 00	    sprite_spaceship7_color213 =	0
   2723  10000 ????		00 00	    sprite_spaceship7_color212 =	0
   2724  10000 ????		00 00	    sprite_spaceship7_color211 =	0
   2725  10000 ????		00 00	    sprite_spaceship7_color210 =	0
   2726  10000 ????		00 00	    sprite_spaceship7_color209 =	0
   2727  10000 ????		00 00	    sprite_spaceship7_color208 =	0
   2728  10000 ????		00 00	    sprite_spaceship7_color207 =	0
   2729  10000 ????		00 00	    sprite_spaceship7_color206 =	0
   2730  10000 ????		00 00	    sprite_spaceship7_color205 =	0
   2731  10000 ????		00 00	    sprite_spaceship7_color204 =	0
   2732  10000 ????		00 00	    sprite_spaceship7_color203 =	0
   2733  10000 ????		00 00	    sprite_spaceship7_color202 =	0
   2734  10000 ????		00 00	    sprite_spaceship7_color201 =	0
   2735  10000 ????		00 00	    sprite_spaceship7_color200 =	0
   2736  10000 ????		00 00	    sprite_spaceship7_color199 =	0
   2737  10000 ????		00 00	    sprite_spaceship7_color198 =	0
   2738  10000 ????		00 00	    sprite_spaceship7_color197 =	0
   2739  10000 ????		00 00	    sprite_spaceship7_color196 =	0
   2740  10000 ????		00 00	    sprite_spaceship7_color195 =	0
   2741  10000 ????		00 00	    sprite_spaceship7_color194 =	0
   2742  10000 ????		00 00	    sprite_spaceship7_color193 =	0
   2743  10000 ????		00 00	    sprite_spaceship7_color192 =	0
   2744  10000 ????		00 00	    sprite_spaceship7_color191 =	0
   2745  10000 ????		00 00	    sprite_spaceship7_color190 =	0
   2746  10000 ????		00 00	    sprite_spaceship7_color189 =	0
   2747  10000 ????		00 00	    sprite_spaceship7_color188 =	0
   2748  10000 ????		00 00	    sprite_spaceship7_color187 =	0
   2749  10000 ????		00 00	    sprite_spaceship7_color186 =	0
   2750  10000 ????		00 00	    sprite_spaceship7_color185 =	0
   2751  10000 ????		00 00	    sprite_spaceship7_color184 =	0
   2752  10000 ????		00 00	    sprite_spaceship7_color183 =	0
   2753  10000 ????		00 00	    sprite_spaceship7_color182 =	0
   2754  10000 ????		00 00	    sprite_spaceship7_color181 =	0
   2755  10000 ????		00 00	    sprite_spaceship7_color180 =	0
   2756  10000 ????		00 00	    sprite_spaceship7_color179 =	0
   2757  10000 ????		00 00	    sprite_spaceship7_color178 =	0
   2758  10000 ????		00 00	    sprite_spaceship7_color177 =	0
   2759  10000 ????		00 00	    sprite_spaceship7_color176 =	0
   2760  10000 ????		00 00	    sprite_spaceship7_color175 =	0
   2761  10000 ????		00 00	    sprite_spaceship7_color174 =	0
   2762  10000 ????		00 00	    sprite_spaceship7_color173 =	0
   2763  10000 ????		00 00	    sprite_spaceship7_color172 =	0
   2764  10000 ????		00 00	    sprite_spaceship7_color171 =	0
   2765  10000 ????		00 00	    sprite_spaceship7_color170 =	0
   2766  10000 ????		00 00	    sprite_spaceship7_color169 =	0
   2767  10000 ????		00 00	    sprite_spaceship7_color168 =	0
   2768  10000 ????		00 00	    sprite_spaceship7_color167 =	0
   2769  10000 ????		00 00	    sprite_spaceship7_color166 =	0
   2770  10000 ????		00 00	    sprite_spaceship7_color165 =	0
   2771  10000 ????		00 00	    sprite_spaceship7_color164 =	0
   2772  10000 ????		00 00	    sprite_spaceship7_color163 =	0
   2773  10000 ????		00 00	    sprite_spaceship7_color162 =	0
   2774  10000 ????		00 00	    sprite_spaceship7_color161 =	0
   2775  10000 ????		00 00	    sprite_spaceship7_color160 =	0
   2776  10000 ????		00 00	    sprite_spaceship7_color159 =	0
   2777  10000 ????		00 00	    sprite_spaceship7_color158 =	0
   2778  10000 ????		00 00	    sprite_spaceship7_color157 =	0
   2779  10000 ????		00 00	    sprite_spaceship7_color156 =	0
   2780  10000 ????		00 00	    sprite_spaceship7_color155 =	0
   2781  10000 ????		00 00	    sprite_spaceship7_color154 =	0
   2782  10000 ????		00 00	    sprite_spaceship7_color153 =	0
   2783  10000 ????		00 00	    sprite_spaceship7_color152 =	0
   2784  10000 ????		00 00	    sprite_spaceship7_color151 =	0
   2785  10000 ????		00 00	    sprite_spaceship7_color150 =	0
   2786  10000 ????		00 00	    sprite_spaceship7_color149 =	0
   2787  10000 ????		00 00	    sprite_spaceship7_color148 =	0
   2788  10000 ????		00 00	    sprite_spaceship7_color147 =	0
   2789  10000 ????		00 00	    sprite_spaceship7_color146 =	0
   2790  10000 ????		00 00	    sprite_spaceship7_color145 =	0
   2791  10000 ????		00 00	    sprite_spaceship7_color144 =	0
   2792  10000 ????		00 00	    sprite_spaceship7_color143 =	0
   2793  10000 ????		00 00	    sprite_spaceship7_color142 =	0
   2794  10000 ????		00 00	    sprite_spaceship7_color141 =	0
   2795  10000 ????		00 00	    sprite_spaceship7_color140 =	0
   2796  10000 ????		00 00	    sprite_spaceship7_color139 =	0
   2797  10000 ????		00 00	    sprite_spaceship7_color138 =	0
   2798  10000 ????		00 00	    sprite_spaceship7_color137 =	0
   2799  10000 ????		00 00	    sprite_spaceship7_color136 =	0
   2800  10000 ????		00 00	    sprite_spaceship7_color135 =	0
   2801  10000 ????		00 00	    sprite_spaceship7_color134 =	0
   2802  10000 ????		00 00	    sprite_spaceship7_color133 =	0
   2803  10000 ????		00 00	    sprite_spaceship7_color132 =	0
   2804  10000 ????		00 00	    sprite_spaceship7_color131 =	0
   2805  10000 ????		00 00	    sprite_spaceship7_color130 =	0
   2806  10000 ????		00 00	    sprite_spaceship7_color129 =	0
   2807  10000 ????		00 00	    sprite_spaceship7_color128 =	0
   2808  10000 ????		00 00	    sprite_spaceship7_color127 =	0
   2809  10000 ????		00 00	    sprite_spaceship7_color126 =	0
   2810  10000 ????		00 00	    sprite_spaceship7_color125 =	0
   2811  10000 ????		00 00	    sprite_spaceship7_color124 =	0
   2812  10000 ????		00 00	    sprite_spaceship7_color123 =	0
   2813  10000 ????		00 00	    sprite_spaceship7_color122 =	0
   2814  10000 ????		00 00	    sprite_spaceship7_color121 =	0
   2815  10000 ????		00 00	    sprite_spaceship7_color120 =	0
   2816  10000 ????		00 00	    sprite_spaceship7_color119 =	0
   2817  10000 ????		00 00	    sprite_spaceship7_color118 =	0
   2818  10000 ????		00 00	    sprite_spaceship7_color117 =	0
   2819  10000 ????		00 00	    sprite_spaceship7_color116 =	0
   2820  10000 ????		00 00	    sprite_spaceship7_color115 =	0
   2821  10000 ????		00 00	    sprite_spaceship7_color114 =	0
   2822  10000 ????		00 00	    sprite_spaceship7_color113 =	0
   2823  10000 ????		00 00	    sprite_spaceship7_color112 =	0
   2824  10000 ????		00 00	    sprite_spaceship7_color111 =	0
   2825  10000 ????		00 00	    sprite_spaceship7_color110 =	0
   2826  10000 ????		00 00	    sprite_spaceship7_color109 =	0
   2827  10000 ????		00 00	    sprite_spaceship7_color108 =	0
   2828  10000 ????		00 00	    sprite_spaceship7_color107 =	0
   2829  10000 ????		00 00	    sprite_spaceship7_color106 =	0
   2830  10000 ????		00 00	    sprite_spaceship7_color105 =	0
   2831  10000 ????		00 00	    sprite_spaceship7_color104 =	0
   2832  10000 ????		00 00	    sprite_spaceship7_color103 =	0
   2833  10000 ????		00 00	    sprite_spaceship7_color102 =	0
   2834  10000 ????		00 00	    sprite_spaceship7_color101 =	0
   2835  10000 ????		00 00	    sprite_spaceship7_color100 =	0
   2836  10000 ????		00 00	    sprite_spaceship7_color99 =	0
   2837  10000 ????		00 00	    sprite_spaceship7_color98 =	0
   2838  10000 ????		00 00	    sprite_spaceship7_color97 =	0
   2839  10000 ????		00 00	    sprite_spaceship7_color96 =	0
   2840  10000 ????		00 00	    sprite_spaceship7_color95 =	0
   2841  10000 ????		00 00	    sprite_spaceship7_color94 =	0
   2842  10000 ????		00 00	    sprite_spaceship7_color93 =	0
   2843  10000 ????		00 00	    sprite_spaceship7_color92 =	0
   2844  10000 ????		00 00	    sprite_spaceship7_color91 =	0
   2845  10000 ????		00 00	    sprite_spaceship7_color90 =	0
   2846  10000 ????		00 00	    sprite_spaceship7_color89 =	0
   2847  10000 ????		00 00	    sprite_spaceship7_color88 =	0
   2848  10000 ????		00 00	    sprite_spaceship7_color87 =	0
   2849  10000 ????		00 00	    sprite_spaceship7_color86 =	0
   2850  10000 ????		00 00	    sprite_spaceship7_color85 =	0
   2851  10000 ????		00 00	    sprite_spaceship7_color84 =	0
   2852  10000 ????		00 00	    sprite_spaceship7_color83 =	0
   2853  10000 ????		00 00	    sprite_spaceship7_color82 =	0
   2854  10000 ????		00 00	    sprite_spaceship7_color81 =	0
   2855  10000 ????		00 00	    sprite_spaceship7_color80 =	0
   2856  10000 ????		00 00	    sprite_spaceship7_color79 =	0
   2857  10000 ????		00 00	    sprite_spaceship7_color78 =	0
   2858  10000 ????		00 00	    sprite_spaceship7_color77 =	0
   2859  10000 ????		00 00	    sprite_spaceship7_color76 =	0
   2860  10000 ????		00 00	    sprite_spaceship7_color75 =	0
   2861  10000 ????		00 00	    sprite_spaceship7_color74 =	0
   2862  10000 ????		00 00	    sprite_spaceship7_color73 =	0
   2863  10000 ????		00 00	    sprite_spaceship7_color72 =	0
   2864  10000 ????		00 00	    sprite_spaceship7_color71 =	0
   2865  10000 ????		00 00	    sprite_spaceship7_color70 =	0
   2866  10000 ????		00 00	    sprite_spaceship7_color69 =	0
   2867  10000 ????		00 00	    sprite_spaceship7_color68 =	0
   2868  10000 ????		00 00	    sprite_spaceship7_color67 =	0
   2869  10000 ????		00 00	    sprite_spaceship7_color66 =	0
   2870  10000 ????		00 00	    sprite_spaceship7_color65 =	0
   2871  10000 ????		00 00	    sprite_spaceship7_color64 =	0
   2872  10000 ????		00 00	    sprite_spaceship7_color63 =	0
   2873  10000 ????		00 00	    sprite_spaceship7_color62 =	0
   2874  10000 ????		00 00	    sprite_spaceship7_color61 =	0
   2875  10000 ????		00 00	    sprite_spaceship7_color60 =	0
   2876  10000 ????		00 00	    sprite_spaceship7_color59 =	0
   2877  10000 ????		00 00	    sprite_spaceship7_color58 =	0
   2878  10000 ????		00 00	    sprite_spaceship7_color57 =	0
   2879  10000 ????		00 00	    sprite_spaceship7_color56 =	0
   2880  10000 ????		00 00	    sprite_spaceship7_color55 =	0
   2881  10000 ????		00 00	    sprite_spaceship7_color54 =	0
   2882  10000 ????		00 00	    sprite_spaceship7_color53 =	0
   2883  10000 ????		00 00	    sprite_spaceship7_color52 =	0
   2884  10000 ????		00 00	    sprite_spaceship7_color51 =	0
   2885  10000 ????		00 00	    sprite_spaceship7_color50 =	0
   2886  10000 ????		00 00	    sprite_spaceship7_color49 =	0
   2887  10000 ????		00 00	    sprite_spaceship7_color48 =	0
   2888  10000 ????		00 00	    sprite_spaceship7_color47 =	0
   2889  10000 ????		00 00	    sprite_spaceship7_color46 =	0
   2890  10000 ????		00 00	    sprite_spaceship7_color45 =	0
   2891  10000 ????		00 00	    sprite_spaceship7_color44 =	0
   2892  10000 ????		00 00	    sprite_spaceship7_color43 =	0
   2893  10000 ????		00 00	    sprite_spaceship7_color42 =	0
   2894  10000 ????		00 00	    sprite_spaceship7_color41 =	0
   2895  10000 ????		00 00	    sprite_spaceship7_color40 =	0
   2896  10000 ????		00 00	    sprite_spaceship7_color39 =	0
   2897  10000 ????		00 00	    sprite_spaceship7_color38 =	0
   2898  10000 ????		00 00	    sprite_spaceship7_color37 =	0
   2899  10000 ????		00 00	    sprite_spaceship7_color36 =	0
   2900  10000 ????		00 00	    sprite_spaceship7_color35 =	0
   2901  10000 ????		00 00	    sprite_spaceship7_color34 =	0
   2902  10000 ????		00 00	    sprite_spaceship7_color33 =	0
   2903  10000 ????		00 00	    sprite_spaceship7_color32 =	0
   2904  10000 ????		00 00	    sprite_spaceship7_color31 =	0
   2905  10000 ????		00 00	    sprite_spaceship7_color30 =	0
   2906  10000 ????		00 00	    sprite_spaceship7_color29 =	0
   2907  10000 ????		00 00	    sprite_spaceship7_color28 =	0
   2908  10000 ????		00 00	    sprite_spaceship7_color27 =	0
   2909  10000 ????		00 00	    sprite_spaceship7_color26 =	0
   2910  10000 ????		00 00	    sprite_spaceship7_color25 =	0
   2911  10000 ????		00 00	    sprite_spaceship7_color24 =	0
   2912  10000 ????		00 00	    sprite_spaceship7_color23 =	0
   2913  10000 ????		00 00	    sprite_spaceship7_color22 =	0
   2914  10000 ????		00 00	    sprite_spaceship7_color21 =	0
   2915  10000 ????		00 00	    sprite_spaceship7_color20 =	0
   2916  10000 ????		00 00	    sprite_spaceship7_color19 =	0
   2917  10000 ????		00 00	    sprite_spaceship7_color18 =	0
   2918  10000 ????		00 00	    sprite_spaceship7_color17 =	0
   2919  10000 ????		00 00	    sprite_spaceship7_color16 =	0
   2920  10000 ????		00 00	    sprite_spaceship7_color15 =	0
   2921  10000 ????		00 00	    sprite_spaceship7_color14 =	0
   2922  10000 ????		00 00	    sprite_spaceship7_color13 =	0
   2923  10000 ????		00 00	    sprite_spaceship7_color12 =	0
   2924  10000 ????		00 00	    sprite_spaceship7_color11 =	0
   2925  10000 ????		00 00	    sprite_spaceship7_color10 =	0
   2926  10000 ????		00 00	    sprite_spaceship7_color9 =	0
   2927  10000 ????		00 00	    sprite_spaceship7_color8 =	0
   2928  10000 ????		00 00	    sprite_spaceship7_color7 =	0
   2929  10000 ????		00 00	    sprite_spaceship7_color6 =	0
   2930  10000 ????		00 00	    sprite_spaceship7_color5 =	0
   2931  10000 ????		00 00	    sprite_spaceship7_color4 =	0
   2932  10000 ????		00 1e	    sprite_spaceship7_color3 =	$1e
   2933  10000 ????		00 81	    sprite_spaceship7_color2 =	$81
   2934  10000 ????		00 44	    sprite_spaceship7_color1 =	$44
   2935  10000 ????		00 00	    sprite_spaceship7_color0 =	$00
   2936  10000 ????		00 00	    sprite_spaceship6_color255 =	0
   2937  10000 ????		00 00	    sprite_spaceship6_color254 =	0
   2938  10000 ????		00 00	    sprite_spaceship6_color253 =	0
   2939  10000 ????		00 00	    sprite_spaceship6_color252 =	0
   2940  10000 ????		00 00	    sprite_spaceship6_color251 =	0
   2941  10000 ????		00 00	    sprite_spaceship6_color250 =	0
   2942  10000 ????		00 00	    sprite_spaceship6_color249 =	0
   2943  10000 ????		00 00	    sprite_spaceship6_color248 =	0
   2944  10000 ????		00 00	    sprite_spaceship6_color247 =	0
   2945  10000 ????		00 00	    sprite_spaceship6_color246 =	0
   2946  10000 ????		00 00	    sprite_spaceship6_color245 =	0
   2947  10000 ????		00 00	    sprite_spaceship6_color244 =	0
   2948  10000 ????		00 00	    sprite_spaceship6_color243 =	0
   2949  10000 ????		00 00	    sprite_spaceship6_color242 =	0
   2950  10000 ????		00 00	    sprite_spaceship6_color241 =	0
   2951  10000 ????		00 00	    sprite_spaceship6_color240 =	0
   2952  10000 ????		00 00	    sprite_spaceship6_color239 =	0
   2953  10000 ????		00 00	    sprite_spaceship6_color238 =	0
   2954  10000 ????		00 00	    sprite_spaceship6_color237 =	0
   2955  10000 ????		00 00	    sprite_spaceship6_color236 =	0
   2956  10000 ????		00 00	    sprite_spaceship6_color235 =	0
   2957  10000 ????		00 00	    sprite_spaceship6_color234 =	0
   2958  10000 ????		00 00	    sprite_spaceship6_color233 =	0
   2959  10000 ????		00 00	    sprite_spaceship6_color232 =	0
   2960  10000 ????		00 00	    sprite_spaceship6_color231 =	0
   2961  10000 ????		00 00	    sprite_spaceship6_color230 =	0
   2962  10000 ????		00 00	    sprite_spaceship6_color229 =	0
   2963  10000 ????		00 00	    sprite_spaceship6_color228 =	0
   2964  10000 ????		00 00	    sprite_spaceship6_color227 =	0
   2965  10000 ????		00 00	    sprite_spaceship6_color226 =	0
   2966  10000 ????		00 00	    sprite_spaceship6_color225 =	0
   2967  10000 ????		00 00	    sprite_spaceship6_color224 =	0
   2968  10000 ????		00 00	    sprite_spaceship6_color223 =	0
   2969  10000 ????		00 00	    sprite_spaceship6_color222 =	0
   2970  10000 ????		00 00	    sprite_spaceship6_color221 =	0
   2971  10000 ????		00 00	    sprite_spaceship6_color220 =	0
   2972  10000 ????		00 00	    sprite_spaceship6_color219 =	0
   2973  10000 ????		00 00	    sprite_spaceship6_color218 =	0
   2974  10000 ????		00 00	    sprite_spaceship6_color217 =	0
   2975  10000 ????		00 00	    sprite_spaceship6_color216 =	0
   2976  10000 ????		00 00	    sprite_spaceship6_color215 =	0
   2977  10000 ????		00 00	    sprite_spaceship6_color214 =	0
   2978  10000 ????		00 00	    sprite_spaceship6_color213 =	0
   2979  10000 ????		00 00	    sprite_spaceship6_color212 =	0
   2980  10000 ????		00 00	    sprite_spaceship6_color211 =	0
   2981  10000 ????		00 00	    sprite_spaceship6_color210 =	0
   2982  10000 ????		00 00	    sprite_spaceship6_color209 =	0
   2983  10000 ????		00 00	    sprite_spaceship6_color208 =	0
   2984  10000 ????		00 00	    sprite_spaceship6_color207 =	0
   2985  10000 ????		00 00	    sprite_spaceship6_color206 =	0
   2986  10000 ????		00 00	    sprite_spaceship6_color205 =	0
   2987  10000 ????		00 00	    sprite_spaceship6_color204 =	0
   2988  10000 ????		00 00	    sprite_spaceship6_color203 =	0
   2989  10000 ????		00 00	    sprite_spaceship6_color202 =	0
   2990  10000 ????		00 00	    sprite_spaceship6_color201 =	0
   2991  10000 ????		00 00	    sprite_spaceship6_color200 =	0
   2992  10000 ????		00 00	    sprite_spaceship6_color199 =	0
   2993  10000 ????		00 00	    sprite_spaceship6_color198 =	0
   2994  10000 ????		00 00	    sprite_spaceship6_color197 =	0
   2995  10000 ????		00 00	    sprite_spaceship6_color196 =	0
   2996  10000 ????		00 00	    sprite_spaceship6_color195 =	0
   2997  10000 ????		00 00	    sprite_spaceship6_color194 =	0
   2998  10000 ????		00 00	    sprite_spaceship6_color193 =	0
   2999  10000 ????		00 00	    sprite_spaceship6_color192 =	0
   3000  10000 ????		00 00	    sprite_spaceship6_color191 =	0
   3001  10000 ????		00 00	    sprite_spaceship6_color190 =	0
   3002  10000 ????		00 00	    sprite_spaceship6_color189 =	0
   3003  10000 ????		00 00	    sprite_spaceship6_color188 =	0
   3004  10000 ????		00 00	    sprite_spaceship6_color187 =	0
   3005  10000 ????		00 00	    sprite_spaceship6_color186 =	0
   3006  10000 ????		00 00	    sprite_spaceship6_color185 =	0
   3007  10000 ????		00 00	    sprite_spaceship6_color184 =	0
   3008  10000 ????		00 00	    sprite_spaceship6_color183 =	0
   3009  10000 ????		00 00	    sprite_spaceship6_color182 =	0
   3010  10000 ????		00 00	    sprite_spaceship6_color181 =	0
   3011  10000 ????		00 00	    sprite_spaceship6_color180 =	0
   3012  10000 ????		00 00	    sprite_spaceship6_color179 =	0
   3013  10000 ????		00 00	    sprite_spaceship6_color178 =	0
   3014  10000 ????		00 00	    sprite_spaceship6_color177 =	0
   3015  10000 ????		00 00	    sprite_spaceship6_color176 =	0
   3016  10000 ????		00 00	    sprite_spaceship6_color175 =	0
   3017  10000 ????		00 00	    sprite_spaceship6_color174 =	0
   3018  10000 ????		00 00	    sprite_spaceship6_color173 =	0
   3019  10000 ????		00 00	    sprite_spaceship6_color172 =	0
   3020  10000 ????		00 00	    sprite_spaceship6_color171 =	0
   3021  10000 ????		00 00	    sprite_spaceship6_color170 =	0
   3022  10000 ????		00 00	    sprite_spaceship6_color169 =	0
   3023  10000 ????		00 00	    sprite_spaceship6_color168 =	0
   3024  10000 ????		00 00	    sprite_spaceship6_color167 =	0
   3025  10000 ????		00 00	    sprite_spaceship6_color166 =	0
   3026  10000 ????		00 00	    sprite_spaceship6_color165 =	0
   3027  10000 ????		00 00	    sprite_spaceship6_color164 =	0
   3028  10000 ????		00 00	    sprite_spaceship6_color163 =	0
   3029  10000 ????		00 00	    sprite_spaceship6_color162 =	0
   3030  10000 ????		00 00	    sprite_spaceship6_color161 =	0
   3031  10000 ????		00 00	    sprite_spaceship6_color160 =	0
   3032  10000 ????		00 00	    sprite_spaceship6_color159 =	0
   3033  10000 ????		00 00	    sprite_spaceship6_color158 =	0
   3034  10000 ????		00 00	    sprite_spaceship6_color157 =	0
   3035  10000 ????		00 00	    sprite_spaceship6_color156 =	0
   3036  10000 ????		00 00	    sprite_spaceship6_color155 =	0
   3037  10000 ????		00 00	    sprite_spaceship6_color154 =	0
   3038  10000 ????		00 00	    sprite_spaceship6_color153 =	0
   3039  10000 ????		00 00	    sprite_spaceship6_color152 =	0
   3040  10000 ????		00 00	    sprite_spaceship6_color151 =	0
   3041  10000 ????		00 00	    sprite_spaceship6_color150 =	0
   3042  10000 ????		00 00	    sprite_spaceship6_color149 =	0
   3043  10000 ????		00 00	    sprite_spaceship6_color148 =	0
   3044  10000 ????		00 00	    sprite_spaceship6_color147 =	0
   3045  10000 ????		00 00	    sprite_spaceship6_color146 =	0
   3046  10000 ????		00 00	    sprite_spaceship6_color145 =	0
   3047  10000 ????		00 00	    sprite_spaceship6_color144 =	0
   3048  10000 ????		00 00	    sprite_spaceship6_color143 =	0
   3049  10000 ????		00 00	    sprite_spaceship6_color142 =	0
   3050  10000 ????		00 00	    sprite_spaceship6_color141 =	0
   3051  10000 ????		00 00	    sprite_spaceship6_color140 =	0
   3052  10000 ????		00 00	    sprite_spaceship6_color139 =	0
   3053  10000 ????		00 00	    sprite_spaceship6_color138 =	0
   3054  10000 ????		00 00	    sprite_spaceship6_color137 =	0
   3055  10000 ????		00 00	    sprite_spaceship6_color136 =	0
   3056  10000 ????		00 00	    sprite_spaceship6_color135 =	0
   3057  10000 ????		00 00	    sprite_spaceship6_color134 =	0
   3058  10000 ????		00 00	    sprite_spaceship6_color133 =	0
   3059  10000 ????		00 00	    sprite_spaceship6_color132 =	0
   3060  10000 ????		00 00	    sprite_spaceship6_color131 =	0
   3061  10000 ????		00 00	    sprite_spaceship6_color130 =	0
   3062  10000 ????		00 00	    sprite_spaceship6_color129 =	0
   3063  10000 ????		00 00	    sprite_spaceship6_color128 =	0
   3064  10000 ????		00 00	    sprite_spaceship6_color127 =	0
   3065  10000 ????		00 00	    sprite_spaceship6_color126 =	0
   3066  10000 ????		00 00	    sprite_spaceship6_color125 =	0
   3067  10000 ????		00 00	    sprite_spaceship6_color124 =	0
   3068  10000 ????		00 00	    sprite_spaceship6_color123 =	0
   3069  10000 ????		00 00	    sprite_spaceship6_color122 =	0
   3070  10000 ????		00 00	    sprite_spaceship6_color121 =	0
   3071  10000 ????		00 00	    sprite_spaceship6_color120 =	0
   3072  10000 ????		00 00	    sprite_spaceship6_color119 =	0
   3073  10000 ????		00 00	    sprite_spaceship6_color118 =	0
   3074  10000 ????		00 00	    sprite_spaceship6_color117 =	0
   3075  10000 ????		00 00	    sprite_spaceship6_color116 =	0
   3076  10000 ????		00 00	    sprite_spaceship6_color115 =	0
   3077  10000 ????		00 00	    sprite_spaceship6_color114 =	0
   3078  10000 ????		00 00	    sprite_spaceship6_color113 =	0
   3079  10000 ????		00 00	    sprite_spaceship6_color112 =	0
   3080  10000 ????		00 00	    sprite_spaceship6_color111 =	0
   3081  10000 ????		00 00	    sprite_spaceship6_color110 =	0
   3082  10000 ????		00 00	    sprite_spaceship6_color109 =	0
   3083  10000 ????		00 00	    sprite_spaceship6_color108 =	0
   3084  10000 ????		00 00	    sprite_spaceship6_color107 =	0
   3085  10000 ????		00 00	    sprite_spaceship6_color106 =	0
   3086  10000 ????		00 00	    sprite_spaceship6_color105 =	0
   3087  10000 ????		00 00	    sprite_spaceship6_color104 =	0
   3088  10000 ????		00 00	    sprite_spaceship6_color103 =	0
   3089  10000 ????		00 00	    sprite_spaceship6_color102 =	0
   3090  10000 ????		00 00	    sprite_spaceship6_color101 =	0
   3091  10000 ????		00 00	    sprite_spaceship6_color100 =	0
   3092  10000 ????		00 00	    sprite_spaceship6_color99 =	0
   3093  10000 ????		00 00	    sprite_spaceship6_color98 =	0
   3094  10000 ????		00 00	    sprite_spaceship6_color97 =	0
   3095  10000 ????		00 00	    sprite_spaceship6_color96 =	0
   3096  10000 ????		00 00	    sprite_spaceship6_color95 =	0
   3097  10000 ????		00 00	    sprite_spaceship6_color94 =	0
   3098  10000 ????		00 00	    sprite_spaceship6_color93 =	0
   3099  10000 ????		00 00	    sprite_spaceship6_color92 =	0
   3100  10000 ????		00 00	    sprite_spaceship6_color91 =	0
   3101  10000 ????		00 00	    sprite_spaceship6_color90 =	0
   3102  10000 ????		00 00	    sprite_spaceship6_color89 =	0
   3103  10000 ????		00 00	    sprite_spaceship6_color88 =	0
   3104  10000 ????		00 00	    sprite_spaceship6_color87 =	0
   3105  10000 ????		00 00	    sprite_spaceship6_color86 =	0
   3106  10000 ????		00 00	    sprite_spaceship6_color85 =	0
   3107  10000 ????		00 00	    sprite_spaceship6_color84 =	0
   3108  10000 ????		00 00	    sprite_spaceship6_color83 =	0
   3109  10000 ????		00 00	    sprite_spaceship6_color82 =	0
   3110  10000 ????		00 00	    sprite_spaceship6_color81 =	0
   3111  10000 ????		00 00	    sprite_spaceship6_color80 =	0
   3112  10000 ????		00 00	    sprite_spaceship6_color79 =	0
   3113  10000 ????		00 00	    sprite_spaceship6_color78 =	0
   3114  10000 ????		00 00	    sprite_spaceship6_color77 =	0
   3115  10000 ????		00 00	    sprite_spaceship6_color76 =	0
   3116  10000 ????		00 00	    sprite_spaceship6_color75 =	0
   3117  10000 ????		00 00	    sprite_spaceship6_color74 =	0
   3118  10000 ????		00 00	    sprite_spaceship6_color73 =	0
   3119  10000 ????		00 00	    sprite_spaceship6_color72 =	0
   3120  10000 ????		00 00	    sprite_spaceship6_color71 =	0
   3121  10000 ????		00 00	    sprite_spaceship6_color70 =	0
   3122  10000 ????		00 00	    sprite_spaceship6_color69 =	0
   3123  10000 ????		00 00	    sprite_spaceship6_color68 =	0
   3124  10000 ????		00 00	    sprite_spaceship6_color67 =	0
   3125  10000 ????		00 00	    sprite_spaceship6_color66 =	0
   3126  10000 ????		00 00	    sprite_spaceship6_color65 =	0
   3127  10000 ????		00 00	    sprite_spaceship6_color64 =	0
   3128  10000 ????		00 00	    sprite_spaceship6_color63 =	0
   3129  10000 ????		00 00	    sprite_spaceship6_color62 =	0
   3130  10000 ????		00 00	    sprite_spaceship6_color61 =	0
   3131  10000 ????		00 00	    sprite_spaceship6_color60 =	0
   3132  10000 ????		00 00	    sprite_spaceship6_color59 =	0
   3133  10000 ????		00 00	    sprite_spaceship6_color58 =	0
   3134  10000 ????		00 00	    sprite_spaceship6_color57 =	0
   3135  10000 ????		00 00	    sprite_spaceship6_color56 =	0
   3136  10000 ????		00 00	    sprite_spaceship6_color55 =	0
   3137  10000 ????		00 00	    sprite_spaceship6_color54 =	0
   3138  10000 ????		00 00	    sprite_spaceship6_color53 =	0
   3139  10000 ????		00 00	    sprite_spaceship6_color52 =	0
   3140  10000 ????		00 00	    sprite_spaceship6_color51 =	0
   3141  10000 ????		00 00	    sprite_spaceship6_color50 =	0
   3142  10000 ????		00 00	    sprite_spaceship6_color49 =	0
   3143  10000 ????		00 00	    sprite_spaceship6_color48 =	0
   3144  10000 ????		00 00	    sprite_spaceship6_color47 =	0
   3145  10000 ????		00 00	    sprite_spaceship6_color46 =	0
   3146  10000 ????		00 00	    sprite_spaceship6_color45 =	0
   3147  10000 ????		00 00	    sprite_spaceship6_color44 =	0
   3148  10000 ????		00 00	    sprite_spaceship6_color43 =	0
   3149  10000 ????		00 00	    sprite_spaceship6_color42 =	0
   3150  10000 ????		00 00	    sprite_spaceship6_color41 =	0
   3151  10000 ????		00 00	    sprite_spaceship6_color40 =	0
   3152  10000 ????		00 00	    sprite_spaceship6_color39 =	0
   3153  10000 ????		00 00	    sprite_spaceship6_color38 =	0
   3154  10000 ????		00 00	    sprite_spaceship6_color37 =	0
   3155  10000 ????		00 00	    sprite_spaceship6_color36 =	0
   3156  10000 ????		00 00	    sprite_spaceship6_color35 =	0
   3157  10000 ????		00 00	    sprite_spaceship6_color34 =	0
   3158  10000 ????		00 00	    sprite_spaceship6_color33 =	0
   3159  10000 ????		00 00	    sprite_spaceship6_color32 =	0
   3160  10000 ????		00 00	    sprite_spaceship6_color31 =	0
   3161  10000 ????		00 00	    sprite_spaceship6_color30 =	0
   3162  10000 ????		00 00	    sprite_spaceship6_color29 =	0
   3163  10000 ????		00 00	    sprite_spaceship6_color28 =	0
   3164  10000 ????		00 00	    sprite_spaceship6_color27 =	0
   3165  10000 ????		00 00	    sprite_spaceship6_color26 =	0
   3166  10000 ????		00 00	    sprite_spaceship6_color25 =	0
   3167  10000 ????		00 00	    sprite_spaceship6_color24 =	0
   3168  10000 ????		00 00	    sprite_spaceship6_color23 =	0
   3169  10000 ????		00 00	    sprite_spaceship6_color22 =	0
   3170  10000 ????		00 00	    sprite_spaceship6_color21 =	0
   3171  10000 ????		00 00	    sprite_spaceship6_color20 =	0
   3172  10000 ????		00 00	    sprite_spaceship6_color19 =	0
   3173  10000 ????		00 00	    sprite_spaceship6_color18 =	0
   3174  10000 ????		00 00	    sprite_spaceship6_color17 =	0
   3175  10000 ????		00 00	    sprite_spaceship6_color16 =	0
   3176  10000 ????		00 00	    sprite_spaceship6_color15 =	0
   3177  10000 ????		00 00	    sprite_spaceship6_color14 =	0
   3178  10000 ????		00 00	    sprite_spaceship6_color13 =	0
   3179  10000 ????		00 00	    sprite_spaceship6_color12 =	0
   3180  10000 ????		00 00	    sprite_spaceship6_color11 =	0
   3181  10000 ????		00 00	    sprite_spaceship6_color10 =	0
   3182  10000 ????		00 00	    sprite_spaceship6_color9 =	0
   3183  10000 ????		00 00	    sprite_spaceship6_color8 =	0
   3184  10000 ????		00 00	    sprite_spaceship6_color7 =	0
   3185  10000 ????		00 00	    sprite_spaceship6_color6 =	0
   3186  10000 ????		00 00	    sprite_spaceship6_color5 =	0
   3187  10000 ????		00 00	    sprite_spaceship6_color4 =	0
   3188  10000 ????		00 1e	    sprite_spaceship6_color3 =	$1e
   3189  10000 ????		00 81	    sprite_spaceship6_color2 =	$81
   3190  10000 ????		00 44	    sprite_spaceship6_color1 =	$44
   3191  10000 ????		00 00	    sprite_spaceship6_color0 =	$00
   3192  10000 ????		00 00	    sprite_spaceship5_color255 =	0
   3193  10000 ????		00 00	    sprite_spaceship5_color254 =	0
   3194  10000 ????		00 00	    sprite_spaceship5_color253 =	0
   3195  10000 ????		00 00	    sprite_spaceship5_color252 =	0
   3196  10000 ????		00 00	    sprite_spaceship5_color251 =	0
   3197  10000 ????		00 00	    sprite_spaceship5_color250 =	0
   3198  10000 ????		00 00	    sprite_spaceship5_color249 =	0
   3199  10000 ????		00 00	    sprite_spaceship5_color248 =	0
   3200  10000 ????		00 00	    sprite_spaceship5_color247 =	0
   3201  10000 ????		00 00	    sprite_spaceship5_color246 =	0
   3202  10000 ????		00 00	    sprite_spaceship5_color245 =	0
   3203  10000 ????		00 00	    sprite_spaceship5_color244 =	0
   3204  10000 ????		00 00	    sprite_spaceship5_color243 =	0
   3205  10000 ????		00 00	    sprite_spaceship5_color242 =	0
   3206  10000 ????		00 00	    sprite_spaceship5_color241 =	0
   3207  10000 ????		00 00	    sprite_spaceship5_color240 =	0
   3208  10000 ????		00 00	    sprite_spaceship5_color239 =	0
   3209  10000 ????		00 00	    sprite_spaceship5_color238 =	0
   3210  10000 ????		00 00	    sprite_spaceship5_color237 =	0
   3211  10000 ????		00 00	    sprite_spaceship5_color236 =	0
   3212  10000 ????		00 00	    sprite_spaceship5_color235 =	0
   3213  10000 ????		00 00	    sprite_spaceship5_color234 =	0
   3214  10000 ????		00 00	    sprite_spaceship5_color233 =	0
   3215  10000 ????		00 00	    sprite_spaceship5_color232 =	0
   3216  10000 ????		00 00	    sprite_spaceship5_color231 =	0
   3217  10000 ????		00 00	    sprite_spaceship5_color230 =	0
   3218  10000 ????		00 00	    sprite_spaceship5_color229 =	0
   3219  10000 ????		00 00	    sprite_spaceship5_color228 =	0
   3220  10000 ????		00 00	    sprite_spaceship5_color227 =	0
   3221  10000 ????		00 00	    sprite_spaceship5_color226 =	0
   3222  10000 ????		00 00	    sprite_spaceship5_color225 =	0
   3223  10000 ????		00 00	    sprite_spaceship5_color224 =	0
   3224  10000 ????		00 00	    sprite_spaceship5_color223 =	0
   3225  10000 ????		00 00	    sprite_spaceship5_color222 =	0
   3226  10000 ????		00 00	    sprite_spaceship5_color221 =	0
   3227  10000 ????		00 00	    sprite_spaceship5_color220 =	0
   3228  10000 ????		00 00	    sprite_spaceship5_color219 =	0
   3229  10000 ????		00 00	    sprite_spaceship5_color218 =	0
   3230  10000 ????		00 00	    sprite_spaceship5_color217 =	0
   3231  10000 ????		00 00	    sprite_spaceship5_color216 =	0
   3232  10000 ????		00 00	    sprite_spaceship5_color215 =	0
   3233  10000 ????		00 00	    sprite_spaceship5_color214 =	0
   3234  10000 ????		00 00	    sprite_spaceship5_color213 =	0
   3235  10000 ????		00 00	    sprite_spaceship5_color212 =	0
   3236  10000 ????		00 00	    sprite_spaceship5_color211 =	0
   3237  10000 ????		00 00	    sprite_spaceship5_color210 =	0
   3238  10000 ????		00 00	    sprite_spaceship5_color209 =	0
   3239  10000 ????		00 00	    sprite_spaceship5_color208 =	0
   3240  10000 ????		00 00	    sprite_spaceship5_color207 =	0
   3241  10000 ????		00 00	    sprite_spaceship5_color206 =	0
   3242  10000 ????		00 00	    sprite_spaceship5_color205 =	0
   3243  10000 ????		00 00	    sprite_spaceship5_color204 =	0
   3244  10000 ????		00 00	    sprite_spaceship5_color203 =	0
   3245  10000 ????		00 00	    sprite_spaceship5_color202 =	0
   3246  10000 ????		00 00	    sprite_spaceship5_color201 =	0
   3247  10000 ????		00 00	    sprite_spaceship5_color200 =	0
   3248  10000 ????		00 00	    sprite_spaceship5_color199 =	0
   3249  10000 ????		00 00	    sprite_spaceship5_color198 =	0
   3250  10000 ????		00 00	    sprite_spaceship5_color197 =	0
   3251  10000 ????		00 00	    sprite_spaceship5_color196 =	0
   3252  10000 ????		00 00	    sprite_spaceship5_color195 =	0
   3253  10000 ????		00 00	    sprite_spaceship5_color194 =	0
   3254  10000 ????		00 00	    sprite_spaceship5_color193 =	0
   3255  10000 ????		00 00	    sprite_spaceship5_color192 =	0
   3256  10000 ????		00 00	    sprite_spaceship5_color191 =	0
   3257  10000 ????		00 00	    sprite_spaceship5_color190 =	0
   3258  10000 ????		00 00	    sprite_spaceship5_color189 =	0
   3259  10000 ????		00 00	    sprite_spaceship5_color188 =	0
   3260  10000 ????		00 00	    sprite_spaceship5_color187 =	0
   3261  10000 ????		00 00	    sprite_spaceship5_color186 =	0
   3262  10000 ????		00 00	    sprite_spaceship5_color185 =	0
   3263  10000 ????		00 00	    sprite_spaceship5_color184 =	0
   3264  10000 ????		00 00	    sprite_spaceship5_color183 =	0
   3265  10000 ????		00 00	    sprite_spaceship5_color182 =	0
   3266  10000 ????		00 00	    sprite_spaceship5_color181 =	0
   3267  10000 ????		00 00	    sprite_spaceship5_color180 =	0
   3268  10000 ????		00 00	    sprite_spaceship5_color179 =	0
   3269  10000 ????		00 00	    sprite_spaceship5_color178 =	0
   3270  10000 ????		00 00	    sprite_spaceship5_color177 =	0
   3271  10000 ????		00 00	    sprite_spaceship5_color176 =	0
   3272  10000 ????		00 00	    sprite_spaceship5_color175 =	0
   3273  10000 ????		00 00	    sprite_spaceship5_color174 =	0
   3274  10000 ????		00 00	    sprite_spaceship5_color173 =	0
   3275  10000 ????		00 00	    sprite_spaceship5_color172 =	0
   3276  10000 ????		00 00	    sprite_spaceship5_color171 =	0
   3277  10000 ????		00 00	    sprite_spaceship5_color170 =	0
   3278  10000 ????		00 00	    sprite_spaceship5_color169 =	0
   3279  10000 ????		00 00	    sprite_spaceship5_color168 =	0
   3280  10000 ????		00 00	    sprite_spaceship5_color167 =	0
   3281  10000 ????		00 00	    sprite_spaceship5_color166 =	0
   3282  10000 ????		00 00	    sprite_spaceship5_color165 =	0
   3283  10000 ????		00 00	    sprite_spaceship5_color164 =	0
   3284  10000 ????		00 00	    sprite_spaceship5_color163 =	0
   3285  10000 ????		00 00	    sprite_spaceship5_color162 =	0
   3286  10000 ????		00 00	    sprite_spaceship5_color161 =	0
   3287  10000 ????		00 00	    sprite_spaceship5_color160 =	0
   3288  10000 ????		00 00	    sprite_spaceship5_color159 =	0
   3289  10000 ????		00 00	    sprite_spaceship5_color158 =	0
   3290  10000 ????		00 00	    sprite_spaceship5_color157 =	0
   3291  10000 ????		00 00	    sprite_spaceship5_color156 =	0
   3292  10000 ????		00 00	    sprite_spaceship5_color155 =	0
   3293  10000 ????		00 00	    sprite_spaceship5_color154 =	0
   3294  10000 ????		00 00	    sprite_spaceship5_color153 =	0
   3295  10000 ????		00 00	    sprite_spaceship5_color152 =	0
   3296  10000 ????		00 00	    sprite_spaceship5_color151 =	0
   3297  10000 ????		00 00	    sprite_spaceship5_color150 =	0
   3298  10000 ????		00 00	    sprite_spaceship5_color149 =	0
   3299  10000 ????		00 00	    sprite_spaceship5_color148 =	0
   3300  10000 ????		00 00	    sprite_spaceship5_color147 =	0
   3301  10000 ????		00 00	    sprite_spaceship5_color146 =	0
   3302  10000 ????		00 00	    sprite_spaceship5_color145 =	0
   3303  10000 ????		00 00	    sprite_spaceship5_color144 =	0
   3304  10000 ????		00 00	    sprite_spaceship5_color143 =	0
   3305  10000 ????		00 00	    sprite_spaceship5_color142 =	0
   3306  10000 ????		00 00	    sprite_spaceship5_color141 =	0
   3307  10000 ????		00 00	    sprite_spaceship5_color140 =	0
   3308  10000 ????		00 00	    sprite_spaceship5_color139 =	0
   3309  10000 ????		00 00	    sprite_spaceship5_color138 =	0
   3310  10000 ????		00 00	    sprite_spaceship5_color137 =	0
   3311  10000 ????		00 00	    sprite_spaceship5_color136 =	0
   3312  10000 ????		00 00	    sprite_spaceship5_color135 =	0
   3313  10000 ????		00 00	    sprite_spaceship5_color134 =	0
   3314  10000 ????		00 00	    sprite_spaceship5_color133 =	0
   3315  10000 ????		00 00	    sprite_spaceship5_color132 =	0
   3316  10000 ????		00 00	    sprite_spaceship5_color131 =	0
   3317  10000 ????		00 00	    sprite_spaceship5_color130 =	0
   3318  10000 ????		00 00	    sprite_spaceship5_color129 =	0
   3319  10000 ????		00 00	    sprite_spaceship5_color128 =	0
   3320  10000 ????		00 00	    sprite_spaceship5_color127 =	0
   3321  10000 ????		00 00	    sprite_spaceship5_color126 =	0
   3322  10000 ????		00 00	    sprite_spaceship5_color125 =	0
   3323  10000 ????		00 00	    sprite_spaceship5_color124 =	0
   3324  10000 ????		00 00	    sprite_spaceship5_color123 =	0
   3325  10000 ????		00 00	    sprite_spaceship5_color122 =	0
   3326  10000 ????		00 00	    sprite_spaceship5_color121 =	0
   3327  10000 ????		00 00	    sprite_spaceship5_color120 =	0
   3328  10000 ????		00 00	    sprite_spaceship5_color119 =	0
   3329  10000 ????		00 00	    sprite_spaceship5_color118 =	0
   3330  10000 ????		00 00	    sprite_spaceship5_color117 =	0
   3331  10000 ????		00 00	    sprite_spaceship5_color116 =	0
   3332  10000 ????		00 00	    sprite_spaceship5_color115 =	0
   3333  10000 ????		00 00	    sprite_spaceship5_color114 =	0
   3334  10000 ????		00 00	    sprite_spaceship5_color113 =	0
   3335  10000 ????		00 00	    sprite_spaceship5_color112 =	0
   3336  10000 ????		00 00	    sprite_spaceship5_color111 =	0
   3337  10000 ????		00 00	    sprite_spaceship5_color110 =	0
   3338  10000 ????		00 00	    sprite_spaceship5_color109 =	0
   3339  10000 ????		00 00	    sprite_spaceship5_color108 =	0
   3340  10000 ????		00 00	    sprite_spaceship5_color107 =	0
   3341  10000 ????		00 00	    sprite_spaceship5_color106 =	0
   3342  10000 ????		00 00	    sprite_spaceship5_color105 =	0
   3343  10000 ????		00 00	    sprite_spaceship5_color104 =	0
   3344  10000 ????		00 00	    sprite_spaceship5_color103 =	0
   3345  10000 ????		00 00	    sprite_spaceship5_color102 =	0
   3346  10000 ????		00 00	    sprite_spaceship5_color101 =	0
   3347  10000 ????		00 00	    sprite_spaceship5_color100 =	0
   3348  10000 ????		00 00	    sprite_spaceship5_color99 =	0
   3349  10000 ????		00 00	    sprite_spaceship5_color98 =	0
   3350  10000 ????		00 00	    sprite_spaceship5_color97 =	0
   3351  10000 ????		00 00	    sprite_spaceship5_color96 =	0
   3352  10000 ????		00 00	    sprite_spaceship5_color95 =	0
   3353  10000 ????		00 00	    sprite_spaceship5_color94 =	0
   3354  10000 ????		00 00	    sprite_spaceship5_color93 =	0
   3355  10000 ????		00 00	    sprite_spaceship5_color92 =	0
   3356  10000 ????		00 00	    sprite_spaceship5_color91 =	0
   3357  10000 ????		00 00	    sprite_spaceship5_color90 =	0
   3358  10000 ????		00 00	    sprite_spaceship5_color89 =	0
   3359  10000 ????		00 00	    sprite_spaceship5_color88 =	0
   3360  10000 ????		00 00	    sprite_spaceship5_color87 =	0
   3361  10000 ????		00 00	    sprite_spaceship5_color86 =	0
   3362  10000 ????		00 00	    sprite_spaceship5_color85 =	0
   3363  10000 ????		00 00	    sprite_spaceship5_color84 =	0
   3364  10000 ????		00 00	    sprite_spaceship5_color83 =	0
   3365  10000 ????		00 00	    sprite_spaceship5_color82 =	0
   3366  10000 ????		00 00	    sprite_spaceship5_color81 =	0
   3367  10000 ????		00 00	    sprite_spaceship5_color80 =	0
   3368  10000 ????		00 00	    sprite_spaceship5_color79 =	0
   3369  10000 ????		00 00	    sprite_spaceship5_color78 =	0
   3370  10000 ????		00 00	    sprite_spaceship5_color77 =	0
   3371  10000 ????		00 00	    sprite_spaceship5_color76 =	0
   3372  10000 ????		00 00	    sprite_spaceship5_color75 =	0
   3373  10000 ????		00 00	    sprite_spaceship5_color74 =	0
   3374  10000 ????		00 00	    sprite_spaceship5_color73 =	0
   3375  10000 ????		00 00	    sprite_spaceship5_color72 =	0
   3376  10000 ????		00 00	    sprite_spaceship5_color71 =	0
   3377  10000 ????		00 00	    sprite_spaceship5_color70 =	0
   3378  10000 ????		00 00	    sprite_spaceship5_color69 =	0
   3379  10000 ????		00 00	    sprite_spaceship5_color68 =	0
   3380  10000 ????		00 00	    sprite_spaceship5_color67 =	0
   3381  10000 ????		00 00	    sprite_spaceship5_color66 =	0
   3382  10000 ????		00 00	    sprite_spaceship5_color65 =	0
   3383  10000 ????		00 00	    sprite_spaceship5_color64 =	0
   3384  10000 ????		00 00	    sprite_spaceship5_color63 =	0
   3385  10000 ????		00 00	    sprite_spaceship5_color62 =	0
   3386  10000 ????		00 00	    sprite_spaceship5_color61 =	0
   3387  10000 ????		00 00	    sprite_spaceship5_color60 =	0
   3388  10000 ????		00 00	    sprite_spaceship5_color59 =	0
   3389  10000 ????		00 00	    sprite_spaceship5_color58 =	0
   3390  10000 ????		00 00	    sprite_spaceship5_color57 =	0
   3391  10000 ????		00 00	    sprite_spaceship5_color56 =	0
   3392  10000 ????		00 00	    sprite_spaceship5_color55 =	0
   3393  10000 ????		00 00	    sprite_spaceship5_color54 =	0
   3394  10000 ????		00 00	    sprite_spaceship5_color53 =	0
   3395  10000 ????		00 00	    sprite_spaceship5_color52 =	0
   3396  10000 ????		00 00	    sprite_spaceship5_color51 =	0
   3397  10000 ????		00 00	    sprite_spaceship5_color50 =	0
   3398  10000 ????		00 00	    sprite_spaceship5_color49 =	0
   3399  10000 ????		00 00	    sprite_spaceship5_color48 =	0
   3400  10000 ????		00 00	    sprite_spaceship5_color47 =	0
   3401  10000 ????		00 00	    sprite_spaceship5_color46 =	0
   3402  10000 ????		00 00	    sprite_spaceship5_color45 =	0
   3403  10000 ????		00 00	    sprite_spaceship5_color44 =	0
   3404  10000 ????		00 00	    sprite_spaceship5_color43 =	0
   3405  10000 ????		00 00	    sprite_spaceship5_color42 =	0
   3406  10000 ????		00 00	    sprite_spaceship5_color41 =	0
   3407  10000 ????		00 00	    sprite_spaceship5_color40 =	0
   3408  10000 ????		00 00	    sprite_spaceship5_color39 =	0
   3409  10000 ????		00 00	    sprite_spaceship5_color38 =	0
   3410  10000 ????		00 00	    sprite_spaceship5_color37 =	0
   3411  10000 ????		00 00	    sprite_spaceship5_color36 =	0
   3412  10000 ????		00 00	    sprite_spaceship5_color35 =	0
   3413  10000 ????		00 00	    sprite_spaceship5_color34 =	0
   3414  10000 ????		00 00	    sprite_spaceship5_color33 =	0
   3415  10000 ????		00 00	    sprite_spaceship5_color32 =	0
   3416  10000 ????		00 00	    sprite_spaceship5_color31 =	0
   3417  10000 ????		00 00	    sprite_spaceship5_color30 =	0
   3418  10000 ????		00 00	    sprite_spaceship5_color29 =	0
   3419  10000 ????		00 00	    sprite_spaceship5_color28 =	0
   3420  10000 ????		00 00	    sprite_spaceship5_color27 =	0
   3421  10000 ????		00 00	    sprite_spaceship5_color26 =	0
   3422  10000 ????		00 00	    sprite_spaceship5_color25 =	0
   3423  10000 ????		00 00	    sprite_spaceship5_color24 =	0
   3424  10000 ????		00 00	    sprite_spaceship5_color23 =	0
   3425  10000 ????		00 00	    sprite_spaceship5_color22 =	0
   3426  10000 ????		00 00	    sprite_spaceship5_color21 =	0
   3427  10000 ????		00 00	    sprite_spaceship5_color20 =	0
   3428  10000 ????		00 00	    sprite_spaceship5_color19 =	0
   3429  10000 ????		00 00	    sprite_spaceship5_color18 =	0
   3430  10000 ????		00 00	    sprite_spaceship5_color17 =	0
   3431  10000 ????		00 00	    sprite_spaceship5_color16 =	0
   3432  10000 ????		00 00	    sprite_spaceship5_color15 =	0
   3433  10000 ????		00 00	    sprite_spaceship5_color14 =	0
   3434  10000 ????		00 00	    sprite_spaceship5_color13 =	0
   3435  10000 ????		00 00	    sprite_spaceship5_color12 =	0
   3436  10000 ????		00 00	    sprite_spaceship5_color11 =	0
   3437  10000 ????		00 00	    sprite_spaceship5_color10 =	0
   3438  10000 ????		00 00	    sprite_spaceship5_color9 =	0
   3439  10000 ????		00 00	    sprite_spaceship5_color8 =	0
   3440  10000 ????		00 00	    sprite_spaceship5_color7 =	0
   3441  10000 ????		00 00	    sprite_spaceship5_color6 =	0
   3442  10000 ????		00 00	    sprite_spaceship5_color5 =	0
   3443  10000 ????		00 00	    sprite_spaceship5_color4 =	0
   3444  10000 ????		00 1e	    sprite_spaceship5_color3 =	$1e
   3445  10000 ????		00 81	    sprite_spaceship5_color2 =	$81
   3446  10000 ????		00 44	    sprite_spaceship5_color1 =	$44
   3447  10000 ????		00 00	    sprite_spaceship5_color0 =	$00
   3448  10000 ????		00 00	    sprite_spaceship4_color255 =	0
   3449  10000 ????		00 00	    sprite_spaceship4_color254 =	0
   3450  10000 ????		00 00	    sprite_spaceship4_color253 =	0
   3451  10000 ????		00 00	    sprite_spaceship4_color252 =	0
   3452  10000 ????		00 00	    sprite_spaceship4_color251 =	0
   3453  10000 ????		00 00	    sprite_spaceship4_color250 =	0
   3454  10000 ????		00 00	    sprite_spaceship4_color249 =	0
   3455  10000 ????		00 00	    sprite_spaceship4_color248 =	0
   3456  10000 ????		00 00	    sprite_spaceship4_color247 =	0
   3457  10000 ????		00 00	    sprite_spaceship4_color246 =	0
   3458  10000 ????		00 00	    sprite_spaceship4_color245 =	0
   3459  10000 ????		00 00	    sprite_spaceship4_color244 =	0
   3460  10000 ????		00 00	    sprite_spaceship4_color243 =	0
   3461  10000 ????		00 00	    sprite_spaceship4_color242 =	0
   3462  10000 ????		00 00	    sprite_spaceship4_color241 =	0
   3463  10000 ????		00 00	    sprite_spaceship4_color240 =	0
   3464  10000 ????		00 00	    sprite_spaceship4_color239 =	0
   3465  10000 ????		00 00	    sprite_spaceship4_color238 =	0
   3466  10000 ????		00 00	    sprite_spaceship4_color237 =	0
   3467  10000 ????		00 00	    sprite_spaceship4_color236 =	0
   3468  10000 ????		00 00	    sprite_spaceship4_color235 =	0
   3469  10000 ????		00 00	    sprite_spaceship4_color234 =	0
   3470  10000 ????		00 00	    sprite_spaceship4_color233 =	0
   3471  10000 ????		00 00	    sprite_spaceship4_color232 =	0
   3472  10000 ????		00 00	    sprite_spaceship4_color231 =	0
   3473  10000 ????		00 00	    sprite_spaceship4_color230 =	0
   3474  10000 ????		00 00	    sprite_spaceship4_color229 =	0
   3475  10000 ????		00 00	    sprite_spaceship4_color228 =	0
   3476  10000 ????		00 00	    sprite_spaceship4_color227 =	0
   3477  10000 ????		00 00	    sprite_spaceship4_color226 =	0
   3478  10000 ????		00 00	    sprite_spaceship4_color225 =	0
   3479  10000 ????		00 00	    sprite_spaceship4_color224 =	0
   3480  10000 ????		00 00	    sprite_spaceship4_color223 =	0
   3481  10000 ????		00 00	    sprite_spaceship4_color222 =	0
   3482  10000 ????		00 00	    sprite_spaceship4_color221 =	0
   3483  10000 ????		00 00	    sprite_spaceship4_color220 =	0
   3484  10000 ????		00 00	    sprite_spaceship4_color219 =	0
   3485  10000 ????		00 00	    sprite_spaceship4_color218 =	0
   3486  10000 ????		00 00	    sprite_spaceship4_color217 =	0
   3487  10000 ????		00 00	    sprite_spaceship4_color216 =	0
   3488  10000 ????		00 00	    sprite_spaceship4_color215 =	0
   3489  10000 ????		00 00	    sprite_spaceship4_color214 =	0
   3490  10000 ????		00 00	    sprite_spaceship4_color213 =	0
   3491  10000 ????		00 00	    sprite_spaceship4_color212 =	0
   3492  10000 ????		00 00	    sprite_spaceship4_color211 =	0
   3493  10000 ????		00 00	    sprite_spaceship4_color210 =	0
   3494  10000 ????		00 00	    sprite_spaceship4_color209 =	0
   3495  10000 ????		00 00	    sprite_spaceship4_color208 =	0
   3496  10000 ????		00 00	    sprite_spaceship4_color207 =	0
   3497  10000 ????		00 00	    sprite_spaceship4_color206 =	0
   3498  10000 ????		00 00	    sprite_spaceship4_color205 =	0
   3499  10000 ????		00 00	    sprite_spaceship4_color204 =	0
   3500  10000 ????		00 00	    sprite_spaceship4_color203 =	0
   3501  10000 ????		00 00	    sprite_spaceship4_color202 =	0
   3502  10000 ????		00 00	    sprite_spaceship4_color201 =	0
   3503  10000 ????		00 00	    sprite_spaceship4_color200 =	0
   3504  10000 ????		00 00	    sprite_spaceship4_color199 =	0
   3505  10000 ????		00 00	    sprite_spaceship4_color198 =	0
   3506  10000 ????		00 00	    sprite_spaceship4_color197 =	0
   3507  10000 ????		00 00	    sprite_spaceship4_color196 =	0
   3508  10000 ????		00 00	    sprite_spaceship4_color195 =	0
   3509  10000 ????		00 00	    sprite_spaceship4_color194 =	0
   3510  10000 ????		00 00	    sprite_spaceship4_color193 =	0
   3511  10000 ????		00 00	    sprite_spaceship4_color192 =	0
   3512  10000 ????		00 00	    sprite_spaceship4_color191 =	0
   3513  10000 ????		00 00	    sprite_spaceship4_color190 =	0
   3514  10000 ????		00 00	    sprite_spaceship4_color189 =	0
   3515  10000 ????		00 00	    sprite_spaceship4_color188 =	0
   3516  10000 ????		00 00	    sprite_spaceship4_color187 =	0
   3517  10000 ????		00 00	    sprite_spaceship4_color186 =	0
   3518  10000 ????		00 00	    sprite_spaceship4_color185 =	0
   3519  10000 ????		00 00	    sprite_spaceship4_color184 =	0
   3520  10000 ????		00 00	    sprite_spaceship4_color183 =	0
   3521  10000 ????		00 00	    sprite_spaceship4_color182 =	0
   3522  10000 ????		00 00	    sprite_spaceship4_color181 =	0
   3523  10000 ????		00 00	    sprite_spaceship4_color180 =	0
   3524  10000 ????		00 00	    sprite_spaceship4_color179 =	0
   3525  10000 ????		00 00	    sprite_spaceship4_color178 =	0
   3526  10000 ????		00 00	    sprite_spaceship4_color177 =	0
   3527  10000 ????		00 00	    sprite_spaceship4_color176 =	0
   3528  10000 ????		00 00	    sprite_spaceship4_color175 =	0
   3529  10000 ????		00 00	    sprite_spaceship4_color174 =	0
   3530  10000 ????		00 00	    sprite_spaceship4_color173 =	0
   3531  10000 ????		00 00	    sprite_spaceship4_color172 =	0
   3532  10000 ????		00 00	    sprite_spaceship4_color171 =	0
   3533  10000 ????		00 00	    sprite_spaceship4_color170 =	0
   3534  10000 ????		00 00	    sprite_spaceship4_color169 =	0
   3535  10000 ????		00 00	    sprite_spaceship4_color168 =	0
   3536  10000 ????		00 00	    sprite_spaceship4_color167 =	0
   3537  10000 ????		00 00	    sprite_spaceship4_color166 =	0
   3538  10000 ????		00 00	    sprite_spaceship4_color165 =	0
   3539  10000 ????		00 00	    sprite_spaceship4_color164 =	0
   3540  10000 ????		00 00	    sprite_spaceship4_color163 =	0
   3541  10000 ????		00 00	    sprite_spaceship4_color162 =	0
   3542  10000 ????		00 00	    sprite_spaceship4_color161 =	0
   3543  10000 ????		00 00	    sprite_spaceship4_color160 =	0
   3544  10000 ????		00 00	    sprite_spaceship4_color159 =	0
   3545  10000 ????		00 00	    sprite_spaceship4_color158 =	0
   3546  10000 ????		00 00	    sprite_spaceship4_color157 =	0
   3547  10000 ????		00 00	    sprite_spaceship4_color156 =	0
   3548  10000 ????		00 00	    sprite_spaceship4_color155 =	0
   3549  10000 ????		00 00	    sprite_spaceship4_color154 =	0
   3550  10000 ????		00 00	    sprite_spaceship4_color153 =	0
   3551  10000 ????		00 00	    sprite_spaceship4_color152 =	0
   3552  10000 ????		00 00	    sprite_spaceship4_color151 =	0
   3553  10000 ????		00 00	    sprite_spaceship4_color150 =	0
   3554  10000 ????		00 00	    sprite_spaceship4_color149 =	0
   3555  10000 ????		00 00	    sprite_spaceship4_color148 =	0
   3556  10000 ????		00 00	    sprite_spaceship4_color147 =	0
   3557  10000 ????		00 00	    sprite_spaceship4_color146 =	0
   3558  10000 ????		00 00	    sprite_spaceship4_color145 =	0
   3559  10000 ????		00 00	    sprite_spaceship4_color144 =	0
   3560  10000 ????		00 00	    sprite_spaceship4_color143 =	0
   3561  10000 ????		00 00	    sprite_spaceship4_color142 =	0
   3562  10000 ????		00 00	    sprite_spaceship4_color141 =	0
   3563  10000 ????		00 00	    sprite_spaceship4_color140 =	0
   3564  10000 ????		00 00	    sprite_spaceship4_color139 =	0
   3565  10000 ????		00 00	    sprite_spaceship4_color138 =	0
   3566  10000 ????		00 00	    sprite_spaceship4_color137 =	0
   3567  10000 ????		00 00	    sprite_spaceship4_color136 =	0
   3568  10000 ????		00 00	    sprite_spaceship4_color135 =	0
   3569  10000 ????		00 00	    sprite_spaceship4_color134 =	0
   3570  10000 ????		00 00	    sprite_spaceship4_color133 =	0
   3571  10000 ????		00 00	    sprite_spaceship4_color132 =	0
   3572  10000 ????		00 00	    sprite_spaceship4_color131 =	0
   3573  10000 ????		00 00	    sprite_spaceship4_color130 =	0
   3574  10000 ????		00 00	    sprite_spaceship4_color129 =	0
   3575  10000 ????		00 00	    sprite_spaceship4_color128 =	0
   3576  10000 ????		00 00	    sprite_spaceship4_color127 =	0
   3577  10000 ????		00 00	    sprite_spaceship4_color126 =	0
   3578  10000 ????		00 00	    sprite_spaceship4_color125 =	0
   3579  10000 ????		00 00	    sprite_spaceship4_color124 =	0
   3580  10000 ????		00 00	    sprite_spaceship4_color123 =	0
   3581  10000 ????		00 00	    sprite_spaceship4_color122 =	0
   3582  10000 ????		00 00	    sprite_spaceship4_color121 =	0
   3583  10000 ????		00 00	    sprite_spaceship4_color120 =	0
   3584  10000 ????		00 00	    sprite_spaceship4_color119 =	0
   3585  10000 ????		00 00	    sprite_spaceship4_color118 =	0
   3586  10000 ????		00 00	    sprite_spaceship4_color117 =	0
   3587  10000 ????		00 00	    sprite_spaceship4_color116 =	0
   3588  10000 ????		00 00	    sprite_spaceship4_color115 =	0
   3589  10000 ????		00 00	    sprite_spaceship4_color114 =	0
   3590  10000 ????		00 00	    sprite_spaceship4_color113 =	0
   3591  10000 ????		00 00	    sprite_spaceship4_color112 =	0
   3592  10000 ????		00 00	    sprite_spaceship4_color111 =	0
   3593  10000 ????		00 00	    sprite_spaceship4_color110 =	0
   3594  10000 ????		00 00	    sprite_spaceship4_color109 =	0
   3595  10000 ????		00 00	    sprite_spaceship4_color108 =	0
   3596  10000 ????		00 00	    sprite_spaceship4_color107 =	0
   3597  10000 ????		00 00	    sprite_spaceship4_color106 =	0
   3598  10000 ????		00 00	    sprite_spaceship4_color105 =	0
   3599  10000 ????		00 00	    sprite_spaceship4_color104 =	0
   3600  10000 ????		00 00	    sprite_spaceship4_color103 =	0
   3601  10000 ????		00 00	    sprite_spaceship4_color102 =	0
   3602  10000 ????		00 00	    sprite_spaceship4_color101 =	0
   3603  10000 ????		00 00	    sprite_spaceship4_color100 =	0
   3604  10000 ????		00 00	    sprite_spaceship4_color99 =	0
   3605  10000 ????		00 00	    sprite_spaceship4_color98 =	0
   3606  10000 ????		00 00	    sprite_spaceship4_color97 =	0
   3607  10000 ????		00 00	    sprite_spaceship4_color96 =	0
   3608  10000 ????		00 00	    sprite_spaceship4_color95 =	0
   3609  10000 ????		00 00	    sprite_spaceship4_color94 =	0
   3610  10000 ????		00 00	    sprite_spaceship4_color93 =	0
   3611  10000 ????		00 00	    sprite_spaceship4_color92 =	0
   3612  10000 ????		00 00	    sprite_spaceship4_color91 =	0
   3613  10000 ????		00 00	    sprite_spaceship4_color90 =	0
   3614  10000 ????		00 00	    sprite_spaceship4_color89 =	0
   3615  10000 ????		00 00	    sprite_spaceship4_color88 =	0
   3616  10000 ????		00 00	    sprite_spaceship4_color87 =	0
   3617  10000 ????		00 00	    sprite_spaceship4_color86 =	0
   3618  10000 ????		00 00	    sprite_spaceship4_color85 =	0
   3619  10000 ????		00 00	    sprite_spaceship4_color84 =	0
   3620  10000 ????		00 00	    sprite_spaceship4_color83 =	0
   3621  10000 ????		00 00	    sprite_spaceship4_color82 =	0
   3622  10000 ????		00 00	    sprite_spaceship4_color81 =	0
   3623  10000 ????		00 00	    sprite_spaceship4_color80 =	0
   3624  10000 ????		00 00	    sprite_spaceship4_color79 =	0
   3625  10000 ????		00 00	    sprite_spaceship4_color78 =	0
   3626  10000 ????		00 00	    sprite_spaceship4_color77 =	0
   3627  10000 ????		00 00	    sprite_spaceship4_color76 =	0
   3628  10000 ????		00 00	    sprite_spaceship4_color75 =	0
   3629  10000 ????		00 00	    sprite_spaceship4_color74 =	0
   3630  10000 ????		00 00	    sprite_spaceship4_color73 =	0
   3631  10000 ????		00 00	    sprite_spaceship4_color72 =	0
   3632  10000 ????		00 00	    sprite_spaceship4_color71 =	0
   3633  10000 ????		00 00	    sprite_spaceship4_color70 =	0
   3634  10000 ????		00 00	    sprite_spaceship4_color69 =	0
   3635  10000 ????		00 00	    sprite_spaceship4_color68 =	0
   3636  10000 ????		00 00	    sprite_spaceship4_color67 =	0
   3637  10000 ????		00 00	    sprite_spaceship4_color66 =	0
   3638  10000 ????		00 00	    sprite_spaceship4_color65 =	0
   3639  10000 ????		00 00	    sprite_spaceship4_color64 =	0
   3640  10000 ????		00 00	    sprite_spaceship4_color63 =	0
   3641  10000 ????		00 00	    sprite_spaceship4_color62 =	0
   3642  10000 ????		00 00	    sprite_spaceship4_color61 =	0
   3643  10000 ????		00 00	    sprite_spaceship4_color60 =	0
   3644  10000 ????		00 00	    sprite_spaceship4_color59 =	0
   3645  10000 ????		00 00	    sprite_spaceship4_color58 =	0
   3646  10000 ????		00 00	    sprite_spaceship4_color57 =	0
   3647  10000 ????		00 00	    sprite_spaceship4_color56 =	0
   3648  10000 ????		00 00	    sprite_spaceship4_color55 =	0
   3649  10000 ????		00 00	    sprite_spaceship4_color54 =	0
   3650  10000 ????		00 00	    sprite_spaceship4_color53 =	0
   3651  10000 ????		00 00	    sprite_spaceship4_color52 =	0
   3652  10000 ????		00 00	    sprite_spaceship4_color51 =	0
   3653  10000 ????		00 00	    sprite_spaceship4_color50 =	0
   3654  10000 ????		00 00	    sprite_spaceship4_color49 =	0
   3655  10000 ????		00 00	    sprite_spaceship4_color48 =	0
   3656  10000 ????		00 00	    sprite_spaceship4_color47 =	0
   3657  10000 ????		00 00	    sprite_spaceship4_color46 =	0
   3658  10000 ????		00 00	    sprite_spaceship4_color45 =	0
   3659  10000 ????		00 00	    sprite_spaceship4_color44 =	0
   3660  10000 ????		00 00	    sprite_spaceship4_color43 =	0
   3661  10000 ????		00 00	    sprite_spaceship4_color42 =	0
   3662  10000 ????		00 00	    sprite_spaceship4_color41 =	0
   3663  10000 ????		00 00	    sprite_spaceship4_color40 =	0
   3664  10000 ????		00 00	    sprite_spaceship4_color39 =	0
   3665  10000 ????		00 00	    sprite_spaceship4_color38 =	0
   3666  10000 ????		00 00	    sprite_spaceship4_color37 =	0
   3667  10000 ????		00 00	    sprite_spaceship4_color36 =	0
   3668  10000 ????		00 00	    sprite_spaceship4_color35 =	0
   3669  10000 ????		00 00	    sprite_spaceship4_color34 =	0
   3670  10000 ????		00 00	    sprite_spaceship4_color33 =	0
   3671  10000 ????		00 00	    sprite_spaceship4_color32 =	0
   3672  10000 ????		00 00	    sprite_spaceship4_color31 =	0
   3673  10000 ????		00 00	    sprite_spaceship4_color30 =	0
   3674  10000 ????		00 00	    sprite_spaceship4_color29 =	0
   3675  10000 ????		00 00	    sprite_spaceship4_color28 =	0
   3676  10000 ????		00 00	    sprite_spaceship4_color27 =	0
   3677  10000 ????		00 00	    sprite_spaceship4_color26 =	0
   3678  10000 ????		00 00	    sprite_spaceship4_color25 =	0
   3679  10000 ????		00 00	    sprite_spaceship4_color24 =	0
   3680  10000 ????		00 00	    sprite_spaceship4_color23 =	0
   3681  10000 ????		00 00	    sprite_spaceship4_color22 =	0
   3682  10000 ????		00 00	    sprite_spaceship4_color21 =	0
   3683  10000 ????		00 00	    sprite_spaceship4_color20 =	0
   3684  10000 ????		00 00	    sprite_spaceship4_color19 =	0
   3685  10000 ????		00 00	    sprite_spaceship4_color18 =	0
   3686  10000 ????		00 00	    sprite_spaceship4_color17 =	0
   3687  10000 ????		00 00	    sprite_spaceship4_color16 =	0
   3688  10000 ????		00 00	    sprite_spaceship4_color15 =	0
   3689  10000 ????		00 00	    sprite_spaceship4_color14 =	0
   3690  10000 ????		00 00	    sprite_spaceship4_color13 =	0
   3691  10000 ????		00 00	    sprite_spaceship4_color12 =	0
   3692  10000 ????		00 00	    sprite_spaceship4_color11 =	0
   3693  10000 ????		00 00	    sprite_spaceship4_color10 =	0
   3694  10000 ????		00 00	    sprite_spaceship4_color9 =	0
   3695  10000 ????		00 00	    sprite_spaceship4_color8 =	0
   3696  10000 ????		00 00	    sprite_spaceship4_color7 =	0
   3697  10000 ????		00 00	    sprite_spaceship4_color6 =	0
   3698  10000 ????		00 00	    sprite_spaceship4_color5 =	0
   3699  10000 ????		00 00	    sprite_spaceship4_color4 =	0
   3700  10000 ????		00 1e	    sprite_spaceship4_color3 =	$1e
   3701  10000 ????		00 81	    sprite_spaceship4_color2 =	$81
   3702  10000 ????		00 44	    sprite_spaceship4_color1 =	$44
   3703  10000 ????		00 00	    sprite_spaceship4_color0 =	$00
   3704  10000 ????		00 00	    sprite_spaceship3_color255 =	0
   3705  10000 ????		00 00	    sprite_spaceship3_color254 =	0
   3706  10000 ????		00 00	    sprite_spaceship3_color253 =	0
   3707  10000 ????		00 00	    sprite_spaceship3_color252 =	0
   3708  10000 ????		00 00	    sprite_spaceship3_color251 =	0
   3709  10000 ????		00 00	    sprite_spaceship3_color250 =	0
   3710  10000 ????		00 00	    sprite_spaceship3_color249 =	0
   3711  10000 ????		00 00	    sprite_spaceship3_color248 =	0
   3712  10000 ????		00 00	    sprite_spaceship3_color247 =	0
   3713  10000 ????		00 00	    sprite_spaceship3_color246 =	0
   3714  10000 ????		00 00	    sprite_spaceship3_color245 =	0
   3715  10000 ????		00 00	    sprite_spaceship3_color244 =	0
   3716  10000 ????		00 00	    sprite_spaceship3_color243 =	0
   3717  10000 ????		00 00	    sprite_spaceship3_color242 =	0
   3718  10000 ????		00 00	    sprite_spaceship3_color241 =	0
   3719  10000 ????		00 00	    sprite_spaceship3_color240 =	0
   3720  10000 ????		00 00	    sprite_spaceship3_color239 =	0
   3721  10000 ????		00 00	    sprite_spaceship3_color238 =	0
   3722  10000 ????		00 00	    sprite_spaceship3_color237 =	0
   3723  10000 ????		00 00	    sprite_spaceship3_color236 =	0
   3724  10000 ????		00 00	    sprite_spaceship3_color235 =	0
   3725  10000 ????		00 00	    sprite_spaceship3_color234 =	0
   3726  10000 ????		00 00	    sprite_spaceship3_color233 =	0
   3727  10000 ????		00 00	    sprite_spaceship3_color232 =	0
   3728  10000 ????		00 00	    sprite_spaceship3_color231 =	0
   3729  10000 ????		00 00	    sprite_spaceship3_color230 =	0
   3730  10000 ????		00 00	    sprite_spaceship3_color229 =	0
   3731  10000 ????		00 00	    sprite_spaceship3_color228 =	0
   3732  10000 ????		00 00	    sprite_spaceship3_color227 =	0
   3733  10000 ????		00 00	    sprite_spaceship3_color226 =	0
   3734  10000 ????		00 00	    sprite_spaceship3_color225 =	0
   3735  10000 ????		00 00	    sprite_spaceship3_color224 =	0
   3736  10000 ????		00 00	    sprite_spaceship3_color223 =	0
   3737  10000 ????		00 00	    sprite_spaceship3_color222 =	0
   3738  10000 ????		00 00	    sprite_spaceship3_color221 =	0
   3739  10000 ????		00 00	    sprite_spaceship3_color220 =	0
   3740  10000 ????		00 00	    sprite_spaceship3_color219 =	0
   3741  10000 ????		00 00	    sprite_spaceship3_color218 =	0
   3742  10000 ????		00 00	    sprite_spaceship3_color217 =	0
   3743  10000 ????		00 00	    sprite_spaceship3_color216 =	0
   3744  10000 ????		00 00	    sprite_spaceship3_color215 =	0
   3745  10000 ????		00 00	    sprite_spaceship3_color214 =	0
   3746  10000 ????		00 00	    sprite_spaceship3_color213 =	0
   3747  10000 ????		00 00	    sprite_spaceship3_color212 =	0
   3748  10000 ????		00 00	    sprite_spaceship3_color211 =	0
   3749  10000 ????		00 00	    sprite_spaceship3_color210 =	0
   3750  10000 ????		00 00	    sprite_spaceship3_color209 =	0
   3751  10000 ????		00 00	    sprite_spaceship3_color208 =	0
   3752  10000 ????		00 00	    sprite_spaceship3_color207 =	0
   3753  10000 ????		00 00	    sprite_spaceship3_color206 =	0
   3754  10000 ????		00 00	    sprite_spaceship3_color205 =	0
   3755  10000 ????		00 00	    sprite_spaceship3_color204 =	0
   3756  10000 ????		00 00	    sprite_spaceship3_color203 =	0
   3757  10000 ????		00 00	    sprite_spaceship3_color202 =	0
   3758  10000 ????		00 00	    sprite_spaceship3_color201 =	0
   3759  10000 ????		00 00	    sprite_spaceship3_color200 =	0
   3760  10000 ????		00 00	    sprite_spaceship3_color199 =	0
   3761  10000 ????		00 00	    sprite_spaceship3_color198 =	0
   3762  10000 ????		00 00	    sprite_spaceship3_color197 =	0
   3763  10000 ????		00 00	    sprite_spaceship3_color196 =	0
   3764  10000 ????		00 00	    sprite_spaceship3_color195 =	0
   3765  10000 ????		00 00	    sprite_spaceship3_color194 =	0
   3766  10000 ????		00 00	    sprite_spaceship3_color193 =	0
   3767  10000 ????		00 00	    sprite_spaceship3_color192 =	0
   3768  10000 ????		00 00	    sprite_spaceship3_color191 =	0
   3769  10000 ????		00 00	    sprite_spaceship3_color190 =	0
   3770  10000 ????		00 00	    sprite_spaceship3_color189 =	0
   3771  10000 ????		00 00	    sprite_spaceship3_color188 =	0
   3772  10000 ????		00 00	    sprite_spaceship3_color187 =	0
   3773  10000 ????		00 00	    sprite_spaceship3_color186 =	0
   3774  10000 ????		00 00	    sprite_spaceship3_color185 =	0
   3775  10000 ????		00 00	    sprite_spaceship3_color184 =	0
   3776  10000 ????		00 00	    sprite_spaceship3_color183 =	0
   3777  10000 ????		00 00	    sprite_spaceship3_color182 =	0
   3778  10000 ????		00 00	    sprite_spaceship3_color181 =	0
   3779  10000 ????		00 00	    sprite_spaceship3_color180 =	0
   3780  10000 ????		00 00	    sprite_spaceship3_color179 =	0
   3781  10000 ????		00 00	    sprite_spaceship3_color178 =	0
   3782  10000 ????		00 00	    sprite_spaceship3_color177 =	0
   3783  10000 ????		00 00	    sprite_spaceship3_color176 =	0
   3784  10000 ????		00 00	    sprite_spaceship3_color175 =	0
   3785  10000 ????		00 00	    sprite_spaceship3_color174 =	0
   3786  10000 ????		00 00	    sprite_spaceship3_color173 =	0
   3787  10000 ????		00 00	    sprite_spaceship3_color172 =	0
   3788  10000 ????		00 00	    sprite_spaceship3_color171 =	0
   3789  10000 ????		00 00	    sprite_spaceship3_color170 =	0
   3790  10000 ????		00 00	    sprite_spaceship3_color169 =	0
   3791  10000 ????		00 00	    sprite_spaceship3_color168 =	0
   3792  10000 ????		00 00	    sprite_spaceship3_color167 =	0
   3793  10000 ????		00 00	    sprite_spaceship3_color166 =	0
   3794  10000 ????		00 00	    sprite_spaceship3_color165 =	0
   3795  10000 ????		00 00	    sprite_spaceship3_color164 =	0
   3796  10000 ????		00 00	    sprite_spaceship3_color163 =	0
   3797  10000 ????		00 00	    sprite_spaceship3_color162 =	0
   3798  10000 ????		00 00	    sprite_spaceship3_color161 =	0
   3799  10000 ????		00 00	    sprite_spaceship3_color160 =	0
   3800  10000 ????		00 00	    sprite_spaceship3_color159 =	0
   3801  10000 ????		00 00	    sprite_spaceship3_color158 =	0
   3802  10000 ????		00 00	    sprite_spaceship3_color157 =	0
   3803  10000 ????		00 00	    sprite_spaceship3_color156 =	0
   3804  10000 ????		00 00	    sprite_spaceship3_color155 =	0
   3805  10000 ????		00 00	    sprite_spaceship3_color154 =	0
   3806  10000 ????		00 00	    sprite_spaceship3_color153 =	0
   3807  10000 ????		00 00	    sprite_spaceship3_color152 =	0
   3808  10000 ????		00 00	    sprite_spaceship3_color151 =	0
   3809  10000 ????		00 00	    sprite_spaceship3_color150 =	0
   3810  10000 ????		00 00	    sprite_spaceship3_color149 =	0
   3811  10000 ????		00 00	    sprite_spaceship3_color148 =	0
   3812  10000 ????		00 00	    sprite_spaceship3_color147 =	0
   3813  10000 ????		00 00	    sprite_spaceship3_color146 =	0
   3814  10000 ????		00 00	    sprite_spaceship3_color145 =	0
   3815  10000 ????		00 00	    sprite_spaceship3_color144 =	0
   3816  10000 ????		00 00	    sprite_spaceship3_color143 =	0
   3817  10000 ????		00 00	    sprite_spaceship3_color142 =	0
   3818  10000 ????		00 00	    sprite_spaceship3_color141 =	0
   3819  10000 ????		00 00	    sprite_spaceship3_color140 =	0
   3820  10000 ????		00 00	    sprite_spaceship3_color139 =	0
   3821  10000 ????		00 00	    sprite_spaceship3_color138 =	0
   3822  10000 ????		00 00	    sprite_spaceship3_color137 =	0
   3823  10000 ????		00 00	    sprite_spaceship3_color136 =	0
   3824  10000 ????		00 00	    sprite_spaceship3_color135 =	0
   3825  10000 ????		00 00	    sprite_spaceship3_color134 =	0
   3826  10000 ????		00 00	    sprite_spaceship3_color133 =	0
   3827  10000 ????		00 00	    sprite_spaceship3_color132 =	0
   3828  10000 ????		00 00	    sprite_spaceship3_color131 =	0
   3829  10000 ????		00 00	    sprite_spaceship3_color130 =	0
   3830  10000 ????		00 00	    sprite_spaceship3_color129 =	0
   3831  10000 ????		00 00	    sprite_spaceship3_color128 =	0
   3832  10000 ????		00 00	    sprite_spaceship3_color127 =	0
   3833  10000 ????		00 00	    sprite_spaceship3_color126 =	0
   3834  10000 ????		00 00	    sprite_spaceship3_color125 =	0
   3835  10000 ????		00 00	    sprite_spaceship3_color124 =	0
   3836  10000 ????		00 00	    sprite_spaceship3_color123 =	0
   3837  10000 ????		00 00	    sprite_spaceship3_color122 =	0
   3838  10000 ????		00 00	    sprite_spaceship3_color121 =	0
   3839  10000 ????		00 00	    sprite_spaceship3_color120 =	0
   3840  10000 ????		00 00	    sprite_spaceship3_color119 =	0
   3841  10000 ????		00 00	    sprite_spaceship3_color118 =	0
   3842  10000 ????		00 00	    sprite_spaceship3_color117 =	0
   3843  10000 ????		00 00	    sprite_spaceship3_color116 =	0
   3844  10000 ????		00 00	    sprite_spaceship3_color115 =	0
   3845  10000 ????		00 00	    sprite_spaceship3_color114 =	0
   3846  10000 ????		00 00	    sprite_spaceship3_color113 =	0
   3847  10000 ????		00 00	    sprite_spaceship3_color112 =	0
   3848  10000 ????		00 00	    sprite_spaceship3_color111 =	0
   3849  10000 ????		00 00	    sprite_spaceship3_color110 =	0
   3850  10000 ????		00 00	    sprite_spaceship3_color109 =	0
   3851  10000 ????		00 00	    sprite_spaceship3_color108 =	0
   3852  10000 ????		00 00	    sprite_spaceship3_color107 =	0
   3853  10000 ????		00 00	    sprite_spaceship3_color106 =	0
   3854  10000 ????		00 00	    sprite_spaceship3_color105 =	0
   3855  10000 ????		00 00	    sprite_spaceship3_color104 =	0
   3856  10000 ????		00 00	    sprite_spaceship3_color103 =	0
   3857  10000 ????		00 00	    sprite_spaceship3_color102 =	0
   3858  10000 ????		00 00	    sprite_spaceship3_color101 =	0
   3859  10000 ????		00 00	    sprite_spaceship3_color100 =	0
   3860  10000 ????		00 00	    sprite_spaceship3_color99 =	0
   3861  10000 ????		00 00	    sprite_spaceship3_color98 =	0
   3862  10000 ????		00 00	    sprite_spaceship3_color97 =	0
   3863  10000 ????		00 00	    sprite_spaceship3_color96 =	0
   3864  10000 ????		00 00	    sprite_spaceship3_color95 =	0
   3865  10000 ????		00 00	    sprite_spaceship3_color94 =	0
   3866  10000 ????		00 00	    sprite_spaceship3_color93 =	0
   3867  10000 ????		00 00	    sprite_spaceship3_color92 =	0
   3868  10000 ????		00 00	    sprite_spaceship3_color91 =	0
   3869  10000 ????		00 00	    sprite_spaceship3_color90 =	0
   3870  10000 ????		00 00	    sprite_spaceship3_color89 =	0
   3871  10000 ????		00 00	    sprite_spaceship3_color88 =	0
   3872  10000 ????		00 00	    sprite_spaceship3_color87 =	0
   3873  10000 ????		00 00	    sprite_spaceship3_color86 =	0
   3874  10000 ????		00 00	    sprite_spaceship3_color85 =	0
   3875  10000 ????		00 00	    sprite_spaceship3_color84 =	0
   3876  10000 ????		00 00	    sprite_spaceship3_color83 =	0
   3877  10000 ????		00 00	    sprite_spaceship3_color82 =	0
   3878  10000 ????		00 00	    sprite_spaceship3_color81 =	0
   3879  10000 ????		00 00	    sprite_spaceship3_color80 =	0
   3880  10000 ????		00 00	    sprite_spaceship3_color79 =	0
   3881  10000 ????		00 00	    sprite_spaceship3_color78 =	0
   3882  10000 ????		00 00	    sprite_spaceship3_color77 =	0
   3883  10000 ????		00 00	    sprite_spaceship3_color76 =	0
   3884  10000 ????		00 00	    sprite_spaceship3_color75 =	0
   3885  10000 ????		00 00	    sprite_spaceship3_color74 =	0
   3886  10000 ????		00 00	    sprite_spaceship3_color73 =	0
   3887  10000 ????		00 00	    sprite_spaceship3_color72 =	0
   3888  10000 ????		00 00	    sprite_spaceship3_color71 =	0
   3889  10000 ????		00 00	    sprite_spaceship3_color70 =	0
   3890  10000 ????		00 00	    sprite_spaceship3_color69 =	0
   3891  10000 ????		00 00	    sprite_spaceship3_color68 =	0
   3892  10000 ????		00 00	    sprite_spaceship3_color67 =	0
   3893  10000 ????		00 00	    sprite_spaceship3_color66 =	0
   3894  10000 ????		00 00	    sprite_spaceship3_color65 =	0
   3895  10000 ????		00 00	    sprite_spaceship3_color64 =	0
   3896  10000 ????		00 00	    sprite_spaceship3_color63 =	0
   3897  10000 ????		00 00	    sprite_spaceship3_color62 =	0
   3898  10000 ????		00 00	    sprite_spaceship3_color61 =	0
   3899  10000 ????		00 00	    sprite_spaceship3_color60 =	0
   3900  10000 ????		00 00	    sprite_spaceship3_color59 =	0
   3901  10000 ????		00 00	    sprite_spaceship3_color58 =	0
   3902  10000 ????		00 00	    sprite_spaceship3_color57 =	0
   3903  10000 ????		00 00	    sprite_spaceship3_color56 =	0
   3904  10000 ????		00 00	    sprite_spaceship3_color55 =	0
   3905  10000 ????		00 00	    sprite_spaceship3_color54 =	0
   3906  10000 ????		00 00	    sprite_spaceship3_color53 =	0
   3907  10000 ????		00 00	    sprite_spaceship3_color52 =	0
   3908  10000 ????		00 00	    sprite_spaceship3_color51 =	0
   3909  10000 ????		00 00	    sprite_spaceship3_color50 =	0
   3910  10000 ????		00 00	    sprite_spaceship3_color49 =	0
   3911  10000 ????		00 00	    sprite_spaceship3_color48 =	0
   3912  10000 ????		00 00	    sprite_spaceship3_color47 =	0
   3913  10000 ????		00 00	    sprite_spaceship3_color46 =	0
   3914  10000 ????		00 00	    sprite_spaceship3_color45 =	0
   3915  10000 ????		00 00	    sprite_spaceship3_color44 =	0
   3916  10000 ????		00 00	    sprite_spaceship3_color43 =	0
   3917  10000 ????		00 00	    sprite_spaceship3_color42 =	0
   3918  10000 ????		00 00	    sprite_spaceship3_color41 =	0
   3919  10000 ????		00 00	    sprite_spaceship3_color40 =	0
   3920  10000 ????		00 00	    sprite_spaceship3_color39 =	0
   3921  10000 ????		00 00	    sprite_spaceship3_color38 =	0
   3922  10000 ????		00 00	    sprite_spaceship3_color37 =	0
   3923  10000 ????		00 00	    sprite_spaceship3_color36 =	0
   3924  10000 ????		00 00	    sprite_spaceship3_color35 =	0
   3925  10000 ????		00 00	    sprite_spaceship3_color34 =	0
   3926  10000 ????		00 00	    sprite_spaceship3_color33 =	0
   3927  10000 ????		00 00	    sprite_spaceship3_color32 =	0
   3928  10000 ????		00 00	    sprite_spaceship3_color31 =	0
   3929  10000 ????		00 00	    sprite_spaceship3_color30 =	0
   3930  10000 ????		00 00	    sprite_spaceship3_color29 =	0
   3931  10000 ????		00 00	    sprite_spaceship3_color28 =	0
   3932  10000 ????		00 00	    sprite_spaceship3_color27 =	0
   3933  10000 ????		00 00	    sprite_spaceship3_color26 =	0
   3934  10000 ????		00 00	    sprite_spaceship3_color25 =	0
   3935  10000 ????		00 00	    sprite_spaceship3_color24 =	0
   3936  10000 ????		00 00	    sprite_spaceship3_color23 =	0
   3937  10000 ????		00 00	    sprite_spaceship3_color22 =	0
   3938  10000 ????		00 00	    sprite_spaceship3_color21 =	0
   3939  10000 ????		00 00	    sprite_spaceship3_color20 =	0
   3940  10000 ????		00 00	    sprite_spaceship3_color19 =	0
   3941  10000 ????		00 00	    sprite_spaceship3_color18 =	0
   3942  10000 ????		00 00	    sprite_spaceship3_color17 =	0
   3943  10000 ????		00 00	    sprite_spaceship3_color16 =	0
   3944  10000 ????		00 00	    sprite_spaceship3_color15 =	0
   3945  10000 ????		00 00	    sprite_spaceship3_color14 =	0
   3946  10000 ????		00 00	    sprite_spaceship3_color13 =	0
   3947  10000 ????		00 00	    sprite_spaceship3_color12 =	0
   3948  10000 ????		00 00	    sprite_spaceship3_color11 =	0
   3949  10000 ????		00 00	    sprite_spaceship3_color10 =	0
   3950  10000 ????		00 00	    sprite_spaceship3_color9 =	0
   3951  10000 ????		00 00	    sprite_spaceship3_color8 =	0
   3952  10000 ????		00 00	    sprite_spaceship3_color7 =	0
   3953  10000 ????		00 00	    sprite_spaceship3_color6 =	0
   3954  10000 ????		00 00	    sprite_spaceship3_color5 =	0
   3955  10000 ????		00 00	    sprite_spaceship3_color4 =	0
   3956  10000 ????		00 1e	    sprite_spaceship3_color3 =	$1e
   3957  10000 ????		00 81	    sprite_spaceship3_color2 =	$81
   3958  10000 ????		00 44	    sprite_spaceship3_color1 =	$44
   3959  10000 ????		00 00	    sprite_spaceship3_color0 =	$00
   3960  10000 ????		00 00	    sprite_spaceship2_color255 =	0
   3961  10000 ????		00 00	    sprite_spaceship2_color254 =	0
   3962  10000 ????		00 00	    sprite_spaceship2_color253 =	0
   3963  10000 ????		00 00	    sprite_spaceship2_color252 =	0
   3964  10000 ????		00 00	    sprite_spaceship2_color251 =	0
   3965  10000 ????		00 00	    sprite_spaceship2_color250 =	0
   3966  10000 ????		00 00	    sprite_spaceship2_color249 =	0
   3967  10000 ????		00 00	    sprite_spaceship2_color248 =	0
   3968  10000 ????		00 00	    sprite_spaceship2_color247 =	0
   3969  10000 ????		00 00	    sprite_spaceship2_color246 =	0
   3970  10000 ????		00 00	    sprite_spaceship2_color245 =	0
   3971  10000 ????		00 00	    sprite_spaceship2_color244 =	0
   3972  10000 ????		00 00	    sprite_spaceship2_color243 =	0
   3973  10000 ????		00 00	    sprite_spaceship2_color242 =	0
   3974  10000 ????		00 00	    sprite_spaceship2_color241 =	0
   3975  10000 ????		00 00	    sprite_spaceship2_color240 =	0
   3976  10000 ????		00 00	    sprite_spaceship2_color239 =	0
   3977  10000 ????		00 00	    sprite_spaceship2_color238 =	0
   3978  10000 ????		00 00	    sprite_spaceship2_color237 =	0
   3979  10000 ????		00 00	    sprite_spaceship2_color236 =	0
   3980  10000 ????		00 00	    sprite_spaceship2_color235 =	0
   3981  10000 ????		00 00	    sprite_spaceship2_color234 =	0
   3982  10000 ????		00 00	    sprite_spaceship2_color233 =	0
   3983  10000 ????		00 00	    sprite_spaceship2_color232 =	0
   3984  10000 ????		00 00	    sprite_spaceship2_color231 =	0
   3985  10000 ????		00 00	    sprite_spaceship2_color230 =	0
   3986  10000 ????		00 00	    sprite_spaceship2_color229 =	0
   3987  10000 ????		00 00	    sprite_spaceship2_color228 =	0
   3988  10000 ????		00 00	    sprite_spaceship2_color227 =	0
   3989  10000 ????		00 00	    sprite_spaceship2_color226 =	0
   3990  10000 ????		00 00	    sprite_spaceship2_color225 =	0
   3991  10000 ????		00 00	    sprite_spaceship2_color224 =	0
   3992  10000 ????		00 00	    sprite_spaceship2_color223 =	0
   3993  10000 ????		00 00	    sprite_spaceship2_color222 =	0
   3994  10000 ????		00 00	    sprite_spaceship2_color221 =	0
   3995  10000 ????		00 00	    sprite_spaceship2_color220 =	0
   3996  10000 ????		00 00	    sprite_spaceship2_color219 =	0
   3997  10000 ????		00 00	    sprite_spaceship2_color218 =	0
   3998  10000 ????		00 00	    sprite_spaceship2_color217 =	0
   3999  10000 ????		00 00	    sprite_spaceship2_color216 =	0
   4000  10000 ????		00 00	    sprite_spaceship2_color215 =	0
   4001  10000 ????		00 00	    sprite_spaceship2_color214 =	0
   4002  10000 ????		00 00	    sprite_spaceship2_color213 =	0
   4003  10000 ????		00 00	    sprite_spaceship2_color212 =	0
   4004  10000 ????		00 00	    sprite_spaceship2_color211 =	0
   4005  10000 ????		00 00	    sprite_spaceship2_color210 =	0
   4006  10000 ????		00 00	    sprite_spaceship2_color209 =	0
   4007  10000 ????		00 00	    sprite_spaceship2_color208 =	0
   4008  10000 ????		00 00	    sprite_spaceship2_color207 =	0
   4009  10000 ????		00 00	    sprite_spaceship2_color206 =	0
   4010  10000 ????		00 00	    sprite_spaceship2_color205 =	0
   4011  10000 ????		00 00	    sprite_spaceship2_color204 =	0
   4012  10000 ????		00 00	    sprite_spaceship2_color203 =	0
   4013  10000 ????		00 00	    sprite_spaceship2_color202 =	0
   4014  10000 ????		00 00	    sprite_spaceship2_color201 =	0
   4015  10000 ????		00 00	    sprite_spaceship2_color200 =	0
   4016  10000 ????		00 00	    sprite_spaceship2_color199 =	0
   4017  10000 ????		00 00	    sprite_spaceship2_color198 =	0
   4018  10000 ????		00 00	    sprite_spaceship2_color197 =	0
   4019  10000 ????		00 00	    sprite_spaceship2_color196 =	0
   4020  10000 ????		00 00	    sprite_spaceship2_color195 =	0
   4021  10000 ????		00 00	    sprite_spaceship2_color194 =	0
   4022  10000 ????		00 00	    sprite_spaceship2_color193 =	0
   4023  10000 ????		00 00	    sprite_spaceship2_color192 =	0
   4024  10000 ????		00 00	    sprite_spaceship2_color191 =	0
   4025  10000 ????		00 00	    sprite_spaceship2_color190 =	0
   4026  10000 ????		00 00	    sprite_spaceship2_color189 =	0
   4027  10000 ????		00 00	    sprite_spaceship2_color188 =	0
   4028  10000 ????		00 00	    sprite_spaceship2_color187 =	0
   4029  10000 ????		00 00	    sprite_spaceship2_color186 =	0
   4030  10000 ????		00 00	    sprite_spaceship2_color185 =	0
   4031  10000 ????		00 00	    sprite_spaceship2_color184 =	0
   4032  10000 ????		00 00	    sprite_spaceship2_color183 =	0
   4033  10000 ????		00 00	    sprite_spaceship2_color182 =	0
   4034  10000 ????		00 00	    sprite_spaceship2_color181 =	0
   4035  10000 ????		00 00	    sprite_spaceship2_color180 =	0
   4036  10000 ????		00 00	    sprite_spaceship2_color179 =	0
   4037  10000 ????		00 00	    sprite_spaceship2_color178 =	0
   4038  10000 ????		00 00	    sprite_spaceship2_color177 =	0
   4039  10000 ????		00 00	    sprite_spaceship2_color176 =	0
   4040  10000 ????		00 00	    sprite_spaceship2_color175 =	0
   4041  10000 ????		00 00	    sprite_spaceship2_color174 =	0
   4042  10000 ????		00 00	    sprite_spaceship2_color173 =	0
   4043  10000 ????		00 00	    sprite_spaceship2_color172 =	0
   4044  10000 ????		00 00	    sprite_spaceship2_color171 =	0
   4045  10000 ????		00 00	    sprite_spaceship2_color170 =	0
   4046  10000 ????		00 00	    sprite_spaceship2_color169 =	0
   4047  10000 ????		00 00	    sprite_spaceship2_color168 =	0
   4048  10000 ????		00 00	    sprite_spaceship2_color167 =	0
   4049  10000 ????		00 00	    sprite_spaceship2_color166 =	0
   4050  10000 ????		00 00	    sprite_spaceship2_color165 =	0
   4051  10000 ????		00 00	    sprite_spaceship2_color164 =	0
   4052  10000 ????		00 00	    sprite_spaceship2_color163 =	0
   4053  10000 ????		00 00	    sprite_spaceship2_color162 =	0
   4054  10000 ????		00 00	    sprite_spaceship2_color161 =	0
   4055  10000 ????		00 00	    sprite_spaceship2_color160 =	0
   4056  10000 ????		00 00	    sprite_spaceship2_color159 =	0
   4057  10000 ????		00 00	    sprite_spaceship2_color158 =	0
   4058  10000 ????		00 00	    sprite_spaceship2_color157 =	0
   4059  10000 ????		00 00	    sprite_spaceship2_color156 =	0
   4060  10000 ????		00 00	    sprite_spaceship2_color155 =	0
   4061  10000 ????		00 00	    sprite_spaceship2_color154 =	0
   4062  10000 ????		00 00	    sprite_spaceship2_color153 =	0
   4063  10000 ????		00 00	    sprite_spaceship2_color152 =	0
   4064  10000 ????		00 00	    sprite_spaceship2_color151 =	0
   4065  10000 ????		00 00	    sprite_spaceship2_color150 =	0
   4066  10000 ????		00 00	    sprite_spaceship2_color149 =	0
   4067  10000 ????		00 00	    sprite_spaceship2_color148 =	0
   4068  10000 ????		00 00	    sprite_spaceship2_color147 =	0
   4069  10000 ????		00 00	    sprite_spaceship2_color146 =	0
   4070  10000 ????		00 00	    sprite_spaceship2_color145 =	0
   4071  10000 ????		00 00	    sprite_spaceship2_color144 =	0
   4072  10000 ????		00 00	    sprite_spaceship2_color143 =	0
   4073  10000 ????		00 00	    sprite_spaceship2_color142 =	0
   4074  10000 ????		00 00	    sprite_spaceship2_color141 =	0
   4075  10000 ????		00 00	    sprite_spaceship2_color140 =	0
   4076  10000 ????		00 00	    sprite_spaceship2_color139 =	0
   4077  10000 ????		00 00	    sprite_spaceship2_color138 =	0
   4078  10000 ????		00 00	    sprite_spaceship2_color137 =	0
   4079  10000 ????		00 00	    sprite_spaceship2_color136 =	0
   4080  10000 ????		00 00	    sprite_spaceship2_color135 =	0
   4081  10000 ????		00 00	    sprite_spaceship2_color134 =	0
   4082  10000 ????		00 00	    sprite_spaceship2_color133 =	0
   4083  10000 ????		00 00	    sprite_spaceship2_color132 =	0
   4084  10000 ????		00 00	    sprite_spaceship2_color131 =	0
   4085  10000 ????		00 00	    sprite_spaceship2_color130 =	0
   4086  10000 ????		00 00	    sprite_spaceship2_color129 =	0
   4087  10000 ????		00 00	    sprite_spaceship2_color128 =	0
   4088  10000 ????		00 00	    sprite_spaceship2_color127 =	0
   4089  10000 ????		00 00	    sprite_spaceship2_color126 =	0
   4090  10000 ????		00 00	    sprite_spaceship2_color125 =	0
   4091  10000 ????		00 00	    sprite_spaceship2_color124 =	0
   4092  10000 ????		00 00	    sprite_spaceship2_color123 =	0
   4093  10000 ????		00 00	    sprite_spaceship2_color122 =	0
   4094  10000 ????		00 00	    sprite_spaceship2_color121 =	0
   4095  10000 ????		00 00	    sprite_spaceship2_color120 =	0
   4096  10000 ????		00 00	    sprite_spaceship2_color119 =	0
   4097  10000 ????		00 00	    sprite_spaceship2_color118 =	0
   4098  10000 ????		00 00	    sprite_spaceship2_color117 =	0
   4099  10000 ????		00 00	    sprite_spaceship2_color116 =	0
   4100  10000 ????		00 00	    sprite_spaceship2_color115 =	0
   4101  10000 ????		00 00	    sprite_spaceship2_color114 =	0
   4102  10000 ????		00 00	    sprite_spaceship2_color113 =	0
   4103  10000 ????		00 00	    sprite_spaceship2_color112 =	0
   4104  10000 ????		00 00	    sprite_spaceship2_color111 =	0
   4105  10000 ????		00 00	    sprite_spaceship2_color110 =	0
   4106  10000 ????		00 00	    sprite_spaceship2_color109 =	0
   4107  10000 ????		00 00	    sprite_spaceship2_color108 =	0
   4108  10000 ????		00 00	    sprite_spaceship2_color107 =	0
   4109  10000 ????		00 00	    sprite_spaceship2_color106 =	0
   4110  10000 ????		00 00	    sprite_spaceship2_color105 =	0
   4111  10000 ????		00 00	    sprite_spaceship2_color104 =	0
   4112  10000 ????		00 00	    sprite_spaceship2_color103 =	0
   4113  10000 ????		00 00	    sprite_spaceship2_color102 =	0
   4114  10000 ????		00 00	    sprite_spaceship2_color101 =	0
   4115  10000 ????		00 00	    sprite_spaceship2_color100 =	0
   4116  10000 ????		00 00	    sprite_spaceship2_color99 =	0
   4117  10000 ????		00 00	    sprite_spaceship2_color98 =	0
   4118  10000 ????		00 00	    sprite_spaceship2_color97 =	0
   4119  10000 ????		00 00	    sprite_spaceship2_color96 =	0
   4120  10000 ????		00 00	    sprite_spaceship2_color95 =	0
   4121  10000 ????		00 00	    sprite_spaceship2_color94 =	0
   4122  10000 ????		00 00	    sprite_spaceship2_color93 =	0
   4123  10000 ????		00 00	    sprite_spaceship2_color92 =	0
   4124  10000 ????		00 00	    sprite_spaceship2_color91 =	0
   4125  10000 ????		00 00	    sprite_spaceship2_color90 =	0
   4126  10000 ????		00 00	    sprite_spaceship2_color89 =	0
   4127  10000 ????		00 00	    sprite_spaceship2_color88 =	0
   4128  10000 ????		00 00	    sprite_spaceship2_color87 =	0
   4129  10000 ????		00 00	    sprite_spaceship2_color86 =	0
   4130  10000 ????		00 00	    sprite_spaceship2_color85 =	0
   4131  10000 ????		00 00	    sprite_spaceship2_color84 =	0
   4132  10000 ????		00 00	    sprite_spaceship2_color83 =	0
   4133  10000 ????		00 00	    sprite_spaceship2_color82 =	0
   4134  10000 ????		00 00	    sprite_spaceship2_color81 =	0
   4135  10000 ????		00 00	    sprite_spaceship2_color80 =	0
   4136  10000 ????		00 00	    sprite_spaceship2_color79 =	0
   4137  10000 ????		00 00	    sprite_spaceship2_color78 =	0
   4138  10000 ????		00 00	    sprite_spaceship2_color77 =	0
   4139  10000 ????		00 00	    sprite_spaceship2_color76 =	0
   4140  10000 ????		00 00	    sprite_spaceship2_color75 =	0
   4141  10000 ????		00 00	    sprite_spaceship2_color74 =	0
   4142  10000 ????		00 00	    sprite_spaceship2_color73 =	0
   4143  10000 ????		00 00	    sprite_spaceship2_color72 =	0
   4144  10000 ????		00 00	    sprite_spaceship2_color71 =	0
   4145  10000 ????		00 00	    sprite_spaceship2_color70 =	0
   4146  10000 ????		00 00	    sprite_spaceship2_color69 =	0
   4147  10000 ????		00 00	    sprite_spaceship2_color68 =	0
   4148  10000 ????		00 00	    sprite_spaceship2_color67 =	0
   4149  10000 ????		00 00	    sprite_spaceship2_color66 =	0
   4150  10000 ????		00 00	    sprite_spaceship2_color65 =	0
   4151  10000 ????		00 00	    sprite_spaceship2_color64 =	0
   4152  10000 ????		00 00	    sprite_spaceship2_color63 =	0
   4153  10000 ????		00 00	    sprite_spaceship2_color62 =	0
   4154  10000 ????		00 00	    sprite_spaceship2_color61 =	0
   4155  10000 ????		00 00	    sprite_spaceship2_color60 =	0
   4156  10000 ????		00 00	    sprite_spaceship2_color59 =	0
   4157  10000 ????		00 00	    sprite_spaceship2_color58 =	0
   4158  10000 ????		00 00	    sprite_spaceship2_color57 =	0
   4159  10000 ????		00 00	    sprite_spaceship2_color56 =	0
   4160  10000 ????		00 00	    sprite_spaceship2_color55 =	0
   4161  10000 ????		00 00	    sprite_spaceship2_color54 =	0
   4162  10000 ????		00 00	    sprite_spaceship2_color53 =	0
   4163  10000 ????		00 00	    sprite_spaceship2_color52 =	0
   4164  10000 ????		00 00	    sprite_spaceship2_color51 =	0
   4165  10000 ????		00 00	    sprite_spaceship2_color50 =	0
   4166  10000 ????		00 00	    sprite_spaceship2_color49 =	0
   4167  10000 ????		00 00	    sprite_spaceship2_color48 =	0
   4168  10000 ????		00 00	    sprite_spaceship2_color47 =	0
   4169  10000 ????		00 00	    sprite_spaceship2_color46 =	0
   4170  10000 ????		00 00	    sprite_spaceship2_color45 =	0
   4171  10000 ????		00 00	    sprite_spaceship2_color44 =	0
   4172  10000 ????		00 00	    sprite_spaceship2_color43 =	0
   4173  10000 ????		00 00	    sprite_spaceship2_color42 =	0
   4174  10000 ????		00 00	    sprite_spaceship2_color41 =	0
   4175  10000 ????		00 00	    sprite_spaceship2_color40 =	0
   4176  10000 ????		00 00	    sprite_spaceship2_color39 =	0
   4177  10000 ????		00 00	    sprite_spaceship2_color38 =	0
   4178  10000 ????		00 00	    sprite_spaceship2_color37 =	0
   4179  10000 ????		00 00	    sprite_spaceship2_color36 =	0
   4180  10000 ????		00 00	    sprite_spaceship2_color35 =	0
   4181  10000 ????		00 00	    sprite_spaceship2_color34 =	0
   4182  10000 ????		00 00	    sprite_spaceship2_color33 =	0
   4183  10000 ????		00 00	    sprite_spaceship2_color32 =	0
   4184  10000 ????		00 00	    sprite_spaceship2_color31 =	0
   4185  10000 ????		00 00	    sprite_spaceship2_color30 =	0
   4186  10000 ????		00 00	    sprite_spaceship2_color29 =	0
   4187  10000 ????		00 00	    sprite_spaceship2_color28 =	0
   4188  10000 ????		00 00	    sprite_spaceship2_color27 =	0
   4189  10000 ????		00 00	    sprite_spaceship2_color26 =	0
   4190  10000 ????		00 00	    sprite_spaceship2_color25 =	0
   4191  10000 ????		00 00	    sprite_spaceship2_color24 =	0
   4192  10000 ????		00 00	    sprite_spaceship2_color23 =	0
   4193  10000 ????		00 00	    sprite_spaceship2_color22 =	0
   4194  10000 ????		00 00	    sprite_spaceship2_color21 =	0
   4195  10000 ????		00 00	    sprite_spaceship2_color20 =	0
   4196  10000 ????		00 00	    sprite_spaceship2_color19 =	0
   4197  10000 ????		00 00	    sprite_spaceship2_color18 =	0
   4198  10000 ????		00 00	    sprite_spaceship2_color17 =	0
   4199  10000 ????		00 00	    sprite_spaceship2_color16 =	0
   4200  10000 ????		00 00	    sprite_spaceship2_color15 =	0
   4201  10000 ????		00 00	    sprite_spaceship2_color14 =	0
   4202  10000 ????		00 00	    sprite_spaceship2_color13 =	0
   4203  10000 ????		00 00	    sprite_spaceship2_color12 =	0
   4204  10000 ????		00 00	    sprite_spaceship2_color11 =	0
   4205  10000 ????		00 00	    sprite_spaceship2_color10 =	0
   4206  10000 ????		00 00	    sprite_spaceship2_color9 =	0
   4207  10000 ????		00 00	    sprite_spaceship2_color8 =	0
   4208  10000 ????		00 00	    sprite_spaceship2_color7 =	0
   4209  10000 ????		00 00	    sprite_spaceship2_color6 =	0
   4210  10000 ????		00 00	    sprite_spaceship2_color5 =	0
   4211  10000 ????		00 00	    sprite_spaceship2_color4 =	0
   4212  10000 ????		00 1e	    sprite_spaceship2_color3 =	$1e
   4213  10000 ????		00 81	    sprite_spaceship2_color2 =	$81
   4214  10000 ????		00 44	    sprite_spaceship2_color1 =	$44
   4215  10000 ????		00 00	    sprite_spaceship2_color0 =	$00
   4216  10000 ????		00 00	    sprite_spaceship1_color255 =	0
   4217  10000 ????		00 00	    sprite_spaceship1_color254 =	0
   4218  10000 ????		00 00	    sprite_spaceship1_color253 =	0
   4219  10000 ????		00 00	    sprite_spaceship1_color252 =	0
   4220  10000 ????		00 00	    sprite_spaceship1_color251 =	0
   4221  10000 ????		00 00	    sprite_spaceship1_color250 =	0
   4222  10000 ????		00 00	    sprite_spaceship1_color249 =	0
   4223  10000 ????		00 00	    sprite_spaceship1_color248 =	0
   4224  10000 ????		00 00	    sprite_spaceship1_color247 =	0
   4225  10000 ????		00 00	    sprite_spaceship1_color246 =	0
   4226  10000 ????		00 00	    sprite_spaceship1_color245 =	0
   4227  10000 ????		00 00	    sprite_spaceship1_color244 =	0
   4228  10000 ????		00 00	    sprite_spaceship1_color243 =	0
   4229  10000 ????		00 00	    sprite_spaceship1_color242 =	0
   4230  10000 ????		00 00	    sprite_spaceship1_color241 =	0
   4231  10000 ????		00 00	    sprite_spaceship1_color240 =	0
   4232  10000 ????		00 00	    sprite_spaceship1_color239 =	0
   4233  10000 ????		00 00	    sprite_spaceship1_color238 =	0
   4234  10000 ????		00 00	    sprite_spaceship1_color237 =	0
   4235  10000 ????		00 00	    sprite_spaceship1_color236 =	0
   4236  10000 ????		00 00	    sprite_spaceship1_color235 =	0
   4237  10000 ????		00 00	    sprite_spaceship1_color234 =	0
   4238  10000 ????		00 00	    sprite_spaceship1_color233 =	0
   4239  10000 ????		00 00	    sprite_spaceship1_color232 =	0
   4240  10000 ????		00 00	    sprite_spaceship1_color231 =	0
   4241  10000 ????		00 00	    sprite_spaceship1_color230 =	0
   4242  10000 ????		00 00	    sprite_spaceship1_color229 =	0
   4243  10000 ????		00 00	    sprite_spaceship1_color228 =	0
   4244  10000 ????		00 00	    sprite_spaceship1_color227 =	0
   4245  10000 ????		00 00	    sprite_spaceship1_color226 =	0
   4246  10000 ????		00 00	    sprite_spaceship1_color225 =	0
   4247  10000 ????		00 00	    sprite_spaceship1_color224 =	0
   4248  10000 ????		00 00	    sprite_spaceship1_color223 =	0
   4249  10000 ????		00 00	    sprite_spaceship1_color222 =	0
   4250  10000 ????		00 00	    sprite_spaceship1_color221 =	0
   4251  10000 ????		00 00	    sprite_spaceship1_color220 =	0
   4252  10000 ????		00 00	    sprite_spaceship1_color219 =	0
   4253  10000 ????		00 00	    sprite_spaceship1_color218 =	0
   4254  10000 ????		00 00	    sprite_spaceship1_color217 =	0
   4255  10000 ????		00 00	    sprite_spaceship1_color216 =	0
   4256  10000 ????		00 00	    sprite_spaceship1_color215 =	0
   4257  10000 ????		00 00	    sprite_spaceship1_color214 =	0
   4258  10000 ????		00 00	    sprite_spaceship1_color213 =	0
   4259  10000 ????		00 00	    sprite_spaceship1_color212 =	0
   4260  10000 ????		00 00	    sprite_spaceship1_color211 =	0
   4261  10000 ????		00 00	    sprite_spaceship1_color210 =	0
   4262  10000 ????		00 00	    sprite_spaceship1_color209 =	0
   4263  10000 ????		00 00	    sprite_spaceship1_color208 =	0
   4264  10000 ????		00 00	    sprite_spaceship1_color207 =	0
   4265  10000 ????		00 00	    sprite_spaceship1_color206 =	0
   4266  10000 ????		00 00	    sprite_spaceship1_color205 =	0
   4267  10000 ????		00 00	    sprite_spaceship1_color204 =	0
   4268  10000 ????		00 00	    sprite_spaceship1_color203 =	0
   4269  10000 ????		00 00	    sprite_spaceship1_color202 =	0
   4270  10000 ????		00 00	    sprite_spaceship1_color201 =	0
   4271  10000 ????		00 00	    sprite_spaceship1_color200 =	0
   4272  10000 ????		00 00	    sprite_spaceship1_color199 =	0
   4273  10000 ????		00 00	    sprite_spaceship1_color198 =	0
   4274  10000 ????		00 00	    sprite_spaceship1_color197 =	0
   4275  10000 ????		00 00	    sprite_spaceship1_color196 =	0
   4276  10000 ????		00 00	    sprite_spaceship1_color195 =	0
   4277  10000 ????		00 00	    sprite_spaceship1_color194 =	0
   4278  10000 ????		00 00	    sprite_spaceship1_color193 =	0
   4279  10000 ????		00 00	    sprite_spaceship1_color192 =	0
   4280  10000 ????		00 00	    sprite_spaceship1_color191 =	0
   4281  10000 ????		00 00	    sprite_spaceship1_color190 =	0
   4282  10000 ????		00 00	    sprite_spaceship1_color189 =	0
   4283  10000 ????		00 00	    sprite_spaceship1_color188 =	0
   4284  10000 ????		00 00	    sprite_spaceship1_color187 =	0
   4285  10000 ????		00 00	    sprite_spaceship1_color186 =	0
   4286  10000 ????		00 00	    sprite_spaceship1_color185 =	0
   4287  10000 ????		00 00	    sprite_spaceship1_color184 =	0
   4288  10000 ????		00 00	    sprite_spaceship1_color183 =	0
   4289  10000 ????		00 00	    sprite_spaceship1_color182 =	0
   4290  10000 ????		00 00	    sprite_spaceship1_color181 =	0
   4291  10000 ????		00 00	    sprite_spaceship1_color180 =	0
   4292  10000 ????		00 00	    sprite_spaceship1_color179 =	0
   4293  10000 ????		00 00	    sprite_spaceship1_color178 =	0
   4294  10000 ????		00 00	    sprite_spaceship1_color177 =	0
   4295  10000 ????		00 00	    sprite_spaceship1_color176 =	0
   4296  10000 ????		00 00	    sprite_spaceship1_color175 =	0
   4297  10000 ????		00 00	    sprite_spaceship1_color174 =	0
   4298  10000 ????		00 00	    sprite_spaceship1_color173 =	0
   4299  10000 ????		00 00	    sprite_spaceship1_color172 =	0
   4300  10000 ????		00 00	    sprite_spaceship1_color171 =	0
   4301  10000 ????		00 00	    sprite_spaceship1_color170 =	0
   4302  10000 ????		00 00	    sprite_spaceship1_color169 =	0
   4303  10000 ????		00 00	    sprite_spaceship1_color168 =	0
   4304  10000 ????		00 00	    sprite_spaceship1_color167 =	0
   4305  10000 ????		00 00	    sprite_spaceship1_color166 =	0
   4306  10000 ????		00 00	    sprite_spaceship1_color165 =	0
   4307  10000 ????		00 00	    sprite_spaceship1_color164 =	0
   4308  10000 ????		00 00	    sprite_spaceship1_color163 =	0
   4309  10000 ????		00 00	    sprite_spaceship1_color162 =	0
   4310  10000 ????		00 00	    sprite_spaceship1_color161 =	0
   4311  10000 ????		00 00	    sprite_spaceship1_color160 =	0
   4312  10000 ????		00 00	    sprite_spaceship1_color159 =	0
   4313  10000 ????		00 00	    sprite_spaceship1_color158 =	0
   4314  10000 ????		00 00	    sprite_spaceship1_color157 =	0
   4315  10000 ????		00 00	    sprite_spaceship1_color156 =	0
   4316  10000 ????		00 00	    sprite_spaceship1_color155 =	0
   4317  10000 ????		00 00	    sprite_spaceship1_color154 =	0
   4318  10000 ????		00 00	    sprite_spaceship1_color153 =	0
   4319  10000 ????		00 00	    sprite_spaceship1_color152 =	0
   4320  10000 ????		00 00	    sprite_spaceship1_color151 =	0
   4321  10000 ????		00 00	    sprite_spaceship1_color150 =	0
   4322  10000 ????		00 00	    sprite_spaceship1_color149 =	0
   4323  10000 ????		00 00	    sprite_spaceship1_color148 =	0
   4324  10000 ????		00 00	    sprite_spaceship1_color147 =	0
   4325  10000 ????		00 00	    sprite_spaceship1_color146 =	0
   4326  10000 ????		00 00	    sprite_spaceship1_color145 =	0
   4327  10000 ????		00 00	    sprite_spaceship1_color144 =	0
   4328  10000 ????		00 00	    sprite_spaceship1_color143 =	0
   4329  10000 ????		00 00	    sprite_spaceship1_color142 =	0
   4330  10000 ????		00 00	    sprite_spaceship1_color141 =	0
   4331  10000 ????		00 00	    sprite_spaceship1_color140 =	0
   4332  10000 ????		00 00	    sprite_spaceship1_color139 =	0
   4333  10000 ????		00 00	    sprite_spaceship1_color138 =	0
   4334  10000 ????		00 00	    sprite_spaceship1_color137 =	0
   4335  10000 ????		00 00	    sprite_spaceship1_color136 =	0
   4336  10000 ????		00 00	    sprite_spaceship1_color135 =	0
   4337  10000 ????		00 00	    sprite_spaceship1_color134 =	0
   4338  10000 ????		00 00	    sprite_spaceship1_color133 =	0
   4339  10000 ????		00 00	    sprite_spaceship1_color132 =	0
   4340  10000 ????		00 00	    sprite_spaceship1_color131 =	0
   4341  10000 ????		00 00	    sprite_spaceship1_color130 =	0
   4342  10000 ????		00 00	    sprite_spaceship1_color129 =	0
   4343  10000 ????		00 00	    sprite_spaceship1_color128 =	0
   4344  10000 ????		00 00	    sprite_spaceship1_color127 =	0
   4345  10000 ????		00 00	    sprite_spaceship1_color126 =	0
   4346  10000 ????		00 00	    sprite_spaceship1_color125 =	0
   4347  10000 ????		00 00	    sprite_spaceship1_color124 =	0
   4348  10000 ????		00 00	    sprite_spaceship1_color123 =	0
   4349  10000 ????		00 00	    sprite_spaceship1_color122 =	0
   4350  10000 ????		00 00	    sprite_spaceship1_color121 =	0
   4351  10000 ????		00 00	    sprite_spaceship1_color120 =	0
   4352  10000 ????		00 00	    sprite_spaceship1_color119 =	0
   4353  10000 ????		00 00	    sprite_spaceship1_color118 =	0
   4354  10000 ????		00 00	    sprite_spaceship1_color117 =	0
   4355  10000 ????		00 00	    sprite_spaceship1_color116 =	0
   4356  10000 ????		00 00	    sprite_spaceship1_color115 =	0
   4357  10000 ????		00 00	    sprite_spaceship1_color114 =	0
   4358  10000 ????		00 00	    sprite_spaceship1_color113 =	0
   4359  10000 ????		00 00	    sprite_spaceship1_color112 =	0
   4360  10000 ????		00 00	    sprite_spaceship1_color111 =	0
   4361  10000 ????		00 00	    sprite_spaceship1_color110 =	0
   4362  10000 ????		00 00	    sprite_spaceship1_color109 =	0
   4363  10000 ????		00 00	    sprite_spaceship1_color108 =	0
   4364  10000 ????		00 00	    sprite_spaceship1_color107 =	0
   4365  10000 ????		00 00	    sprite_spaceship1_color106 =	0
   4366  10000 ????		00 00	    sprite_spaceship1_color105 =	0
   4367  10000 ????		00 00	    sprite_spaceship1_color104 =	0
   4368  10000 ????		00 00	    sprite_spaceship1_color103 =	0
   4369  10000 ????		00 00	    sprite_spaceship1_color102 =	0
   4370  10000 ????		00 00	    sprite_spaceship1_color101 =	0
   4371  10000 ????		00 00	    sprite_spaceship1_color100 =	0
   4372  10000 ????		00 00	    sprite_spaceship1_color99 =	0
   4373  10000 ????		00 00	    sprite_spaceship1_color98 =	0
   4374  10000 ????		00 00	    sprite_spaceship1_color97 =	0
   4375  10000 ????		00 00	    sprite_spaceship1_color96 =	0
   4376  10000 ????		00 00	    sprite_spaceship1_color95 =	0
   4377  10000 ????		00 00	    sprite_spaceship1_color94 =	0
   4378  10000 ????		00 00	    sprite_spaceship1_color93 =	0
   4379  10000 ????		00 00	    sprite_spaceship1_color92 =	0
   4380  10000 ????		00 00	    sprite_spaceship1_color91 =	0
   4381  10000 ????		00 00	    sprite_spaceship1_color90 =	0
   4382  10000 ????		00 00	    sprite_spaceship1_color89 =	0
   4383  10000 ????		00 00	    sprite_spaceship1_color88 =	0
   4384  10000 ????		00 00	    sprite_spaceship1_color87 =	0
   4385  10000 ????		00 00	    sprite_spaceship1_color86 =	0
   4386  10000 ????		00 00	    sprite_spaceship1_color85 =	0
   4387  10000 ????		00 00	    sprite_spaceship1_color84 =	0
   4388  10000 ????		00 00	    sprite_spaceship1_color83 =	0
   4389  10000 ????		00 00	    sprite_spaceship1_color82 =	0
   4390  10000 ????		00 00	    sprite_spaceship1_color81 =	0
   4391  10000 ????		00 00	    sprite_spaceship1_color80 =	0
   4392  10000 ????		00 00	    sprite_spaceship1_color79 =	0
   4393  10000 ????		00 00	    sprite_spaceship1_color78 =	0
   4394  10000 ????		00 00	    sprite_spaceship1_color77 =	0
   4395  10000 ????		00 00	    sprite_spaceship1_color76 =	0
   4396  10000 ????		00 00	    sprite_spaceship1_color75 =	0
   4397  10000 ????		00 00	    sprite_spaceship1_color74 =	0
   4398  10000 ????		00 00	    sprite_spaceship1_color73 =	0
   4399  10000 ????		00 00	    sprite_spaceship1_color72 =	0
   4400  10000 ????		00 00	    sprite_spaceship1_color71 =	0
   4401  10000 ????		00 00	    sprite_spaceship1_color70 =	0
   4402  10000 ????		00 00	    sprite_spaceship1_color69 =	0
   4403  10000 ????		00 00	    sprite_spaceship1_color68 =	0
   4404  10000 ????		00 00	    sprite_spaceship1_color67 =	0
   4405  10000 ????		00 00	    sprite_spaceship1_color66 =	0
   4406  10000 ????		00 00	    sprite_spaceship1_color65 =	0
   4407  10000 ????		00 00	    sprite_spaceship1_color64 =	0
   4408  10000 ????		00 00	    sprite_spaceship1_color63 =	0
   4409  10000 ????		00 00	    sprite_spaceship1_color62 =	0
   4410  10000 ????		00 00	    sprite_spaceship1_color61 =	0
   4411  10000 ????		00 00	    sprite_spaceship1_color60 =	0
   4412  10000 ????		00 00	    sprite_spaceship1_color59 =	0
   4413  10000 ????		00 00	    sprite_spaceship1_color58 =	0
   4414  10000 ????		00 00	    sprite_spaceship1_color57 =	0
   4415  10000 ????		00 00	    sprite_spaceship1_color56 =	0
   4416  10000 ????		00 00	    sprite_spaceship1_color55 =	0
   4417  10000 ????		00 00	    sprite_spaceship1_color54 =	0
   4418  10000 ????		00 00	    sprite_spaceship1_color53 =	0
   4419  10000 ????		00 00	    sprite_spaceship1_color52 =	0
   4420  10000 ????		00 00	    sprite_spaceship1_color51 =	0
   4421  10000 ????		00 00	    sprite_spaceship1_color50 =	0
   4422  10000 ????		00 00	    sprite_spaceship1_color49 =	0
   4423  10000 ????		00 00	    sprite_spaceship1_color48 =	0
   4424  10000 ????		00 00	    sprite_spaceship1_color47 =	0
   4425  10000 ????		00 00	    sprite_spaceship1_color46 =	0
   4426  10000 ????		00 00	    sprite_spaceship1_color45 =	0
   4427  10000 ????		00 00	    sprite_spaceship1_color44 =	0
   4428  10000 ????		00 00	    sprite_spaceship1_color43 =	0
   4429  10000 ????		00 00	    sprite_spaceship1_color42 =	0
   4430  10000 ????		00 00	    sprite_spaceship1_color41 =	0
   4431  10000 ????		00 00	    sprite_spaceship1_color40 =	0
   4432  10000 ????		00 00	    sprite_spaceship1_color39 =	0
   4433  10000 ????		00 00	    sprite_spaceship1_color38 =	0
   4434  10000 ????		00 00	    sprite_spaceship1_color37 =	0
   4435  10000 ????		00 00	    sprite_spaceship1_color36 =	0
   4436  10000 ????		00 00	    sprite_spaceship1_color35 =	0
   4437  10000 ????		00 00	    sprite_spaceship1_color34 =	0
   4438  10000 ????		00 00	    sprite_spaceship1_color33 =	0
   4439  10000 ????		00 00	    sprite_spaceship1_color32 =	0
   4440  10000 ????		00 00	    sprite_spaceship1_color31 =	0
   4441  10000 ????		00 00	    sprite_spaceship1_color30 =	0
   4442  10000 ????		00 00	    sprite_spaceship1_color29 =	0
   4443  10000 ????		00 00	    sprite_spaceship1_color28 =	0
   4444  10000 ????		00 00	    sprite_spaceship1_color27 =	0
   4445  10000 ????		00 00	    sprite_spaceship1_color26 =	0
   4446  10000 ????		00 00	    sprite_spaceship1_color25 =	0
   4447  10000 ????		00 00	    sprite_spaceship1_color24 =	0
   4448  10000 ????		00 00	    sprite_spaceship1_color23 =	0
   4449  10000 ????		00 00	    sprite_spaceship1_color22 =	0
   4450  10000 ????		00 00	    sprite_spaceship1_color21 =	0
   4451  10000 ????		00 00	    sprite_spaceship1_color20 =	0
   4452  10000 ????		00 00	    sprite_spaceship1_color19 =	0
   4453  10000 ????		00 00	    sprite_spaceship1_color18 =	0
   4454  10000 ????		00 00	    sprite_spaceship1_color17 =	0
   4455  10000 ????		00 00	    sprite_spaceship1_color16 =	0
   4456  10000 ????		00 00	    sprite_spaceship1_color15 =	0
   4457  10000 ????		00 00	    sprite_spaceship1_color14 =	0
   4458  10000 ????		00 00	    sprite_spaceship1_color13 =	0
   4459  10000 ????		00 00	    sprite_spaceship1_color12 =	0
   4460  10000 ????		00 00	    sprite_spaceship1_color11 =	0
   4461  10000 ????		00 00	    sprite_spaceship1_color10 =	0
   4462  10000 ????		00 00	    sprite_spaceship1_color9 =	0
   4463  10000 ????		00 00	    sprite_spaceship1_color8 =	0
   4464  10000 ????		00 00	    sprite_spaceship1_color7 =	0
   4465  10000 ????		00 00	    sprite_spaceship1_color6 =	0
   4466  10000 ????		00 00	    sprite_spaceship1_color5 =	0
   4467  10000 ????		00 00	    sprite_spaceship1_color4 =	0
   4468  10000 ????		00 1e	    sprite_spaceship1_color3 =	$1e
   4469  10000 ????		00 81	    sprite_spaceship1_color2 =	$81
   4470  10000 ????		00 44	    sprite_spaceship1_color1 =	$44
   4471  10000 ????		00 00	    sprite_spaceship1_color0 =	$00
   4472  10000 ????		00 10	    ZONEHEIGHT =	16
   4473  10000 ????		00 01	    collisionwrap =	1
------- FILE 7800basic.h
      6  10000 ????
      7  10000 ????						;************ 7800 overall RAM map **************
      8  10000 ????
      9  10000 ????						;	   40-FF	 zero page RAM
     10  10000 ????						;	  140-1FF	 RAM (stack)
     11  10000 ????						;	 1800-203F	 RAM
     12  10000 ????						;	 2100-213F	 RAM
     13  10000 ????						;	 2200-27FF	 RAM
     14  10000 ????
     15  10000 ????						;************ 7800basic RAM usage map **************
     16  10000 ????
     17  10000 ????						;	   40-FF	 numerous defines, listed below
     18  10000 ????						;	  140-1FF	 RAM (stack)
     19  10000 ????
     20  10000 ????						;	 1800-187F	 DLL  (1800-18DF with page flipping enabled)
     21  10000 ????						;	 1880-1FFF	 DLs  (18E0-1FFF with page flipping enabled)
     22  10000 ????
     23  10000 ????						;	 2000-203F	 Reserved
     24  10000 ????						;	 2100-213F	 Reserved
     25  10000 ????						;	 2200-27FF	 Free
     26  10000 ????
     27  10000 ????		1f e0	    eeprombuffer =	$1FE0
     28  10000 ????		18 00	    DLLMEM     =	$1800
     29  10000 ????		00 70	    DBOFFSET   =	$70	; $E0 length DL is /2 for double-buffering
     30  10000 ????
     31  10000 ????			   -	       ifconst	PLOTVALUEPAGE
     32  10000 ????			   -VALBUFFER  =	(PLOTVALUEPAGE*256)
     33  10000 ????				       else
     34  10000 ????		20 00	    VALBUFFER  =	$2000	; to $203F  ** never let VALBUFFER straddle pages
     35  10000 ????				       endif
     36  10000 ????
     37  10000 ????
     38  10000 ????		21 00	    pausestate =	$2100
     39  10000 ????		21 01	    dlzero     =	$2101	; zero to force end of $2100 DL, which we use in vblank and overscan
     40  10000 ????		21 02	    sINPT1     =	$2102	; save register for joy button joy0
     41  10000 ????		21 03	    sINPT3     =	$2103	; save register for joy button joy1
     42  10000 ????		21 04	    currentbank =	$2104
     43  10000 ????
     44  10000 ????		21 05	    currentrambank =	$2105
     45  10000 ????		21 06	    charactermode =	$2106
     46  10000 ????		21 07	    sCTRL      =	$2107
     47  10000 ????		21 08	    pokeydetected =	$2108
     48  10000 ????		21 09	    paldetected =	$2109
     49  10000 ????		21 0a	    avoxdetected =	$210A
     50  10000 ????		21 0b	    sCHARBASE  =	$210B	; save register for CHARBASE
     51  10000 ????
     52  10000 ????		21 0c	    hsdevice   =	$210C
     53  10000 ????		21 0d	    hsdifficulty =	$210D
     54  10000 ????		21 0e	    hserror    =	$210E
     55  10000 ????		21 0f	    hsgameslot =	$210F
     56  10000 ????		21 10	    hsnewscoreline =	$2110
     57  10000 ????		21 11	    hsnewscorerank =	$2111
     58  10000 ????		21 12	    HSRAMTable =	$2112	; to $212F (30 bytes) Format: III*5, SSS*5
     59  10000 ????		21 12	    HSRAMInitials =	$2112	; see above
     60  10000 ????		21 21	    HSRAMScores =	$2121	; see above
     61  10000 ????
     62  10000 ????		21 31	    sSWCHA     =	$2131
     63  10000 ????						; reserved	 = $2132
     64  10000 ????
     65  10000 ????		21 33	    hsdisplaymode =	$2133
     66  10000 ????		21 34	    gamedifficulty =	$2134
     67  10000 ????		21 35	    hsinitialpos =	$2135
     68  10000 ????		21 36	    hsinitialhold =	$2136
     69  10000 ????		21 37	    hscursorx  =	$2137
     70  10000 ????		21 38	    hsjoydebounce =	$2138
     71  10000 ????		21 39	    hsswcha    =	$2139
     72  10000 ????		21 3a	    hsinpt1    =	$213A
     73  10000 ????		21 3b	    hscolorchaseindex =	$213B
     74  10000 ????		21 3c	    visibleDLLstart =	$213C
     75  10000 ????		21 3d	    overscanDLLstart =	$213D
     76  10000 ????		21 3e	    frameslost =	$213E
     77  10000 ????		21 3f	    hsreturn   =	$213F
     78  10000 ????
     79  10000 ????
     80  10000 ????		00 40	    rand       =	$40
     81  10000 ????		00 41	    rand16     =	$41
     82  10000 ????		00 42	    temp1      =	$42
     83  10000 ????		00 43	    temp2      =	$43
     84  10000 ????		00 44	    temp3      =	$44
     85  10000 ????		00 45	    temp4      =	$45
     86  10000 ????		00 46	    temp5      =	$46
     87  10000 ????		00 47	    temp6      =	$47
     88  10000 ????		00 48	    temp7      =	$48
     89  10000 ????		00 49	    temp8      =	$49
     90  10000 ????		00 4a	    temp9      =	$4a
     91  10000 ????
     92  10000 ????		00 4b	    pokeybase  =	$4b
     93  10000 ????		00 4b	    pokeybaselo =	$4b
     94  10000 ????		00 4c	    pokeybasehi =	$4c
     95  10000 ????
     96  10000 ????		00 4d	    visibleover =	$4d
     97  10000 ????
     98  10000 ????		00 4e	    sfx1pointlo =	$4e
     99  10000 ????		00 4f	    sfx2pointlo =	$4f
    100  10000 ????		00 50	    sfx1pointhi =	$50
    101  10000 ????		00 51	    sfx2pointhi =	$51
    102  10000 ????
    103  10000 ????		00 52	    sfx1priority =	$52
    104  10000 ????		00 53	    sfx2priority =	$53
    105  10000 ????		00 54	    sfx1poffset =	$54
    106  10000 ????		00 55	    sfx2poffset =	$55
    107  10000 ????
    108  10000 ????		00 56	    sfx1frames =	$56
    109  10000 ????		00 57	    sfx2frames =	$57
    110  10000 ????		00 58	    sfx1tick   =	$58
    111  10000 ????		00 59	    sfx2tick   =	$59
    112  10000 ????
    113  10000 ????		00 5a	    tempmath   =	$5a
    114  10000 ????
    115  10000 ????		00 5b	    pokey1pointlo =	$5b
    116  10000 ????		00 5c	    pokey1pointhi =	$5c
    117  10000 ????		00 5d	    pokey2pointlo =	$5d
    118  10000 ????		00 5e	    pokey2pointhi =	$5e
    119  10000 ????		00 5f	    pokey3pointlo =	$5f
    120  10000 ????		00 60	    pokey3pointhi =	$60
    121  10000 ????		00 61	    pokey4pointlo =	$61
    122  10000 ????		00 62	    pokey4pointhi =	$62
    123  10000 ????
    124  10000 ????		00 63	    dlpnt      =	$63	; to $64
    125  10000 ????		00 65	    dlend      =	$65	; to $81 - for 29 possible visible dll entries
    126  10000 ????		00 82	    dlendsave  =	$82	; to $9e - for 29 possible visible dll entries
    127  10000 ????
    128  10000 ????		00 9f	    speech_addr =	$9f
    129  10000 ????		00 a0	    speech_addr_hi =	$a0
    130  10000 ????
    131  10000 ????		00 a1	    HSGameTableLo =	$a1
    132  10000 ????		00 a2	    HSGameTableHi =	$a2
    133  10000 ????		00 a3	    HSVoxHi    =	$a3
    134  10000 ????		00 a4	    HSVoxLo    =	$a4
    135  10000 ????
    136  10000 ????						;channel pointers
    137  10000 ????
    138  10000 ????		00 a5	    songchannel1layer1lo =	$a5
    139  10000 ????		00 a6	    songchannel2layer1lo =	$a6
    140  10000 ????		00 a7	    songchannel3layer1lo =	$a7
    141  10000 ????		00 a8	    songchannel4layer1lo =	$a8
    142  10000 ????
    143  10000 ????		00 a9	    songchannel1layer2lo =	$a9
    144  10000 ????		00 aa	    songchannel2layer2lo =	$aA
    145  10000 ????		00 ab	    songchannel3layer2lo =	$aB
    146  10000 ????		00 ac	    songchannel4layer2lo =	$aC
    147  10000 ????
    148  10000 ????		00 ad	    songchannel1layer3lo =	$aD
    149  10000 ????		00 ae	    songchannel2layer3lo =	$aE
    150  10000 ????		00 af	    songchannel3layer3lo =	$aF
    151  10000 ????		00 b0	    songchannel4layer3lo =	$b0
    152  10000 ????
    153  10000 ????		00 b1	    songchannel1layer1hi =	$b1
    154  10000 ????		00 b2	    songchannel2layer1hi =	$b2
    155  10000 ????		00 b3	    songchannel3layer1hi =	$b3
    156  10000 ????		00 b4	    songchannel4layer1hi =	$b4
    157  10000 ????
    158  10000 ????		00 b5	    songchannel1layer2hi =	$b5
    159  10000 ????		00 b6	    songchannel2layer2hi =	$b6
    160  10000 ????		00 b7	    songchannel3layer2hi =	$b7
    161  10000 ????		00 b8	    songchannel4layer2hi =	$b8
    162  10000 ????
    163  10000 ????		00 b9	    songchannel1layer3hi =	$b9
    164  10000 ????		00 ba	    songchannel2layer3hi =	$bA
    165  10000 ????		00 bb	    songchannel3layer3hi =	$bB
    166  10000 ????		00 bc	    songchannel4layer3hi =	$bC
    167  10000 ????
    168  10000 ????		00 bd	    songdatalo =	$bd
    169  10000 ????		00 be	    songdatahi =	$be
    170  10000 ????
    171  10000 ????		00 bf	    inactivechannelcount =	$bf
    172  10000 ????
    173  10000 ????		00 c0	    songchannel1transpose =	$c0
    174  10000 ????		00 c1	    songchannel2transpose =	$c1
    175  10000 ????		00 c2	    songchannel3transpose =	$c2
    176  10000 ????		00 c3	    songchannel4transpose =	$c3
    177  10000 ????
    178  10000 ????		00 c4	    songstackindex =	$c4
    179  10000 ????
    180  10000 ????		00 c5	    songchannel1instrumentlo =	$c5
    181  10000 ????		00 c6	    songchannel2instrumentlo =	$c6
    182  10000 ????		00 c7	    songchannel3instrumentlo =	$c7
    183  10000 ????		00 c8	    songchannel4instrumentlo =	$c8
    184  10000 ????
    185  10000 ????		00 c9	    songchannel1instrumenthi =	$c9
    186  10000 ????		00 ca	    songchannel2instrumenthi =	$ca
    187  10000 ????		00 cb	    songchannel3instrumenthi =	$cb
    188  10000 ????		00 cc	    songchannel4instrumenthi =	$cc
    189  10000 ????
    190  10000 ????		00 cd	    sfx1notedata =	$cd
    191  10000 ????		00 ce	    sfx2notedata =	$ce
    192  10000 ????
    193  10000 ????		00 cf	    songloops  =	$cf
    194  10000 ????
    195  10000 ????		00 d0	    songpointerlo =	$D0
    196  10000 ????		00 d1	    songpointerhi =	$D1
    197  10000 ????
    198  10000 ????		00 d2	    voxlock    =	$D2
    199  10000 ????		00 d3	    voxqueuesize =	$D3
    200  10000 ????
    201  10000 ????		00 d4	    vblankroutines =	$D4
    202  10000 ????
    203  10000 ????		00 d5	    doublebufferstate =	$D5
    204  10000 ????		00 d6	    doublebufferdloffset =	$D6
    205  10000 ????		00 d7	    doublebufferbufferdirty =	$D7
    206  10000 ????
    207  10000 ????		00 d8	    inttemp1   =	$D8
    208  10000 ????		00 d9	    inttemp2   =	$D9
    209  10000 ????		00 da	    inttemp3   =	$DA
    210  10000 ????		00 db	    inttemp4   =	$DB
    211  10000 ????		00 dc	    inttemp5   =	$DC
    212  10000 ????		00 dd	    inttemp6   =	$DD
    213  10000 ????
    214  10000 ????		00 de	    sfxschedulelock =	$DE
    215  10000 ????		00 df	    sfxschedulemissed =	$DF
    216  10000 ????		00 e0	    sfxinstrumentlo =	$E0
    217  10000 ????		00 e1	    sfxinstrumenthi =	$E1
    218  10000 ????		00 e2	    sfxpitchoffset =	$E2
    219  10000 ????		00 e3	    sfxnoteindex =	$E3
    220  10000 ????
    221  10000 ????						; reserved = $E4
    222  10000 ????						; reserved = $E5
    223  10000 ????
    224  10000 ????		00 e6	    A	       =	$e6
    225  10000 ????		00 e6	    a	       =	$e6
    226  10000 ????		00 e7	    B	       =	$e7
    227  10000 ????		00 e7	    b	       =	$e7
    228  10000 ????		00 e8	    C	       =	$e8
    229  10000 ????		00 e8	    c	       =	$e8
    230  10000 ????		00 e9	    D	       =	$e9
    231  10000 ????		00 e9	    d	       =	$e9
    232  10000 ????		00 ea	    E	       =	$ea
    233  10000 ????		00 ea	    e	       =	$ea
    234  10000 ????		00 eb	    F	       =	$eb
    235  10000 ????		00 eb	    f	       =	$eb
    236  10000 ????		00 ec	    G	       =	$ec
    237  10000 ????		00 ec	    g	       =	$ec
    238  10000 ????		00 ed	    H	       =	$ed
    239  10000 ????		00 ed	    h	       =	$ed
    240  10000 ????		00 ee	    I	       =	$ee
    241  10000 ????		00 ee	    i	       =	$ee
    242  10000 ????		00 ef	    J	       =	$ef
    243  10000 ????		00 ef	    j	       =	$ef
    244  10000 ????		00 f0	    K	       =	$f0
    245  10000 ????		00 f0	    k	       =	$f0
    246  10000 ????		00 f1	    L	       =	$f1
    247  10000 ????		00 f1	    l	       =	$f1
    248  10000 ????		00 f2	    M	       =	$f2
    249  10000 ????		00 f2	    m	       =	$f2
    250  10000 ????		00 f3	    N	       =	$f3
    251  10000 ????		00 f3	    n	       =	$f3
    252  10000 ????		00 f4	    O	       =	$f4
    253  10000 ????		00 f4	    o	       =	$f4
    254  10000 ????		00 f5	    P	       =	$f5
    255  10000 ????		00 f5	    p	       =	$f5
    256  10000 ????		00 f6	    Q	       =	$f6
    257  10000 ????		00 f6	    q	       =	$f6
    258  10000 ????		00 f7	    R	       =	$f7
    259  10000 ????		00 f7	    r	       =	$f7
    260  10000 ????		00 f8	    S	       =	$f8
    261  10000 ????		00 f8	    s	       =	$f8
    262  10000 ????		00 f9	    T	       =	$f9
    263  10000 ????		00 f9	    t	       =	$f9
    264  10000 ????		00 fa	    U	       =	$fa
    265  10000 ????		00 fa	    u	       =	$fa
    266  10000 ????		00 fb	    V	       =	$fb
    267  10000 ????		00 fb	    v	       =	$fb
    268  10000 ????		00 fc	    W	       =	$fc
    269  10000 ????		00 fc	    w	       =	$fc
    270  10000 ????		00 fd	    X	       =	$fd
    271  10000 ????		00 fd	    x	       =	$fd
    272  10000 ????		00 fe	    Y	       =	$fe
    273  10000 ????		00 fe	    y	       =	$fe
    274  10000 ????		00 ff	    Z	       =	$ff
    275  10000 ????		00 ff	    z	       =	$ff
    276  10000 ????
    277  10000 ????						; var0-var99 variables use the top of the stack
    278  10000 ????		01 40	    var0       =	$140
    279  10000 ????		01 41	    var1       =	$141
    280  10000 ????		01 42	    var2       =	$142
    281  10000 ????		01 43	    var3       =	$143
    282  10000 ????		01 44	    var4       =	$144
    283  10000 ????		01 45	    var5       =	$145
    284  10000 ????		01 46	    var6       =	$146
    285  10000 ????		01 47	    var7       =	$147
    286  10000 ????		01 48	    var8       =	$148
    287  10000 ????		01 49	    var9       =	$149
    288  10000 ????		01 4a	    var10      =	$14a
    289  10000 ????		01 4b	    var11      =	$14b
    290  10000 ????		01 4c	    var12      =	$14c
    291  10000 ????		01 4d	    var13      =	$14d
    292  10000 ????		01 4e	    var14      =	$14e
    293  10000 ????		01 4f	    var15      =	$14f
    294  10000 ????		01 50	    var16      =	$150
    295  10000 ????		01 51	    var17      =	$151
    296  10000 ????		01 52	    var18      =	$152
    297  10000 ????		01 53	    var19      =	$153
    298  10000 ????		01 54	    var20      =	$154
    299  10000 ????		01 55	    var21      =	$155
    300  10000 ????		01 56	    var22      =	$156
    301  10000 ????		01 57	    var23      =	$157
    302  10000 ????		01 58	    var24      =	$158
    303  10000 ????		01 59	    var25      =	$159
    304  10000 ????		01 5a	    var26      =	$15a
    305  10000 ????		01 5b	    var27      =	$15b
    306  10000 ????		01 5c	    var28      =	$15c
    307  10000 ????		01 5d	    var29      =	$15d
    308  10000 ????		01 5e	    var30      =	$15e
    309  10000 ????		01 5f	    var31      =	$15f
    310  10000 ????		01 60	    var32      =	$160
    311  10000 ????		01 61	    var33      =	$161
    312  10000 ????		01 62	    var34      =	$162
    313  10000 ????		01 63	    var35      =	$163
    314  10000 ????		01 64	    var36      =	$164
    315  10000 ????		01 65	    var37      =	$165
    316  10000 ????		01 66	    var38      =	$166
    317  10000 ????		01 67	    var39      =	$167
    318  10000 ????		01 68	    var40      =	$168
    319  10000 ????		01 69	    var41      =	$169
    320  10000 ????		01 6a	    var42      =	$16a
    321  10000 ????		01 6b	    var43      =	$16b
    322  10000 ????		01 6c	    var44      =	$16c
    323  10000 ????		01 6d	    var45      =	$16d
    324  10000 ????		01 6e	    var46      =	$16e
    325  10000 ????		01 6f	    var47      =	$16f
    326  10000 ????		01 70	    var48      =	$170
    327  10000 ????		01 71	    var49      =	$171
    328  10000 ????		01 72	    var50      =	$172
    329  10000 ????		01 73	    var51      =	$173
    330  10000 ????		01 74	    var52      =	$174
    331  10000 ????		01 75	    var53      =	$175
    332  10000 ????		01 76	    var54      =	$176
    333  10000 ????		01 77	    var55      =	$177
    334  10000 ????		01 78	    var56      =	$178
    335  10000 ????		01 79	    var57      =	$179
    336  10000 ????		01 7a	    var58      =	$17a
    337  10000 ????		01 7b	    var59      =	$17b
    338  10000 ????		01 7c	    var60      =	$17c
    339  10000 ????		01 7d	    var61      =	$17d
    340  10000 ????		01 7e	    var62      =	$17e
    341  10000 ????		01 7f	    var63      =	$17f
    342  10000 ????		01 80	    var64      =	$180
    343  10000 ????		01 81	    var65      =	$181
    344  10000 ????		01 82	    var66      =	$182
    345  10000 ????		01 83	    var67      =	$183
    346  10000 ????		01 84	    var68      =	$184
    347  10000 ????		01 85	    var69      =	$185
    348  10000 ????		01 86	    var70      =	$186
    349  10000 ????		01 87	    var71      =	$187
    350  10000 ????		01 88	    var72      =	$188
    351  10000 ????		01 89	    var73      =	$189
    352  10000 ????		01 8a	    var74      =	$18a
    353  10000 ????		01 8b	    var75      =	$18b
    354  10000 ????		01 8c	    var76      =	$18c
    355  10000 ????		01 8d	    var77      =	$18d
    356  10000 ????		01 8e	    var78      =	$18e
    357  10000 ????		01 8f	    var79      =	$18f
    358  10000 ????		01 90	    var80      =	$190
    359  10000 ????		01 91	    var81      =	$191
    360  10000 ????		01 92	    var82      =	$192
    361  10000 ????		01 93	    var83      =	$193
    362  10000 ????		01 94	    var84      =	$194
    363  10000 ????		01 95	    var85      =	$195
    364  10000 ????		01 96	    var86      =	$196
    365  10000 ????		01 97	    var87      =	$197
    366  10000 ????		01 98	    var88      =	$198
    367  10000 ????		01 99	    var89      =	$199
    368  10000 ????		01 9a	    var90      =	$19a
    369  10000 ????		01 9b	    var91      =	$19b
    370  10000 ????		01 9c	    var92      =	$19c
    371  10000 ????		01 9d	    var93      =	$19d
    372  10000 ????		01 9e	    var94      =	$19e
    373  10000 ????		01 9f	    var95      =	$19f
    374  10000 ????		01 a0	    var96      =	$1a0
    375  10000 ????		01 a1	    var97      =	$1a1
    376  10000 ????		01 a2	    var98      =	$1a2
    377  10000 ????		01 a3	    var99      =	$1a3
    378  10000 ????
    379 U01c3 ????				      SEG.U	"7800basicRAM"
    380 U01a4					      ORG	$1A4
    381 U01a4
    382 U01a4							; MAX allocation locations are in comments...
    383 U01a4		       00	   framecounter DS	1	; $1A4
    384 U01a5		       00	   countdownseconds DS	1	; $1A5
    385 U01a6		       00 00 00    score0     DS	3	; $1A6 $1A7 $1A8
    386 U01a9		       00 00 00    score1     DS	3	; $1A9 $1AA $1AB
    387 U01ac		       00	   pausebuttonflag DS	1	; $1AC
    388 U01ad		       00	   valbufend  DS	1	; $1AD
    389 U01ae		       00	   valbufendsave DS	1	; $1AE
    390 U01af		       00	   finescrollx DS	1	; $1AF
    391 U01b0		       00	   finescrolly DS	1	; $1B0
    392 U01b1		       00	   joybuttonmode DS	1	; $1B1 ; track joysticks that were changed to one-button mode
    393 U01b2		       00	   interruptindex DS	1	; $1B2
    394 U01b3
    395 U01b3				  -	      ifconst	DOUBLEBUFFER
    396 U01b3				  -doublebufferminimumframetarget DS	1	; $1B3
    397 U01b3				  -doublebufferminimumframeindex DS	1	; $1B4
    398 U01b3					      endif
    399 U01b3
    400 U01b3		       00	   pausedisable DS	1	; $1B5
    401 U01b4		       00	   XCTRL1s    DS	1	; $1B6
    402 U01b5
    403 U01b5				  -	      ifconst	AVOXVOICE
    404 U01b5				  -avoxenable DS	1	; $1B7
    405 U01b5				  -tempavox   DS	1	; $1B8
    406 U01b5					      endif
    407 U01b5
    408 U01b5				  -	      ifconst	MUSICTRACKER
    409 U01b5				  -songtempo  DS	1	; $1B9
    410 U01b5				  -songtick   DS	1	; $1BA
    411 U01b5				  -
    412 U01b5				  -songchannel1layer1loops DS	1	; $1BB
    413 U01b5				  -songchannel2layer1loops DS	1	; $1BC
    414 U01b5				  -songchannel3layer1loops DS	1	; $1BD
    415 U01b5				  -songchannel4layer1loops DS	1	; $1BE
    416 U01b5				  -
    417 U01b5				  -songchannel1layer2loops DS	1	; $1BF
    418 U01b5				  -songchannel2layer2loops DS	1	; $1C0
    419 U01b5				  -songchannel3layer2loops DS	1	; $1C1
    420 U01b5				  -songchannel4layer2loops DS	1	; $1C2
    421 U01b5				  -
    422 U01b5				  -songchannel1layer3loops DS	1	; $1C3
    423 U01b5				  -songchannel2layer3loops DS	1	; $1C4
    424 U01b5				  -songchannel3layer3loops DS	1	; $1C5
    425 U01b5				  -songchannel4layer3loops DS	1	; $1C6
    426 U01b5				  -
    427 U01b5				  -songchannel1busywait DS	1	; $1C7
    428 U01b5				  -songchannel2busywait DS	1	; $1C8
    429 U01b5				  -songchannel3busywait DS	1	; $1C9
    430 U01b5				  -songchannel4busywait DS	1	; $1CA
    431 U01b5				  -
    432 U01b5				  -songchannel1stackdepth DS	1	; $1CB
    433 U01b5				  -songchannel2stackdepth DS	1	; $1CC
    434 U01b5				  -songchannel3stackdepth DS	1	; $1CD
    435 U01b5				  -songchannel4stackdepth DS	1	; $1CE
    436 U01b5					      endif
    437 U01b5
    438 U01b5		       00	   palframes  DS	1
    439 U01b6		       00	   ntscslowframe DS	1
    440 U01b7		       00	   palfastframe DS	1
    441 U01b8
    442 U01b8				  -	      ifconst	MOUSESUPPORT
    443 U01b8				  -port0resolution DS	1
    444 U01b8				  -port1resolution DS	1
    445 U01b8					      else
    446 U01b8				  -	      ifconst	TRAKBALLSUPPORT
    447 U01b8				  -port0resolution DS	1
    448 U01b8				  -port1resolution DS	1
    449 U01b8					      endif
    450 U01b8					      endif
    451 U01b8
    452 U01b8		       00	   port0control DS	1
    453 U01b9		       00	   port1control DS	1
    454 U01ba
    455 U01ba							; port#control values...
    456 U01ba							;	1 = proline
    457 U01ba							;	2 = lightgun
    458 U01ba							;	3 = paddle
    459 U01ba							;	4 = trakball
    460 U01ba							;	5 = vcs joystick
    461 U01ba							;	6 = driving
    462 U01ba							;	7 = keypad
    463 U01ba							;	8 = st mouse/cx80
    464 U01ba							;	9 = amiga mouse
    465 U01ba							;     10 = atarivox
    466 U01ba
    467 U01ba							; controller 0 data...
    468 U01ba		       00	   paddleposition0 DS	1
    469 U01ba		       01 ba	   keypadmatrix0a =	paddleposition0
    470 U01ba		       01 ba	   drivingposition0 =	paddleposition0
    471 U01ba		       01 ba	   trakballx0 =	paddleposition0
    472 U01ba		       01 ba	   mousex0    =	paddleposition0
    473 U01ba		       01 ba	   lighttgunx0 =	paddleposition0
    474 U01ba		       01 ba	   snes2atari0lo =	paddleposition0
    475 U01ba		       01 ba	   mega7800data0 =	paddleposition0
    476 U01bb
    477 U01bb							; controller 1 data...
    478 U01bb		       00	   paddleposition2 DS	1
    479 U01bb		       01 bb	   keypadmatrix1a =	paddleposition2
    480 U01bb		       01 bb	   drivingposition1 =	paddleposition2
    481 U01bb		       01 bb	   trakballx1 =	paddleposition2
    482 U01bb		       01 bb	   mousex1    =	paddleposition2
    483 U01bb		       01 bb	   lightgunx1 =	paddleposition2
    484 U01bb		       01 bb	   snes2atari1lo =	paddleposition2
    485 U01bb		       01 bb	   mega7800data1 =	paddleposition2
    486 U01bc
    487 U01bc							; controller 0 altdata...
    488 U01bc		       00	   paddleposition1 DS	1
    489 U01bc		       01 bc	   keypadmatrix0b =	paddleposition1
    490 U01bc		       01 bc	   trakbally0 =	paddleposition1
    491 U01bc		       01 bc	   mousey0    =	paddleposition1
    492 U01bc		       01 bc	   lightguny0 =	paddleposition1
    493 U01bc		       01 bc	   snes2atari0hi =	paddleposition1
    494 U01bc		       01 bc	   mega7800state0 =	paddleposition1
    495 U01bd
    496 U01bd							; controller 1 altdata...
    497 U01bd		       00	   paddleposition3 DS	1
    498 U01bd		       01 bd	   keypadmatrix1b =	paddleposition3
    499 U01bd		       01 bd	   trakbally1 =	paddleposition3
    500 U01bd		       01 bd	   mousey1    =	paddleposition3
    501 U01bd		       01 bd	   lightguny1 =	paddleposition3
    502 U01bd		       01 bd	   snes2atari1hi =	paddleposition3
    503 U01bd		       01 bd	   mega7800state1 =	paddleposition3
    504 U01be
    505 U01be							; controller state save. for trakball state+dir codes, rotary position codes
    506 U01be		       00	   controller0statesave DS	1
    507 U01be		       01 be	   paddleprevious0 =	controller0statesave
    508 U01be		       01 be	   mousecodex0 =	controller0statesave
    509 U01be		       01 be	   trakballcodex0 =	controller0statesave
    510 U01be		       01 be	   keypadmatrix0c =	controller0statesave
    511 U01be		       01 be	   snesdetected0 =	controller0statesave
    512 U01bf
    513 U01bf		       00	   controller1statesave DS	1
    514 U01bf		       01 bf	   paddleprevious2 =	controller1statesave
    515 U01bf		       01 bf	   mousecodex1 =	controller1statesave
    516 U01bf		       01 bf	   trakballcodex1 =	controller1statesave
    517 U01bf		       01 bf	   keypadmatrix1c =	controller1statesave
    518 U01bf		       01 bf	   snesdetected1 =	controller1statesave
    519 U01c0
    520 U01c0		       00	   paddleprevious1 DS	1
    521 U01c0		       01 c0	   keypadmatrix0d =	paddleprevious1
    522 U01c0		       01 c0	   mousecodey0 =	paddleprevious1
    523 U01c0		       01 c0	   trakballcodey0 =	paddleprevious1
    524 U01c1
    525 U01c1		       00	   paddleprevious3 DS	1
    526 U01c1		       01 c1	   keypadmatrix1d =	paddleprevious3
    527 U01c1		       01 c1	   mousecodey1 =	paddleprevious3
    528 U01c1		       01 c1	   trakballcodey1 =	paddleprevious3
    529 U01c2
    530 U01c2				  -	      ifconst	pokeysupport
    531 U01c2				  -pokey1frames DS	1
    532 U01c2				  -pokey1tick DS	1
    533 U01c2				  -pokey2frames DS	1
    534 U01c2				  -pokey2tick DS	1
    535 U01c2				  -pokey3frames DS	1
    536 U01c2				  -pokey3tick DS	1
    537 U01c2				  -pokey4frames DS	1
    538 U01c2				  -pokey4tick DS	1
    539 U01c2				  -pokey1priority DS	1
    540 U01c2				  -pokey1offset DS	1
    541 U01c2				  -pokey2priority DS	1
    542 U01c2				  -pokey2offset DS	1
    543 U01c2				  -pokey3priority DS	1
    544 U01c2				  -pokey3offset DS	1
    545 U01c2				  -pokey4priority DS	1
    546 U01c2				  -pokey4offset DS	1
    547 U01c2					      endif
    548 U01c2
    549 U01c2				  -	      ifconst	pokeykeysupport
    550 U01c2				  -pokeylastkeycode DS	1
    551 U01c2				  -pokeykeycode DS	1
    552 U01c2				  -pokeykeydebounce DS	1
    553 U01c2					      endif
    554 U01c2
    555 U01c2				  -	      ifconst	RMT
    556 U01c2				  -rasterpause DS	1
    557 U01c2					      endif		; RMT
    558 U01c2				  -	      ifconst	RMTVOLUME
    559 U01c2				  -rmtvolume  DS	1
    560 U01c2					      endif		; RMTVOLUME
    561 U01c2				  -	      ifconst	TIAVOLUME
    562 U01c2				  -tiavolume  DS	1
    563 U01c2					      endif		; TIAVOLUME
    564 U01c2
    565 U01c2				  -	      ifconst	FOURBITFADE
    566 U01c2				  -fourbittemp1 DS	1
    567 U01c2				  -fourbitfadevalue DS	1
    568 U01c2				  -fourbittemp1int DS	1
    569 U01c2				  -fourbitfadevalueint DS	1
    570 U01c2					      endif		; FOURBITFADE
    571 U01c2
    572 U01c2				  -	      ifconst	SNES2ATARISUPPORT
    573 U01c2				  -snesport   DS	1
    574 U01c2					      endif		; SNES2ATARISUPPORT
    575 U01c2
    576 U01c2				  -	      ifconst	KEYPADSUPPORT
    577 U01c2				  -keypadcounter DS	1
    578 U01c2					      endif
    579 U01c2
    580 U01c2				  -	      ifconst	MULTIBUTTON
    581 U01c2				  -multibuttoncount0 DS	1
    582 U01c2				  -multibuttoncount1 DS	1
    583 U01c2					      endif
    584 U01c2
    585 U01c2							; see if we need an interrupthold byte...
    586 U01c2				   INTERRUPTNEEDED SET	0
    587 U01c2				  -	      ifconst	.topscreenroutine
    588 U01c2				  -INTERRUPTNEEDED SET	1
    589 U01c2					      endif
    590 U01c2				  -	      ifconst	.bottomscreenroutine
    591 U01c2				  -INTERRUPTNEEDED SET	1
    592 U01c2					      endif
    593 U01c2				  -	      ifconst	.userinterrupt
    594 U01c2				  -INTERRUPTNEEDED SET	1
    595 U01c2					      endif
    596 U01c2				  -	      if	INTERRUPTNEEDED = 1
    597 U01c2				  -interrupthold DS	1
    598 U01c2					      endif
    599 U01c2
    600 U01c2					      ifnconst	CANARYOFF
    601 U01c2		       00	   canary     DS	1
    602 U01c3					      endif
    603 U01c3
    604 U01c3					      ifnconst	bankswitchmode
   stack allowance: 30 nested subroutines.
    605 U01c3					      echo	"  stack allowance:",[($1FF - .)/2]d,"nested subroutines."
    606 U01c3				  -	      else
    607 U01c3				  -	      echo	"  stack allowance:",[($1FF - .)/3]d,"nested subroutines."
    608 U01c3					      endif
    609 U01c3					      ifnconst	CANARYOFF
   the canary is situated at: $1c2
    610 U01c3					      echo	"  the canary is situated at:",[canary]
    611 U01c3				  -	      else
    612 U01c3				  -	      echo	"  the canary is disabled."
    613 U01c3					      endif
    614 U01c3
    615 U01c3							; $1EE - $1FF reserved for stack
    616 U01c3
    617  10000 ????				       SEG	"GAME"
    618  10000 ????
------- FILE rpmegafighter.bas.asm
------- FILE 7800_extravars.h LEVEL 2 PASS 3
      0  10000 ????				       include	"7800_extravars.h"
      1  10000 ????		22 00	    var100     =	$2200
      2  10000 ????		22 01	    var101     =	$2201
      3  10000 ????		22 02	    var102     =	$2202
      4  10000 ????		22 03	    var103     =	$2203
      5  10000 ????		22 04	    var104     =	$2204
      6  10000 ????		22 05	    var105     =	$2205
      7  10000 ????		22 06	    var106     =	$2206
      8  10000 ????		22 07	    var107     =	$2207
      9  10000 ????		22 08	    var108     =	$2208
     10  10000 ????		22 09	    var109     =	$2209
     11  10000 ????		22 0a	    var110     =	$220A
     12  10000 ????		22 0b	    var111     =	$220B
     13  10000 ????		22 0c	    var112     =	$220C
     14  10000 ????		22 0d	    var113     =	$220D
     15  10000 ????		22 0e	    var114     =	$220E
     16  10000 ????		22 0f	    var115     =	$220F
     17  10000 ????		22 10	    var116     =	$2210
     18  10000 ????		22 11	    var117     =	$2211
     19  10000 ????		22 12	    var118     =	$2212
     20  10000 ????		22 13	    var119     =	$2213
     21  10000 ????		22 14	    var120     =	$2214
     22  10000 ????		22 15	    var121     =	$2215
     23  10000 ????		22 16	    var122     =	$2216
     24  10000 ????		22 17	    var123     =	$2217
     25  10000 ????		22 18	    var124     =	$2218
     26  10000 ????		22 19	    var125     =	$2219
     27  10000 ????		22 1a	    var126     =	$221A
     28  10000 ????		22 1b	    var127     =	$221B
     29  10000 ????		22 1c	    var128     =	$221C
     30  10000 ????		22 1d	    var129     =	$221D
     31  10000 ????		22 1e	    var130     =	$221E
     32  10000 ????		22 1f	    var131     =	$221F
     33  10000 ????		22 20	    var132     =	$2220
     34  10000 ????		22 21	    var133     =	$2221
     35  10000 ????		22 22	    var134     =	$2222
     36  10000 ????		22 23	    var135     =	$2223
     37  10000 ????		22 24	    var136     =	$2224
     38  10000 ????		22 25	    var137     =	$2225
     39  10000 ????		22 26	    var138     =	$2226
     40  10000 ????		22 27	    var139     =	$2227
     41  10000 ????		22 28	    var140     =	$2228
     42  10000 ????		22 29	    var141     =	$2229
     43  10000 ????		22 2a	    var142     =	$222A
     44  10000 ????		22 2b	    var143     =	$222B
     45  10000 ????		22 2c	    var144     =	$222C
     46  10000 ????		22 2d	    var145     =	$222D
     47  10000 ????		22 2e	    var146     =	$222E
     48  10000 ????		22 2f	    var147     =	$222F
     49  10000 ????		22 30	    var148     =	$2230
     50  10000 ????		22 31	    var149     =	$2231
     51  10000 ????		22 32	    var150     =	$2232
     52  10000 ????		22 33	    var151     =	$2233
     53  10000 ????		22 34	    var152     =	$2234
     54  10000 ????		22 35	    var153     =	$2235
     55  10000 ????		22 36	    var154     =	$2236
     56  10000 ????		22 37	    var155     =	$2237
     57  10000 ????		22 38	    var156     =	$2238
     58  10000 ????		22 39	    var157     =	$2239
     59  10000 ????		22 3a	    var158     =	$223A
     60  10000 ????		22 3b	    var159     =	$223B
     61  10000 ????		22 3c	    var160     =	$223C
     62  10000 ????		22 3d	    var161     =	$223D
     63  10000 ????		22 3e	    var162     =	$223E
     64  10000 ????		22 3f	    var163     =	$223F
     65  10000 ????		22 40	    var164     =	$2240
     66  10000 ????		22 41	    var165     =	$2241
     67  10000 ????		22 42	    var166     =	$2242
     68  10000 ????		22 43	    var167     =	$2243
     69  10000 ????		22 44	    var168     =	$2244
     70  10000 ????		22 45	    var169     =	$2245
     71  10000 ????		22 46	    var170     =	$2246
     72  10000 ????		22 47	    var171     =	$2247
     73  10000 ????		22 48	    var172     =	$2248
     74  10000 ????		22 49	    var173     =	$2249
     75  10000 ????		22 4a	    var174     =	$224A
     76  10000 ????		22 4b	    var175     =	$224B
     77  10000 ????		22 4c	    var176     =	$224C
     78  10000 ????		22 4d	    var177     =	$224D
     79  10000 ????		22 4e	    var178     =	$224E
     80  10000 ????		22 4f	    var179     =	$224F
     81  10000 ????		22 50	    var180     =	$2250
     82  10000 ????		22 51	    var181     =	$2251
     83  10000 ????		22 52	    var182     =	$2252
     84  10000 ????		22 53	    var183     =	$2253
     85  10000 ????		22 54	    var184     =	$2254
     86  10000 ????		22 55	    var185     =	$2255
     87  10000 ????		22 56	    var186     =	$2256
     88  10000 ????		22 57	    var187     =	$2257
     89  10000 ????		22 58	    var188     =	$2258
     90  10000 ????		22 59	    var189     =	$2259
     91  10000 ????		22 5a	    var190     =	$225A
     92  10000 ????		22 5b	    var191     =	$225B
     93  10000 ????		22 5c	    var192     =	$225C
     94  10000 ????		22 5d	    var193     =	$225D
     95  10000 ????		22 5e	    var194     =	$225E
     96  10000 ????		22 5f	    var195     =	$225F
     97  10000 ????		22 60	    var196     =	$2260
     98  10000 ????		22 61	    var197     =	$2261
     99  10000 ????		22 62	    var198     =	$2262
    100  10000 ????		22 63	    var199     =	$2263
    101  10000 ????		22 64	    var200     =	$2264
    102  10000 ????		22 65	    var201     =	$2265
    103  10000 ????		22 66	    var202     =	$2266
    104  10000 ????		22 67	    var203     =	$2267
    105  10000 ????		22 68	    var204     =	$2268
    106  10000 ????		22 69	    var205     =	$2269
    107  10000 ????		22 6a	    var206     =	$226A
    108  10000 ????		22 6b	    var207     =	$226B
    109  10000 ????		22 6c	    var208     =	$226C
    110  10000 ????		22 6d	    var209     =	$226D
    111  10000 ????		22 6e	    var210     =	$226E
    112  10000 ????		22 6f	    var211     =	$226F
    113  10000 ????		22 70	    var212     =	$2270
    114  10000 ????		22 71	    var213     =	$2271
    115  10000 ????		22 72	    var214     =	$2272
    116  10000 ????		22 73	    var215     =	$2273
    117  10000 ????		22 74	    var216     =	$2274
    118  10000 ????		22 75	    var217     =	$2275
    119  10000 ????		22 76	    var218     =	$2276
    120  10000 ????		22 77	    var219     =	$2277
    121  10000 ????		22 78	    var220     =	$2278
    122  10000 ????		22 79	    var221     =	$2279
    123  10000 ????		22 7a	    var222     =	$227A
    124  10000 ????		22 7b	    var223     =	$227B
    125  10000 ????		22 7c	    var224     =	$227C
    126  10000 ????		22 7d	    var225     =	$227D
    127  10000 ????		22 7e	    var226     =	$227E
    128  10000 ????		22 7f	    var227     =	$227F
    129  10000 ????		22 80	    var228     =	$2280
    130  10000 ????		22 81	    var229     =	$2281
    131  10000 ????		22 82	    var230     =	$2282
    132  10000 ????		22 83	    var231     =	$2283
    133  10000 ????		22 84	    var232     =	$2284
    134  10000 ????		22 85	    var233     =	$2285
    135  10000 ????		22 86	    var234     =	$2286
    136  10000 ????		22 87	    var235     =	$2287
    137  10000 ????		22 88	    var236     =	$2288
    138  10000 ????		22 89	    var237     =	$2289
    139  10000 ????		22 8a	    var238     =	$228A
    140  10000 ????		22 8b	    var239     =	$228B
    141  10000 ????		22 8c	    var240     =	$228C
    142  10000 ????		22 8d	    var241     =	$228D
    143  10000 ????		22 8e	    var242     =	$228E
    144  10000 ????		22 8f	    var243     =	$228F
    145  10000 ????		22 90	    var244     =	$2290
    146  10000 ????		22 91	    var245     =	$2291
    147  10000 ????		22 92	    var246     =	$2292
    148  10000 ????		22 93	    var247     =	$2293
    149  10000 ????		22 94	    var248     =	$2294
    150  10000 ????		22 95	    var249     =	$2295
    151  10000 ????		22 96	    var250     =	$2296
    152  10000 ????		22 97	    var251     =	$2297
    153  10000 ????		22 98	    var252     =	$2298
    154  10000 ????		22 99	    var253     =	$2299
    155  10000 ????		22 9a	    var254     =	$229A
    156  10000 ????		22 9b	    var255     =	$229B
    157  10000 ????		22 9c	    var256     =	$229C
    158  10000 ????		22 9d	    var257     =	$229D
    159  10000 ????		22 9e	    var258     =	$229E
    160  10000 ????		22 9f	    var259     =	$229F
    161  10000 ????		22 a0	    var260     =	$22A0
    162  10000 ????		22 a1	    var261     =	$22A1
    163  10000 ????		22 a2	    var262     =	$22A2
    164  10000 ????		22 a3	    var263     =	$22A3
    165  10000 ????		22 a4	    var264     =	$22A4
    166  10000 ????		22 a5	    var265     =	$22A5
    167  10000 ????		22 a6	    var266     =	$22A6
    168  10000 ????		22 a7	    var267     =	$22A7
    169  10000 ????		22 a8	    var268     =	$22A8
    170  10000 ????		22 a9	    var269     =	$22A9
    171  10000 ????		22 aa	    var270     =	$22AA
    172  10000 ????		22 ab	    var271     =	$22AB
    173  10000 ????		22 ac	    var272     =	$22AC
    174  10000 ????		22 ad	    var273     =	$22AD
    175  10000 ????		22 ae	    var274     =	$22AE
    176  10000 ????		22 af	    var275     =	$22AF
    177  10000 ????		22 b0	    var276     =	$22B0
    178  10000 ????		22 b1	    var277     =	$22B1
    179  10000 ????		22 b2	    var278     =	$22B2
    180  10000 ????		22 b3	    var279     =	$22B3
    181  10000 ????		22 b4	    var280     =	$22B4
    182  10000 ????		22 b5	    var281     =	$22B5
    183  10000 ????		22 b6	    var282     =	$22B6
    184  10000 ????		22 b7	    var283     =	$22B7
    185  10000 ????		22 b8	    var284     =	$22B8
    186  10000 ????		22 b9	    var285     =	$22B9
    187  10000 ????		22 ba	    var286     =	$22BA
    188  10000 ????		22 bb	    var287     =	$22BB
    189  10000 ????		22 bc	    var288     =	$22BC
    190  10000 ????		22 bd	    var289     =	$22BD
    191  10000 ????		22 be	    var290     =	$22BE
    192  10000 ????		22 bf	    var291     =	$22BF
    193  10000 ????		22 c0	    var292     =	$22C0
    194  10000 ????		22 c1	    var293     =	$22C1
    195  10000 ????		22 c2	    var294     =	$22C2
    196  10000 ????		22 c3	    var295     =	$22C3
    197  10000 ????		22 c4	    var296     =	$22C4
    198  10000 ????		22 c5	    var297     =	$22C5
    199  10000 ????		22 c6	    var298     =	$22C6
    200  10000 ????		22 c7	    var299     =	$22C7
    201  10000 ????		22 c8	    var300     =	$22C8
    202  10000 ????		22 c9	    var301     =	$22C9
    203  10000 ????		22 ca	    var302     =	$22CA
    204  10000 ????		22 cb	    var303     =	$22CB
    205  10000 ????		22 cc	    var304     =	$22CC
    206  10000 ????		22 cd	    var305     =	$22CD
    207  10000 ????		22 ce	    var306     =	$22CE
    208  10000 ????		22 cf	    var307     =	$22CF
    209  10000 ????		22 d0	    var308     =	$22D0
    210  10000 ????		22 d1	    var309     =	$22D1
    211  10000 ????		22 d2	    var310     =	$22D2
    212  10000 ????		22 d3	    var311     =	$22D3
    213  10000 ????		22 d4	    var312     =	$22D4
    214  10000 ????		22 d5	    var313     =	$22D5
    215  10000 ????		22 d6	    var314     =	$22D6
    216  10000 ????		22 d7	    var315     =	$22D7
    217  10000 ????		22 d8	    var316     =	$22D8
    218  10000 ????		22 d9	    var317     =	$22D9
    219  10000 ????		22 da	    var318     =	$22DA
    220  10000 ????		22 db	    var319     =	$22DB
    221  10000 ????		22 dc	    var320     =	$22DC
    222  10000 ????		22 dd	    var321     =	$22DD
    223  10000 ????		22 de	    var322     =	$22DE
    224  10000 ????		22 df	    var323     =	$22DF
    225  10000 ????		22 e0	    var324     =	$22E0
    226  10000 ????		22 e1	    var325     =	$22E1
    227  10000 ????		22 e2	    var326     =	$22E2
    228  10000 ????		22 e3	    var327     =	$22E3
    229  10000 ????		22 e4	    var328     =	$22E4
    230  10000 ????		22 e5	    var329     =	$22E5
    231  10000 ????		22 e6	    var330     =	$22E6
    232  10000 ????		22 e7	    var331     =	$22E7
    233  10000 ????		22 e8	    var332     =	$22E8
    234  10000 ????		22 e9	    var333     =	$22E9
    235  10000 ????		22 ea	    var334     =	$22EA
    236  10000 ????		22 eb	    var335     =	$22EB
    237  10000 ????		22 ec	    var336     =	$22EC
    238  10000 ????		22 ed	    var337     =	$22ED
    239  10000 ????		22 ee	    var338     =	$22EE
    240  10000 ????		22 ef	    var339     =	$22EF
    241  10000 ????		22 f0	    var340     =	$22F0
    242  10000 ????		22 f1	    var341     =	$22F1
    243  10000 ????		22 f2	    var342     =	$22F2
    244  10000 ????		22 f3	    var343     =	$22F3
    245  10000 ????		22 f4	    var344     =	$22F4
    246  10000 ????		22 f5	    var345     =	$22F5
    247  10000 ????		22 f6	    var346     =	$22F6
    248  10000 ????		22 f7	    var347     =	$22F7
    249  10000 ????		22 f8	    var348     =	$22F8
    250  10000 ????		22 f9	    var349     =	$22F9
    251  10000 ????		22 fa	    var350     =	$22FA
    252  10000 ????		22 fb	    var351     =	$22FB
    253  10000 ????		22 fc	    var352     =	$22FC
    254  10000 ????		22 fd	    var353     =	$22FD
    255  10000 ????		22 fe	    var354     =	$22FE
    256  10000 ????		22 ff	    var355     =	$22FF
    257  10000 ????		23 00	    var356     =	$2300
    258  10000 ????		23 01	    var357     =	$2301
    259  10000 ????		23 02	    var358     =	$2302
    260  10000 ????		23 03	    var359     =	$2303
    261  10000 ????		23 04	    var360     =	$2304
    262  10000 ????		23 05	    var361     =	$2305
    263  10000 ????		23 06	    var362     =	$2306
    264  10000 ????		23 07	    var363     =	$2307
    265  10000 ????		23 08	    var364     =	$2308
    266  10000 ????		23 09	    var365     =	$2309
    267  10000 ????		23 0a	    var366     =	$230A
    268  10000 ????		23 0b	    var367     =	$230B
    269  10000 ????		23 0c	    var368     =	$230C
    270  10000 ????		23 0d	    var369     =	$230D
    271  10000 ????		23 0e	    var370     =	$230E
    272  10000 ????		23 0f	    var371     =	$230F
    273  10000 ????		23 10	    var372     =	$2310
    274  10000 ????		23 11	    var373     =	$2311
    275  10000 ????		23 12	    var374     =	$2312
    276  10000 ????		23 13	    var375     =	$2313
    277  10000 ????		23 14	    var376     =	$2314
    278  10000 ????		23 15	    var377     =	$2315
    279  10000 ????		23 16	    var378     =	$2316
    280  10000 ????		23 17	    var379     =	$2317
    281  10000 ????		23 18	    var380     =	$2318
    282  10000 ????		23 19	    var381     =	$2319
    283  10000 ????		23 1a	    var382     =	$231A
    284  10000 ????		23 1b	    var383     =	$231B
    285  10000 ????		23 1c	    var384     =	$231C
    286  10000 ????		23 1d	    var385     =	$231D
    287  10000 ????		23 1e	    var386     =	$231E
    288  10000 ????		23 1f	    var387     =	$231F
    289  10000 ????		23 20	    var388     =	$2320
    290  10000 ????		23 21	    var389     =	$2321
    291  10000 ????		23 22	    var390     =	$2322
    292  10000 ????		23 23	    var391     =	$2323
    293  10000 ????		23 24	    var392     =	$2324
    294  10000 ????		23 25	    var393     =	$2325
    295  10000 ????		23 26	    var394     =	$2326
    296  10000 ????		23 27	    var395     =	$2327
    297  10000 ????		23 28	    var396     =	$2328
    298  10000 ????		23 29	    var397     =	$2329
    299  10000 ????		23 2a	    var398     =	$232A
    300  10000 ????		23 2b	    var399     =	$232B
    301  10000 ????		23 2c	    var400     =	$232C
    302  10000 ????		23 2d	    var401     =	$232D
    303  10000 ????		23 2e	    var402     =	$232E
    304  10000 ????		23 2f	    var403     =	$232F
    305  10000 ????		23 30	    var404     =	$2330
    306  10000 ????		23 31	    var405     =	$2331
    307  10000 ????		23 32	    var406     =	$2332
    308  10000 ????		23 33	    var407     =	$2333
    309  10000 ????		23 34	    var408     =	$2334
    310  10000 ????		23 35	    var409     =	$2335
    311  10000 ????		23 36	    var410     =	$2336
    312  10000 ????		23 37	    var411     =	$2337
    313  10000 ????		23 38	    var412     =	$2338
    314  10000 ????		23 39	    var413     =	$2339
    315  10000 ????		23 3a	    var414     =	$233A
    316  10000 ????		23 3b	    var415     =	$233B
    317  10000 ????		23 3c	    var416     =	$233C
    318  10000 ????		23 3d	    var417     =	$233D
    319  10000 ????		23 3e	    var418     =	$233E
    320  10000 ????		23 3f	    var419     =	$233F
    321  10000 ????		23 40	    var420     =	$2340
    322  10000 ????		23 41	    var421     =	$2341
    323  10000 ????		23 42	    var422     =	$2342
    324  10000 ????		23 43	    var423     =	$2343
    325  10000 ????		23 44	    var424     =	$2344
    326  10000 ????		23 45	    var425     =	$2345
    327  10000 ????		23 46	    var426     =	$2346
    328  10000 ????		23 47	    var427     =	$2347
    329  10000 ????		23 48	    var428     =	$2348
    330  10000 ????		23 49	    var429     =	$2349
    331  10000 ????		23 4a	    var430     =	$234A
    332  10000 ????		23 4b	    var431     =	$234B
    333  10000 ????		23 4c	    var432     =	$234C
    334  10000 ????		23 4d	    var433     =	$234D
    335  10000 ????		23 4e	    var434     =	$234E
    336  10000 ????		23 4f	    var435     =	$234F
    337  10000 ????		23 50	    var436     =	$2350
    338  10000 ????		23 51	    var437     =	$2351
    339  10000 ????		23 52	    var438     =	$2352
    340  10000 ????		23 53	    var439     =	$2353
    341  10000 ????		23 54	    var440     =	$2354
    342  10000 ????		23 55	    var441     =	$2355
    343  10000 ????		23 56	    var442     =	$2356
    344  10000 ????		23 57	    var443     =	$2357
    345  10000 ????		23 58	    var444     =	$2358
    346  10000 ????		23 59	    var445     =	$2359
    347  10000 ????		23 5a	    var446     =	$235A
    348  10000 ????		23 5b	    var447     =	$235B
    349  10000 ????		23 5c	    var448     =	$235C
    350  10000 ????		23 5d	    var449     =	$235D
    351  10000 ????		23 5e	    var450     =	$235E
    352  10000 ????		23 5f	    var451     =	$235F
    353  10000 ????		23 60	    var452     =	$2360
    354  10000 ????		23 61	    var453     =	$2361
    355  10000 ????		23 62	    var454     =	$2362
    356  10000 ????		23 63	    var455     =	$2363
    357  10000 ????		23 64	    var456     =	$2364
    358  10000 ????		23 65	    var457     =	$2365
    359  10000 ????		23 66	    var458     =	$2366
    360  10000 ????		23 67	    var459     =	$2367
    361  10000 ????		23 68	    var460     =	$2368
    362  10000 ????		23 69	    var461     =	$2369
    363  10000 ????		23 6a	    var462     =	$236A
    364  10000 ????		23 6b	    var463     =	$236B
    365  10000 ????		23 6c	    var464     =	$236C
    366  10000 ????		23 6d	    var465     =	$236D
    367  10000 ????		23 6e	    var466     =	$236E
    368  10000 ????		23 6f	    var467     =	$236F
    369  10000 ????		23 70	    var468     =	$2370
    370  10000 ????		23 71	    var469     =	$2371
    371  10000 ????		23 72	    var470     =	$2372
    372  10000 ????		23 73	    var471     =	$2373
    373  10000 ????		23 74	    var472     =	$2374
    374  10000 ????		23 75	    var473     =	$2375
    375  10000 ????		23 76	    var474     =	$2376
    376  10000 ????		23 77	    var475     =	$2377
    377  10000 ????		23 78	    var476     =	$2378
    378  10000 ????		23 79	    var477     =	$2379
    379  10000 ????		23 7a	    var478     =	$237A
    380  10000 ????		23 7b	    var479     =	$237B
    381  10000 ????		23 7c	    var480     =	$237C
    382  10000 ????		23 7d	    var481     =	$237D
    383  10000 ????		23 7e	    var482     =	$237E
    384  10000 ????		23 7f	    var483     =	$237F
    385  10000 ????		23 80	    var484     =	$2380
    386  10000 ????		23 81	    var485     =	$2381
    387  10000 ????		23 82	    var486     =	$2382
    388  10000 ????		23 83	    var487     =	$2383
    389  10000 ????		23 84	    var488     =	$2384
    390  10000 ????		23 85	    var489     =	$2385
    391  10000 ????		23 86	    var490     =	$2386
    392  10000 ????		23 87	    var491     =	$2387
    393  10000 ????		23 88	    var492     =	$2388
    394  10000 ????		23 89	    var493     =	$2389
    395  10000 ????		23 8a	    var494     =	$238A
    396  10000 ????		23 8b	    var495     =	$238B
    397  10000 ????		23 8c	    var496     =	$238C
    398  10000 ????		23 8d	    var497     =	$238D
    399  10000 ????		23 8e	    var498     =	$238E
    400  10000 ????		23 8f	    var499     =	$238F
    401  10000 ????		23 90	    var500     =	$2390
    402  10000 ????		23 91	    var501     =	$2391
    403  10000 ????		23 92	    var502     =	$2392
    404  10000 ????		23 93	    var503     =	$2393
    405  10000 ????		23 94	    var504     =	$2394
    406  10000 ????		23 95	    var505     =	$2395
    407  10000 ????		23 96	    var506     =	$2396
    408  10000 ????		23 97	    var507     =	$2397
    409  10000 ????		23 98	    var508     =	$2398
    410  10000 ????		23 99	    var509     =	$2399
    411  10000 ????		23 9a	    var510     =	$239A
    412  10000 ????		23 9b	    var511     =	$239B
    413  10000 ????		23 9c	    var512     =	$239C
    414  10000 ????		23 9d	    var513     =	$239D
    415  10000 ????		23 9e	    var514     =	$239E
    416  10000 ????		23 9f	    var515     =	$239F
    417  10000 ????		23 a0	    var516     =	$23A0
    418  10000 ????		23 a1	    var517     =	$23A1
    419  10000 ????		23 a2	    var518     =	$23A2
    420  10000 ????		23 a3	    var519     =	$23A3
    421  10000 ????		23 a4	    var520     =	$23A4
    422  10000 ????		23 a5	    var521     =	$23A5
    423  10000 ????		23 a6	    var522     =	$23A6
    424  10000 ????		23 a7	    var523     =	$23A7
    425  10000 ????		23 a8	    var524     =	$23A8
    426  10000 ????		23 a9	    var525     =	$23A9
    427  10000 ????		23 aa	    var526     =	$23AA
    428  10000 ????		23 ab	    var527     =	$23AB
    429  10000 ????		23 ac	    var528     =	$23AC
    430  10000 ????		23 ad	    var529     =	$23AD
    431  10000 ????		23 ae	    var530     =	$23AE
    432  10000 ????		23 af	    var531     =	$23AF
    433  10000 ????		23 b0	    var532     =	$23B0
    434  10000 ????		23 b1	    var533     =	$23B1
    435  10000 ????		23 b2	    var534     =	$23B2
    436  10000 ????		23 b3	    var535     =	$23B3
    437  10000 ????		23 b4	    var536     =	$23B4
    438  10000 ????		23 b5	    var537     =	$23B5
    439  10000 ????		23 b6	    var538     =	$23B6
    440  10000 ????		23 b7	    var539     =	$23B7
    441  10000 ????		23 b8	    var540     =	$23B8
    442  10000 ????		23 b9	    var541     =	$23B9
    443  10000 ????		23 ba	    var542     =	$23BA
    444  10000 ????		23 bb	    var543     =	$23BB
    445  10000 ????		23 bc	    var544     =	$23BC
    446  10000 ????		23 bd	    var545     =	$23BD
    447  10000 ????		23 be	    var546     =	$23BE
    448  10000 ????		23 bf	    var547     =	$23BF
    449  10000 ????		23 c0	    var548     =	$23C0
    450  10000 ????		23 c1	    var549     =	$23C1
    451  10000 ????		23 c2	    var550     =	$23C2
    452  10000 ????		23 c3	    var551     =	$23C3
    453  10000 ????		23 c4	    var552     =	$23C4
    454  10000 ????		23 c5	    var553     =	$23C5
    455  10000 ????		23 c6	    var554     =	$23C6
    456  10000 ????		23 c7	    var555     =	$23C7
    457  10000 ????		23 c8	    var556     =	$23C8
    458  10000 ????		23 c9	    var557     =	$23C9
    459  10000 ????		23 ca	    var558     =	$23CA
    460  10000 ????		23 cb	    var559     =	$23CB
    461  10000 ????		23 cc	    var560     =	$23CC
    462  10000 ????		23 cd	    var561     =	$23CD
    463  10000 ????		23 ce	    var562     =	$23CE
    464  10000 ????		23 cf	    var563     =	$23CF
    465  10000 ????		23 d0	    var564     =	$23D0
    466  10000 ????		23 d1	    var565     =	$23D1
    467  10000 ????		23 d2	    var566     =	$23D2
    468  10000 ????		23 d3	    var567     =	$23D3
    469  10000 ????		23 d4	    var568     =	$23D4
    470  10000 ????		23 d5	    var569     =	$23D5
    471  10000 ????		23 d6	    var570     =	$23D6
    472  10000 ????		23 d7	    var571     =	$23D7
    473  10000 ????		23 d8	    var572     =	$23D8
    474  10000 ????		23 d9	    var573     =	$23D9
    475  10000 ????		23 da	    var574     =	$23DA
    476  10000 ????		23 db	    var575     =	$23DB
    477  10000 ????		23 dc	    var576     =	$23DC
    478  10000 ????		23 dd	    var577     =	$23DD
    479  10000 ????		23 de	    var578     =	$23DE
    480  10000 ????		23 df	    var579     =	$23DF
    481  10000 ????		23 e0	    var580     =	$23E0
    482  10000 ????		23 e1	    var581     =	$23E1
    483  10000 ????		23 e2	    var582     =	$23E2
    484  10000 ????		23 e3	    var583     =	$23E3
    485  10000 ????		23 e4	    var584     =	$23E4
    486  10000 ????		23 e5	    var585     =	$23E5
    487  10000 ????		23 e6	    var586     =	$23E6
    488  10000 ????		23 e7	    var587     =	$23E7
    489  10000 ????		23 e8	    var588     =	$23E8
    490  10000 ????		23 e9	    var589     =	$23E9
    491  10000 ????		23 ea	    var590     =	$23EA
    492  10000 ????		23 eb	    var591     =	$23EB
    493  10000 ????		23 ec	    var592     =	$23EC
    494  10000 ????		23 ed	    var593     =	$23ED
    495  10000 ????		23 ee	    var594     =	$23EE
    496  10000 ????		23 ef	    var595     =	$23EF
    497  10000 ????		23 f0	    var596     =	$23F0
    498  10000 ????		23 f1	    var597     =	$23F1
    499  10000 ????		23 f2	    var598     =	$23F2
    500  10000 ????		23 f3	    var599     =	$23F3
    501  10000 ????		23 f4	    var600     =	$23F4
    502  10000 ????		23 f5	    var601     =	$23F5
    503  10000 ????		23 f6	    var602     =	$23F6
    504  10000 ????		23 f7	    var603     =	$23F7
    505  10000 ????		23 f8	    var604     =	$23F8
    506  10000 ????		23 f9	    var605     =	$23F9
    507  10000 ????		23 fa	    var606     =	$23FA
    508  10000 ????		23 fb	    var607     =	$23FB
    509  10000 ????		23 fc	    var608     =	$23FC
    510  10000 ????		23 fd	    var609     =	$23FD
    511  10000 ????		23 fe	    var610     =	$23FE
    512  10000 ????		23 ff	    var611     =	$23FF
    513  10000 ????		24 00	    var612     =	$2400
    514  10000 ????		24 01	    var613     =	$2401
    515  10000 ????		24 02	    var614     =	$2402
    516  10000 ????		24 03	    var615     =	$2403
    517  10000 ????		24 04	    var616     =	$2404
    518  10000 ????		24 05	    var617     =	$2405
    519  10000 ????		24 06	    var618     =	$2406
    520  10000 ????		24 07	    var619     =	$2407
    521  10000 ????		24 08	    var620     =	$2408
    522  10000 ????		24 09	    var621     =	$2409
    523  10000 ????		24 0a	    var622     =	$240A
    524  10000 ????		24 0b	    var623     =	$240B
    525  10000 ????		24 0c	    var624     =	$240C
    526  10000 ????		24 0d	    var625     =	$240D
    527  10000 ????		24 0e	    var626     =	$240E
    528  10000 ????		24 0f	    var627     =	$240F
    529  10000 ????		24 10	    var628     =	$2410
    530  10000 ????		24 11	    var629     =	$2411
    531  10000 ????		24 12	    var630     =	$2412
    532  10000 ????		24 13	    var631     =	$2413
    533  10000 ????		24 14	    var632     =	$2414
    534  10000 ????		24 15	    var633     =	$2415
    535  10000 ????		24 16	    var634     =	$2416
    536  10000 ????		24 17	    var635     =	$2417
    537  10000 ????		24 18	    var636     =	$2418
    538  10000 ????		24 19	    var637     =	$2419
    539  10000 ????		24 1a	    var638     =	$241A
    540  10000 ????		24 1b	    var639     =	$241B
    541  10000 ????		24 1c	    var640     =	$241C
    542  10000 ????		24 1d	    var641     =	$241D
    543  10000 ????		24 1e	    var642     =	$241E
    544  10000 ????		24 1f	    var643     =	$241F
    545  10000 ????		24 20	    var644     =	$2420
    546  10000 ????		24 21	    var645     =	$2421
    547  10000 ????		24 22	    var646     =	$2422
    548  10000 ????		24 23	    var647     =	$2423
    549  10000 ????		24 24	    var648     =	$2424
    550  10000 ????		24 25	    var649     =	$2425
    551  10000 ????		24 26	    var650     =	$2426
    552  10000 ????		24 27	    var651     =	$2427
    553  10000 ????		24 28	    var652     =	$2428
    554  10000 ????		24 29	    var653     =	$2429
    555  10000 ????		24 2a	    var654     =	$242A
    556  10000 ????		24 2b	    var655     =	$242B
    557  10000 ????		24 2c	    var656     =	$242C
    558  10000 ????		24 2d	    var657     =	$242D
    559  10000 ????		24 2e	    var658     =	$242E
    560  10000 ????		24 2f	    var659     =	$242F
    561  10000 ????		24 30	    var660     =	$2430
    562  10000 ????		24 31	    var661     =	$2431
    563  10000 ????		24 32	    var662     =	$2432
    564  10000 ????		24 33	    var663     =	$2433
    565  10000 ????		24 34	    var664     =	$2434
    566  10000 ????		24 35	    var665     =	$2435
    567  10000 ????		24 36	    var666     =	$2436
    568  10000 ????		24 37	    var667     =	$2437
    569  10000 ????		24 38	    var668     =	$2438
    570  10000 ????		24 39	    var669     =	$2439
    571  10000 ????		24 3a	    var670     =	$243A
    572  10000 ????		24 3b	    var671     =	$243B
    573  10000 ????		24 3c	    var672     =	$243C
    574  10000 ????		24 3d	    var673     =	$243D
    575  10000 ????		24 3e	    var674     =	$243E
    576  10000 ????		24 3f	    var675     =	$243F
    577  10000 ????		24 40	    var676     =	$2440
    578  10000 ????		24 41	    var677     =	$2441
    579  10000 ????		24 42	    var678     =	$2442
    580  10000 ????		24 43	    var679     =	$2443
    581  10000 ????		24 44	    var680     =	$2444
    582  10000 ????		24 45	    var681     =	$2445
    583  10000 ????		24 46	    var682     =	$2446
    584  10000 ????		24 47	    var683     =	$2447
    585  10000 ????		24 48	    var684     =	$2448
    586  10000 ????		24 49	    var685     =	$2449
    587  10000 ????		24 4a	    var686     =	$244A
    588  10000 ????		24 4b	    var687     =	$244B
    589  10000 ????		24 4c	    var688     =	$244C
    590  10000 ????		24 4d	    var689     =	$244D
    591  10000 ????		24 4e	    var690     =	$244E
    592  10000 ????		24 4f	    var691     =	$244F
    593  10000 ????		24 50	    var692     =	$2450
    594  10000 ????		24 51	    var693     =	$2451
    595  10000 ????		24 52	    var694     =	$2452
    596  10000 ????		24 53	    var695     =	$2453
    597  10000 ????		24 54	    var696     =	$2454
    598  10000 ????		24 55	    var697     =	$2455
    599  10000 ????		24 56	    var698     =	$2456
    600  10000 ????		24 57	    var699     =	$2457
    601  10000 ????		24 58	    var700     =	$2458
    602  10000 ????		24 59	    var701     =	$2459
    603  10000 ????		24 5a	    var702     =	$245A
    604  10000 ????		24 5b	    var703     =	$245B
    605  10000 ????		24 5c	    var704     =	$245C
    606  10000 ????		24 5d	    var705     =	$245D
    607  10000 ????		24 5e	    var706     =	$245E
    608  10000 ????		24 5f	    var707     =	$245F
    609  10000 ????		24 60	    var708     =	$2460
    610  10000 ????		24 61	    var709     =	$2461
    611  10000 ????		24 62	    var710     =	$2462
    612  10000 ????		24 63	    var711     =	$2463
    613  10000 ????		24 64	    var712     =	$2464
    614  10000 ????		24 65	    var713     =	$2465
    615  10000 ????		24 66	    var714     =	$2466
    616  10000 ????		24 67	    var715     =	$2467
    617  10000 ????		24 68	    var716     =	$2468
    618  10000 ????		24 69	    var717     =	$2469
    619  10000 ????		24 6a	    var718     =	$246A
    620  10000 ????		24 6b	    var719     =	$246B
    621  10000 ????		24 6c	    var720     =	$246C
    622  10000 ????		24 6d	    var721     =	$246D
    623  10000 ????		24 6e	    var722     =	$246E
    624  10000 ????		24 6f	    var723     =	$246F
    625  10000 ????		24 70	    var724     =	$2470
    626  10000 ????		24 71	    var725     =	$2471
    627  10000 ????		24 72	    var726     =	$2472
    628  10000 ????		24 73	    var727     =	$2473
    629  10000 ????		24 74	    var728     =	$2474
    630  10000 ????		24 75	    var729     =	$2475
    631  10000 ????		24 76	    var730     =	$2476
    632  10000 ????		24 77	    var731     =	$2477
    633  10000 ????		24 78	    var732     =	$2478
    634  10000 ????		24 79	    var733     =	$2479
    635  10000 ????		24 7a	    var734     =	$247A
    636  10000 ????		24 7b	    var735     =	$247B
    637  10000 ????		24 7c	    var736     =	$247C
    638  10000 ????		24 7d	    var737     =	$247D
    639  10000 ????		24 7e	    var738     =	$247E
    640  10000 ????		24 7f	    var739     =	$247F
    641  10000 ????		24 80	    var740     =	$2480
    642  10000 ????		24 81	    var741     =	$2481
    643  10000 ????		24 82	    var742     =	$2482
    644  10000 ????		24 83	    var743     =	$2483
    645  10000 ????		24 84	    var744     =	$2484
    646  10000 ????		24 85	    var745     =	$2485
    647  10000 ????		24 86	    var746     =	$2486
    648  10000 ????		24 87	    var747     =	$2487
    649  10000 ????		24 88	    var748     =	$2488
    650  10000 ????		24 89	    var749     =	$2489
    651  10000 ????		24 8a	    var750     =	$248A
    652  10000 ????		24 8b	    var751     =	$248B
    653  10000 ????		24 8c	    var752     =	$248C
    654  10000 ????		24 8d	    var753     =	$248D
    655  10000 ????		24 8e	    var754     =	$248E
    656  10000 ????		24 8f	    var755     =	$248F
    657  10000 ????		24 90	    var756     =	$2490
    658  10000 ????		24 91	    var757     =	$2491
    659  10000 ????		24 92	    var758     =	$2492
    660  10000 ????		24 93	    var759     =	$2493
    661  10000 ????		24 94	    var760     =	$2494
    662  10000 ????		24 95	    var761     =	$2495
    663  10000 ????		24 96	    var762     =	$2496
    664  10000 ????		24 97	    var763     =	$2497
    665  10000 ????		24 98	    var764     =	$2498
    666  10000 ????		24 99	    var765     =	$2499
    667  10000 ????		24 9a	    var766     =	$249A
    668  10000 ????		24 9b	    var767     =	$249B
    669  10000 ????		24 9c	    var768     =	$249C
    670  10000 ????		24 9d	    var769     =	$249D
    671  10000 ????		24 9e	    var770     =	$249E
    672  10000 ????		24 9f	    var771     =	$249F
    673  10000 ????		24 a0	    var772     =	$24A0
    674  10000 ????		24 a1	    var773     =	$24A1
    675  10000 ????		24 a2	    var774     =	$24A2
    676  10000 ????		24 a3	    var775     =	$24A3
    677  10000 ????		24 a4	    var776     =	$24A4
    678  10000 ????		24 a5	    var777     =	$24A5
    679  10000 ????		24 a6	    var778     =	$24A6
    680  10000 ????		24 a7	    var779     =	$24A7
    681  10000 ????		24 a8	    var780     =	$24A8
    682  10000 ????		24 a9	    var781     =	$24A9
    683  10000 ????		24 aa	    var782     =	$24AA
    684  10000 ????		24 ab	    var783     =	$24AB
    685  10000 ????		24 ac	    var784     =	$24AC
    686  10000 ????		24 ad	    var785     =	$24AD
    687  10000 ????		24 ae	    var786     =	$24AE
    688  10000 ????		24 af	    var787     =	$24AF
    689  10000 ????		24 b0	    var788     =	$24B0
    690  10000 ????		24 b1	    var789     =	$24B1
    691  10000 ????		24 b2	    var790     =	$24B2
    692  10000 ????		24 b3	    var791     =	$24B3
    693  10000 ????		24 b4	    var792     =	$24B4
    694  10000 ????		24 b5	    var793     =	$24B5
    695  10000 ????		24 b6	    var794     =	$24B6
    696  10000 ????		24 b7	    var795     =	$24B7
    697  10000 ????		24 b8	    var796     =	$24B8
    698  10000 ????		24 b9	    var797     =	$24B9
    699  10000 ????		24 ba	    var798     =	$24BA
    700  10000 ????		24 bb	    var799     =	$24BB
    701  10000 ????		24 bc	    var800     =	$24BC
    702  10000 ????		24 bd	    var801     =	$24BD
    703  10000 ????		24 be	    var802     =	$24BE
    704  10000 ????		24 bf	    var803     =	$24BF
    705  10000 ????		24 c0	    var804     =	$24C0
    706  10000 ????		24 c1	    var805     =	$24C1
    707  10000 ????		24 c2	    var806     =	$24C2
    708  10000 ????		24 c3	    var807     =	$24C3
    709  10000 ????		24 c4	    var808     =	$24C4
    710  10000 ????		24 c5	    var809     =	$24C5
    711  10000 ????		24 c6	    var810     =	$24C6
    712  10000 ????		24 c7	    var811     =	$24C7
    713  10000 ????		24 c8	    var812     =	$24C8
    714  10000 ????		24 c9	    var813     =	$24C9
    715  10000 ????		24 ca	    var814     =	$24CA
    716  10000 ????		24 cb	    var815     =	$24CB
    717  10000 ????		24 cc	    var816     =	$24CC
    718  10000 ????		24 cd	    var817     =	$24CD
    719  10000 ????		24 ce	    var818     =	$24CE
    720  10000 ????		24 cf	    var819     =	$24CF
    721  10000 ????		24 d0	    var820     =	$24D0
    722  10000 ????		24 d1	    var821     =	$24D1
    723  10000 ????		24 d2	    var822     =	$24D2
    724  10000 ????		24 d3	    var823     =	$24D3
    725  10000 ????		24 d4	    var824     =	$24D4
    726  10000 ????		24 d5	    var825     =	$24D5
    727  10000 ????		24 d6	    var826     =	$24D6
    728  10000 ????		24 d7	    var827     =	$24D7
    729  10000 ????		24 d8	    var828     =	$24D8
    730  10000 ????		24 d9	    var829     =	$24D9
    731  10000 ????		24 da	    var830     =	$24DA
    732  10000 ????		24 db	    var831     =	$24DB
    733  10000 ????		24 dc	    var832     =	$24DC
    734  10000 ????		24 dd	    var833     =	$24DD
    735  10000 ????		24 de	    var834     =	$24DE
    736  10000 ????		24 df	    var835     =	$24DF
    737  10000 ????		24 e0	    var836     =	$24E0
    738  10000 ????		24 e1	    var837     =	$24E1
    739  10000 ????		24 e2	    var838     =	$24E2
    740  10000 ????		24 e3	    var839     =	$24E3
    741  10000 ????		24 e4	    var840     =	$24E4
    742  10000 ????		24 e5	    var841     =	$24E5
    743  10000 ????		24 e6	    var842     =	$24E6
    744  10000 ????		24 e7	    var843     =	$24E7
    745  10000 ????		24 e8	    var844     =	$24E8
    746  10000 ????		24 e9	    var845     =	$24E9
    747  10000 ????		24 ea	    var846     =	$24EA
    748  10000 ????		24 eb	    var847     =	$24EB
    749  10000 ????		24 ec	    var848     =	$24EC
    750  10000 ????		24 ed	    var849     =	$24ED
    751  10000 ????		24 ee	    var850     =	$24EE
    752  10000 ????		24 ef	    var851     =	$24EF
    753  10000 ????		24 f0	    var852     =	$24F0
    754  10000 ????		24 f1	    var853     =	$24F1
    755  10000 ????		24 f2	    var854     =	$24F2
    756  10000 ????		24 f3	    var855     =	$24F3
    757  10000 ????		24 f4	    var856     =	$24F4
    758  10000 ????		24 f5	    var857     =	$24F5
    759  10000 ????		24 f6	    var858     =	$24F6
    760  10000 ????		24 f7	    var859     =	$24F7
    761  10000 ????		24 f8	    var860     =	$24F8
    762  10000 ????		24 f9	    var861     =	$24F9
    763  10000 ????		24 fa	    var862     =	$24FA
    764  10000 ????		24 fb	    var863     =	$24FB
    765  10000 ????		24 fc	    var864     =	$24FC
    766  10000 ????		24 fd	    var865     =	$24FD
    767  10000 ????		24 fe	    var866     =	$24FE
    768  10000 ????		24 ff	    var867     =	$24FF
    769  10000 ????		25 00	    var868     =	$2500
    770  10000 ????		25 01	    var869     =	$2501
    771  10000 ????		25 02	    var870     =	$2502
    772  10000 ????		25 03	    var871     =	$2503
    773  10000 ????		25 04	    var872     =	$2504
    774  10000 ????		25 05	    var873     =	$2505
    775  10000 ????		25 06	    var874     =	$2506
    776  10000 ????		25 07	    var875     =	$2507
    777  10000 ????		25 08	    var876     =	$2508
    778  10000 ????		25 09	    var877     =	$2509
    779  10000 ????		25 0a	    var878     =	$250A
    780  10000 ????		25 0b	    var879     =	$250B
    781  10000 ????		25 0c	    var880     =	$250C
    782  10000 ????		25 0d	    var881     =	$250D
    783  10000 ????		25 0e	    var882     =	$250E
    784  10000 ????		25 0f	    var883     =	$250F
    785  10000 ????		25 10	    var884     =	$2510
    786  10000 ????		25 11	    var885     =	$2511
    787  10000 ????		25 12	    var886     =	$2512
    788  10000 ????		25 13	    var887     =	$2513
    789  10000 ????		25 14	    var888     =	$2514
    790  10000 ????		25 15	    var889     =	$2515
    791  10000 ????		25 16	    var890     =	$2516
    792  10000 ????		25 17	    var891     =	$2517
    793  10000 ????		25 18	    var892     =	$2518
    794  10000 ????		25 19	    var893     =	$2519
    795  10000 ????		25 1a	    var894     =	$251A
    796  10000 ????		25 1b	    var895     =	$251B
    797  10000 ????		25 1c	    var896     =	$251C
    798  10000 ????		25 1d	    var897     =	$251D
    799  10000 ????		25 1e	    var898     =	$251E
    800  10000 ????		25 1f	    var899     =	$251F
    801  10000 ????		25 20	    var900     =	$2520
    802  10000 ????		25 21	    var901     =	$2521
    803  10000 ????		25 22	    var902     =	$2522
    804  10000 ????		25 23	    var903     =	$2523
    805  10000 ????		25 24	    var904     =	$2524
    806  10000 ????		25 25	    var905     =	$2525
    807  10000 ????		25 26	    var906     =	$2526
    808  10000 ????		25 27	    var907     =	$2527
    809  10000 ????		25 28	    var908     =	$2528
    810  10000 ????		25 29	    var909     =	$2529
    811  10000 ????		25 2a	    var910     =	$252A
    812  10000 ????		25 2b	    var911     =	$252B
    813  10000 ????		25 2c	    var912     =	$252C
    814  10000 ????		25 2d	    var913     =	$252D
    815  10000 ????		25 2e	    var914     =	$252E
    816  10000 ????		25 2f	    var915     =	$252F
    817  10000 ????		25 30	    var916     =	$2530
    818  10000 ????		25 31	    var917     =	$2531
    819  10000 ????		25 32	    var918     =	$2532
    820  10000 ????		25 33	    var919     =	$2533
    821  10000 ????		25 34	    var920     =	$2534
    822  10000 ????		25 35	    var921     =	$2535
    823  10000 ????		25 36	    var922     =	$2536
    824  10000 ????		25 37	    var923     =	$2537
    825  10000 ????		25 38	    var924     =	$2538
    826  10000 ????		25 39	    var925     =	$2539
    827  10000 ????		25 3a	    var926     =	$253A
    828  10000 ????		25 3b	    var927     =	$253B
    829  10000 ????		25 3c	    var928     =	$253C
    830  10000 ????		25 3d	    var929     =	$253D
    831  10000 ????		25 3e	    var930     =	$253E
    832  10000 ????		25 3f	    var931     =	$253F
    833  10000 ????		25 40	    var932     =	$2540
    834  10000 ????		25 41	    var933     =	$2541
    835  10000 ????		25 42	    var934     =	$2542
    836  10000 ????		25 43	    var935     =	$2543
    837  10000 ????		25 44	    var936     =	$2544
    838  10000 ????		25 45	    var937     =	$2545
    839  10000 ????		25 46	    var938     =	$2546
    840  10000 ????		25 47	    var939     =	$2547
    841  10000 ????		25 48	    var940     =	$2548
    842  10000 ????		25 49	    var941     =	$2549
    843  10000 ????		25 4a	    var942     =	$254A
    844  10000 ????		25 4b	    var943     =	$254B
    845  10000 ????		25 4c	    var944     =	$254C
    846  10000 ????		25 4d	    var945     =	$254D
    847  10000 ????		25 4e	    var946     =	$254E
    848  10000 ????		25 4f	    var947     =	$254F
    849  10000 ????		25 50	    var948     =	$2550
    850  10000 ????		25 51	    var949     =	$2551
    851  10000 ????		25 52	    var950     =	$2552
    852  10000 ????		25 53	    var951     =	$2553
    853  10000 ????		25 54	    var952     =	$2554
    854  10000 ????		25 55	    var953     =	$2555
    855  10000 ????		25 56	    var954     =	$2556
    856  10000 ????		25 57	    var955     =	$2557
    857  10000 ????		25 58	    var956     =	$2558
    858  10000 ????		25 59	    var957     =	$2559
    859  10000 ????		25 5a	    var958     =	$255A
    860  10000 ????		25 5b	    var959     =	$255B
    861  10000 ????		25 5c	    var960     =	$255C
    862  10000 ????		25 5d	    var961     =	$255D
    863  10000 ????		25 5e	    var962     =	$255E
    864  10000 ????		25 5f	    var963     =	$255F
    865  10000 ????		25 60	    var964     =	$2560
    866  10000 ????		25 61	    var965     =	$2561
    867  10000 ????		25 62	    var966     =	$2562
    868  10000 ????		25 63	    var967     =	$2563
    869  10000 ????		25 64	    var968     =	$2564
    870  10000 ????		25 65	    var969     =	$2565
    871  10000 ????		25 66	    var970     =	$2566
    872  10000 ????		25 67	    var971     =	$2567
    873  10000 ????		25 68	    var972     =	$2568
    874  10000 ????		25 69	    var973     =	$2569
    875  10000 ????		25 6a	    var974     =	$256A
    876  10000 ????		25 6b	    var975     =	$256B
    877  10000 ????		25 6c	    var976     =	$256C
    878  10000 ????		25 6d	    var977     =	$256D
    879  10000 ????		25 6e	    var978     =	$256E
    880  10000 ????		25 6f	    var979     =	$256F
    881  10000 ????		25 70	    var980     =	$2570
    882  10000 ????		25 71	    var981     =	$2571
    883  10000 ????		25 72	    var982     =	$2572
    884  10000 ????		25 73	    var983     =	$2573
    885  10000 ????		25 74	    var984     =	$2574
    886  10000 ????		25 75	    var985     =	$2575
    887  10000 ????		25 76	    var986     =	$2576
    888  10000 ????		25 77	    var987     =	$2577
    889  10000 ????		25 78	    var988     =	$2578
    890  10000 ????		25 79	    var989     =	$2579
    891  10000 ????		25 7a	    var990     =	$257A
    892  10000 ????		25 7b	    var991     =	$257B
    893  10000 ????		25 7c	    var992     =	$257C
    894  10000 ????		25 7d	    var993     =	$257D
    895  10000 ????		25 7e	    var994     =	$257E
    896  10000 ????		25 7f	    var995     =	$257F
    897  10000 ????		25 80	    var996     =	$2580
    898  10000 ????		25 81	    var997     =	$2581
    899  10000 ????		25 82	    var998     =	$2582
    900  10000 ????		25 83	    var999     =	$2583
    901  10000 ????		25 84	    var1000    =	$2584
    902  10000 ????		25 85	    var1001    =	$2585
    903  10000 ????		25 86	    var1002    =	$2586
    904  10000 ????		25 87	    var1003    =	$2587
    905  10000 ????		25 88	    var1004    =	$2588
    906  10000 ????		25 89	    var1005    =	$2589
    907  10000 ????		25 8a	    var1006    =	$258A
    908  10000 ????		25 8b	    var1007    =	$258B
    909  10000 ????		25 8c	    var1008    =	$258C
    910  10000 ????		25 8d	    var1009    =	$258D
    911  10000 ????		25 8e	    var1010    =	$258E
    912  10000 ????		25 8f	    var1011    =	$258F
    913  10000 ????		25 90	    var1012    =	$2590
    914  10000 ????		25 91	    var1013    =	$2591
    915  10000 ????		25 92	    var1014    =	$2592
    916  10000 ????		25 93	    var1015    =	$2593
    917  10000 ????		25 94	    var1016    =	$2594
    918  10000 ????		25 95	    var1017    =	$2595
    919  10000 ????		25 96	    var1018    =	$2596
    920  10000 ????		25 97	    var1019    =	$2597
    921  10000 ????		25 98	    var1020    =	$2598
    922  10000 ????		25 99	    var1021    =	$2599
    923  10000 ????		25 9a	    var1022    =	$259A
    924  10000 ????		25 9b	    var1023    =	$259B
    925  10000 ????		25 9c	    var1024    =	$259C
    926  10000 ????		25 9d	    var1025    =	$259D
    927  10000 ????		25 9e	    var1026    =	$259E
    928  10000 ????		25 9f	    var1027    =	$259F
    929  10000 ????		25 a0	    var1028    =	$25A0
    930  10000 ????		25 a1	    var1029    =	$25A1
    931  10000 ????		25 a2	    var1030    =	$25A2
    932  10000 ????		25 a3	    var1031    =	$25A3
    933  10000 ????		25 a4	    var1032    =	$25A4
    934  10000 ????		25 a5	    var1033    =	$25A5
    935  10000 ????		25 a6	    var1034    =	$25A6
    936  10000 ????		25 a7	    var1035    =	$25A7
    937  10000 ????		25 a8	    var1036    =	$25A8
    938  10000 ????		25 a9	    var1037    =	$25A9
    939  10000 ????		25 aa	    var1038    =	$25AA
    940  10000 ????		25 ab	    var1039    =	$25AB
    941  10000 ????		25 ac	    var1040    =	$25AC
    942  10000 ????		25 ad	    var1041    =	$25AD
    943  10000 ????		25 ae	    var1042    =	$25AE
    944  10000 ????		25 af	    var1043    =	$25AF
    945  10000 ????		25 b0	    var1044    =	$25B0
    946  10000 ????		25 b1	    var1045    =	$25B1
    947  10000 ????		25 b2	    var1046    =	$25B2
    948  10000 ????		25 b3	    var1047    =	$25B3
    949  10000 ????		25 b4	    var1048    =	$25B4
    950  10000 ????		25 b5	    var1049    =	$25B5
    951  10000 ????		25 b6	    var1050    =	$25B6
    952  10000 ????		25 b7	    var1051    =	$25B7
    953  10000 ????		25 b8	    var1052    =	$25B8
    954  10000 ????		25 b9	    var1053    =	$25B9
    955  10000 ????		25 ba	    var1054    =	$25BA
    956  10000 ????		25 bb	    var1055    =	$25BB
    957  10000 ????		25 bc	    var1056    =	$25BC
    958  10000 ????		25 bd	    var1057    =	$25BD
    959  10000 ????		25 be	    var1058    =	$25BE
    960  10000 ????		25 bf	    var1059    =	$25BF
    961  10000 ????		25 c0	    var1060    =	$25C0
    962  10000 ????		25 c1	    var1061    =	$25C1
    963  10000 ????		25 c2	    var1062    =	$25C2
    964  10000 ????		25 c3	    var1063    =	$25C3
    965  10000 ????		25 c4	    var1064    =	$25C4
    966  10000 ????		25 c5	    var1065    =	$25C5
    967  10000 ????		25 c6	    var1066    =	$25C6
    968  10000 ????		25 c7	    var1067    =	$25C7
    969  10000 ????		25 c8	    var1068    =	$25C8
    970  10000 ????		25 c9	    var1069    =	$25C9
    971  10000 ????		25 ca	    var1070    =	$25CA
    972  10000 ????		25 cb	    var1071    =	$25CB
    973  10000 ????		25 cc	    var1072    =	$25CC
    974  10000 ????		25 cd	    var1073    =	$25CD
    975  10000 ????		25 ce	    var1074    =	$25CE
    976  10000 ????		25 cf	    var1075    =	$25CF
    977  10000 ????		25 d0	    var1076    =	$25D0
    978  10000 ????		25 d1	    var1077    =	$25D1
    979  10000 ????		25 d2	    var1078    =	$25D2
    980  10000 ????		25 d3	    var1079    =	$25D3
    981  10000 ????		25 d4	    var1080    =	$25D4
    982  10000 ????		25 d5	    var1081    =	$25D5
    983  10000 ????		25 d6	    var1082    =	$25D6
    984  10000 ????		25 d7	    var1083    =	$25D7
    985  10000 ????		25 d8	    var1084    =	$25D8
    986  10000 ????		25 d9	    var1085    =	$25D9
    987  10000 ????		25 da	    var1086    =	$25DA
    988  10000 ????		25 db	    var1087    =	$25DB
    989  10000 ????		25 dc	    var1088    =	$25DC
    990  10000 ????		25 dd	    var1089    =	$25DD
    991  10000 ????		25 de	    var1090    =	$25DE
    992  10000 ????		25 df	    var1091    =	$25DF
    993  10000 ????		25 e0	    var1092    =	$25E0
    994  10000 ????		25 e1	    var1093    =	$25E1
    995  10000 ????		25 e2	    var1094    =	$25E2
    996  10000 ????		25 e3	    var1095    =	$25E3
    997  10000 ????		25 e4	    var1096    =	$25E4
    998  10000 ????		25 e5	    var1097    =	$25E5
    999  10000 ????		25 e6	    var1098    =	$25E6
   1000  10000 ????		25 e7	    var1099    =	$25E7
   1001  10000 ????		25 e8	    var1100    =	$25E8
   1002  10000 ????		25 e9	    var1101    =	$25E9
   1003  10000 ????		25 ea	    var1102    =	$25EA
   1004  10000 ????		25 eb	    var1103    =	$25EB
   1005  10000 ????		25 ec	    var1104    =	$25EC
   1006  10000 ????		25 ed	    var1105    =	$25ED
   1007  10000 ????		25 ee	    var1106    =	$25EE
   1008  10000 ????		25 ef	    var1107    =	$25EF
   1009  10000 ????		25 f0	    var1108    =	$25F0
   1010  10000 ????		25 f1	    var1109    =	$25F1
   1011  10000 ????		25 f2	    var1110    =	$25F2
   1012  10000 ????		25 f3	    var1111    =	$25F3
   1013  10000 ????		25 f4	    var1112    =	$25F4
   1014  10000 ????		25 f5	    var1113    =	$25F5
   1015  10000 ????		25 f6	    var1114    =	$25F6
   1016  10000 ????		25 f7	    var1115    =	$25F7
   1017  10000 ????		25 f8	    var1116    =	$25F8
   1018  10000 ????		25 f9	    var1117    =	$25F9
   1019  10000 ????		25 fa	    var1118    =	$25FA
   1020  10000 ????		25 fb	    var1119    =	$25FB
   1021  10000 ????		25 fc	    var1120    =	$25FC
   1022  10000 ????		25 fd	    var1121    =	$25FD
   1023  10000 ????		25 fe	    var1122    =	$25FE
   1024  10000 ????		25 ff	    var1123    =	$25FF
   1025  10000 ????		26 00	    var1124    =	$2600
   1026  10000 ????		26 01	    var1125    =	$2601
   1027  10000 ????		26 02	    var1126    =	$2602
   1028  10000 ????		26 03	    var1127    =	$2603
   1029  10000 ????		26 04	    var1128    =	$2604
   1030  10000 ????		26 05	    var1129    =	$2605
   1031  10000 ????		26 06	    var1130    =	$2606
   1032  10000 ????		26 07	    var1131    =	$2607
   1033  10000 ????		26 08	    var1132    =	$2608
   1034  10000 ????		26 09	    var1133    =	$2609
   1035  10000 ????		26 0a	    var1134    =	$260A
   1036  10000 ????		26 0b	    var1135    =	$260B
   1037  10000 ????		26 0c	    var1136    =	$260C
   1038  10000 ????		26 0d	    var1137    =	$260D
   1039  10000 ????		26 0e	    var1138    =	$260E
   1040  10000 ????		26 0f	    var1139    =	$260F
   1041  10000 ????		26 10	    var1140    =	$2610
   1042  10000 ????		26 11	    var1141    =	$2611
   1043  10000 ????		26 12	    var1142    =	$2612
   1044  10000 ????		26 13	    var1143    =	$2613
   1045  10000 ????		26 14	    var1144    =	$2614
   1046  10000 ????		26 15	    var1145    =	$2615
   1047  10000 ????		26 16	    var1146    =	$2616
   1048  10000 ????		26 17	    var1147    =	$2617
   1049  10000 ????		26 18	    var1148    =	$2618
   1050  10000 ????		26 19	    var1149    =	$2619
   1051  10000 ????		26 1a	    var1150    =	$261A
   1052  10000 ????		26 1b	    var1151    =	$261B
   1053  10000 ????		26 1c	    var1152    =	$261C
   1054  10000 ????		26 1d	    var1153    =	$261D
   1055  10000 ????		26 1e	    var1154    =	$261E
   1056  10000 ????		26 1f	    var1155    =	$261F
   1057  10000 ????		26 20	    var1156    =	$2620
   1058  10000 ????		26 21	    var1157    =	$2621
   1059  10000 ????		26 22	    var1158    =	$2622
   1060  10000 ????		26 23	    var1159    =	$2623
   1061  10000 ????		26 24	    var1160    =	$2624
   1062  10000 ????		26 25	    var1161    =	$2625
   1063  10000 ????		26 26	    var1162    =	$2626
   1064  10000 ????		26 27	    var1163    =	$2627
   1065  10000 ????		26 28	    var1164    =	$2628
   1066  10000 ????		26 29	    var1165    =	$2629
   1067  10000 ????		26 2a	    var1166    =	$262A
   1068  10000 ????		26 2b	    var1167    =	$262B
   1069  10000 ????		26 2c	    var1168    =	$262C
   1070  10000 ????		26 2d	    var1169    =	$262D
   1071  10000 ????		26 2e	    var1170    =	$262E
   1072  10000 ????		26 2f	    var1171    =	$262F
   1073  10000 ????		26 30	    var1172    =	$2630
   1074  10000 ????		26 31	    var1173    =	$2631
   1075  10000 ????		26 32	    var1174    =	$2632
   1076  10000 ????		26 33	    var1175    =	$2633
   1077  10000 ????		26 34	    var1176    =	$2634
   1078  10000 ????		26 35	    var1177    =	$2635
   1079  10000 ????		26 36	    var1178    =	$2636
   1080  10000 ????		26 37	    var1179    =	$2637
   1081  10000 ????		26 38	    var1180    =	$2638
   1082  10000 ????		26 39	    var1181    =	$2639
   1083  10000 ????		26 3a	    var1182    =	$263A
   1084  10000 ????		26 3b	    var1183    =	$263B
   1085  10000 ????		26 3c	    var1184    =	$263C
   1086  10000 ????		26 3d	    var1185    =	$263D
   1087  10000 ????		26 3e	    var1186    =	$263E
   1088  10000 ????		26 3f	    var1187    =	$263F
   1089  10000 ????		26 40	    var1188    =	$2640
   1090  10000 ????		26 41	    var1189    =	$2641
   1091  10000 ????		26 42	    var1190    =	$2642
   1092  10000 ????		26 43	    var1191    =	$2643
   1093  10000 ????		26 44	    var1192    =	$2644
   1094  10000 ????		26 45	    var1193    =	$2645
   1095  10000 ????		26 46	    var1194    =	$2646
   1096  10000 ????		26 47	    var1195    =	$2647
   1097  10000 ????		26 48	    var1196    =	$2648
   1098  10000 ????		26 49	    var1197    =	$2649
   1099  10000 ????		26 4a	    var1198    =	$264A
   1100  10000 ????		26 4b	    var1199    =	$264B
   1101  10000 ????		26 4c	    var1200    =	$264C
   1102  10000 ????		26 4d	    var1201    =	$264D
   1103  10000 ????		26 4e	    var1202    =	$264E
   1104  10000 ????		26 4f	    var1203    =	$264F
   1105  10000 ????		26 50	    var1204    =	$2650
   1106  10000 ????		26 51	    var1205    =	$2651
   1107  10000 ????		26 52	    var1206    =	$2652
   1108  10000 ????		26 53	    var1207    =	$2653
   1109  10000 ????		26 54	    var1208    =	$2654
   1110  10000 ????		26 55	    var1209    =	$2655
   1111  10000 ????		26 56	    var1210    =	$2656
   1112  10000 ????		26 57	    var1211    =	$2657
   1113  10000 ????		26 58	    var1212    =	$2658
   1114  10000 ????		26 59	    var1213    =	$2659
   1115  10000 ????		26 5a	    var1214    =	$265A
   1116  10000 ????		26 5b	    var1215    =	$265B
   1117  10000 ????		26 5c	    var1216    =	$265C
   1118  10000 ????		26 5d	    var1217    =	$265D
   1119  10000 ????		26 5e	    var1218    =	$265E
   1120  10000 ????		26 5f	    var1219    =	$265F
   1121  10000 ????		26 60	    var1220    =	$2660
   1122  10000 ????		26 61	    var1221    =	$2661
   1123  10000 ????		26 62	    var1222    =	$2662
   1124  10000 ????		26 63	    var1223    =	$2663
   1125  10000 ????		26 64	    var1224    =	$2664
   1126  10000 ????		26 65	    var1225    =	$2665
   1127  10000 ????		26 66	    var1226    =	$2666
   1128  10000 ????		26 67	    var1227    =	$2667
   1129  10000 ????		26 68	    var1228    =	$2668
   1130  10000 ????		26 69	    var1229    =	$2669
   1131  10000 ????		26 6a	    var1230    =	$266A
   1132  10000 ????		26 6b	    var1231    =	$266B
   1133  10000 ????		26 6c	    var1232    =	$266C
   1134  10000 ????		26 6d	    var1233    =	$266D
   1135  10000 ????		26 6e	    var1234    =	$266E
   1136  10000 ????		26 6f	    var1235    =	$266F
   1137  10000 ????		26 70	    var1236    =	$2670
   1138  10000 ????		26 71	    var1237    =	$2671
   1139  10000 ????		26 72	    var1238    =	$2672
   1140  10000 ????		26 73	    var1239    =	$2673
   1141  10000 ????		26 74	    var1240    =	$2674
   1142  10000 ????		26 75	    var1241    =	$2675
   1143  10000 ????		26 76	    var1242    =	$2676
   1144  10000 ????		26 77	    var1243    =	$2677
   1145  10000 ????		26 78	    var1244    =	$2678
   1146  10000 ????		26 79	    var1245    =	$2679
   1147  10000 ????		26 7a	    var1246    =	$267A
   1148  10000 ????		26 7b	    var1247    =	$267B
   1149  10000 ????		26 7c	    var1248    =	$267C
   1150  10000 ????		26 7d	    var1249    =	$267D
   1151  10000 ????		26 7e	    var1250    =	$267E
   1152  10000 ????		26 7f	    var1251    =	$267F
   1153  10000 ????		26 80	    var1252    =	$2680
   1154  10000 ????		26 81	    var1253    =	$2681
   1155  10000 ????		26 82	    var1254    =	$2682
   1156  10000 ????		26 83	    var1255    =	$2683
   1157  10000 ????		26 84	    var1256    =	$2684
   1158  10000 ????		26 85	    var1257    =	$2685
   1159  10000 ????		26 86	    var1258    =	$2686
   1160  10000 ????		26 87	    var1259    =	$2687
   1161  10000 ????		26 88	    var1260    =	$2688
   1162  10000 ????		26 89	    var1261    =	$2689
   1163  10000 ????		26 8a	    var1262    =	$268A
   1164  10000 ????		26 8b	    var1263    =	$268B
   1165  10000 ????		26 8c	    var1264    =	$268C
   1166  10000 ????		26 8d	    var1265    =	$268D
   1167  10000 ????		26 8e	    var1266    =	$268E
   1168  10000 ????		26 8f	    var1267    =	$268F
   1169  10000 ????		26 90	    var1268    =	$2690
   1170  10000 ????		26 91	    var1269    =	$2691
   1171  10000 ????		26 92	    var1270    =	$2692
   1172  10000 ????		26 93	    var1271    =	$2693
   1173  10000 ????		26 94	    var1272    =	$2694
   1174  10000 ????		26 95	    var1273    =	$2695
   1175  10000 ????		26 96	    var1274    =	$2696
   1176  10000 ????		26 97	    var1275    =	$2697
   1177  10000 ????		26 98	    var1276    =	$2698
   1178  10000 ????		26 99	    var1277    =	$2699
   1179  10000 ????		26 9a	    var1278    =	$269A
   1180  10000 ????		26 9b	    var1279    =	$269B
   1181  10000 ????		26 9c	    var1280    =	$269C
   1182  10000 ????		26 9d	    var1281    =	$269D
   1183  10000 ????		26 9e	    var1282    =	$269E
   1184  10000 ????		26 9f	    var1283    =	$269F
   1185  10000 ????		26 a0	    var1284    =	$26A0
   1186  10000 ????		26 a1	    var1285    =	$26A1
   1187  10000 ????		26 a2	    var1286    =	$26A2
   1188  10000 ????		26 a3	    var1287    =	$26A3
   1189  10000 ????		26 a4	    var1288    =	$26A4
   1190  10000 ????		26 a5	    var1289    =	$26A5
   1191  10000 ????		26 a6	    var1290    =	$26A6
   1192  10000 ????		26 a7	    var1291    =	$26A7
   1193  10000 ????		26 a8	    var1292    =	$26A8
   1194  10000 ????		26 a9	    var1293    =	$26A9
   1195  10000 ????		26 aa	    var1294    =	$26AA
   1196  10000 ????		26 ab	    var1295    =	$26AB
   1197  10000 ????		26 ac	    var1296    =	$26AC
   1198  10000 ????		26 ad	    var1297    =	$26AD
   1199  10000 ????		26 ae	    var1298    =	$26AE
   1200  10000 ????		26 af	    var1299    =	$26AF
   1201  10000 ????		26 b0	    var1300    =	$26B0
   1202  10000 ????		26 b1	    var1301    =	$26B1
   1203  10000 ????		26 b2	    var1302    =	$26B2
   1204  10000 ????		26 b3	    var1303    =	$26B3
   1205  10000 ????		26 b4	    var1304    =	$26B4
   1206  10000 ????		26 b5	    var1305    =	$26B5
   1207  10000 ????		26 b6	    var1306    =	$26B6
   1208  10000 ????		26 b7	    var1307    =	$26B7
   1209  10000 ????		26 b8	    var1308    =	$26B8
   1210  10000 ????		26 b9	    var1309    =	$26B9
   1211  10000 ????		26 ba	    var1310    =	$26BA
   1212  10000 ????		26 bb	    var1311    =	$26BB
   1213  10000 ????		26 bc	    var1312    =	$26BC
   1214  10000 ????		26 bd	    var1313    =	$26BD
   1215  10000 ????		26 be	    var1314    =	$26BE
   1216  10000 ????		26 bf	    var1315    =	$26BF
   1217  10000 ????		26 c0	    var1316    =	$26C0
   1218  10000 ????		26 c1	    var1317    =	$26C1
   1219  10000 ????		26 c2	    var1318    =	$26C2
   1220  10000 ????		26 c3	    var1319    =	$26C3
   1221  10000 ????		26 c4	    var1320    =	$26C4
   1222  10000 ????		26 c5	    var1321    =	$26C5
   1223  10000 ????		26 c6	    var1322    =	$26C6
   1224  10000 ????		26 c7	    var1323    =	$26C7
   1225  10000 ????		26 c8	    var1324    =	$26C8
   1226  10000 ????		26 c9	    var1325    =	$26C9
   1227  10000 ????		26 ca	    var1326    =	$26CA
   1228  10000 ????		26 cb	    var1327    =	$26CB
   1229  10000 ????		26 cc	    var1328    =	$26CC
   1230  10000 ????		26 cd	    var1329    =	$26CD
   1231  10000 ????		26 ce	    var1330    =	$26CE
   1232  10000 ????		26 cf	    var1331    =	$26CF
   1233  10000 ????		26 d0	    var1332    =	$26D0
   1234  10000 ????		26 d1	    var1333    =	$26D1
   1235  10000 ????		26 d2	    var1334    =	$26D2
   1236  10000 ????		26 d3	    var1335    =	$26D3
   1237  10000 ????		26 d4	    var1336    =	$26D4
   1238  10000 ????		26 d5	    var1337    =	$26D5
   1239  10000 ????		26 d6	    var1338    =	$26D6
   1240  10000 ????		26 d7	    var1339    =	$26D7
   1241  10000 ????		26 d8	    var1340    =	$26D8
   1242  10000 ????		26 d9	    var1341    =	$26D9
   1243  10000 ????		26 da	    var1342    =	$26DA
   1244  10000 ????		26 db	    var1343    =	$26DB
   1245  10000 ????		26 dc	    var1344    =	$26DC
   1246  10000 ????		26 dd	    var1345    =	$26DD
   1247  10000 ????		26 de	    var1346    =	$26DE
   1248  10000 ????		26 df	    var1347    =	$26DF
   1249  10000 ????		26 e0	    var1348    =	$26E0
   1250  10000 ????		26 e1	    var1349    =	$26E1
   1251  10000 ????		26 e2	    var1350    =	$26E2
   1252  10000 ????		26 e3	    var1351    =	$26E3
   1253  10000 ????		26 e4	    var1352    =	$26E4
   1254  10000 ????		26 e5	    var1353    =	$26E5
   1255  10000 ????		26 e6	    var1354    =	$26E6
   1256  10000 ????		26 e7	    var1355    =	$26E7
   1257  10000 ????		26 e8	    var1356    =	$26E8
   1258  10000 ????		26 e9	    var1357    =	$26E9
   1259  10000 ????		26 ea	    var1358    =	$26EA
   1260  10000 ????		26 eb	    var1359    =	$26EB
   1261  10000 ????		26 ec	    var1360    =	$26EC
   1262  10000 ????		26 ed	    var1361    =	$26ED
   1263  10000 ????		26 ee	    var1362    =	$26EE
   1264  10000 ????		26 ef	    var1363    =	$26EF
   1265  10000 ????		26 f0	    var1364    =	$26F0
   1266  10000 ????		26 f1	    var1365    =	$26F1
   1267  10000 ????		26 f2	    var1366    =	$26F2
   1268  10000 ????		26 f3	    var1367    =	$26F3
   1269  10000 ????		26 f4	    var1368    =	$26F4
   1270  10000 ????		26 f5	    var1369    =	$26F5
   1271  10000 ????		26 f6	    var1370    =	$26F6
   1272  10000 ????		26 f7	    var1371    =	$26F7
   1273  10000 ????		26 f8	    var1372    =	$26F8
   1274  10000 ????		26 f9	    var1373    =	$26F9
   1275  10000 ????		26 fa	    var1374    =	$26FA
   1276  10000 ????		26 fb	    var1375    =	$26FB
   1277  10000 ????		26 fc	    var1376    =	$26FC
   1278  10000 ????		26 fd	    var1377    =	$26FD
   1279  10000 ????		26 fe	    var1378    =	$26FE
   1280  10000 ????		26 ff	    var1379    =	$26FF
   1281  10000 ????		27 00	    var1380    =	$2700
   1282  10000 ????		27 01	    var1381    =	$2701
   1283  10000 ????		27 02	    var1382    =	$2702
   1284  10000 ????		27 03	    var1383    =	$2703
   1285  10000 ????		27 04	    var1384    =	$2704
   1286  10000 ????		27 05	    var1385    =	$2705
   1287  10000 ????		27 06	    var1386    =	$2706
   1288  10000 ????		27 07	    var1387    =	$2707
   1289  10000 ????		27 08	    var1388    =	$2708
   1290  10000 ????		27 09	    var1389    =	$2709
   1291  10000 ????		27 0a	    var1390    =	$270A
   1292  10000 ????		27 0b	    var1391    =	$270B
   1293  10000 ????		27 0c	    var1392    =	$270C
   1294  10000 ????		27 0d	    var1393    =	$270D
   1295  10000 ????		27 0e	    var1394    =	$270E
   1296  10000 ????		27 0f	    var1395    =	$270F
   1297  10000 ????		27 10	    var1396    =	$2710
   1298  10000 ????		27 11	    var1397    =	$2711
   1299  10000 ????		27 12	    var1398    =	$2712
   1300  10000 ????		27 13	    var1399    =	$2713
   1301  10000 ????		27 14	    var1400    =	$2714
   1302  10000 ????		27 15	    var1401    =	$2715
   1303  10000 ????		27 16	    var1402    =	$2716
   1304  10000 ????		27 17	    var1403    =	$2717
   1305  10000 ????		27 18	    var1404    =	$2718
   1306  10000 ????		27 19	    var1405    =	$2719
   1307  10000 ????		27 1a	    var1406    =	$271A
   1308  10000 ????		27 1b	    var1407    =	$271B
   1309  10000 ????		27 1c	    var1408    =	$271C
   1310  10000 ????		27 1d	    var1409    =	$271D
   1311  10000 ????		27 1e	    var1410    =	$271E
   1312  10000 ????		27 1f	    var1411    =	$271F
   1313  10000 ????		27 20	    var1412    =	$2720
   1314  10000 ????		27 21	    var1413    =	$2721
   1315  10000 ????		27 22	    var1414    =	$2722
   1316  10000 ????		27 23	    var1415    =	$2723
   1317  10000 ????		27 24	    var1416    =	$2724
   1318  10000 ????		27 25	    var1417    =	$2725
   1319  10000 ????		27 26	    var1418    =	$2726
   1320  10000 ????		27 27	    var1419    =	$2727
   1321  10000 ????		27 28	    var1420    =	$2728
   1322  10000 ????		27 29	    var1421    =	$2729
   1323  10000 ????		27 2a	    var1422    =	$272A
   1324  10000 ????		27 2b	    var1423    =	$272B
   1325  10000 ????		27 2c	    var1424    =	$272C
   1326  10000 ????		27 2d	    var1425    =	$272D
   1327  10000 ????		27 2e	    var1426    =	$272E
   1328  10000 ????		27 2f	    var1427    =	$272F
   1329  10000 ????		27 30	    var1428    =	$2730
   1330  10000 ????		27 31	    var1429    =	$2731
   1331  10000 ????		27 32	    var1430    =	$2732
   1332  10000 ????		27 33	    var1431    =	$2733
   1333  10000 ????		27 34	    var1432    =	$2734
   1334  10000 ????		27 35	    var1433    =	$2735
   1335  10000 ????		27 36	    var1434    =	$2736
   1336  10000 ????		27 37	    var1435    =	$2737
   1337  10000 ????		27 38	    var1436    =	$2738
   1338  10000 ????		27 39	    var1437    =	$2739
   1339  10000 ????		27 3a	    var1438    =	$273A
   1340  10000 ????		27 3b	    var1439    =	$273B
   1341  10000 ????		27 3c	    var1440    =	$273C
   1342  10000 ????		27 3d	    var1441    =	$273D
   1343  10000 ????		27 3e	    var1442    =	$273E
   1344  10000 ????		27 3f	    var1443    =	$273F
   1345  10000 ????		27 40	    var1444    =	$2740
   1346  10000 ????		27 41	    var1445    =	$2741
   1347  10000 ????		27 42	    var1446    =	$2742
   1348  10000 ????		27 43	    var1447    =	$2743
   1349  10000 ????		27 44	    var1448    =	$2744
   1350  10000 ????		27 45	    var1449    =	$2745
   1351  10000 ????		27 46	    var1450    =	$2746
   1352  10000 ????		27 47	    var1451    =	$2747
   1353  10000 ????		27 48	    var1452    =	$2748
   1354  10000 ????		27 49	    var1453    =	$2749
   1355  10000 ????		27 4a	    var1454    =	$274A
   1356  10000 ????		27 4b	    var1455    =	$274B
   1357  10000 ????		27 4c	    var1456    =	$274C
   1358  10000 ????		27 4d	    var1457    =	$274D
   1359  10000 ????		27 4e	    var1458    =	$274E
   1360  10000 ????		27 4f	    var1459    =	$274F
   1361  10000 ????		27 50	    var1460    =	$2750
   1362  10000 ????		27 51	    var1461    =	$2751
   1363  10000 ????		27 52	    var1462    =	$2752
   1364  10000 ????		27 53	    var1463    =	$2753
   1365  10000 ????		27 54	    var1464    =	$2754
   1366  10000 ????		27 55	    var1465    =	$2755
   1367  10000 ????		27 56	    var1466    =	$2756
   1368  10000 ????		27 57	    var1467    =	$2757
   1369  10000 ????		27 58	    var1468    =	$2758
   1370  10000 ????		27 59	    var1469    =	$2759
   1371  10000 ????		27 5a	    var1470    =	$275A
   1372  10000 ????		27 5b	    var1471    =	$275B
   1373  10000 ????		27 5c	    var1472    =	$275C
   1374  10000 ????		27 5d	    var1473    =	$275D
   1375  10000 ????		27 5e	    var1474    =	$275E
   1376  10000 ????		27 5f	    var1475    =	$275F
   1377  10000 ????		27 60	    var1476    =	$2760
   1378  10000 ????		27 61	    var1477    =	$2761
   1379  10000 ????		27 62	    var1478    =	$2762
   1380  10000 ????		27 63	    var1479    =	$2763
   1381  10000 ????		27 64	    var1480    =	$2764
   1382  10000 ????		27 65	    var1481    =	$2765
   1383  10000 ????		27 66	    var1482    =	$2766
   1384  10000 ????		27 67	    var1483    =	$2767
   1385  10000 ????		27 68	    var1484    =	$2768
   1386  10000 ????		27 69	    var1485    =	$2769
   1387  10000 ????		27 6a	    var1486    =	$276A
   1388  10000 ????		27 6b	    var1487    =	$276B
   1389  10000 ????		27 6c	    var1488    =	$276C
   1390  10000 ????		27 6d	    var1489    =	$276D
   1391  10000 ????		27 6e	    var1490    =	$276E
   1392  10000 ????		27 6f	    var1491    =	$276F
   1393  10000 ????		27 70	    var1492    =	$2770
   1394  10000 ????		27 71	    var1493    =	$2771
   1395  10000 ????		27 72	    var1494    =	$2772
   1396  10000 ????		27 73	    var1495    =	$2773
   1397  10000 ????		27 74	    var1496    =	$2774
   1398  10000 ????		27 75	    var1497    =	$2775
   1399  10000 ????		27 76	    var1498    =	$2776
   1400  10000 ????		27 77	    var1499    =	$2777
   1401  10000 ????		27 78	    var1500    =	$2778
   1402  10000 ????		27 79	    var1501    =	$2779
   1403  10000 ????		27 7a	    var1502    =	$277A
   1404  10000 ????		27 7b	    var1503    =	$277B
   1405  10000 ????		27 7c	    var1504    =	$277C
   1406  10000 ????		27 7d	    var1505    =	$277D
   1407  10000 ????		27 7e	    var1506    =	$277E
   1408  10000 ????		27 7f	    var1507    =	$277F
   1409  10000 ????		27 80	    var1508    =	$2780
   1410  10000 ????		27 81	    var1509    =	$2781
   1411  10000 ????		27 82	    var1510    =	$2782
   1412  10000 ????		27 83	    var1511    =	$2783
   1413  10000 ????		27 84	    var1512    =	$2784
   1414  10000 ????		27 85	    var1513    =	$2785
   1415  10000 ????		27 86	    var1514    =	$2786
   1416  10000 ????		27 87	    var1515    =	$2787
   1417  10000 ????		27 88	    var1516    =	$2788
   1418  10000 ????		27 89	    var1517    =	$2789
   1419  10000 ????		27 8a	    var1518    =	$278A
   1420  10000 ????		27 8b	    var1519    =	$278B
   1421  10000 ????		27 8c	    var1520    =	$278C
   1422  10000 ????		27 8d	    var1521    =	$278D
   1423  10000 ????		27 8e	    var1522    =	$278E
   1424  10000 ????		27 8f	    var1523    =	$278F
   1425  10000 ????		27 90	    var1524    =	$2790
   1426  10000 ????		27 91	    var1525    =	$2791
   1427  10000 ????		27 92	    var1526    =	$2792
   1428  10000 ????		27 93	    var1527    =	$2793
   1429  10000 ????		27 94	    var1528    =	$2794
   1430  10000 ????		27 95	    var1529    =	$2795
   1431  10000 ????		27 96	    var1530    =	$2796
   1432  10000 ????		27 97	    var1531    =	$2797
   1433  10000 ????		27 98	    var1532    =	$2798
   1434  10000 ????		27 99	    var1533    =	$2799
   1435  10000 ????		27 9a	    var1534    =	$279A
   1436  10000 ????		27 9b	    var1535    =	$279B
   1437  10000 ????		27 9c	    var1536    =	$279C
   1438  10000 ????		27 9d	    var1537    =	$279D
   1439  10000 ????		27 9e	    var1538    =	$279E
   1440  10000 ????		27 9f	    var1539    =	$279F
   1441  10000 ????		27 a0	    var1540    =	$27A0
   1442  10000 ????		27 a1	    var1541    =	$27A1
   1443  10000 ????		27 a2	    var1542    =	$27A2
   1444  10000 ????		27 a3	    var1543    =	$27A3
   1445  10000 ????		27 a4	    var1544    =	$27A4
   1446  10000 ????		27 a5	    var1545    =	$27A5
   1447  10000 ????		27 a6	    var1546    =	$27A6
   1448  10000 ????		27 a7	    var1547    =	$27A7
   1449  10000 ????		27 a8	    var1548    =	$27A8
   1450  10000 ????		27 a9	    var1549    =	$27A9
   1451  10000 ????		27 aa	    var1550    =	$27AA
   1452  10000 ????		27 ab	    var1551    =	$27AB
   1453  10000 ????		27 ac	    var1552    =	$27AC
   1454  10000 ????		27 ad	    var1553    =	$27AD
   1455  10000 ????		27 ae	    var1554    =	$27AE
   1456  10000 ????		27 af	    var1555    =	$27AF
   1457  10000 ????		27 b0	    var1556    =	$27B0
   1458  10000 ????		27 b1	    var1557    =	$27B1
   1459  10000 ????		27 b2	    var1558    =	$27B2
   1460  10000 ????		27 b3	    var1559    =	$27B3
   1461  10000 ????		27 b4	    var1560    =	$27B4
   1462  10000 ????		27 b5	    var1561    =	$27B5
   1463  10000 ????		27 b6	    var1562    =	$27B6
   1464  10000 ????		27 b7	    var1563    =	$27B7
   1465  10000 ????		27 b8	    var1564    =	$27B8
   1466  10000 ????		27 b9	    var1565    =	$27B9
   1467  10000 ????		27 ba	    var1566    =	$27BA
   1468  10000 ????		27 bb	    var1567    =	$27BB
   1469  10000 ????		27 bc	    var1568    =	$27BC
   1470  10000 ????		27 bd	    var1569    =	$27BD
   1471  10000 ????		27 be	    var1570    =	$27BE
   1472  10000 ????		27 bf	    var1571    =	$27BF
   1473  10000 ????		27 c0	    var1572    =	$27C0
   1474  10000 ????		27 c1	    var1573    =	$27C1
   1475  10000 ????		27 c2	    var1574    =	$27C2
   1476  10000 ????		27 c3	    var1575    =	$27C3
   1477  10000 ????		27 c4	    var1576    =	$27C4
   1478  10000 ????		27 c5	    var1577    =	$27C5
   1479  10000 ????		27 c6	    var1578    =	$27C6
   1480  10000 ????		27 c7	    var1579    =	$27C7
   1481  10000 ????		27 c8	    var1580    =	$27C8
   1482  10000 ????		27 c9	    var1581    =	$27C9
   1483  10000 ????		27 ca	    var1582    =	$27CA
   1484  10000 ????		27 cb	    var1583    =	$27CB
   1485  10000 ????		27 cc	    var1584    =	$27CC
   1486  10000 ????		27 cd	    var1585    =	$27CD
   1487  10000 ????		27 ce	    var1586    =	$27CE
   1488  10000 ????		27 cf	    var1587    =	$27CF
   1489  10000 ????		27 d0	    var1588    =	$27D0
   1490  10000 ????		27 d1	    var1589    =	$27D1
   1491  10000 ????		27 d2	    var1590    =	$27D2
   1492  10000 ????		27 d3	    var1591    =	$27D3
   1493  10000 ????		27 d4	    var1592    =	$27D4
   1494  10000 ????		27 d5	    var1593    =	$27D5
   1495  10000 ????		27 d6	    var1594    =	$27D6
   1496  10000 ????		27 d7	    var1595    =	$27D7
   1497  10000 ????		27 d8	    var1596    =	$27D8
   1498  10000 ????		27 d9	    var1597    =	$27D9
   1499  10000 ????		27 da	    var1598    =	$27DA
   1500  10000 ????		27 db	    var1599    =	$27DB
   1501  10000 ????		27 dc	    var1600    =	$27DC
   1502  10000 ????		27 dd	    var1601    =	$27DD
   1503  10000 ????		27 de	    var1602    =	$27DE
   1504  10000 ????		27 df	    var1603    =	$27DF
   1505  10000 ????		27 e0	    var1604    =	$27E0
   1506  10000 ????		27 e1	    var1605    =	$27E1
   1507  10000 ????		27 e2	    var1606    =	$27E2
   1508  10000 ????		27 e3	    var1607    =	$27E3
   1509  10000 ????		27 e4	    var1608    =	$27E4
   1510  10000 ????		27 e5	    var1609    =	$27E5
   1511  10000 ????		27 e6	    var1610    =	$27E6
   1512  10000 ????		27 e7	    var1611    =	$27E7
   1513  10000 ????		27 e8	    var1612    =	$27E8
   1514  10000 ????		27 e9	    var1613    =	$27E9
   1515  10000 ????		27 ea	    var1614    =	$27EA
   1516  10000 ????		27 eb	    var1615    =	$27EB
   1517  10000 ????		27 ec	    var1616    =	$27EC
   1518  10000 ????		27 ed	    var1617    =	$27ED
   1519  10000 ????		27 ee	    var1618    =	$27EE
   1520  10000 ????		27 ef	    var1619    =	$27EF
   1521  10000 ????		27 f0	    var1620    =	$27F0
   1522  10000 ????		27 f1	    var1621    =	$27F1
   1523  10000 ????		27 f2	    var1622    =	$27F2
   1524  10000 ????		27 f3	    var1623    =	$27F3
   1525  10000 ????		27 f4	    var1624    =	$27F4
   1526  10000 ????		27 f5	    var1625    =	$27F5
   1527  10000 ????		27 f6	    var1626    =	$27F6
   1528  10000 ????		27 f7	    var1627    =	$27F7
   1529  10000 ????		27 f8	    var1628    =	$27F8
   1530  10000 ????		27 f9	    var1629    =	$27F9
   1531  10000 ????		27 fa	    var1630    =	$27FA
   1532  10000 ????		27 fb	    var1631    =	$27FB
   1533  10000 ????		27 fc	    var1632    =	$27FC
   1534  10000 ????		27 fd	    var1633    =	$27FD
   1535  10000 ????		27 fe	    var1634    =	$27FE
   1536  10000 ????		27 ff	    var1635    =	$27FF
------- FILE rpmegafighter.bas.asm
   1474  10000 ????
   1475  10000 ????						; BEADHEADER... disabled for now
   1476  10000 ????						; A BEAD header gets automatically incorportated into the ROM header.
   1477  10000 ????						; For more BEAD executable info, check out the spec...
   1478  10000 ????						; http://7800.8bitdev.org/index.php/The_Atari_7800_BEAD_Execuable_Specification
   1479  10000 ????
   1480  10000 ????		00 01	    GAMEDESCRIPTIONSET =	1
   1481  10000 ????		4e 61 6d 65 GAMEDESCRIPTION =	"Test Name"
   1482  10000 ????
   1483  10000 ????
   1484  10000 ????		00 40	    BDHSC      =	%01000000
   1485  10000 ????		00 20	    BDYM       =	%00100000
   1486  10000 ????		00 10	    BDPOKEY    =	%00010000
   1487  10000 ????		00 08	    BDROF      =	%00001000
   1488  10000 ????		00 00	    BD16K      =	%00000000
   1489  10000 ????		00 01	    BD32K      =	%00000001
   1490  10000 ????		00 02	    BD48K      =	%00000010
   1491  10000 ????		00 05	    BD1800     =	%00000101
   1492  10000 ????		00 06	    BD4000     =	%00000110
   1493  10000 ????
   1494  10000 ????			   -	       ifconst	BEADHEADER
   1495  10000 ????			   -BEADHARDWARE SET	0
   1496  10000 ????			   -	       ifconst	ROM16K
   1497  10000 ????			   -BEADHARDWARE SET	(BEADHARDWARE|BD16K)
   1498  10000 ????			   -	       endif
   1499  10000 ????			   -	       ifconst	ROM32K
   1500  10000 ????			   -BEADHARDWARE SET	(BEADHARDWARE|BD32K)
   1501  10000 ????			   -	       endif
   1502  10000 ????			   -	       ifconst	ROM48K
   1503  10000 ????			   -BEADHARDWARE SET	(BEADHARDWARE|BD48K)
   1504  10000 ????			   -	       endif
   1505  10000 ????			   -	       ifconst	pokeysupport
   1506  10000 ????			   -BEADHARDWARE SET	(BEADHARDWARE|BDPOKEY)
   1507  10000 ????			   -	       endif
   1508  10000 ????			   -	       ifconst	HSSUPPORT
   1509  10000 ????			   -BEADHARDWARE SET	(BEADHARDWARE|BDHSC)
   1510  10000 ????			   -	       endif
   1511  10000 ????				       endif
   1512  10000 ????
   1513  10000 ????						;start address of cart...
   1514  10000 ????
   1515  10000 ????			    BANK_WAS_SET SET	0
   1516  10000 ????
   1517  10000 ????			   -	       ifconst	ROM8K
   1518  10000 ????			   -	       ORG	$E000,0
   1519  10000 ????			   -BANK_WAS_SET SET	1
   1520  10000 ????				       endif		; ROM8K
   1521  10000 ????
   1522  10000 ????			   -	       ifconst	ROM16K
   1523  10000 ????			   -	       ORG	$C000,0
   1524  10000 ????			   -BANK_WAS_SET SET	1
   1525  10000 ????			   -	       ifconst	BEADHEADER
   1526  10000 ????			   -	       .byte	$BE,$AD,BEADHARDWARE
   1527  10000 ????			   -	       ifconst	GAMEDESCRIPTION
   1528  10000 ????			   -	       CLC
   1529  10000 ????			   -	       BCC	_SKIPDESCRIPTION
   1530  10000 ????			   -	       .byte	GAMEDESCRIPTION,0
   1531  10000 ????			   -_SKIPDESCRIPTION
   1532  10000 ????			   -	       endif		; GAMEDESCRIPTION
   1533  10000 ????			   -	       jmp	($FFFC)
   1534  10000 ????			   -	       endif		; BEADHEADER
   1535  10000 ????				       endif		; ROM16K
   1536  10000 ????
   1537  10000 ????			   -	       ifconst	ROM32K
   1538  10000 ????			   -	       ORG	$8000,0
   1539  10000 ????			   -BANK_WAS_SET SET	1
   1540  10000 ????			   -	       ifconst	BEADHEADER
   1541  10000 ????			   -	       .byte	$BE,$AD,BEADHARDWARE
   1542  10000 ????			   -	       ifconst	GAMEDESCRIPTION
   1543  10000 ????			   -	       CLC
   1544  10000 ????			   -	       BCC	_SKIPDESCRIPTION
   1545  10000 ????			   -	       .byte	GAMEDESCRIPTION,0
   1546  10000 ????			   -_SKIPDESCRIPTION
   1547  10000 ????			   -	       endif		; GAMEDESCRIPTION
   1548  10000 ????			   -	       jmp	($FFFC)
   1549  10000 ????			   -	       endif		; BEADHEADER
   1550  10000 ????				       endif		; ROM32K
   1551  10000 ????
   1552  10000 ????			   -	       ifconst	ROM48K
   1553  10000 ????			   -	       ORG	$4000,0
   1554  10000 ????			   -BANK_WAS_SET SET	1
   1555  10000 ????			   -	       ifconst	BEADHEADER
   1556  10000 ????			   -	       .byte	$BE,$AD,BEADHARDWARE
   1557  10000 ????			   -	       ifconst	GAMEDESCRIPTIONSET
   1558  10000 ????			   -	       CLC
   1559  10000 ????			   -	       BCC	_SKIPDESCRIPTION
   1560  10000 ????			   -	       .byte	GAMEDESCRIPTION,0
   1561  10000 ????			   -_SKIPDESCRIPTION
   1562  10000 ????			   -	       endif		; GAMEDESCRIPTIONSET
   1563  10000 ????			   -	       jmp	($FFFC)
   1564  10000 ????			   -	       endif		; BEADHEADER
   1565  10000 ????				       endif		; ROM48K
   1566  10000 ????
   1567  10000 ????			   -	       ifconst	ROM52K
   1568  10000 ????			   -BANK_WAS_SET SET	1
   1569  10000 ????			   -	       ORG	$3000,0
   1570  10000 ????				       endif		; ROM52K
   1571  10000 ????
   1572  10000 ????			   -	       ifconst	bankswitchmode
   1573  10000 ????			   -	       ifconst	ROMAT4K
   1574  10000 ????			   -BANK_WAS_SET SET	1
   1575  10000 ????			   -	       ORG	$4000,0
   1576  10000 ????			   -	       RORG	$4000
   1577  10000 ????			   -	       else		; ROMAT4K
   1578  10000 ????			   -BANK_WAS_SET SET	1
   1579  10000 ????			   -	       ORG	$8000,0
   1580  10000 ????			   -	       RORG	$8000
   1581  10000 ????			   -	       endif
   1582  10000 ????				       endif
   1583  10000 ????
   1584  10000 ????				       if	BANK_WAS_SET = 0
   1585  8000					      ORG	$8000,0	; default is 32K
   1586  8000					      endif
   1587  8000
   1588  8000				   START_OF_ROM SET	.
   1589  8000				   SPACEOVERFLOW SET	0
   1590  8000				  -	      ifnconst	SPACEOVERFLOWPASS
   1591  8000				  -SPACEOVERFLOWPASS SET	0
   1592  8000					      endif	SPACEOVERFLOWPASS
   1593  8000				   game
   1594  8000				   .L00 		;;line 1;;  displaymode 160A
   1595  8000
   1596  8000		       a9 40		      lda	#%01000000	;Enable DMA, mode=160x2/160x4
   1597  8002		       85 3c		      sta	CTRL
   1598  8004
   1599  8004		       8d 07 21 	      sta	sCTRL
   1600  8007
   1601  8007				   .L01 		;;line 2;;  set zoneheight 16
   1602  8007
   1603  8007				   .
   1604  8007							;;line 3;;
   1605  8007
   1606  8007				   .
   1607  8007							;;line 4;;
   1608  8007
   1609  8007				   .L02 		;;line 5;;  incgraphic sprite_spaceship1.png
   1610  8007
   1611  8007				   .L03 		;;line 6;;  incgraphic sprite_spaceship2.png
   1612  8007
   1613  8007				   .L04 		;;line 7;;  incgraphic sprite_spaceship3.png
   1614  8007
   1615  8007				   .L05 		;;line 8;;  incgraphic sprite_spaceship4.png
   1616  8007
   1617  8007				   .L06 		;;line 9;;  incgraphic sprite_spaceship5.png
   1618  8007
   1619  8007				   .L07 		;;line 10;;  incgraphic sprite_spaceship6.png
   1620  8007
   1621  8007				   .L08 		;;line 11;;  incgraphic sprite_spaceship7.png
   1622  8007
   1623  8007				   .L09 		;;line 12;;  incgraphic sprite_spaceship8.png
   1624  8007
   1625  8007				   .L010		;;line 13;;  incgraphic sprite_spaceship9.png
   1626  8007
   1627  8007				   .L011		;;line 14;;  incgraphic sprite_spaceship10.png
   1628  8007
   1629  8007				   .L012		;;line 15;;  incgraphic sprite_spaceship11.png
   1630  8007
   1631  8007				   .L013		;;line 16;;  incgraphic sprite_spaceship12.png
   1632  8007
   1633  8007				   .L014		;;line 17;;  incgraphic sprite_spaceship13.png
   1634  8007
   1635  8007				   .L015		;;line 18;;  incgraphic sprite_spaceship14.png
   1636  8007
   1637  8007				   .L016		;;line 19;;  incgraphic sprite_spaceship15.png
   1638  8007
   1639  8007				   .L017		;;line 20;;  incgraphic sprite_spaceship16.png
   1640  8007
   1641  8007				   .
   1642  8007							;;line 21;;
   1643  8007
   1644  8007				   .L018		;;line 22;;  incgraphic bullet_conv.png
   1645  8007
   1646  8007				   .L019		;;line 23;;  incgraphic fighter_conv.png
   1647  8007
   1648  8007				   .L020		;;line 24;;  incgraphic asteroid_L_conv.png
   1649  8007
   1650  8007				   .L021		;;line 25;;  incgraphic asteroid_M_conv.png
   1651  8007
   1652  8007				   .L022		;;line 26;;  incgraphic scoredigits_s00.png
   1653  8007
   1654  8007				   .L023		;;line 27;;  incgraphic scoredigits_s01.png
   1655  8007
   1656  8007				   .L024		;;line 28;;  incgraphic scoredigits_s02.png
   1657  8007
   1658  8007				   .L025		;;line 29;;  incgraphic scoredigits_s03.png
   1659  8007
   1660  8007				   .L026		;;line 30;;  incgraphic scoredigits_s04.png
   1661  8007
   1662  8007				   .L027		;;line 31;;  incgraphic scoredigits_s05.png
   1663  8007
   1664  8007				   .L028		;;line 32;;  incgraphic scoredigits_s06.png
   1665  8007
   1666  8007				   .L029		;;line 33;;  incgraphic scoredigits_s07.png
   1667  8007
   1668  8007				   .L030		;;line 34;;  incgraphic scoredigits_s08.png
   1669  8007
   1670  8007				   .L031		;;line 35;;  incgraphic scoredigits_s09.png
   1671  8007
   1672  8007				   .L032		;;line 36;;  incgraphic scoredigits_s10.png
   1673  8007
   1674  8007				   .L033		;;line 37;;  incgraphic scoredigits_s11.png
   1675  8007
   1676  8007				   .L034		;;line 38;;  incgraphic scoredigits_s12.png
   1677  8007
   1678  8007				   .L035		;;line 39;;  incgraphic scoredigits_s13.png
   1679  8007
   1680  8007				   .L036		;;line 40;;  incgraphic scoredigits_s14.png
   1681  8007
   1682  8007				   .L037		;;line 41;;  incgraphic scoredigits_s15.png
   1683  8007
   1684  8007				   .
   1685  8007							;;line 42;;
   1686  8007
   1687  8007				   .
   1688  8007							;;line 43;;
   1689  8007
   1690  8007				   .L038		;;line 44;;  dim px = var0
   1691  8007
   1692  8007				   .L039		;;line 45;;  dim py = var1
   1693  8007
   1694  8007				   .L040		;;line 46;;  dim vx_p = var2
   1695  8007
   1696  8007				   .L041		;;line 47;;  dim vx_m = var3
   1697  8007
   1698  8007				   .L042		;;line 48;;  dim vy_p = var4
   1699  8007
   1700  8007				   .L043		;;line 49;;  dim vy_m = var5
   1701  8007
   1702  8007				   .L044		;;line 50;;  dim rx = var6
   1703  8007
   1704  8007				   .L045		;;line 51;;  dim ry = var7
   1705  8007
   1706  8007				   .L046		;;line 52;;  dim angle = var8
   1707  8007
   1708  8007				   .L047		;;line 53;;  dim shpfr = var9
   1709  8007
   1710  8007				   .L048		;;line 54;;  dim rot_timer = var10
   1711  8007
   1712  8007				   .L049		;;line 55;;  dim move_step = var11
   1713  8007
   1714  8007				   .L050		;;line 56;;  dim temp_acc = var12
   1715  8007
   1716  8007				   .L051		;;line 57;;  dim frame = var13
   1717  8007
   1718  8007				   .L052		;;line 58;;  dim common = var14
   1719  8007
   1720  8007				   .L053		;;line 59;;  dim temp_v = var15
   1721  8007
   1722  8007				   .L054		;;line 60;;  dim bcooldown = var16
   1723  8007
   1724  8007				   .L055		;;line 61;;  dim iter = var17
   1725  8007
   1726  8007				   .L056		;;line 62;;  dim temp_bx = var38
   1727  8007
   1728  8007				   .L057		;;line 63;;  dim temp_by = var39
   1729  8007
   1730  8007				   .
   1731  8007							;;line 64;;
   1732  8007
   1733  8007				   .
   1734  8007							;;line 65;;
   1735  8007
   1736  8007				   .
   1737  8007							;;line 66;;
   1738  8007
   1739  8007				   .
   1740  8007							;;line 67;;
   1741  8007
   1742  8007				   .
   1743  8007							;;line 68;;
   1744  8007
   1745  8007				   .
   1746  8007							;;line 69;;
   1747  8007
   1748  8007				   .
   1749  8007							;;line 70;;
   1750  8007
   1751  8007				   .L058		;;line 71;;  dim bul_x = var18
   1752  8007
   1753  8007				   .L059		;;line 72;;  dim bul_y = var22
   1754  8007
   1755  8007				   .L060		;;line 73;;  dim bul_vx = var26
   1756  8007
   1757  8007				   .L061		;;line 74;;  dim bul_vy = var30
   1758  8007
   1759  8007				   .L062		;;line 75;;  dim blife = var34
   1760  8007
   1761  8007				   .
   1762  8007							;;line 76;;
   1763  8007
   1764  8007				   .
   1765  8007							;;line 77;;
   1766  8007
   1767  8007				   .
   1768  8007							;;line 78;;
   1769  8007
   1770  8007				   .L063		;;line 79;;  dim ebul_x = var60
   1771  8007
   1772  8007				   .
   1773  8007							;;line 80;;
   1774  8007
   1775  8007				   .
   1776  8007							;;line 81;;
   1777  8007
   1778  8007				   .
   1779  8007							;;line 82;;
   1780  8007
   1781  8007				   .L064		;;line 83;;  dim ebul_y = var64
   1782  8007
   1783  8007				   .L065		;;line 84;;  dim ebul_vx = var68
   1784  8007
   1785  8007				   .L066		;;line 85;;  dim ebul_vy = var160
   1786  8007
   1787  8007				   .L067		;;line 86;;  dim eblife = var164
   1788  8007
   1789  8007				   .
   1790  8007							;;line 87;;
   1791  8007
   1792  8007				   .
   1793  8007							;;line 88;;
   1794  8007
   1795  8007				   .L068		;;line 89;;  dim bul_x_hi = var180
   1796  8007
   1797  8007				   .L069		;;line 90;;  dim bul_y_hi = var184
   1798  8007
   1799  8007				   .L070		;;line 91;;  dim ebul_x_hi = var188
   1800  8007
   1801  8007				   .L071		;;line 92;;  dim ebul_y_hi = var192
   1802  8007
   1803  8007				   .L072		;;line 93;;  dim temp_val_hi = var196
   1804  8007
   1805  8007				   .L073		;;line 94;;  dim ecooldown = var72
   1806  8007
   1807  8007				   .L074		;;line 95;;  dim temp_w = var73
   1808  8007
   1809  8007				   .
   1810  8007							;;line 96;;
   1811  8007
   1812  8007				   .
   1813  8007							;;line 97;;
   1814  8007
   1815  8007				   .
   1816  8007							;;line 98;;
   1817  8007
   1818  8007				   .
   1819  8007							;;line 99;;
   1820  8007
   1821  8007				   .
   1822  8007							;;line 100;;
   1823  8007
   1824  8007				   .L075		;;line 101;;  dim star_x = var80
   1825  8007
   1826  8007				   .L076		;;line 102;;  dim star_y = var100
   1827  8007
   1828  8007				   .L077		;;line 103;;  dim star_c = var120
   1829  8007
   1830  8007				   .L078		;;line 104;;  dim sc1 = var140
   1831  8007
   1832  8007				   .L079		;;line 105;;  dim sc2 = var141
   1833  8007
   1834  8007				   .L080		;;line 106;;  dim sc3 = var142
   1835  8007
   1836  8007				   .L081		;;line 107;;  dim cycle_state = var143
   1837  8007
   1838  8007				   .
   1839  8007							;;line 108;;
   1840  8007
   1841  8007				   .
   1842  8007							;;line 109;;
   1843  8007
   1844  8007				   .
   1845  8007							;;line 110;;
   1846  8007
   1847  8007				   .
   1848  8007							;;line 111;;
   1849  8007
   1850  8007				   .L082		;;line 112;;  dim ex = var40
   1851  8007
   1852  8007				   .L083		;;line 113;;  dim ey = var44
   1853  8007
   1854  8007				   .L084		;;line 114;;  dim evx = var48
   1855  8007
   1856  8007				   .L085		;;line 115;;  dim evy = var52
   1857  8007
   1858  8007				   .L086		;;line 116;;  dim elife = var56
   1859  8007
   1860  8007				   .
   1861  8007							;;line 117;;
   1862  8007
   1863  8007				   .
   1864  8007							;;line 118;;
   1865  8007
   1866  8007				   .L087		;;line 119;;  dim ex_hi = var74
   1867  8007
   1868  8007				   .
   1869  8007							;;line 120;;
   1870  8007
   1871  8007				   .L088		;;line 121;;  dim rand_val = var148
   1872  8007
   1873  8007				   .
   1874  8007							;;line 122;;
   1875  8007
   1876  8007				   .
   1877  8007							;;line 123;;
   1878  8007
   1879  8007				   .
   1880  8007							;;line 124;;
   1881  8007
   1882  8007				   .L089		;;line 125;;  dim ax = var150
   1883  8007
   1884  8007				   .L090		;;line 126;;  dim ay = var151
   1885  8007
   1886  8007				   .L091		;;line 127;;  dim avx = var152
   1887  8007
   1888  8007				   .L092		;;line 128;;  dim avy = var153
   1889  8007
   1890  8007				   .L093		;;line 129;;  dim alife = var154
   1891  8007
   1892  8007				   .L094		;;line 130;;  dim ax_hi = var155
   1893  8007
   1894  8007				   .L095		;;line 131;;  dim ay_hi = var156
   1895  8007
   1896  8007				   .
   1897  8007							;;line 132;;
   1898  8007
   1899  8007				   .
   1900  8007							;;line 133;;
   1901  8007
   1902  8007				   .L096		;;line 134;;  dim bul_x0 = var18  :  dim bul_x1 = var19  :  dim bul_x2 = var20  :  dim bul_x3 = var21
   1903  8007
   1904  8007				   .L097		;;line 135;;  dim bul_y0 = var22  :  dim bul_y1 = var23  :  dim bul_y2 = var24  :  dim bul_y3 = var25
   1905  8007
   1906  8007				   .L098		;;line 136;;  dim blife0 = var34  :  dim blife1 = var35  :  dim blife2 = var36  :  dim blife3 = var37
   1907  8007
   1908  8007				   .
   1909  8007							;;line 137;;
   1910  8007
   1911  8007				   .
   1912  8007							;;line 138;;
   1913  8007
   1914  8007				   .
   1915  8007							;;line 139;;
   1916  8007
   1917  8007				   .
   1918  8007							;;line 140;;
   1919  8007
   1920  8007				   .
   1921  8007							;;line 141;;
   1922  8007
   1923  8007				   .
   1924  8007							;;line 142;;
   1925  8007
   1926  8007				   .
   1927  8007							;;line 143;;
   1928  8007
   1929  8007				   .cold_start
   1930  8007							;;line 144;; cold_start
   1931  8007
   1932  8007				   .
   1933  8007							;;line 145;;
   1934  8007
   1935  8007				   .L099		;;line 146;;  P0C1 = $26 :  P0C2 = $24 :  P0C3 = $04
   1936  8007
   1937  8007		       a9 26		      lda	#$26
   1938  8009		       85 21		      sta	P0C1
   1939  800b		       a9 24		      lda	#$24
   1940  800d		       85 22		      sta	P0C2
   1941  800f		       a9 04		      lda	#$04
   1942  8011		       85 23		      sta	P0C3
   1943  8013				   .L0100		;;line 147;;  P1C1 = $0E :  P1C2 = $38 :  P1C3 = $FC
   1944  8013
   1945  8013		       a9 0e		      lda	#$0E
   1946  8015		       85 25		      sta	P1C1
   1947  8017		       a9 38		      lda	#$38
   1948  8019		       85 26		      sta	P1C2
   1949  801b		       a9 fc		      lda	#$FC
   1950  801d		       85 27		      sta	P1C3
   1951  801f				   .L0101		;;line 148;;  P2C1 = $94 :  P2C2 = $98 :  P2C3 = $9C
   1952  801f
   1953  801f		       a9 94		      lda	#$94
   1954  8021		       85 29		      sta	P2C1
   1955  8023		       a9 98		      lda	#$98
   1956  8025		       85 2a		      sta	P2C2
   1957  8027		       a9 9c		      lda	#$9C
   1958  8029		       85 2b		      sta	P2C3
   1959  802b				   .L0102		;;line 149;;  P3C1 = $B4 :  P3C2 = $46 :  P3C3 = $1C
   1960  802b
   1961  802b		       a9 b4		      lda	#$B4
   1962  802d		       85 2d		      sta	P3C1
   1963  802f		       a9 46		      lda	#$46
   1964  8031		       85 2e		      sta	P3C2
   1965  8033		       a9 1c		      lda	#$1C
   1966  8035		       85 2f		      sta	P3C3
   1967  8037				   .L0103		;;line 150;;  P4C1 = $08 :  P4C2 = $0C :  P4C3 = $0F
   1968  8037
   1969  8037		       a9 08		      lda	#$08
   1970  8039		       85 31		      sta	P4C1
   1971  803b		       a9 0c		      lda	#$0C
   1972  803d		       85 32		      sta	P4C2
   1973  803f		       a9 0f		      lda	#$0F
   1974  8041		       85 33		      sta	P4C3
   1975  8043				   .L0104		;;line 151;;  P5C1 = $34 :  P5C2 = $86 :  P5C3 = $0A
   1976  8043
   1977  8043		       a9 34		      lda	#$34
   1978  8045		       85 35		      sta	P5C1
   1979  8047		       a9 86		      lda	#$86
   1980  8049		       85 36		      sta	P5C2
   1981  804b		       a9 0a		      lda	#$0A
   1982  804d		       85 37		      sta	P5C3
   1983  804f				   .
   1984  804f							;;line 152;;
   1985  804f
   1986  804f				   .L0105		;;line 153;;  BACKGRND = $00
   1987  804f
   1988  804f		       a9 00		      lda	#$00
   1989  8051		       85 20		      sta	BACKGRND
   1990  8053				   .
   1991  8053							;;line 154;;
   1992  8053
   1993  8053				   .
   1994  8053							;;line 155;;
   1995  8053
   1996  8053				   .L0106		;;line 156;;  px = 80
   1997  8053
   1998  8053		       a9 50		      lda	#80
   1999  8055		       8d 40 01 	      sta	px
   2000  8058				   .L0107		;;line 157;;  dim px_hi = var170
   2001  8058
   2002  8058				   .L0108		;;line 158;;  px_hi = 0
   2003  8058
   2004  8058		       a9 00		      lda	#0
   2005  805a		       8d 46 22 	      sta	px_hi
   2006  805d				   .L0109		;;line 159;;  py = 90
   2007  805d
   2008  805d		       a9 5a		      lda	#90
   2009  805f		       8d 41 01 	      sta	py
   2010  8062				   .L0110		;;line 160;;  dim py_hi = var171
   2011  8062
   2012  8062				   .L0111		;;line 161;;  py_hi = 0
   2013  8062
   2014  8062		       a9 00		      lda	#0
   2015  8064		       8d 47 22 	      sta	py_hi
   2016  8067				   .
   2017  8067							;;line 162;;
   2018  8067
   2019  8067				   .
   2020  8067							;;line 163;;
   2021  8067
   2022  8067				   .
   2023  8067							;;line 164;;
   2024  8067
   2025  8067				   .L0112		;;line 165;;  dim score_p = var144
   2026  8067
   2027  8067				   .L0113		;;line 166;;  dim score_e = var145
   2028  8067
   2029  8067				   .L0114		;;line 167;;  dim bcd_score = var146
   2030  8067
   2031  8067				   .
   2032  8067							;;line 168;;
   2033  8067
   2034  8067				   .
   2035  8067							;;line 169;;
   2036  8067
   2037  8067				   .L0115		;;line 170;;  score_p = 0
   2038  8067
   2039  8067		       a9 00		      lda	#0
   2040  8069		       8d 2c 22 	      sta	score_p
   2041  806c				   .L0116		;;line 171;;  score_e = 0
   2042  806c
   2043  806c		       a9 00		      lda	#0
   2044  806e		       8d 2d 22 	      sta	score_e
   2045  8071				   .
   2046  8071							;;line 172;;
   2047  8071
   2048  8071				   .
   2049  8071							;;line 173;;
   2050  8071
   2051  8071				   .L0117		;;line 174;;  dim cam_x = var172
   2052  8071
   2053  8071				   .L0118		;;line 175;;  dim cam_x_hi = var173
   2054  8071
   2055  8071				   .L0119		;;line 176;;  dim cam_y = var174
   2056  8071
   2057  8071				   .L0120		;;line 177;;  dim cam_y_hi = var175
   2058  8071
   2059  8071				   .
   2060  8071							;;line 178;;
   2061  8071
   2062  8071				   .
   2063  8071							;;line 179;;
   2064  8071
   2065  8071				   .L0121		;;line 180;;  cam_x = 0  :  cam_x_hi = 0
   2066  8071
   2067  8071		       a9 00		      lda	#0
   2068  8073		       8d 48 22 	      sta	cam_x
   2069  8076		       8d 49 22 	      sta	cam_x_hi
   2070  8079				   .L0122		;;line 181;;  cam_y = 0  :  cam_y_hi = 0
   2071  8079
   2072  8079		       a9 00		      lda	#0
   2073  807b		       8d 4a 22 	      sta	cam_y
   2074  807e		       8d 4b 22 	      sta	cam_y_hi
   2075  8081				   .
   2076  8081							;;line 182;;
   2077  8081
   2078  8081				   .L0123		;;line 183;;  vx_p = 0
   2079  8081
   2080  8081		       a9 00		      lda	#0
   2081  8083		       8d 42 01 	      sta	vx_p
   2082  8086				   .L0124		;;line 184;;  vx_m = 0
   2083  8086
   2084  8086		       a9 00		      lda	#0
   2085  8088		       8d 43 01 	      sta	vx_m
   2086  808b				   .L0125		;;line 185;;  vy_p = 0
   2087  808b
   2088  808b		       a9 00		      lda	#0
   2089  808d		       8d 44 01 	      sta	vy_p
   2090  8090				   .L0126		;;line 186;;  vy_m = 0
   2091  8090
   2092  8090		       a9 00		      lda	#0
   2093  8092		       8d 45 01 	      sta	vy_m
   2094  8095				   .L0127		;;line 187;;  rx = 0
   2095  8095
   2096  8095		       a9 00		      lda	#0
   2097  8097		       8d 46 01 	      sta	rx
   2098  809a				   .L0128		;;line 188;;  ry = 0
   2099  809a
   2100  809a		       a9 00		      lda	#0
   2101  809c		       8d 47 01 	      sta	ry
   2102  809f				   .L0129		;;line 189;;  temp_bx = 0
   2103  809f
   2104  809f		       a9 00		      lda	#0
   2105  80a1		       8d 66 01 	      sta	temp_bx
   2106  80a4				   .L0130		;;line 190;;  temp_by = 0
   2107  80a4
   2108  80a4		       a9 00		      lda	#0
   2109  80a6		       8d 67 01 	      sta	temp_by
   2110  80a9				   .L0131		;;line 191;;  angle = 0
   2111  80a9
   2112  80a9		       a9 00		      lda	#0
   2113  80ab		       8d 48 01 	      sta	angle
   2114  80ae				   .L0132		;;line 192;;  rot_timer = 0
   2115  80ae
   2116  80ae		       a9 00		      lda	#0
   2117  80b0		       8d 4a 01 	      sta	rot_timer
   2118  80b3				   .L0133		;;line 193;;  shpfr = 0
   2119  80b3
   2120  80b3		       a9 00		      lda	#0
   2121  80b5		       8d 49 01 	      sta	shpfr
   2122  80b8				   .L0134		;;line 194;;  frame = 0
   2123  80b8
   2124  80b8		       a9 00		      lda	#0
   2125  80ba		       8d 4d 01 	      sta	frame
   2126  80bd				   .L0135		;;line 195;;  bcooldown = 0
   2127  80bd
   2128  80bd		       a9 00		      lda	#0
   2129  80bf		       8d 50 01 	      sta	bcooldown
   2130  80c2				   .
   2131  80c2							;;line 196;;
   2132  80c2
   2133  80c2				   .
   2134  80c2							;;line 197;;
   2135  80c2
   2136  80c2				   .L0136		;;line 198;;  for iter = 0 to 3
   2137  80c2
   2138  80c2		       a9 00		      lda	#0
   2139  80c4		       8d 51 01 	      sta	iter
   2140  80c7				   .L0136foriter
   2141  80c7				   .L0137		;;line 199;;  blife[iter] = 0
   2142  80c7
   2143  80c7		       a9 00		      lda	#0
   2144  80c9		       ae 51 01 	      LDX	iter
   2145  80cc		       9d 62 01 	      sta	blife,x
   2146  80cf				   .L0138		;;line 200;;  next
   2147  80cf
   2148  80cf		       ad 51 01 	      lda	iter
   2149  80d2		       c9 03		      cmp	#3
   2150  80d4		       ee 51 01 	      inc	iter
   2151  80d7					      if	((* - .L0136foriter) < 127) && ((* - .L0136foriter) > -128)
   2152  80d7		       90 ee		      bcc	.L0136foriter
   2153  80d9				  -	      else
   2154  80d9				  -	      bcs	.0skipL0136foriter
   2155  80d9				  -	      jmp	.L0136foriter
   2156  80d9				  -.0skipL0136foriter
   2157  80d9					      endif
   2158  80d9				   .
   2159  80d9							;;line 201;;
   2160  80d9
   2161  80d9				   .L0139		;;line 202;;  alife = 0
   2162  80d9
   2163  80d9		       a9 00		      lda	#0
   2164  80db		       8d 36 22 	      sta	alife
   2165  80de				   .L0140		;;line 203;;  ecooldown = 0
   2166  80de
   2167  80de		       a9 00		      lda	#0
   2168  80e0		       8d 88 01 	      sta	ecooldown
   2169  80e3				   .L0141		;;line 204;;  eblife[0] = 0  :  eblife[1] = 0
   2170  80e3
   2171  80e3		       a9 00		      lda	#0
   2172  80e5		       a2 00		      LDX	#0
   2173  80e7		       9d 40 22 	      sta	eblife,x
   2174  80ea		       a2 01		      LDX	#1
   2175  80ec		       9d 40 22 	      sta	eblife,x
   2176  80ef				   .
   2177  80ef							;;line 205;;
   2178  80ef
   2179  80ef				   .
   2180  80ef							;;line 206;;
   2181  80ef
   2182  80ef				   .L0142		;;line 207;;  elife[0] = 0  :	elife[1] = 0  :  elife[2] = 0  :  elife[3] = 0
   2183  80ef
   2184  80ef		       a9 00		      lda	#0
   2185  80f1		       a2 00		      LDX	#0
   2186  80f3		       9d 78 01 	      sta	elife,x
   2187  80f6		       a2 01		      LDX	#1
   2188  80f8		       9d 78 01 	      sta	elife,x
   2189  80fb		       a2 02		      LDX	#2
   2190  80fd		       9d 78 01 	      sta	elife,x
   2191  8100		       a2 03		      LDX	#3
   2192  8102		       9d 78 01 	      sta	elife,x
   2193  8105				   .
   2194  8105							;;line 208;;
   2195  8105
   2196  8105				   .L0143		;;line 209;;  gosub init_stars
   2197  8105
   2198  8105		       20 3b 93 	      jsr	.init_stars
   2199  8108				   .
   2200  8108							;;line 210;;
   2201  8108
   2202  8108				   .main_loop
   2203  8108							;;line 211;; main_loop
   2204  8108
   2205  8108				   .L0144		;;line 212;;  clearscreen
   2206  8108
   2207  8108		       20 7f f0 	      jsr	clearscreen
   2208  810b				   .
   2209  810b							;;line 213;;
   2210  810b
   2211  810b				   .
   2212  810b							;;line 214;;
   2213  810b
   2214  810b				   .L0145		;;line 215;;  frame = frame  +  1
   2215  810b
   2216  810b		       ad 4d 01 	      lda	frame
   2217  810e		       18		      CLC
   2218  810f		       69 01		      ADC	#1
   2219  8111		       8d 4d 01 	      sta	frame
   2220  8114				   .
   2221  8114							;;line 216;;
   2222  8114
   2223  8114				   .
   2224  8114							;;line 217;;
   2225  8114
   2226  8114				   .L0146		;;line 218;;  if rot_timer  >	0 then rot_timer = rot_timer  -  1
   2227  8114
   2228  8114		       a9 00		      lda	#0
   2229  8116		       cd 4a 01 	      cmp	rot_timer
   2230  8119		       b0 09		      bcs	.skipL0146
   2231  811b				   .condpart0
   2232  811b		       ad 4a 01 	      lda	rot_timer
   2233  811e		       38		      SEC
   2234  811f		       e9 01		      SBC	#1
   2235  8121		       8d 4a 01 	      sta	rot_timer
   2236  8124				   .skipL0146
   2237  8124				   .L0147		;;line 219;;  if rot_timer = 0 then gosub check_rotation
   2238  8124
   2239  8124		       ad 4a 01 	      lda	rot_timer
   2240  8127		       c9 00		      cmp	#0
   2241  8129		       d0 03		      bne	.skipL0147
   2242  812b				   .condpart1
   2243  812b		       20 ac 83 	      jsr	.check_rotation
   2244  812e				   .skipL0147
   2245  812e				   .L0148		;;line 220;;  shpfr = angle
   2246  812e
   2247  812e		       ad 48 01 	      lda	angle
   2248  8131		       8d 49 01 	      sta	shpfr
   2249  8134				   .
   2250  8134							;;line 221;;
   2251  8134
   2252  8134				   .
   2253  8134							;;line 222;;
   2254  8134
   2255  8134				   .L0149		;;line 223;;  if joy0up then gosub apply_thrust
   2256  8134
   2257  8134		       a9 10		      lda	#$10
   2258  8136		       2c 31 21 	      bit	sSWCHA
   2259  8139		       d0 03		      bne	.skipL0149
   2260  813b				   .condpart2
   2261  813b		       20 eb 83 	      jsr	.apply_thrust
   2262  813e				   .skipL0149
   2263  813e				   .
   2264  813e							;;line 224;;
   2265  813e
   2266  813e				   .
   2267  813e							;;line 225;;
   2268  813e
   2269  813e				   .L0150		;;line 226;;  if bcooldown  >	0 then bcooldown = bcooldown  -  1
   2270  813e
   2271  813e		       a9 00		      lda	#0
   2272  8140		       cd 50 01 	      cmp	bcooldown
   2273  8143		       b0 09		      bcs	.skipL0150
   2274  8145				   .condpart3
   2275  8145		       ad 50 01 	      lda	bcooldown
   2276  8148		       38		      SEC
   2277  8149		       e9 01		      SBC	#1
   2278  814b		       8d 50 01 	      sta	bcooldown
   2279  814e				   .skipL0150
   2280  814e				   .
   2281  814e							;;line 227;;
   2282  814e
   2283  814e				   .L0151		;;line 228;;  if joy0fire0  &&  bcooldown = 0 then gosub fire_bullet
   2284  814e
   2285  814e		       2c 02 21 	      bit	sINPT1
   2286  8151		       50 0a		      bvc	.skipL0151
   2287  8153				   .condpart4
   2288  8153		       ad 50 01 	      lda	bcooldown
   2289  8156		       c9 00		      cmp	#0
   2290  8158		       d0 03		      bne	.skip4then
   2291  815a				   .condpart5
   2292  815a		       20 60 87 	      jsr	.fire_bullet
   2293  815d				   .skip4then
   2294  815d				   .skipL0151
   2295  815d				   .
   2296  815d							;;line 229;;
   2297  815d
   2298  815d				   .
   2299  815d							;;line 230;;
   2300  815d
   2301  815d				   .L0152		;;line 231;;  gosub neutralize_forces
   2302  815d
   2303  815d		       20 84 84 	      jsr	.neutralize_forces
   2304  8160				   .
   2305  8160							;;line 232;;
   2306  8160
   2307  8160				   .
   2308  8160							;;line 233;;
   2309  8160
   2310  8160				   .L0153		;;line 234;;  gosub cycle_stars
   2311  8160
   2312  8160		       20 2e 94 	      jsr	.cycle_stars
   2313  8163				   .
   2314  8163							;;line 235;;
   2315  8163
   2316  8163				   .
   2317  8163							;;line 236;;
   2318  8163
   2319  8163				   .
   2320  8163							;;line 237;;
   2321  8163
   2322  8163				   .
   2323  8163							;;line 238;;
   2324  8163
   2325  8163				   .L0154		;;line 239;;  temp_v = vx_p  -  vx_m
   2326  8163
   2327  8163		       ad 42 01 	      lda	vx_p
   2328  8166		       38		      SEC
   2329  8167		       ed 43 01 	      SBC	vx_m
   2330  816a		       8d 4f 01 	      sta	temp_v
   2331  816d				   .
   2332  816d							;;line 240;;
   2333  816d
   2334  816d				   .
   2335  816d							;;line 241;;
   2336  816d
   2337  816d				   .
   2338  816d							;;line 242;;
   2339  816d
   2340  816d				   .
   2341  816d							;;line 243;;
   2342  816d
   2343  816d				   .
   2344  816d							;;line 244;;
   2345  816d
   2346  816d				   .
   2347  816d							;;line 245;;
   2348  816d
   2349  816d				   .
   2350  816d							;;line 246;;
   2351  816d
   2352  816d				   .
   2353  816d							;;line 247;;
   2354  816d
   2355  816d				   .
   2356  816d							;;line 248;;
   2357  816d
   2358  816d				   .
   2359  816d							;;line 249;;
   2360  816d
   2361  816d				   .L0155		;;line 250;;  temp_v = vx_p  +  rx
   2362  816d
   2363  816d		       ad 42 01 	      lda	vx_p
   2364  8170		       18		      CLC
   2365  8171		       6d 46 01 	      ADC	rx
   2366  8174		       8d 4f 01 	      sta	temp_v
   2367  8177				   .L0156		;;line 251;;  rx = temp_v  &  63
   2368  8177
   2369  8177		       ad 4f 01 	      lda	temp_v
   2370  817a		       29 3f		      AND	#63
   2371  817c		       8d 46 01 	      sta	rx
   2372  817f				   .L0157		;;line 252;;  temp_w = temp_v	/  64
   2373  817f
   2374  817f		       ad 4f 01 	      lda	temp_v
   2375  8182		       4a		      lsr
   2376  8183		       4a		      lsr
   2377  8184		       4a		      lsr
   2378  8185		       4a		      lsr
   2379  8186		       4a		      lsr
   2380  8187		       4a		      lsr
   2381  8188		       8d 89 01 	      sta	temp_w
   2382  818b				   .
   2383  818b							;;line 253;;
   2384  818b
   2385  818b				   .L0158		;;line 254;;  if temp_w = 0 then goto skip_pos_x
   2386  818b
   2387  818b		       ad 89 01 	      lda	temp_w
   2388  818e		       c9 00		      cmp	#0
   2389  8190		       d0 03		      bne	.skipL0158
   2390  8192				   .condpart6
   2391  8192		       4c b0 81 	      jmp	.skip_pos_x
   2392  8195				   .skipL0158
   2393  8195				   .L0159		;;line 255;;  px = px	+  temp_w
   2394  8195
   2395  8195		       ad 40 01 	      lda	px
   2396  8198		       18		      CLC
   2397  8199		       6d 89 01 	      ADC	temp_w
   2398  819c		       8d 40 01 	      sta	px
   2399  819f				   .L0160		;;line 256;;  if px  <  temp_w then px_hi = px_hi  +  1
   2400  819f
   2401  819f		       ad 40 01 	      lda	px
   2402  81a2		       cd 89 01 	      cmp	temp_w
   2403  81a5		       b0 09		      bcs	.skipL0160
   2404  81a7				   .condpart7
   2405  81a7		       ad 46 22 	      lda	px_hi
   2406  81aa		       18		      CLC
   2407  81ab		       69 01		      ADC	#1
   2408  81ad		       8d 46 22 	      sta	px_hi
   2409  81b0				   .skipL0160
   2410  81b0				   .skip_pos_x
   2411  81b0							;;line 257;; skip_pos_x
   2412  81b0
   2413  81b0				   .
   2414  81b0							;;line 258;;
   2415  81b0
   2416  81b0				   .
   2417  81b0							;;line 259;;
   2418  81b0
   2419  81b0				   .
   2420  81b0							;;line 260;;
   2421  81b0
   2422  81b0				   .L0161		;;line 261;;  temp_v = vx_m  +  temp_bx
   2423  81b0
   2424  81b0		       ad 43 01 	      lda	vx_m
   2425  81b3		       18		      CLC
   2426  81b4		       6d 66 01 	      ADC	temp_bx
   2427  81b7		       8d 4f 01 	      sta	temp_v
   2428  81ba				   .L0162		;;line 262;;  temp_bx = temp_v  &  63
   2429  81ba
   2430  81ba		       ad 4f 01 	      lda	temp_v
   2431  81bd		       29 3f		      AND	#63
   2432  81bf		       8d 66 01 	      sta	temp_bx
   2433  81c2				   .L0163		;;line 263;;  temp_w = temp_v	/  64
   2434  81c2
   2435  81c2		       ad 4f 01 	      lda	temp_v
   2436  81c5		       4a		      lsr
   2437  81c6		       4a		      lsr
   2438  81c7		       4a		      lsr
   2439  81c8		       4a		      lsr
   2440  81c9		       4a		      lsr
   2441  81ca		       4a		      lsr
   2442  81cb		       8d 89 01 	      sta	temp_w
   2443  81ce				   .
   2444  81ce							;;line 264;;
   2445  81ce
   2446  81ce				   .L0164		;;line 265;;  if temp_w = 0 then goto skip_neg_x
   2447  81ce
   2448  81ce		       ad 89 01 	      lda	temp_w
   2449  81d1		       c9 00		      cmp	#0
   2450  81d3		       d0 03		      bne	.skipL0164
   2451  81d5				   .condpart8
   2452  81d5		       4c f9 81 	      jmp	.skip_neg_x
   2453  81d8				   .skipL0164
   2454  81d8				   .L0165		;;line 266;;  temp_v = px
   2455  81d8
   2456  81d8		       ad 40 01 	      lda	px
   2457  81db		       8d 4f 01 	      sta	temp_v
   2458  81de				   .L0166		;;line 267;;  px = px	-  temp_w
   2459  81de
   2460  81de		       ad 40 01 	      lda	px
   2461  81e1		       38		      SEC
   2462  81e2		       ed 89 01 	      SBC	temp_w
   2463  81e5		       8d 40 01 	      sta	px
   2464  81e8				   .L0167		;;line 268;;  if px  >  temp_v then px_hi = px_hi  -  1
   2465  81e8
   2466  81e8		       ad 4f 01 	      lda	temp_v
   2467  81eb		       cd 40 01 	      cmp	px
   2468  81ee		       b0 09		      bcs	.skipL0167
   2469  81f0				   .condpart9
   2470  81f0		       ad 46 22 	      lda	px_hi
   2471  81f3		       38		      SEC
   2472  81f4		       e9 01		      SBC	#1
   2473  81f6		       8d 46 22 	      sta	px_hi
   2474  81f9				   .skipL0167
   2475  81f9				   .skip_neg_x
   2476  81f9							;;line 269;; skip_neg_x
   2477  81f9
   2478  81f9				   .
   2479  81f9							;;line 270;;
   2480  81f9
   2481  81f9				   .
   2482  81f9							;;line 271;;
   2483  81f9
   2484  81f9				   .L0168		;;line 272;;  if px_hi  >=  4 then px_hi = 0
   2485  81f9
   2486  81f9		       ad 46 22 	      lda	px_hi
   2487  81fc		       c9 04		      cmp	#4
   2488  81fe		       90 05		      bcc	.skipL0168
   2489  8200				   .condpart10
   2490  8200		       a9 00		      lda	#0
   2491  8202		       8d 46 22 	      sta	px_hi
   2492  8205				   .skipL0168
   2493  8205				   .L0169		;;line 273;;  if px_hi = 255 then px_hi = 3
   2494  8205
   2495  8205		       ad 46 22 	      lda	px_hi
   2496  8208		       c9 ff		      cmp	#255
   2497  820a		       d0 05		      bne	.skipL0169
   2498  820c				   .condpart11
   2499  820c		       a9 03		      lda	#3
   2500  820e		       8d 46 22 	      sta	px_hi
   2501  8211				   .skipL0169
   2502  8211				   .
   2503  8211							;;line 274;;
   2504  8211
   2505  8211				   .
   2506  8211							;;line 275;;
   2507  8211
   2508  8211				   .
   2509  8211							;;line 276;;
   2510  8211
   2511  8211				   .L0170		;;line 277;;  temp_v = vy_p  +  ry
   2512  8211
   2513  8211		       ad 44 01 	      lda	vy_p
   2514  8214		       18		      CLC
   2515  8215		       6d 47 01 	      ADC	ry
   2516  8218		       8d 4f 01 	      sta	temp_v
   2517  821b				   .L0171		;;line 278;;  ry = temp_v  &  63
   2518  821b
   2519  821b		       ad 4f 01 	      lda	temp_v
   2520  821e		       29 3f		      AND	#63
   2521  8220		       8d 47 01 	      sta	ry
   2522  8223				   .L0172		;;line 279;;  temp_w = temp_v	/  64
   2523  8223
   2524  8223		       ad 4f 01 	      lda	temp_v
   2525  8226		       4a		      lsr
   2526  8227		       4a		      lsr
   2527  8228		       4a		      lsr
   2528  8229		       4a		      lsr
   2529  822a		       4a		      lsr
   2530  822b		       4a		      lsr
   2531  822c		       8d 89 01 	      sta	temp_w
   2532  822f				   .
   2533  822f							;;line 280;;
   2534  822f
   2535  822f				   .L0173		;;line 281;;  if temp_w = 0 then goto skip_pos_y
   2536  822f
   2537  822f		       ad 89 01 	      lda	temp_w
   2538  8232		       c9 00		      cmp	#0
   2539  8234		       d0 03		      bne	.skipL0173
   2540  8236				   .condpart12
   2541  8236		       4c 54 82 	      jmp	.skip_pos_y
   2542  8239				   .skipL0173
   2543  8239				   .L0174		;;line 282;;  py = py	+  temp_w
   2544  8239
   2545  8239		       ad 41 01 	      lda	py
   2546  823c		       18		      CLC
   2547  823d		       6d 89 01 	      ADC	temp_w
   2548  8240		       8d 41 01 	      sta	py
   2549  8243				   .L0175		;;line 283;;  if py  <  temp_w then py_hi = py_hi  +  1
   2550  8243
   2551  8243		       ad 41 01 	      lda	py
   2552  8246		       cd 89 01 	      cmp	temp_w
   2553  8249		       b0 09		      bcs	.skipL0175
   2554  824b				   .condpart13
   2555  824b		       ad 47 22 	      lda	py_hi
   2556  824e		       18		      CLC
   2557  824f		       69 01		      ADC	#1
   2558  8251		       8d 47 22 	      sta	py_hi
   2559  8254				   .skipL0175
   2560  8254				   .skip_pos_y
   2561  8254							;;line 284;; skip_pos_y
   2562  8254
   2563  8254				   .
   2564  8254							;;line 285;;
   2565  8254
   2566  8254				   .
   2567  8254							;;line 286;;
   2568  8254
   2569  8254				   .L0176		;;line 287;;  temp_v = vy_m  +  temp_by
   2570  8254
   2571  8254		       ad 45 01 	      lda	vy_m
   2572  8257		       18		      CLC
   2573  8258		       6d 67 01 	      ADC	temp_by
   2574  825b		       8d 4f 01 	      sta	temp_v
   2575  825e				   .L0177		;;line 288;;  temp_by = temp_v  &  63
   2576  825e
   2577  825e		       ad 4f 01 	      lda	temp_v
   2578  8261		       29 3f		      AND	#63
   2579  8263		       8d 67 01 	      sta	temp_by
   2580  8266				   .L0178		;;line 289;;  temp_w = temp_v	/  64
   2581  8266
   2582  8266		       ad 4f 01 	      lda	temp_v
   2583  8269		       4a		      lsr
   2584  826a		       4a		      lsr
   2585  826b		       4a		      lsr
   2586  826c		       4a		      lsr
   2587  826d		       4a		      lsr
   2588  826e		       4a		      lsr
   2589  826f		       8d 89 01 	      sta	temp_w
   2590  8272				   .
   2591  8272							;;line 290;;
   2592  8272
   2593  8272				   .L0179		;;line 291;;  if temp_w = 0 then goto skip_neg_y
   2594  8272
   2595  8272		       ad 89 01 	      lda	temp_w
   2596  8275		       c9 00		      cmp	#0
   2597  8277		       d0 03		      bne	.skipL0179
   2598  8279				   .condpart14
   2599  8279		       4c 9d 82 	      jmp	.skip_neg_y
   2600  827c				   .skipL0179
   2601  827c				   .L0180		;;line 292;;  temp_v = py
   2602  827c
   2603  827c		       ad 41 01 	      lda	py
   2604  827f		       8d 4f 01 	      sta	temp_v
   2605  8282				   .L0181		;;line 293;;  py = py	-  temp_w
   2606  8282
   2607  8282		       ad 41 01 	      lda	py
   2608  8285		       38		      SEC
   2609  8286		       ed 89 01 	      SBC	temp_w
   2610  8289		       8d 41 01 	      sta	py
   2611  828c				   .L0182		;;line 294;;  if py  >  temp_v then py_hi = py_hi  -  1
   2612  828c
   2613  828c		       ad 4f 01 	      lda	temp_v
   2614  828f		       cd 41 01 	      cmp	py
   2615  8292		       b0 09		      bcs	.skipL0182
   2616  8294				   .condpart15
   2617  8294		       ad 47 22 	      lda	py_hi
   2618  8297		       38		      SEC
   2619  8298		       e9 01		      SBC	#1
   2620  829a		       8d 47 22 	      sta	py_hi
   2621  829d				   .skipL0182
   2622  829d				   .skip_neg_y
   2623  829d							;;line 295;; skip_neg_y
   2624  829d
   2625  829d				   .
   2626  829d							;;line 296;;
   2627  829d
   2628  829d				   .
   2629  829d							;;line 297;;
   2630  829d
   2631  829d				   .L0183		;;line 298;;  if py_hi  >=  4 then py_hi = 0
   2632  829d
   2633  829d		       ad 47 22 	      lda	py_hi
   2634  82a0		       c9 04		      cmp	#4
   2635  82a2		       90 05		      bcc	.skipL0183
   2636  82a4				   .condpart16
   2637  82a4		       a9 00		      lda	#0
   2638  82a6		       8d 47 22 	      sta	py_hi
   2639  82a9				   .skipL0183
   2640  82a9				   .L0184		;;line 299;;  if py_hi = 255 then py_hi = 3
   2641  82a9
   2642  82a9		       ad 47 22 	      lda	py_hi
   2643  82ac		       c9 ff		      cmp	#255
   2644  82ae		       d0 05		      bne	.skipL0184
   2645  82b0				   .condpart17
   2646  82b0		       a9 03		      lda	#3
   2647  82b2		       8d 47 22 	      sta	py_hi
   2648  82b5				   .skipL0184
   2649  82b5				   .
   2650  82b5							;;line 300;;
   2651  82b5
   2652  82b5				   .
   2653  82b5							;;line 301;;
   2654  82b5
   2655  82b5				   .L0185		;;line 302;;  gosub update_bullets
   2656  82b5
   2657  82b5		       20 70 85 	      jsr	.update_bullets
   2658  82b8				   .
   2659  82b8							;;line 303;;
   2660  82b8
   2661  82b8				   .
   2662  82b8							;;line 304;;
   2663  82b8
   2664  82b8				   .L0186		;;line 305;;  if ecooldown  >	0 then ecooldown = ecooldown  -  1
   2665  82b8
   2666  82b8		       a9 00		      lda	#0
   2667  82ba		       cd 88 01 	      cmp	ecooldown
   2668  82bd		       b0 09		      bcs	.skipL0186
   2669  82bf				   .condpart18
   2670  82bf		       ad 88 01 	      lda	ecooldown
   2671  82c2		       38		      SEC
   2672  82c3		       e9 01		      SBC	#1
   2673  82c5		       8d 88 01 	      sta	ecooldown
   2674  82c8				   .skipL0186
   2675  82c8				   .L0187		;;line 306;;  gosub update_enemy
   2676  82c8
   2677  82c8		       20 3b 88 	      jsr	.update_enemy
   2678  82cb				   .
   2679  82cb							;;line 307;;
   2680  82cb
   2681  82cb				   .
   2682  82cb							;;line 308;;
   2683  82cb
   2684  82cb				   .L0188		;;line 309;;  gosub update_enemy_bullets
   2685  82cb
   2686  82cb		       20 c4 8a 	      jsr	.update_enemy_bullets
   2687  82ce				   .
   2688  82ce							;;line 310;;
   2689  82ce
   2690  82ce				   .
   2691  82ce							;;line 311;;
   2692  82ce
   2693  82ce				   .L0189		;;line 312;;  gosub update_asteroid
   2694  82ce
   2695  82ce		       20 72 8c 	      jsr	.update_asteroid
   2696  82d1				   .
   2697  82d1							;;line 313;;
   2698  82d1
   2699  82d1				   .
   2700  82d1							;;line 314;;
   2701  82d1
   2702  82d1				   .L0190		;;line 315;;  gosub check_collisions
   2703  82d1
   2704  82d1		       20 75 8e 	      jsr	.check_collisions
   2705  82d4				   .
   2706  82d4							;;line 316;;
   2707  82d4
   2708  82d4				   .
   2709  82d4							;;line 317;;
   2710  82d4
   2711  82d4				   .L0191		;;line 318;;  gosub apply_friction
   2712  82d4
   2713  82d4		       20 ff 84 	      jsr	.apply_friction
   2714  82d7				   .
   2715  82d7							;;line 319;;
   2716  82d7
   2717  82d7				   .
   2718  82d7							;;line 320;;
   2719  82d7
   2720  82d7				   .
   2721  82d7							;;line 321;;
   2722  82d7
   2723  82d7				   .
   2724  82d7							;;line 322;;
   2725  82d7
   2726  82d7				   .
   2727  82d7							;;line 323;;
   2728  82d7
   2729  82d7				   .L0192		;;line 324;;  gosub update_camera
   2730  82d7
   2731  82d7		       20 8d 94 	      jsr	.update_camera
   2732  82da				   .
   2733  82da							;;line 325;;
   2734  82da
   2735  82da				   .
   2736  82da							;;line 326;;
   2737  82da
   2738  82da				   .
   2739  82da							;;line 327;;
   2740  82da
   2741  82da				   .L0193		;;line 328;;  temp_v = px  -  cam_x
   2742  82da
   2743  82da		       ad 40 01 	      lda	px
   2744  82dd		       38		      SEC
   2745  82de		       ed 48 22 	      SBC	cam_x
   2746  82e1		       8d 4f 01 	      sta	temp_v
   2747  82e4				   .L0194		;;line 329;;  temp_w = py  -  cam_y
   2748  82e4
   2749  82e4		       ad 41 01 	      lda	py
   2750  82e7		       38		      SEC
   2751  82e8		       ed 4a 22 	      SBC	cam_y
   2752  82eb		       8d 89 01 	      sta	temp_w
   2753  82ee				   .L0195		;;line 330;;  plotsprite sprite_spaceship1 5 temp_v temp_w shpfr
   2754  82ee
   2755  82ee		       a9 00		      lda	#<sprite_spaceship1
   2756  82f0		       a0 04		      ldy	#sprite_spaceship1_width
   2757  82f2		       f0 07		      beq	plotspritewidthskip0
   2758  82f4				   plotspritewidthloop0
   2759  82f4		       18		      clc
   2760  82f5		       6d 49 01 	      adc	shpfr
   2761  82f8		       88		      dey
   2762  82f9		       d0 f9		      bne	plotspritewidthloop0
   2763  82fb				   plotspritewidthskip0
   2764  82fb		       85 42		      sta	temp1
   2765  82fd
   2766  82fd		       a9 e0		      lda	#>sprite_spaceship1
   2767  82ff		       85 43		      sta	temp2
   2768  8301
   2769  8301		       a9 bc		      lda	#(160|sprite_spaceship1_width_twoscompliment)
   2770  8303		       85 44		      sta	temp3
   2771  8305
   2772  8305		       ad 4f 01 	      lda	temp_v
   2773  8308		       85 45		      sta	temp4
   2774  830a
   2775  830a		       ad 89 01 	      lda	temp_w
   2776  830d		       85 46		      sta	temp5
   2777  830f
   2778  830f		       a9 40		      lda	#(sprite_spaceship1_mode|%01000000)
   2779  8311		       85 47		      sta	temp6
   2780  8313
   2781  8313		       20 e3 f2 	      jsr	plotsprite
   2782  8316				   .
   2783  8316							;;line 331;;
   2784  8316
   2785  8316				   .L0196		;;line 332;;  gosub draw_stars
   2786  8316
   2787  8316		       20 d3 93 	      jsr	.draw_stars
   2788  8319				   .
   2789  8319							;;line 333;;
   2790  8319
   2791  8319				   .L0197		;;line 334;;  gosub draw_player_bullets
   2792  8319
   2793  8319		       20 43 95 	      jsr	.draw_player_bullets
   2794  831c				   .
   2795  831c							;;line 335;;
   2796  831c
   2797  831c				   .L0198		;;line 336;;  gosub draw_enemies
   2798  831c
   2799  831c		       20 86 96 	      jsr	.draw_enemies
   2800  831f				   .
   2801  831f							;;line 337;;
   2802  831f
   2803  831f				   .L0199		;;line 338;;  if alife  >  0 then gosub draw_asteroid
   2804  831f
   2805  831f		       a9 00		      lda	#0
   2806  8321		       cd 36 22 	      cmp	alife
   2807  8324		       b0 03		      bcs	.skipL0199
   2808  8326				   .condpart19
   2809  8326		       20 fc 96 	      jsr	.draw_asteroid
   2810  8329				   .skipL0199
   2811  8329				   .
   2812  8329							;;line 339;;
   2813  8329
   2814  8329				   .L0200		;;line 340;;  gosub draw_enemy_bullets
   2815  8329
   2816  8329		       20 aa 95 	      jsr	.draw_enemy_bullets
   2817  832c				   .
   2818  832c							;;line 341;;
   2819  832c
   2820  832c				   .
   2821  832c							;;line 342;;
   2822  832c
   2823  832c				   .L0201		;;line 343;;  bcd_score = converttobcd ( score_p )
   2824  832c
   2825  832c		       ad 2c 22 	      lda	score_p
   2826  832f		       20 1a f4 	      jsr	converttobcd
   2827  832f		       00 01	   .calledfunction_converttobcd =	1
   2828  8332		       8d 2e 22 	      sta	bcd_score
   2829  8335				   .L0202		;;line 344;;  plotvalue scoredigits_s00 5 bcd_score 2 10 10
   2830  8335
   2831  8335		       a9 6a		      lda	#<scoredigits_s00
   2832  8337		       85 42		      sta	temp1
   2833  8339
   2834  8339		       a9 e0		      lda	#>scoredigits_s00
   2835  833b		       85 43		      sta	temp2
   2836  833d
   2837  833d		       ad 06 21 	      lda	charactermode
   2838  8340		       85 4a		      sta	temp9
   2839  8342		       a9 60		      lda	#(scoredigits_s00_mode | %01100000)
   2840  8344		       8d 06 21 	      sta	charactermode
   2841  8347		       a9 1e		      lda	#30	; width in two's complement
   2842  8349		       09 a0		      ora	#160	; palette left shifted 5 bits
   2843  834b		       85 44		      sta	temp3
   2844  834d		       a9 0a		      lda	#10
   2845  834f		       85 45		      sta	temp4
   2846  8351
   2847  8351		       a9 0a		      lda	#10
   2848  8353		       85 46		      sta	temp5
   2849  8355
   2850  8355		       a9 02		      lda	#2
   2851  8357		       85 47		      sta	temp6
   2852  8359
   2853  8359		       a9 2e		      lda	#<bcd_score
   2854  835b		       85 48		      sta	temp7
   2855  835d
   2856  835d		       a9 22		      lda	#>bcd_score
   2857  835f		       85 49		      sta	temp8
   2858  8361
   2859  8361		       20 c4 f3 	      jsr	plotvalue
   2860  8361		       00 01	   USED_PLOTVALUE =	1
   2861  8364		       a5 4a		      lda	temp9
   2862  8366		       8d 06 21 	      sta	charactermode
   2863  8369				   .
   2864  8369							;;line 345;;
   2865  8369
   2866  8369				   .L0203		;;line 346;;  bcd_score = converttobcd ( score_e )
   2867  8369
   2868  8369		       ad 2d 22 	      lda	score_e
   2869  836c		       20 1a f4 	      jsr	converttobcd
   2870  836c		       00 01	   .calledfunction_converttobcd =	1
   2871  836f		       8d 2e 22 	      sta	bcd_score
   2872  8372				   .L0204		;;line 347;;  plotvalue scoredigits_s00 3 bcd_score 2 130 10
   2873  8372
   2874  8372		       a9 6a		      lda	#<scoredigits_s00
   2875  8374		       85 42		      sta	temp1
   2876  8376
   2877  8376		       a9 e0		      lda	#>scoredigits_s00
   2878  8378		       85 43		      sta	temp2
   2879  837a
   2880  837a		       ad 06 21 	      lda	charactermode
   2881  837d		       85 4a		      sta	temp9
   2882  837f		       a9 60		      lda	#(scoredigits_s00_mode | %01100000)
   2883  8381		       8d 06 21 	      sta	charactermode
   2884  8384		       a9 1e		      lda	#30	; width in two's complement
   2885  8386		       09 60		      ora	#96	; palette left shifted 5 bits
   2886  8388		       85 44		      sta	temp3
   2887  838a		       a9 82		      lda	#130
   2888  838c		       85 45		      sta	temp4
   2889  838e
   2890  838e		       a9 0a		      lda	#10
   2891  8390		       85 46		      sta	temp5
   2892  8392
   2893  8392		       a9 02		      lda	#2
   2894  8394		       85 47		      sta	temp6
   2895  8396
   2896  8396		       a9 2e		      lda	#<bcd_score
   2897  8398		       85 48		      sta	temp7
   2898  839a
   2899  839a		       a9 22		      lda	#>bcd_score
   2900  839c		       85 49		      sta	temp8
   2901  839e
   2902  839e		       20 c4 f3 	      jsr	plotvalue
   2903  839e		       00 01	   USED_PLOTVALUE =	1
   2904  83a1		       a5 4a		      lda	temp9
   2905  83a3		       8d 06 21 	      sta	charactermode
   2906  83a6				   .
   2907  83a6							;;line 348;;
   2908  83a6
   2909  83a6				   .L0205		;;line 349;;  drawscreen
   2910  83a6
   2911  83a6		       20 b3 f0 	      jsr	drawscreen
   2912  83a9				   .L0206		;;line 350;;  goto main_loop
   2913  83a9
   2914  83a9		       4c 08 81 	      jmp	.main_loop
   2915  83ac				   .
   2916  83ac							;;line 351;;
   2917  83ac
   2918  83ac				   .check_rotation
   2919  83ac							;;line 352;; check_rotation
   2920  83ac
   2921  83ac				   .L0207		;;line 353;;  if joy0left then angle = angle  -  1  :	rot_timer = 4
   2922  83ac
   2923  83ac		       2c 31 21 	      bit	sSWCHA
   2924  83af		       70 0e		      bvs	.skipL0207
   2925  83b1				   .condpart20
   2926  83b1		       ad 48 01 	      lda	angle
   2927  83b4		       38		      SEC
   2928  83b5		       e9 01		      SBC	#1
   2929  83b7		       8d 48 01 	      sta	angle
   2930  83ba		       a9 04		      lda	#4
   2931  83bc		       8d 4a 01 	      sta	rot_timer
   2932  83bf				   .skipL0207
   2933  83bf				   .L0208		;;line 354;;  if joy0right then angle = angle	+  1  :  rot_timer = 4
   2934  83bf
   2935  83bf		       2c 31 21 	      bit	sSWCHA
   2936  83c2		       30 0e		      bmi	.skipL0208
   2937  83c4				   .condpart21
   2938  83c4		       ad 48 01 	      lda	angle
   2939  83c7		       18		      CLC
   2940  83c8		       69 01		      ADC	#1
   2941  83ca		       8d 48 01 	      sta	angle
   2942  83cd		       a9 04		      lda	#4
   2943  83cf		       8d 4a 01 	      sta	rot_timer
   2944  83d2				   .skipL0208
   2945  83d2				   .L0209		;;line 355;;  if angle  >  250 then angle = 15
   2946  83d2
   2947  83d2		       a9 fa		      lda	#250
   2948  83d4		       cd 48 01 	      cmp	angle
   2949  83d7		       b0 05		      bcs	.skipL0209
   2950  83d9				   .condpart22
   2951  83d9		       a9 0f		      lda	#15
   2952  83db		       8d 48 01 	      sta	angle
   2953  83de				   .skipL0209
   2954  83de				   .L0210		;;line 356;;  if angle  >  15 then angle = 0
   2955  83de
   2956  83de		       a9 0f		      lda	#15
   2957  83e0		       cd 48 01 	      cmp	angle
   2958  83e3		       b0 05		      bcs	.skipL0210
   2959  83e5				   .condpart23
   2960  83e5		       a9 00		      lda	#0
   2961  83e7		       8d 48 01 	      sta	angle
   2962  83ea				   .skipL0210
   2963  83ea				   .L0211		;;line 357;;  return
   2964  83ea
   2965  83ea		       60		      rts
   2966  83eb				   .
   2967  83eb							;;line 358;;
   2968  83eb
   2969  83eb				   .apply_thrust
   2970  83eb							;;line 359;; apply_thrust
   2971  83eb
   2972  83eb				   .
   2973  83eb							;;line 360;;
   2974  83eb
   2975  83eb				   .L0212		;;line 361;;  temp_acc = sin_table[angle]
   2976  83eb
   2977  83eb		       ae 48 01 	      LDX	angle
   2978  83ee		       bd 0e 95 	      lda	sin_table,x
   2979  83f1		       8d 4c 01 	      sta	temp_acc
   2980  83f4				   .L0213		;;line 362;;  if temp_acc  <  128 then vx_p = vx_p  +	temp_acc
   2981  83f4
   2982  83f4		       ad 4c 01 	      lda	temp_acc
   2983  83f7		       c9 80		      cmp	#128
   2984  83f9		       b0 0a		      bcs	.skipL0213
   2985  83fb				   .condpart24
   2986  83fb		       ad 42 01 	      lda	vx_p
   2987  83fe		       18		      CLC
   2988  83ff		       6d 4c 01 	      ADC	temp_acc
   2989  8402		       8d 42 01 	      sta	vx_p
   2990  8405				   .skipL0213
   2991  8405				   .L0214		;;line 363;;  if temp_acc  >=	128 then temp_acc = 0  -  temp_acc  :  vx_m = vx_m  +  temp_acc
   2992  8405
   2993  8405		       ad 4c 01 	      lda	temp_acc
   2994  8408		       c9 80		      cmp	#128
   2995  840a		       90 13		      bcc	.skipL0214
   2996  840c				   .condpart25
   2997  840c		       a9 00		      lda	#0
   2998  840e		       38		      SEC
   2999  840f		       ed 4c 01 	      SBC	temp_acc
   3000  8412		       8d 4c 01 	      sta	temp_acc
   3001  8415		       ad 43 01 	      lda	vx_m
   3002  8418		       18		      CLC
   3003  8419		       6d 4c 01 	      ADC	temp_acc
   3004  841c		       8d 43 01 	      sta	vx_m
   3005  841f				   .skipL0214
   3006  841f				   .
   3007  841f							;;line 364;;
   3008  841f
   3009  841f				   .
   3010  841f							;;line 365;;
   3011  841f
   3012  841f				   .L0215		;;line 366;;  temp_acc = cos_table[angle]
   3013  841f
   3014  841f		       ae 48 01 	      LDX	angle
   3015  8422		       bd 21 95 	      lda	cos_table,x
   3016  8425		       8d 4c 01 	      sta	temp_acc
   3017  8428				   .L0216		;;line 367;;  if temp_acc  <  128 then vy_m = vy_m  +	temp_acc
   3018  8428
   3019  8428		       ad 4c 01 	      lda	temp_acc
   3020  842b		       c9 80		      cmp	#128
   3021  842d		       b0 0a		      bcs	.skipL0216
   3022  842f				   .condpart26
   3023  842f		       ad 45 01 	      lda	vy_m
   3024  8432		       18		      CLC
   3025  8433		       6d 4c 01 	      ADC	temp_acc
   3026  8436		       8d 45 01 	      sta	vy_m
   3027  8439				   .skipL0216
   3028  8439				   .L0217		;;line 368;;  if temp_acc  >=	128 then temp_acc = 0  -  temp_acc  :  vy_p = vy_p  +  temp_acc
   3029  8439
   3030  8439		       ad 4c 01 	      lda	temp_acc
   3031  843c		       c9 80		      cmp	#128
   3032  843e		       90 13		      bcc	.skipL0217
   3033  8440				   .condpart27
   3034  8440		       a9 00		      lda	#0
   3035  8442		       38		      SEC
   3036  8443		       ed 4c 01 	      SBC	temp_acc
   3037  8446		       8d 4c 01 	      sta	temp_acc
   3038  8449		       ad 44 01 	      lda	vy_p
   3039  844c		       18		      CLC
   3040  844d		       6d 4c 01 	      ADC	temp_acc
   3041  8450		       8d 44 01 	      sta	vy_p
   3042  8453				   .skipL0217
   3043  8453				   .
   3044  8453							;;line 369;;
   3045  8453
   3046  8453				   .
   3047  8453							;;line 370;;
   3048  8453
   3049  8453				   .L0218		;;line 371;;  if vx_p	>  190 then vx_p = 190
   3050  8453
   3051  8453		       a9 be		      lda	#190
   3052  8455		       cd 42 01 	      cmp	vx_p
   3053  8458		       b0 05		      bcs	.skipL0218
   3054  845a				   .condpart28
   3055  845a		       a9 be		      lda	#190
   3056  845c		       8d 42 01 	      sta	vx_p
   3057  845f				   .skipL0218
   3058  845f				   .L0219		;;line 372;;  if vx_m	>  190 then vx_m = 190
   3059  845f
   3060  845f		       a9 be		      lda	#190
   3061  8461		       cd 43 01 	      cmp	vx_m
   3062  8464		       b0 05		      bcs	.skipL0219
   3063  8466				   .condpart29
   3064  8466		       a9 be		      lda	#190
   3065  8468		       8d 43 01 	      sta	vx_m
   3066  846b				   .skipL0219
   3067  846b				   .L0220		;;line 373;;  if vy_p	>  190 then vy_p = 190
   3068  846b
   3069  846b		       a9 be		      lda	#190
   3070  846d		       cd 44 01 	      cmp	vy_p
   3071  8470		       b0 05		      bcs	.skipL0220
   3072  8472				   .condpart30
   3073  8472		       a9 be		      lda	#190
   3074  8474		       8d 44 01 	      sta	vy_p
   3075  8477				   .skipL0220
   3076  8477				   .L0221		;;line 374;;  if vy_m	>  190 then vy_m = 190
   3077  8477
   3078  8477		       a9 be		      lda	#190
   3079  8479		       cd 45 01 	      cmp	vy_m
   3080  847c		       b0 05		      bcs	.skipL0221
   3081  847e				   .condpart31
   3082  847e		       a9 be		      lda	#190
   3083  8480		       8d 45 01 	      sta	vy_m
   3084  8483				   .skipL0221
   3085  8483				   .L0222		;;line 375;;  return
   3086  8483
   3087  8483		       60		      rts
   3088  8484				   .
   3089  8484							;;line 376;;
   3090  8484
   3091  8484				   .neutralize_forces
   3092  8484							;;line 377;; neutralize_forces
   3093  8484
   3094  8484				   .
   3095  8484							;;line 378;;
   3096  8484
   3097  8484				   .L0223		;;line 379;;  if vx_p	>  0  &&  vx_m	>  0 then gosub cancel_x
   3098  8484
   3099  8484		       a9 00		      lda	#0
   3100  8486		       cd 42 01 	      cmp	vx_p
   3101  8489		       b0 0a		      bcs	.skipL0223
   3102  848b				   .condpart32
   3103  848b		       a9 00		      lda	#0
   3104  848d		       cd 43 01 	      cmp	vx_m
   3105  8490		       b0 03		      bcs	.skip32then
   3106  8492				   .condpart33
   3107  8492		       20 a7 84 	      jsr	.cancel_x
   3108  8495				   .skip32then
   3109  8495				   .skipL0223
   3110  8495				   .
   3111  8495							;;line 380;;
   3112  8495
   3113  8495				   .L0224		;;line 381;;  if vy_p	>  0  &&  vy_m	>  0 then gosub cancel_y
   3114  8495
   3115  8495		       a9 00		      lda	#0
   3116  8497		       cd 44 01 	      cmp	vy_p
   3117  849a		       b0 0a		      bcs	.skipL0224
   3118  849c				   .condpart34
   3119  849c		       a9 00		      lda	#0
   3120  849e		       cd 45 01 	      cmp	vy_m
   3121  84a1		       b0 03		      bcs	.skip34then
   3122  84a3				   .condpart35
   3123  84a3		       20 d3 84 	      jsr	.cancel_y
   3124  84a6				   .skip34then
   3125  84a6				   .skipL0224
   3126  84a6				   .L0225		;;line 382;;  return
   3127  84a6
   3128  84a6		       60		      rts
   3129  84a7				   .
   3130  84a7							;;line 383;;
   3131  84a7
   3132  84a7				   .cancel_x
   3133  84a7							;;line 384;; cancel_x
   3134  84a7
   3135  84a7				   .L0226		;;line 385;;  if vx_p	<  vx_m then common = vx_p else common = vx_m
   3136  84a7
   3137  84a7		       ad 42 01 	      lda	vx_p
   3138  84aa		       cd 43 01 	      cmp	vx_m
   3139  84ad		       b0 09		      bcs	.skipL0226
   3140  84af				   .condpart36
   3141  84af		       ad 42 01 	      lda	vx_p
   3142  84b2		       8d 4e 01 	      sta	common
   3143  84b5		       4c be 84 	      jmp	.skipelse0
   3144  84b8				   .skipL0226
   3145  84b8		       ad 43 01 	      lda	vx_m
   3146  84bb		       8d 4e 01 	      sta	common
   3147  84be				   .skipelse0
   3148  84be				   .L0227		;;line 386;;  vx_p = vx_p  -  common
   3149  84be
   3150  84be		       ad 42 01 	      lda	vx_p
   3151  84c1		       38		      SEC
   3152  84c2		       ed 4e 01 	      SBC	common
   3153  84c5		       8d 42 01 	      sta	vx_p
   3154  84c8				   .L0228		;;line 387;;  vx_m = vx_m  -  common
   3155  84c8
   3156  84c8		       ad 43 01 	      lda	vx_m
   3157  84cb		       38		      SEC
   3158  84cc		       ed 4e 01 	      SBC	common
   3159  84cf		       8d 43 01 	      sta	vx_m
   3160  84d2				   .L0229		;;line 388;;  return
   3161  84d2
   3162  84d2		       60		      rts
   3163  84d3				   .
   3164  84d3							;;line 389;;
   3165  84d3
   3166  84d3				   .cancel_y
   3167  84d3							;;line 390;; cancel_y
   3168  84d3
   3169  84d3				   .L0230		;;line 391;;  if vy_p	<  vy_m then common = vy_p else common = vy_m
   3170  84d3
   3171  84d3		       ad 44 01 	      lda	vy_p
   3172  84d6		       cd 45 01 	      cmp	vy_m
   3173  84d9		       b0 09		      bcs	.skipL0230
   3174  84db				   .condpart37
   3175  84db		       ad 44 01 	      lda	vy_p
   3176  84de		       8d 4e 01 	      sta	common
   3177  84e1		       4c ea 84 	      jmp	.skipelse1
   3178  84e4				   .skipL0230
   3179  84e4		       ad 45 01 	      lda	vy_m
   3180  84e7		       8d 4e 01 	      sta	common
   3181  84ea				   .skipelse1
   3182  84ea				   .L0231		;;line 392;;  vy_p = vy_p  -  common
   3183  84ea
   3184  84ea		       ad 44 01 	      lda	vy_p
   3185  84ed		       38		      SEC
   3186  84ee		       ed 4e 01 	      SBC	common
   3187  84f1		       8d 44 01 	      sta	vy_p
   3188  84f4				   .L0232		;;line 393;;  vy_m = vy_m  -  common
   3189  84f4
   3190  84f4		       ad 45 01 	      lda	vy_m
   3191  84f7		       38		      SEC
   3192  84f8		       ed 4e 01 	      SBC	common
   3193  84fb		       8d 45 01 	      sta	vy_m
   3194  84fe				   .L0233		;;line 394;;  return
   3195  84fe
   3196  84fe		       60		      rts
   3197  84ff				   .
   3198  84ff							;;line 395;;
   3199  84ff
   3200  84ff				   .apply_friction
   3201  84ff							;;line 396;; apply_friction
   3202  84ff
   3203  84ff				   .
   3204  84ff							;;line 397;;
   3205  84ff
   3206  84ff				   .L0234		;;line 398;;  if vx_p	<  2 then vx_p = 0
   3207  84ff
   3208  84ff		       ad 42 01 	      lda	vx_p
   3209  8502		       c9 02		      cmp	#2
   3210  8504		       b0 05		      bcs	.skipL0234
   3211  8506				   .condpart38
   3212  8506		       a9 00		      lda	#0
   3213  8508		       8d 42 01 	      sta	vx_p
   3214  850b				   .skipL0234
   3215  850b				   .L0235		;;line 399;;  if vx_p	>=  2 then vx_p = vx_p	-  1
   3216  850b
   3217  850b		       ad 42 01 	      lda	vx_p
   3218  850e		       c9 02		      cmp	#2
   3219  8510		       90 09		      bcc	.skipL0235
   3220  8512				   .condpart39
   3221  8512		       ad 42 01 	      lda	vx_p
   3222  8515		       38		      SEC
   3223  8516		       e9 01		      SBC	#1
   3224  8518		       8d 42 01 	      sta	vx_p
   3225  851b				   .skipL0235
   3226  851b				   .
   3227  851b							;;line 400;;
   3228  851b
   3229  851b				   .L0236		;;line 401;;  if vx_m	<  2 then vx_m = 0
   3230  851b
   3231  851b		       ad 43 01 	      lda	vx_m
   3232  851e		       c9 02		      cmp	#2
   3233  8520		       b0 05		      bcs	.skipL0236
   3234  8522				   .condpart40
   3235  8522		       a9 00		      lda	#0
   3236  8524		       8d 43 01 	      sta	vx_m
   3237  8527				   .skipL0236
   3238  8527				   .L0237		;;line 402;;  if vx_m	>=  2 then vx_m = vx_m	-  1
   3239  8527
   3240  8527		       ad 43 01 	      lda	vx_m
   3241  852a		       c9 02		      cmp	#2
   3242  852c		       90 09		      bcc	.skipL0237
   3243  852e				   .condpart41
   3244  852e		       ad 43 01 	      lda	vx_m
   3245  8531		       38		      SEC
   3246  8532		       e9 01		      SBC	#1
   3247  8534		       8d 43 01 	      sta	vx_m
   3248  8537				   .skipL0237
   3249  8537				   .
   3250  8537							;;line 403;;
   3251  8537
   3252  8537				   .L0238		;;line 404;;  if vy_p	<  2 then vy_p = 0
   3253  8537
   3254  8537		       ad 44 01 	      lda	vy_p
   3255  853a		       c9 02		      cmp	#2
   3256  853c		       b0 05		      bcs	.skipL0238
   3257  853e				   .condpart42
   3258  853e		       a9 00		      lda	#0
   3259  8540		       8d 44 01 	      sta	vy_p
   3260  8543				   .skipL0238
   3261  8543				   .L0239		;;line 405;;  if vy_p	>=  2 then vy_p = vy_p	-  1
   3262  8543
   3263  8543		       ad 44 01 	      lda	vy_p
   3264  8546		       c9 02		      cmp	#2
   3265  8548		       90 09		      bcc	.skipL0239
   3266  854a				   .condpart43
   3267  854a		       ad 44 01 	      lda	vy_p
   3268  854d		       38		      SEC
   3269  854e		       e9 01		      SBC	#1
   3270  8550		       8d 44 01 	      sta	vy_p
   3271  8553				   .skipL0239
   3272  8553				   .
   3273  8553							;;line 406;;
   3274  8553
   3275  8553				   .L0240		;;line 407;;  if vy_m	<  2 then vy_m = 0
   3276  8553
   3277  8553		       ad 45 01 	      lda	vy_m
   3278  8556		       c9 02		      cmp	#2
   3279  8558		       b0 05		      bcs	.skipL0240
   3280  855a				   .condpart44
   3281  855a		       a9 00		      lda	#0
   3282  855c		       8d 45 01 	      sta	vy_m
   3283  855f				   .skipL0240
   3284  855f				   .L0241		;;line 408;;  if vy_m	>=  2 then vy_m = vy_m	-  1
   3285  855f
   3286  855f		       ad 45 01 	      lda	vy_m
   3287  8562		       c9 02		      cmp	#2
   3288  8564		       90 09		      bcc	.skipL0241
   3289  8566				   .condpart45
   3290  8566		       ad 45 01 	      lda	vy_m
   3291  8569		       38		      SEC
   3292  856a		       e9 01		      SBC	#1
   3293  856c		       8d 45 01 	      sta	vy_m
   3294  856f				   .skipL0241
   3295  856f				   .L0242		;;line 409;;  return
   3296  856f
   3297  856f		       60		      rts
   3298  8570				   .
   3299  8570							;;line 410;;
   3300  8570
   3301  8570				   .update_bullets
   3302  8570							;;line 411;; update_bullets
   3303  8570
   3304  8570				   .L0243		;;line 412;;  for iter = 0 to 3
   3305  8570
   3306  8570		       a9 00		      lda	#0
   3307  8572		       8d 51 01 	      sta	iter
   3308  8575				   .L0243foriter
   3309  8575				   .L0244		;;line 413;;  if blife[iter]  >  0 then gosub move_one_bullet
   3310  8575
   3311  8575		       a9 00		      lda	#0
   3312  8577		       ae 51 01 	      LDX	iter
   3313  857a		       dd 62 01 	      cmp	blife,x
   3314  857d		       b0 03		      bcs	.skipL0244
   3315  857f				   .condpart46
   3316  857f		       20 8d 85 	      jsr	.move_one_bullet
   3317  8582				   .skipL0244
   3318  8582				   .L0245		;;line 414;;  next
   3319  8582
   3320  8582		       ad 51 01 	      lda	iter
   3321  8585		       c9 03		      cmp	#3
   3322  8587		       ee 51 01 	      inc	iter
   3323  858a					      if	((* - .L0243foriter) < 127) && ((* - .L0243foriter) > -128)
   3324  858a		       90 e9		      bcc	.L0243foriter
   3325  858c				  -	      else
   3326  858c				  -	      bcs	.1skipL0243foriter
   3327  858c				  -	      jmp	.L0243foriter
   3328  858c				  -.1skipL0243foriter
   3329  858c					      endif
   3330  858c				   .L0246		;;line 415;;  return
   3331  858c
   3332  858c		       60		      rts
   3333  858d				   .
   3334  858d							;;line 416;;
   3335  858d
   3336  858d				   .move_one_bullet
   3337  858d							;;line 417;; move_one_bullet
   3338  858d
   3339  858d				   .
   3340  858d							;;line 418;;
   3341  858d
   3342  858d				   .
   3343  858d							;;line 419;;
   3344  858d
   3345  858d				   .L0247		;;line 420;;  temp_v = bul_vx[iter]
   3346  858d
   3347  858d		       ae 51 01 	      LDX	iter
   3348  8590		       bd 5a 01 	      lda	bul_vx,x
   3349  8593		       8d 4f 01 	      sta	temp_v
   3350  8596				   .L0248		;;line 421;;  bul_x[iter] = bul_x[iter]  +  temp_v
   3351  8596
   3352  8596		       ae 51 01 	      LDX	iter
   3353  8599		       bd 52 01 	      lda	bul_x,x
   3354  859c		       18		      CLC
   3355  859d		       6d 4f 01 	      ADC	temp_v
   3356  85a0		       ae 51 01 	      LDX	iter
   3357  85a3		       9d 52 01 	      sta	bul_x,x
   3358  85a6				   .
   3359  85a6							;;line 422;;
   3360  85a6
   3361  85a6				   .
   3362  85a6							;;line 423;;
   3363  85a6
   3364  85a6				   .
   3365  85a6							;;line 424;;
   3366  85a6
   3367  85a6				   .
   3368  85a6							;;line 425;;
   3369  85a6
   3370  85a6				   .L0249		;;line 426;;  if bul_x[iter]  >  170 then if bul_x[iter]  <  240 then blife[iter] = 0
   3371  85a6
   3372  85a6		       a9 aa		      lda	#170
   3373  85a8		       ae 51 01 	      LDX	iter
   3374  85ab		       dd 52 01 	      cmp	bul_x,x
   3375  85ae		       b0 12		      bcs	.skipL0249
   3376  85b0				   .condpart47
   3377  85b0		       ae 51 01 	      LDX	iter
   3378  85b3		       bd 52 01 	      lda	bul_x,x
   3379  85b6		       c9 f0		      cmp	#240
   3380  85b8		       b0 08		      bcs	.skip47then
   3381  85ba				   .condpart48
   3382  85ba		       a9 00		      lda	#0
   3383  85bc		       ae 51 01 	      LDX	iter
   3384  85bf		       9d 62 01 	      sta	blife,x
   3385  85c2				   .skip47then
   3386  85c2				   .skipL0249
   3387  85c2				   .
   3388  85c2							;;line 427;;
   3389  85c2
   3390  85c2				   .
   3391  85c2							;;line 428;;
   3392  85c2
   3393  85c2				   .L0250		;;line 429;;  temp_v = bul_vy[iter]
   3394  85c2
   3395  85c2		       ae 51 01 	      LDX	iter
   3396  85c5		       bd 5e 01 	      lda	bul_vy,x
   3397  85c8		       8d 4f 01 	      sta	temp_v
   3398  85cb				   .L0251		;;line 430;;  bul_y[iter] = bul_y[iter]  +  temp_v
   3399  85cb
   3400  85cb		       ae 51 01 	      LDX	iter
   3401  85ce		       bd 56 01 	      lda	bul_y,x
   3402  85d1		       18		      CLC
   3403  85d2		       6d 4f 01 	      ADC	temp_v
   3404  85d5		       ae 51 01 	      LDX	iter
   3405  85d8		       9d 56 01 	      sta	bul_y,x
   3406  85db				   .
   3407  85db							;;line 431;;
   3408  85db
   3409  85db				   .
   3410  85db							;;line 432;;
   3411  85db
   3412  85db				   .L0252		;;line 433;;  if bul_y[iter]  >  200 then blife[iter] = 0
   3413  85db
   3414  85db		       a9 c8		      lda	#200
   3415  85dd		       ae 51 01 	      LDX	iter
   3416  85e0		       dd 56 01 	      cmp	bul_y,x
   3417  85e3		       b0 08		      bcs	.skipL0252
   3418  85e5				   .condpart49
   3419  85e5		       a9 00		      lda	#0
   3420  85e7		       ae 51 01 	      LDX	iter
   3421  85ea		       9d 62 01 	      sta	blife,x
   3422  85ed				   .skipL0252
   3423  85ed				   .
   3424  85ed							;;line 434;;
   3425  85ed
   3426  85ed				   .
   3427  85ed							;;line 435;;
   3428  85ed
   3429  85ed				   .L0253		;;line 436;;  if blife[iter]  >  0 then blife[iter] = blife[iter]  -  1
   3430  85ed
   3431  85ed		       a9 00		      lda	#0
   3432  85ef		       ae 51 01 	      LDX	iter
   3433  85f2		       dd 62 01 	      cmp	blife,x
   3434  85f5		       b0 0f		      bcs	.skipL0253
   3435  85f7				   .condpart50
   3436  85f7		       ae 51 01 	      LDX	iter
   3437  85fa		       bd 62 01 	      lda	blife,x
   3438  85fd		       38		      SEC
   3439  85fe		       e9 01		      SBC	#1
   3440  8600		       ae 51 01 	      LDX	iter
   3441  8603		       9d 62 01 	      sta	blife,x
   3442  8606				   .skipL0253
   3443  8606				   .L0254		;;line 437;;  return
   3444  8606
   3445  8606		       60		      rts
   3446  8607				   .
   3447  8607							;;line 438;;
   3448  8607
   3449  8607				   .
   3450  8607							;;line 439;;
   3451  8607
   3452  8607				   .bul_x_neg
   3453  8607							;;line 440;; bul_x_neg
   3454  8607
   3455  8607				   .L0255		;;line 441;;  temp_v = 0  -  temp_v
   3456  8607
   3457  8607		       a9 00		      lda	#0
   3458  8609		       38		      SEC
   3459  860a		       ed 4f 01 	      SBC	temp_v
   3460  860d		       8d 4f 01 	      sta	temp_v
   3461  8610				   .L0256		;;line 442;;  temp_w = bul_x[iter]
   3462  8610
   3463  8610		       ae 51 01 	      LDX	iter
   3464  8613		       bd 52 01 	      lda	bul_x,x
   3465  8616		       8d 89 01 	      sta	temp_w
   3466  8619				   .L0257		;;line 443;;  bul_x[iter] = bul_x[iter]  -  temp_v
   3467  8619
   3468  8619		       ae 51 01 	      LDX	iter
   3469  861c		       bd 52 01 	      lda	bul_x,x
   3470  861f		       38		      SEC
   3471  8620		       ed 4f 01 	      SBC	temp_v
   3472  8623		       ae 51 01 	      LDX	iter
   3473  8626		       9d 52 01 	      sta	bul_x,x
   3474  8629				   .L0258		;;line 444;;  if bul_x[iter]  >  temp_w then bul_x_hi[iter] = bul_x_hi[iter]  -  1
   3475  8629
   3476  8629		       ad 89 01 	      lda	temp_w
   3477  862c		       ae 51 01 	      LDX	iter
   3478  862f		       dd 52 01 	      cmp	bul_x,x
   3479  8632		       b0 0f		      bcs	.skipL0258
   3480  8634				   .condpart51
   3481  8634		       ae 51 01 	      LDX	iter
   3482  8637		       bd 50 22 	      lda	bul_x_hi,x
   3483  863a		       38		      SEC
   3484  863b		       e9 01		      SBC	#1
   3485  863d		       ae 51 01 	      LDX	iter
   3486  8640		       9d 50 22 	      sta	bul_x_hi,x
   3487  8643				   .skipL0258
   3488  8643				   .
   3489  8643							;;line 445;;
   3490  8643
   3491  8643				   .bul_x_done
   3492  8643							;;line 446;; bul_x_done
   3493  8643
   3494  8643				   .
   3495  8643							;;line 447;;
   3496  8643
   3497  8643				   .L0259		;;line 448;;  if bul_x_hi[iter]  >=  4 then bul_x_hi[iter] = 0
   3498  8643
   3499  8643		       ae 51 01 	      LDX	iter
   3500  8646		       bd 50 22 	      lda	bul_x_hi,x
   3501  8649		       c9 04		      cmp	#4
   3502  864b		       90 08		      bcc	.skipL0259
   3503  864d				   .condpart52
   3504  864d		       a9 00		      lda	#0
   3505  864f		       ae 51 01 	      LDX	iter
   3506  8652		       9d 50 22 	      sta	bul_x_hi,x
   3507  8655				   .skipL0259
   3508  8655				   .L0260		;;line 449;;  if bul_x_hi[iter] = 255 then bul_x_hi[iter] = 3
   3509  8655
   3510  8655		       ae 51 01 	      LDX	iter
   3511  8658		       bd 50 22 	      lda	bul_x_hi,x
   3512  865b		       c9 ff		      cmp	#255
   3513  865d		       d0 08		      bne	.skipL0260
   3514  865f				   .condpart53
   3515  865f		       a9 03		      lda	#3
   3516  8661		       ae 51 01 	      LDX	iter
   3517  8664		       9d 50 22 	      sta	bul_x_hi,x
   3518  8667				   .skipL0260
   3519  8667				   .
   3520  8667							;;line 450;;
   3521  8667
   3522  8667				   .
   3523  8667							;;line 451;;
   3524  8667
   3525  8667				   .L0261		;;line 452;;  temp_v = bul_vy[iter]
   3526  8667
   3527  8667		       ae 51 01 	      LDX	iter
   3528  866a		       bd 5e 01 	      lda	bul_vy,x
   3529  866d		       8d 4f 01 	      sta	temp_v
   3530  8670				   .L0262		;;line 453;;  if temp_v  >=  128 then goto bul_y_neg
   3531  8670
   3532  8670		       ad 4f 01 	      lda	temp_v
   3533  8673		       c9 80		      cmp	#128
   3534  8675		       90 03		      bcc	.skipL0262
   3535  8677				   .condpart54
   3536  8677		       4c a7 86 	      jmp	.bul_y_neg
   3537  867a				   .skipL0262
   3538  867a				   .
   3539  867a							;;line 454;;
   3540  867a
   3541  867a				   .
   3542  867a							;;line 455;;
   3543  867a
   3544  867a				   .L0263		;;line 456;;  bul_y[iter] = bul_y[iter]  +  temp_v
   3545  867a
   3546  867a		       ae 51 01 	      LDX	iter
   3547  867d		       bd 56 01 	      lda	bul_y,x
   3548  8680		       18		      CLC
   3549  8681		       6d 4f 01 	      ADC	temp_v
   3550  8684		       ae 51 01 	      LDX	iter
   3551  8687		       9d 56 01 	      sta	bul_y,x
   3552  868a				   .L0264		;;line 457;;  if bul_y[iter]  <  temp_v then bul_y_hi[iter] = bul_y_hi[iter]  +  1
   3553  868a
   3554  868a		       ae 51 01 	      LDX	iter
   3555  868d		       bd 56 01 	      lda	bul_y,x
   3556  8690		       cd 4f 01 	      cmp	temp_v
   3557  8693		       b0 0f		      bcs	.skipL0264
   3558  8695				   .condpart55
   3559  8695		       ae 51 01 	      LDX	iter
   3560  8698		       bd 54 22 	      lda	bul_y_hi,x
   3561  869b		       18		      CLC
   3562  869c		       69 01		      ADC	#1
   3563  869e		       ae 51 01 	      LDX	iter
   3564  86a1		       9d 54 22 	      sta	bul_y_hi,x
   3565  86a4				   .skipL0264
   3566  86a4				   .L0265		;;line 458;;  goto bul_y_done
   3567  86a4
   3568  86a4		       4c e3 86 	      jmp	.bul_y_done
   3569  86a7				   .
   3570  86a7							;;line 459;;
   3571  86a7
   3572  86a7				   .bul_y_neg
   3573  86a7							;;line 460;; bul_y_neg
   3574  86a7
   3575  86a7				   .L0266		;;line 461;;  temp_v = 0  -  temp_v
   3576  86a7
   3577  86a7		       a9 00		      lda	#0
   3578  86a9		       38		      SEC
   3579  86aa		       ed 4f 01 	      SBC	temp_v
   3580  86ad		       8d 4f 01 	      sta	temp_v
   3581  86b0				   .L0267		;;line 462;;  temp_w = bul_y[iter]
   3582  86b0
   3583  86b0		       ae 51 01 	      LDX	iter
   3584  86b3		       bd 56 01 	      lda	bul_y,x
   3585  86b6		       8d 89 01 	      sta	temp_w
   3586  86b9				   .L0268		;;line 463;;  bul_y[iter] = bul_y[iter]  -  temp_v
   3587  86b9
   3588  86b9		       ae 51 01 	      LDX	iter
   3589  86bc		       bd 56 01 	      lda	bul_y,x
   3590  86bf		       38		      SEC
   3591  86c0		       ed 4f 01 	      SBC	temp_v
   3592  86c3		       ae 51 01 	      LDX	iter
   3593  86c6		       9d 56 01 	      sta	bul_y,x
   3594  86c9				   .L0269		;;line 464;;  if bul_y[iter]  >  temp_w then bul_y_hi[iter] = bul_y_hi[iter]  -  1
   3595  86c9
   3596  86c9		       ad 89 01 	      lda	temp_w
   3597  86cc		       ae 51 01 	      LDX	iter
   3598  86cf		       dd 56 01 	      cmp	bul_y,x
   3599  86d2		       b0 0f		      bcs	.skipL0269
   3600  86d4				   .condpart56
   3601  86d4		       ae 51 01 	      LDX	iter
   3602  86d7		       bd 54 22 	      lda	bul_y_hi,x
   3603  86da		       38		      SEC
   3604  86db		       e9 01		      SBC	#1
   3605  86dd		       ae 51 01 	      LDX	iter
   3606  86e0		       9d 54 22 	      sta	bul_y_hi,x
   3607  86e3				   .skipL0269
   3608  86e3				   .
   3609  86e3							;;line 465;;
   3610  86e3
   3611  86e3				   .bul_y_done
   3612  86e3							;;line 466;; bul_y_done
   3613  86e3
   3614  86e3				   .
   3615  86e3							;;line 467;;
   3616  86e3
   3617  86e3				   .L0270		;;line 468;;  if bul_y_hi[iter]  >=  4 then bul_y_hi[iter] = 0
   3618  86e3
   3619  86e3		       ae 51 01 	      LDX	iter
   3620  86e6		       bd 54 22 	      lda	bul_y_hi,x
   3621  86e9		       c9 04		      cmp	#4
   3622  86eb		       90 08		      bcc	.skipL0270
   3623  86ed				   .condpart57
   3624  86ed		       a9 00		      lda	#0
   3625  86ef		       ae 51 01 	      LDX	iter
   3626  86f2		       9d 54 22 	      sta	bul_y_hi,x
   3627  86f5				   .skipL0270
   3628  86f5				   .L0271		;;line 469;;  if bul_y_hi[iter] = 255 then bul_y_hi[iter] = 3
   3629  86f5
   3630  86f5		       ae 51 01 	      LDX	iter
   3631  86f8		       bd 54 22 	      lda	bul_y_hi,x
   3632  86fb		       c9 ff		      cmp	#255
   3633  86fd		       d0 08		      bne	.skipL0271
   3634  86ff				   .condpart58
   3635  86ff		       a9 03		      lda	#3
   3636  8701		       ae 51 01 	      LDX	iter
   3637  8704		       9d 54 22 	      sta	bul_y_hi,x
   3638  8707				   .skipL0271
   3639  8707				   .
   3640  8707							;;line 470;;
   3641  8707
   3642  8707				   .
   3643  8707							;;line 471;;
   3644  8707
   3645  8707				   .L0272		;;line 472;;  temp_v = bul_x[iter]  -	cam_x
   3646  8707
   3647  8707		       ae 51 01 	      LDX	iter
   3648  870a		       bd 52 01 	      lda	bul_x,x
   3649  870d		       38		      SEC
   3650  870e		       ed 48 22 	      SBC	cam_x
   3651  8711		       8d 4f 01 	      sta	temp_v
   3652  8714				   .L0273		;;line 473;;  if temp_v  >  165 then if temp_v  <  240 then blife[iter] = 0
   3653  8714
   3654  8714		       a9 a5		      lda	#165
   3655  8716		       cd 4f 01 	      cmp	temp_v
   3656  8719		       b0 0f		      bcs	.skipL0273
   3657  871b				   .condpart59
   3658  871b		       ad 4f 01 	      lda	temp_v
   3659  871e		       c9 f0		      cmp	#240
   3660  8720		       b0 08		      bcs	.skip59then
   3661  8722				   .condpart60
   3662  8722		       a9 00		      lda	#0
   3663  8724		       ae 51 01 	      LDX	iter
   3664  8727		       9d 62 01 	      sta	blife,x
   3665  872a				   .skip59then
   3666  872a				   .skipL0273
   3667  872a				   .
   3668  872a							;;line 474;;
   3669  872a
   3670  872a				   .L0274		;;line 475;;  temp_v = bul_y[iter]  -	cam_y
   3671  872a
   3672  872a		       ae 51 01 	      LDX	iter
   3673  872d		       bd 56 01 	      lda	bul_y,x
   3674  8730		       38		      SEC
   3675  8731		       ed 4a 22 	      SBC	cam_y
   3676  8734		       8d 4f 01 	      sta	temp_v
   3677  8737				   .L0275		;;line 476;;  if temp_v  >  200 then blife[iter] = 0
   3678  8737
   3679  8737		       a9 c8		      lda	#200
   3680  8739		       cd 4f 01 	      cmp	temp_v
   3681  873c		       b0 08		      bcs	.skipL0275
   3682  873e				   .condpart61
   3683  873e		       a9 00		      lda	#0
   3684  8740		       ae 51 01 	      LDX	iter
   3685  8743		       9d 62 01 	      sta	blife,x
   3686  8746				   .skipL0275
   3687  8746				   .
   3688  8746							;;line 477;;
   3689  8746
   3690  8746				   .
   3691  8746							;;line 478;;
   3692  8746
   3693  8746				   .L0276		;;line 479;;  if blife[iter]  >  0 then blife[iter] = blife[iter]  -  1
   3694  8746
   3695  8746		       a9 00		      lda	#0
   3696  8748		       ae 51 01 	      LDX	iter
   3697  874b		       dd 62 01 	      cmp	blife,x
   3698  874e		       b0 0f		      bcs	.skipL0276
   3699  8750				   .condpart62
   3700  8750		       ae 51 01 	      LDX	iter
   3701  8753		       bd 62 01 	      lda	blife,x
   3702  8756		       38		      SEC
   3703  8757		       e9 01		      SBC	#1
   3704  8759		       ae 51 01 	      LDX	iter
   3705  875c		       9d 62 01 	      sta	blife,x
   3706  875f				   .skipL0276
   3707  875f				   .L0277		;;line 480;;  return
   3708  875f
   3709  875f		       60		      rts
   3710  8760				   .
   3711  8760							;;line 481;;
   3712  8760
   3713  8760				   .fire_bullet
   3714  8760							;;line 482;; fire_bullet
   3715  8760
   3716  8760				   .
   3717  8760							;;line 483;;
   3718  8760
   3719  8760				   .L0278		;;line 484;;  for iter = 0 to 3
   3720  8760
   3721  8760		       a9 00		      lda	#0
   3722  8762		       8d 51 01 	      sta	iter
   3723  8765				   .L0278foriter
   3724  8765				   .L0279		;;line 485;;  if blife[iter] = 0 then goto spawn_bullet
   3725  8765
   3726  8765		       ae 51 01 	      LDX	iter
   3727  8768		       bd 62 01 	      lda	blife,x
   3728  876b		       c9 00		      cmp	#0
   3729  876d		       d0 03		      bne	.skipL0279
   3730  876f				   .condpart63
   3731  876f		       4c 7d 87 	      jmp	.spawn_bullet
   3732  8772				   .skipL0279
   3733  8772				   .L0280		;;line 486;;  next
   3734  8772
   3735  8772		       ad 51 01 	      lda	iter
   3736  8775		       c9 03		      cmp	#3
   3737  8777		       ee 51 01 	      inc	iter
   3738  877a					      if	((* - .L0278foriter) < 127) && ((* - .L0278foriter) > -128)
   3739  877a		       90 e9		      bcc	.L0278foriter
   3740  877c				  -	      else
   3741  877c				  -	      bcs	.2skipL0278foriter
   3742  877c				  -	      jmp	.L0278foriter
   3743  877c				  -.2skipL0278foriter
   3744  877c					      endif
   3745  877c				   .L0281		;;line 487;;  return
   3746  877c
   3747  877c		       60		      rts
   3748  877d				   .
   3749  877d							;;line 488;;
   3750  877d
   3751  877d				   .spawn_bullet
   3752  877d							;;line 489;; spawn_bullet
   3753  877d
   3754  877d				   .L0282		;;line 490;;  blife[iter] = 60
   3755  877d
   3756  877d		       a9 3c		      lda	#60
   3757  877f		       ae 51 01 	      LDX	iter
   3758  8782		       9d 62 01 	      sta	blife,x
   3759  8785				   .
   3760  8785							;;line 491;;
   3761  8785
   3762  8785				   .
   3763  8785							;;line 492;;
   3764  8785
   3765  8785				   .L0283		;;line 493;;  temp_v = px  -  cam_x
   3766  8785
   3767  8785		       ad 40 01 	      lda	px
   3768  8788		       38		      SEC
   3769  8789		       ed 48 22 	      SBC	cam_x
   3770  878c		       8d 4f 01 	      sta	temp_v
   3771  878f				   .L0284		;;line 494;;  bul_x[iter] = temp_v  +	7
   3772  878f
   3773  878f		       ad 4f 01 	      lda	temp_v
   3774  8792		       18		      CLC
   3775  8793		       69 07		      ADC	#7
   3776  8795		       ae 51 01 	      LDX	iter
   3777  8798		       9d 52 01 	      sta	bul_x,x
   3778  879b				   .
   3779  879b							;;line 495;;
   3780  879b
   3781  879b				   .L0285		;;line 496;;  temp_w = py  -  cam_y
   3782  879b
   3783  879b		       ad 41 01 	      lda	py
   3784  879e		       38		      SEC
   3785  879f		       ed 4a 22 	      SBC	cam_y
   3786  87a2		       8d 89 01 	      sta	temp_w
   3787  87a5				   .L0286		;;line 497;;  bul_y[iter] = temp_w  +	7
   3788  87a5
   3789  87a5		       ad 89 01 	      lda	temp_w
   3790  87a8		       18		      CLC
   3791  87a9		       69 07		      ADC	#7
   3792  87ab		       ae 51 01 	      LDX	iter
   3793  87ae		       9d 56 01 	      sta	bul_y,x
   3794  87b1				   .
   3795  87b1							;;line 498;;
   3796  87b1
   3797  87b1				   .
   3798  87b1							;;line 499;;
   3799  87b1
   3800  87b1				   .
   3801  87b1							;;line 500;;
   3802  87b1
   3803  87b1				   .
   3804  87b1							;;line 501;;
   3805  87b1
   3806  87b1				   .
   3807  87b1							;;line 502;;
   3808  87b1
   3809  87b1				   .
   3810  87b1							;;line 503;;
   3811  87b1
   3812  87b1				   .
   3813  87b1							;;line 504;;
   3814  87b1
   3815  87b1				   .
   3816  87b1							;;line 505;;
   3817  87b1
   3818  87b1				   .
   3819  87b1							;;line 506;;
   3820  87b1
   3821  87b1				   .
   3822  87b1							;;line 507;;
   3823  87b1
   3824  87b1				   .
   3825  87b1							;;line 508;;
   3826  87b1
   3827  87b1				   .
   3828  87b1							;;line 509;;
   3829  87b1
   3830  87b1				   .
   3831  87b1							;;line 510;;
   3832  87b1
   3833  87b1				   .
   3834  87b1							;;line 511;;
   3835  87b1
   3836  87b1				   .
   3837  87b1							;;line 512;;
   3838  87b1
   3839  87b1				   .
   3840  87b1							;;line 513;;
   3841  87b1
   3842  87b1				   .
   3843  87b1							;;line 514;;
   3844  87b1
   3845  87b1				   .
   3846  87b1							;;line 515;;
   3847  87b1
   3848  87b1				   .L0287		;;line 516;;  temp_v = sin_table[angle]
   3849  87b1
   3850  87b1		       ae 48 01 	      LDX	angle
   3851  87b4		       bd 0e 95 	      lda	sin_table,x
   3852  87b7		       8d 4f 01 	      sta	temp_v
   3853  87ba				   .L0288		;;line 517;;  if temp_v  >=  128 then temp_v = 0  -  temp_v  :  temp_v = 0  -	temp_v
   3854  87ba
   3855  87ba		       ad 4f 01 	      lda	temp_v
   3856  87bd		       c9 80		      cmp	#128
   3857  87bf		       90 12		      bcc	.skipL0288
   3858  87c1				   .condpart64
   3859  87c1		       a9 00		      lda	#0
   3860  87c3		       38		      SEC
   3861  87c4		       ed 4f 01 	      SBC	temp_v
   3862  87c7		       8d 4f 01 	      sta	temp_v
   3863  87ca		       a9 00		      lda	#0
   3864  87cc		       38		      SEC
   3865  87cd		       ed 4f 01 	      SBC	temp_v
   3866  87d0		       8d 4f 01 	      sta	temp_v
   3867  87d3				   .skipL0288
   3868  87d3				   .
   3869  87d3							;;line 518;;
   3870  87d3
   3871  87d3				   .
   3872  87d3							;;line 519;;
   3873  87d3
   3874  87d3				   .
   3875  87d3							;;line 520;;
   3876  87d3
   3877  87d3				   .L0289		;;line 521;;  temp_v = sin_table[angle]
   3878  87d3
   3879  87d3		       ae 48 01 	      LDX	angle
   3880  87d6		       bd 0e 95 	      lda	sin_table,x
   3881  87d9		       8d 4f 01 	      sta	temp_v
   3882  87dc				   .
   3883  87dc							;;line 522;;
   3884  87dc
   3885  87dc				   .
   3886  87dc							;;line 523;;
   3887  87dc
   3888  87dc				   .
   3889  87dc							;;line 524;;
   3890  87dc
   3891  87dc				   .L0290		;;line 525;;  bul_vx[iter] = temp_v
   3892  87dc
   3893  87dc		       ad 4f 01 	      lda	temp_v
   3894  87df		       ae 51 01 	      LDX	iter
   3895  87e2		       9d 5a 01 	      sta	bul_vx,x
   3896  87e5				   .
   3897  87e5							;;line 526;;
   3898  87e5
   3899  87e5				   .L0291		;;line 527;;  temp_v = cos_table[angle]
   3900  87e5
   3901  87e5		       ae 48 01 	      LDX	angle
   3902  87e8		       bd 21 95 	      lda	cos_table,x
   3903  87eb		       8d 4f 01 	      sta	temp_v
   3904  87ee				   .
   3905  87ee							;;line 528;;
   3906  87ee
   3907  87ee				   .
   3908  87ee							;;line 529;;
   3909  87ee
   3910  87ee				   .
   3911  87ee							;;line 530;;
   3912  87ee
   3913  87ee				   .
   3914  87ee							;;line 531;;
   3915  87ee
   3916  87ee				   .
   3917  87ee							;;line 532;;
   3918  87ee
   3919  87ee				   .
   3920  87ee							;;line 533;;
   3921  87ee
   3922  87ee				   .
   3923  87ee							;;line 534;;
   3924  87ee
   3925  87ee				   .
   3926  87ee							;;line 535;;
   3927  87ee
   3928  87ee				   .L0292		;;line 536;;  if temp_v  <  128 then bul_vy[iter] = 0	-  temp_v
   3929  87ee
   3930  87ee		       ad 4f 01 	      lda	temp_v
   3931  87f1		       c9 80		      cmp	#128
   3932  87f3		       b0 0c		      bcs	.skipL0292
   3933  87f5				   .condpart65
   3934  87f5		       a9 00		      lda	#0
   3935  87f7		       38		      SEC
   3936  87f8		       ed 4f 01 	      SBC	temp_v
   3937  87fb		       ae 51 01 	      LDX	iter
   3938  87fe		       9d 5e 01 	      sta	bul_vy,x
   3939  8801				   .skipL0292
   3940  8801				   .
   3941  8801							;;line 537;;
   3942  8801
   3943  8801				   .L0293		;;line 538;;  if temp_v  >=  128 then temp_v = 0  -  temp_v  :  bul_vy[iter] = temp_v
   3944  8801
   3945  8801		       ad 4f 01 	      lda	temp_v
   3946  8804		       c9 80		      cmp	#128
   3947  8806		       90 12		      bcc	.skipL0293
   3948  8808				   .condpart66
   3949  8808		       a9 00		      lda	#0
   3950  880a		       38		      SEC
   3951  880b		       ed 4f 01 	      SBC	temp_v
   3952  880e		       8d 4f 01 	      sta	temp_v
   3953  8811		       ad 4f 01 	      lda	temp_v
   3954  8814		       ae 51 01 	      LDX	iter
   3955  8817		       9d 5e 01 	      sta	bul_vy,x
   3956  881a				   .skipL0293
   3957  881a				   .
   3958  881a							;;line 539;;
   3959  881a
   3960  881a				   .
   3961  881a							;;line 540;;
   3962  881a
   3963  881a				   .L0294		;;line 541;;  playsfx sfx_laser 0
   3964  881a
   3965  881a					      ifnconst	NOTIALOCKMUTE
   3966  881a		       a9 01		      lda	#1
   3967  881c		       85 de		      sta	sfxschedulelock
   3968  881e		       a9 34		      lda	#<sfx_laser
   3969  8820		       85 e0		      sta	sfxinstrumentlo
   3970  8822		       a9 95		      lda	#>sfx_laser
   3971  8824		       85 e1		      sta	sfxinstrumenthi
   3972  8826		       a9 00		      lda	#0
   3973  8828		       85 e2		      sta	sfxpitchoffset	; pitch modification
   3974  882a		       a9 00		      lda	#0
   3975  882c		       85 e3		      sta	sfxnoteindex	; not a musical note
   3976  882e		       20 9d f2 	      jsr	schedulesfx
   3977  8831		       a9 00		      lda	#0
   3978  8833		       85 de		      sta	sfxschedulelock
   3979  8835					      endif		; NOTIALOCKMUTE
   3980  8835				   .
   3981  8835							;;line 542;;
   3982  8835
   3983  8835				   .L0295		;;line 543;;  bcooldown = 15
   3984  8835
   3985  8835		       a9 0f		      lda	#15
   3986  8837		       8d 50 01 	      sta	bcooldown
   3987  883a				   .L0296		;;line 544;;  return
   3988  883a
   3989  883a		       60		      rts
   3990  883b				   .
   3991  883b							;;line 545;;
   3992  883b
   3993  883b				   .update_enemy
   3994  883b							;;line 546;; update_enemy
   3995  883b
   3996  883b				   .
   3997  883b							;;line 547;;
   3998  883b
   3999  883b				   .L0297		;;line 548;;  for iter = 0 to 3
   4000  883b
   4001  883b		       a9 00		      lda	#0
   4002  883d		       8d 51 01 	      sta	iter
   4003  8840				   .L0297foriter
   4004  8840				   .L0298		;;line 549;;  if elife[iter] = 0 then goto try_spawn_enemy
   4005  8840
   4006  8840		       ae 51 01 	      LDX	iter
   4007  8843		       bd 78 01 	      lda	elife,x
   4008  8846		       c9 00		      cmp	#0
   4009  8848		       d0 03		      bne	.skipL0298
   4010  884a				   .condpart67
   4011  884a		       4c 2d 89 	      jmp	.try_spawn_enemy
   4012  884d				   .skipL0298
   4013  884d				   .
   4014  884d							;;line 550;;
   4015  884d
   4016  884d				   .
   4017  884d							;;line 551;;
   4018  884d
   4019  884d				   .
   4020  884d							;;line 552;;
   4021  884d
   4022  884d				   .L0299		;;line 553;;  if  ( frame  &  1 )   >	0 then goto enemy_logic_done
   4023  884d
   4024  884d							; complex condition detected
   4025  884d							; complex statement detected
   4026  884d		       ad 4d 01 	      lda	frame
   4027  8850		       29 01		      AND	#1
   4028  8852		       48		      pha
   4029  8853		       ba		      tsx
   4030  8854		       68		      pla
   4031  8855		       a9 00		      lda	#0
   4032  8857		       dd 01 01 	      cmp	$101,x
   4033  885a		       b0 03		      bcs	.skipL0299
   4034  885c				   .condpart68
   4035  885c		       4c b5 89 	      jmp	.enemy_logic_done
   4036  885f				   .skipL0299
   4037  885f				   .
   4038  885f							;;line 554;;
   4039  885f
   4040  885f				   .
   4041  885f							;;line 555;;
   4042  885f
   4043  885f				   .L0300		;;line 556;;  temp_v = ex[iter]
   4044  885f
   4045  885f		       ae 51 01 	      LDX	iter
   4046  8862		       bd 68 01 	      lda	ex,x
   4047  8865		       8d 4f 01 	      sta	temp_v
   4048  8868				   .L0301		;;line 557;;  temp_w = ey[iter]
   4049  8868
   4050  8868		       ae 51 01 	      LDX	iter
   4051  886b		       bd 6c 01 	      lda	ey,x
   4052  886e		       8d 89 01 	      sta	temp_w
   4053  8871				   .
   4054  8871							;;line 558;;
   4055  8871
   4056  8871				   .
   4057  8871							;;line 559;;
   4058  8871
   4059  8871				   .L0302		;;line 560;;  temp_acc = px  +  8
   4060  8871
   4061  8871		       ad 40 01 	      lda	px
   4062  8874		       18		      CLC
   4063  8875		       69 08		      ADC	#8
   4064  8877		       8d 4c 01 	      sta	temp_acc
   4065  887a				   .L0303		;;line 561;;  temp_acc = temp_acc  -  temp_v
   4066  887a
   4067  887a		       ad 4c 01 	      lda	temp_acc
   4068  887d		       38		      SEC
   4069  887e		       ed 4f 01 	      SBC	temp_v
   4070  8881		       8d 4c 01 	      sta	temp_acc
   4071  8884				   .L0304		;;line 562;;  if temp_acc = 0 then goto skip_ex_move
   4072  8884
   4073  8884		       ad 4c 01 	      lda	temp_acc
   4074  8887		       c9 00		      cmp	#0
   4075  8889		       d0 03		      bne	.skipL0304
   4076  888b				   .condpart69
   4077  888b		       4c aa 88 	      jmp	.skip_ex_move
   4078  888e				   .skipL0304
   4079  888e				   .L0305		;;line 563;;  if temp_acc  >=	128 then temp_v = temp_v  -  1 else temp_v = temp_v  +	1
   4080  888e
   4081  888e		       ad 4c 01 	      lda	temp_acc
   4082  8891		       c9 80		      cmp	#128
   4083  8893		       90 0c		      bcc	.skipL0305
   4084  8895				   .condpart70
   4085  8895		       ad 4f 01 	      lda	temp_v
   4086  8898		       38		      SEC
   4087  8899		       e9 01		      SBC	#1
   4088  889b		       8d 4f 01 	      sta	temp_v
   4089  889e		       4c aa 88 	      jmp	.skipelse2
   4090  88a1				   .skipL0305
   4091  88a1		       ad 4f 01 	      lda	temp_v
   4092  88a4		       18		      CLC
   4093  88a5		       69 01		      ADC	#1
   4094  88a7		       8d 4f 01 	      sta	temp_v
   4095  88aa				   .skipelse2
   4096  88aa				   .skip_ex_move
   4097  88aa							;;line 564;; skip_ex_move
   4098  88aa
   4099  88aa				   .
   4100  88aa							;;line 565;;
   4101  88aa
   4102  88aa				   .
   4103  88aa							;;line 566;;
   4104  88aa
   4105  88aa				   .L0306		;;line 567;;  temp_acc = py  +  8
   4106  88aa
   4107  88aa		       ad 41 01 	      lda	py
   4108  88ad		       18		      CLC
   4109  88ae		       69 08		      ADC	#8
   4110  88b0		       8d 4c 01 	      sta	temp_acc
   4111  88b3				   .L0307		;;line 568;;  temp_acc = temp_acc  -  temp_w
   4112  88b3
   4113  88b3		       ad 4c 01 	      lda	temp_acc
   4114  88b6		       38		      SEC
   4115  88b7		       ed 89 01 	      SBC	temp_w
   4116  88ba		       8d 4c 01 	      sta	temp_acc
   4117  88bd				   .L0308		;;line 569;;  if temp_acc = 0 then goto skip_ey_move
   4118  88bd
   4119  88bd		       ad 4c 01 	      lda	temp_acc
   4120  88c0		       c9 00		      cmp	#0
   4121  88c2		       d0 03		      bne	.skipL0308
   4122  88c4				   .condpart71
   4123  88c4		       4c e3 88 	      jmp	.skip_ey_move
   4124  88c7				   .skipL0308
   4125  88c7				   .L0309		;;line 570;;  if temp_acc  >=	128 then temp_w = temp_w  -  1 else temp_w = temp_w  +	1
   4126  88c7
   4127  88c7		       ad 4c 01 	      lda	temp_acc
   4128  88ca		       c9 80		      cmp	#128
   4129  88cc		       90 0c		      bcc	.skipL0309
   4130  88ce				   .condpart72
   4131  88ce		       ad 89 01 	      lda	temp_w
   4132  88d1		       38		      SEC
   4133  88d2		       e9 01		      SBC	#1
   4134  88d4		       8d 89 01 	      sta	temp_w
   4135  88d7		       4c e3 88 	      jmp	.skipelse3
   4136  88da				   .skipL0309
   4137  88da		       ad 89 01 	      lda	temp_w
   4138  88dd		       18		      CLC
   4139  88de		       69 01		      ADC	#1
   4140  88e0		       8d 89 01 	      sta	temp_w
   4141  88e3				   .skipelse3
   4142  88e3				   .skip_ey_move
   4143  88e3							;;line 571;; skip_ey_move
   4144  88e3
   4145  88e3				   .
   4146  88e3							;;line 572;;
   4147  88e3
   4148  88e3				   .L0310		;;line 573;;  ex[iter] = temp_v
   4149  88e3
   4150  88e3		       ad 4f 01 	      lda	temp_v
   4151  88e6		       ae 51 01 	      LDX	iter
   4152  88e9		       9d 68 01 	      sta	ex,x
   4153  88ec				   .L0311		;;line 574;;  ey[iter] = temp_w
   4154  88ec
   4155  88ec		       ad 89 01 	      lda	temp_w
   4156  88ef		       ae 51 01 	      LDX	iter
   4157  88f2		       9d 6c 01 	      sta	ey,x
   4158  88f5				   .
   4159  88f5							;;line 575;;
   4160  88f5
   4161  88f5				   .
   4162  88f5							;;line 576;;
   4163  88f5
   4164  88f5				   .L0312		;;line 577;;  if ecooldown  >	0 then goto skip_firing_chance
   4165  88f5
   4166  88f5		       a9 00		      lda	#0
   4167  88f7		       cd 88 01 	      cmp	ecooldown
   4168  88fa		       b0 03		      bcs	.skipL0312
   4169  88fc				   .condpart73
   4170  88fc		       4c 1b 89 	      jmp	.skip_firing_chance
   4171  88ff				   .skipL0312
   4172  88ff				   .
   4173  88ff							;;line 578;;
   4174  88ff
   4175  88ff				   .
   4176  88ff							;;line 579;;
   4177  88ff
   4178  88ff				   .L0313		;;line 580;;  rand_val = frame  +  iter
   4179  88ff
   4180  88ff		       ad 4d 01 	      lda	frame
   4181  8902		       18		      CLC
   4182  8903		       6d 51 01 	      ADC	iter
   4183  8906		       8d 30 22 	      sta	rand_val
   4184  8909				   .L0314		;;line 581;;  rand_val = rand_val  &  15
   4185  8909
   4186  8909		       20 0c f4 	      jsr	randomize
   4187  890c		       29 0f		      AND	#15
   4188  890e		       8d 30 22 	      sta	rand_val
   4189  8911				   .L0315		;;line 582;;  if rand_val = 0 then gosub fire_enemy_bullet
   4190  8911
   4191  8911		       ad 30 22 	      lda	rand_val
   4192  8914		       c9 00		      cmp	#0
   4193  8916		       d0 03		      bne	.skipL0315
   4194  8918				   .condpart74
   4195  8918		       20 c3 89 	      jsr	.fire_enemy_bullet
   4196  891b				   .skipL0315
   4197  891b				   .
   4198  891b							;;line 583;;
   4199  891b
   4200  891b				   .skip_firing_chance
   4201  891b							;;line 584;; skip_firing_chance
   4202  891b
   4203  891b				   .L0316		;;line 585;;  goto enemy_logic_done
   4204  891b
   4205  891b		       4c b5 89 	      jmp	.enemy_logic_done
   4206  891e				   .
   4207  891e							;;line 586;;
   4208  891e
   4209  891e				   .L0317		;;line 587;;  P2C1 = $04 :  P2C2 = $08 :  P2C3 = $0C
   4210  891e
   4211  891e		       a9 04		      lda	#$04
   4212  8920		       85 29		      sta	P2C1
   4213  8922		       a9 08		      lda	#$08
   4214  8924		       85 2a		      sta	P2C2
   4215  8926		       a9 0c		      lda	#$0C
   4216  8928		       85 2b		      sta	P2C3
   4217  892a				   .
   4218  892a							;;line 588;;
   4219  892a
   4220  892a				   .L0318		;;line 589;;  goto enemy_logic_done
   4221  892a
   4222  892a		       4c b5 89 	      jmp	.enemy_logic_done
   4223  892d				   .
   4224  892d							;;line 590;;
   4225  892d
   4226  892d				   .try_spawn_enemy
   4227  892d							;;line 591;; try_spawn_enemy
   4228  892d
   4229  892d				   .
   4230  892d							;;line 592;;
   4231  892d
   4232  892d				   .L0319		;;line 593;;  rand_val = frame  &  127
   4233  892d
   4234  892d		       ad 4d 01 	      lda	frame
   4235  8930		       29 7f		      AND	#127
   4236  8932		       8d 30 22 	      sta	rand_val
   4237  8935				   .L0320		;;line 594;;  if rand_val  >  5 then goto enemy_logic_done
   4238  8935
   4239  8935		       a9 05		      lda	#5
   4240  8937		       cd 30 22 	      cmp	rand_val
   4241  893a		       b0 03		      bcs	.skipL0320
   4242  893c				   .condpart75
   4243  893c		       4c b5 89 	      jmp	.enemy_logic_done
   4244  893f				   .skipL0320
   4245  893f				   .
   4246  893f							;;line 595;;
   4247  893f
   4248  893f				   .
   4249  893f							;;line 596;;
   4250  893f
   4251  893f				   .L0321		;;line 597;;  elife[iter] = 1
   4252  893f
   4253  893f		       a9 01		      lda	#1
   4254  8941		       ae 51 01 	      LDX	iter
   4255  8944		       9d 78 01 	      sta	elife,x
   4256  8947				   .
   4257  8947							;;line 598;;
   4258  8947
   4259  8947				   .L0322		;;line 599;;  temp_v = frame  +  iter
   4260  8947
   4261  8947		       ad 4d 01 	      lda	frame
   4262  894a		       18		      CLC
   4263  894b		       6d 51 01 	      ADC	iter
   4264  894e		       8d 4f 01 	      sta	temp_v
   4265  8951				   .L0323		;;line 600;;  rand_val = temp_v  &  3
   4266  8951
   4267  8951		       ad 4f 01 	      lda	temp_v
   4268  8954		       29 03		      AND	#3
   4269  8956		       8d 30 22 	      sta	rand_val
   4270  8959				   .L0324		;;line 601;;  if rand_val = 0 then ex[iter] = 5  :  ey[iter] = 90
   4271  8959
   4272  8959		       ad 30 22 	      lda	rand_val
   4273  895c		       c9 00		      cmp	#0
   4274  895e		       d0 10		      bne	.skipL0324
   4275  8960				   .condpart76
   4276  8960		       a9 05		      lda	#5
   4277  8962		       ae 51 01 	      LDX	iter
   4278  8965		       9d 68 01 	      sta	ex,x
   4279  8968		       a9 5a		      lda	#90
   4280  896a		       ae 51 01 	      LDX	iter
   4281  896d		       9d 6c 01 	      sta	ey,x
   4282  8970				   .skipL0324
   4283  8970				   .L0325		;;line 602;;  if rand_val = 1 then ex[iter] = 155  :  ey[iter] = 90
   4284  8970
   4285  8970		       ad 30 22 	      lda	rand_val
   4286  8973		       c9 01		      cmp	#1
   4287  8975		       d0 10		      bne	.skipL0325
   4288  8977				   .condpart77
   4289  8977		       a9 9b		      lda	#155
   4290  8979		       ae 51 01 	      LDX	iter
   4291  897c		       9d 68 01 	      sta	ex,x
   4292  897f		       a9 5a		      lda	#90
   4293  8981		       ae 51 01 	      LDX	iter
   4294  8984		       9d 6c 01 	      sta	ey,x
   4295  8987				   .skipL0325
   4296  8987				   .L0326		;;line 603;;  if rand_val = 2 then ex[iter] = 80  :  ey[iter] = 5
   4297  8987
   4298  8987		       ad 30 22 	      lda	rand_val
   4299  898a		       c9 02		      cmp	#2
   4300  898c		       d0 10		      bne	.skipL0326
   4301  898e				   .condpart78
   4302  898e		       a9 50		      lda	#80
   4303  8990		       ae 51 01 	      LDX	iter
   4304  8993		       9d 68 01 	      sta	ex,x
   4305  8996		       a9 05		      lda	#5
   4306  8998		       ae 51 01 	      LDX	iter
   4307  899b		       9d 6c 01 	      sta	ey,x
   4308  899e				   .skipL0326
   4309  899e				   .L0327		;;line 604;;  if rand_val = 3 then ex[iter] = 80  :  ey[iter] = 175
   4310  899e
   4311  899e		       ad 30 22 	      lda	rand_val
   4312  89a1		       c9 03		      cmp	#3
   4313  89a3		       d0 10		      bne	.skipL0327
   4314  89a5				   .condpart79
   4315  89a5		       a9 50		      lda	#80
   4316  89a7		       ae 51 01 	      LDX	iter
   4317  89aa		       9d 68 01 	      sta	ex,x
   4318  89ad		       a9 af		      lda	#175
   4319  89af		       ae 51 01 	      LDX	iter
   4320  89b2		       9d 6c 01 	      sta	ey,x
   4321  89b5				   .skipL0327
   4322  89b5				   .
   4323  89b5							;;line 605;;
   4324  89b5
   4325  89b5				   .enemy_logic_done
   4326  89b5							;;line 606;; enemy_logic_done
   4327  89b5
   4328  89b5				   .L0328		;;line 607;;  next
   4329  89b5
   4330  89b5		       ad 51 01 	      lda	iter
   4331  89b8		       c9 03		      cmp	#3
   4332  89ba		       ee 51 01 	      inc	iter
   4333  89bd				  -	      if	((* - .L0297foriter) < 127) && ((* - .L0297foriter) > -128)
   4334  89bd				  -	      bcc	.L0297foriter
   4335  89bd					      else
   4336  89bd		       b0 03		      bcs	.3skipL0297foriter
   4337  89bf		       4c 40 88 	      jmp	.L0297foriter
   4338  89c2				   .3skipL0297foriter
   4339  89c2					      endif
   4340  89c2				   .L0329		;;line 608;;  return
   4341  89c2
   4342  89c2		       60		      rts
   4343  89c3				   .
   4344  89c3							;;line 609;;
   4345  89c3
   4346  89c3				   .fire_enemy_bullet
   4347  89c3							;;line 610;; fire_enemy_bullet
   4348  89c3
   4349  89c3				   .
   4350  89c3							;;line 611;;
   4351  89c3
   4352  89c3				   .
   4353  89c3							;;line 612;;
   4354  89c3
   4355  89c3				   .L0330		;;line 613;;  for temp_acc = 0 to 3
   4356  89c3
   4357  89c3		       a9 00		      lda	#0
   4358  89c5		       8d 4c 01 	      sta	temp_acc
   4359  89c8				   .L0330fortemp_acc
   4360  89c8				   .L0331		;;line 614;;  if eblife[temp_acc] = 0 then goto spawn_ebul
   4361  89c8
   4362  89c8		       ae 4c 01 	      LDX	temp_acc
   4363  89cb		       bd 40 22 	      lda	eblife,x
   4364  89ce		       c9 00		      cmp	#0
   4365  89d0		       d0 03		      bne	.skipL0331
   4366  89d2				   .condpart80
   4367  89d2		       4c e0 89 	      jmp	.spawn_ebul
   4368  89d5				   .skipL0331
   4369  89d5				   .L0332		;;line 615;;  next
   4370  89d5
   4371  89d5		       ad 4c 01 	      lda	temp_acc
   4372  89d8		       c9 03		      cmp	#3
   4373  89da		       ee 4c 01 	      inc	temp_acc
   4374  89dd					      if	((* - .L0330fortemp_acc) < 127) && ((* - .L0330fortemp_acc) > -128)
   4375  89dd		       90 e9		      bcc	.L0330fortemp_acc
   4376  89df				  -	      else
   4377  89df				  -	      bcs	.4skipL0330fortemp_acc
   4378  89df				  -	      jmp	.L0330fortemp_acc
   4379  89df				  -.4skipL0330fortemp_acc
   4380  89df					      endif
   4381  89df				   .L0333		;;line 616;;  return
   4382  89df
   4383  89df		       60		      rts
   4384  89e0				   .
   4385  89e0							;;line 617;;
   4386  89e0
   4387  89e0				   .spawn_ebul
   4388  89e0							;;line 618;; spawn_ebul
   4389  89e0
   4390  89e0				   .
   4391  89e0							;;line 619;;
   4392  89e0
   4393  89e0				   .
   4394  89e0							;;line 620;;
   4395  89e0
   4396  89e0				   .L0334		;;line 621;;  eblife[temp_acc] = 120
   4397  89e0
   4398  89e0		       a9 78		      lda	#120
   4399  89e2		       ae 4c 01 	      LDX	temp_acc
   4400  89e5		       9d 40 22 	      sta	eblife,x
   4401  89e8				   .L0335		;;line 622;;  ebul_x[temp_acc] = ex[iter]
   4402  89e8
   4403  89e8		       ae 51 01 	      LDX	iter
   4404  89eb		       bd 68 01 	      lda	ex,x
   4405  89ee		       ae 4c 01 	      LDX	temp_acc
   4406  89f1		       9d 7c 01 	      sta	ebul_x,x
   4407  89f4				   .L0336		;;line 623;;  ebul_x_hi[temp_acc] = cam_x_hi
   4408  89f4
   4409  89f4		       ad 49 22 	      lda	cam_x_hi
   4410  89f7		       ae 4c 01 	      LDX	temp_acc
   4411  89fa		       9d 58 22 	      sta	ebul_x_hi,x
   4412  89fd				   .L0337		;;line 624;;  ebul_y[temp_acc] = ey[iter]
   4413  89fd
   4414  89fd		       ae 51 01 	      LDX	iter
   4415  8a00		       bd 6c 01 	      lda	ey,x
   4416  8a03		       ae 4c 01 	      LDX	temp_acc
   4417  8a06		       9d 80 01 	      sta	ebul_y,x
   4418  8a09				   .L0338		;;line 625;;  ebul_y_hi[temp_acc] = cam_y_hi
   4419  8a09
   4420  8a09		       ad 4b 22 	      lda	cam_y_hi
   4421  8a0c		       ae 4c 01 	      LDX	temp_acc
   4422  8a0f		       9d 5c 22 	      sta	ebul_y_hi,x
   4423  8a12				   .
   4424  8a12							;;line 626;;
   4425  8a12
   4426  8a12				   .L0339		;;line 627;;  temp_v = ex[iter]
   4427  8a12
   4428  8a12		       ae 51 01 	      LDX	iter
   4429  8a15		       bd 68 01 	      lda	ex,x
   4430  8a18		       8d 4f 01 	      sta	temp_v
   4431  8a1b				   .L0340		;;line 628;;  temp_w = ey[iter]
   4432  8a1b
   4433  8a1b		       ae 51 01 	      LDX	iter
   4434  8a1e		       bd 6c 01 	      lda	ey,x
   4435  8a21		       8d 89 01 	      sta	temp_w
   4436  8a24				   .
   4437  8a24							;;line 629;;
   4438  8a24
   4439  8a24				   .
   4440  8a24							;;line 630;;
   4441  8a24
   4442  8a24				   .
   4443  8a24							;;line 631;;
   4444  8a24
   4445  8a24				   .
   4446  8a24							;;line 632;;
   4447  8a24
   4448  8a24				   .
   4449  8a24							;;line 633;;
   4450  8a24
   4451  8a24				   .
   4452  8a24							;;line 634;;
   4453  8a24
   4454  8a24				   .L0341		;;line 635;;  temp_bx = px  +	8
   4455  8a24
   4456  8a24		       ad 40 01 	      lda	px
   4457  8a27		       18		      CLC
   4458  8a28		       69 08		      ADC	#8
   4459  8a2a		       8d 66 01 	      sta	temp_bx
   4460  8a2d				   .L0342		;;line 636;;  temp_bx = temp_bx  -  temp_v
   4461  8a2d
   4462  8a2d		       ad 66 01 	      lda	temp_bx
   4463  8a30		       38		      SEC
   4464  8a31		       ed 4f 01 	      SBC	temp_v
   4465  8a34		       8d 66 01 	      sta	temp_bx
   4466  8a37				   .L0343		;;line 637;;  if temp_bx  >=  128 then ebul_vx[temp_acc] = 254  :  temp_bx = 0  -  temp_bx else ebul_vx[temp_acc] = 2
   4467  8a37
   4468  8a37		       ad 66 01 	      lda	temp_bx
   4469  8a3a		       c9 80		      cmp	#128
   4470  8a3c		       90 14		      bcc	.skipL0343
   4471  8a3e				   .condpart81
   4472  8a3e		       a9 fe		      lda	#254
   4473  8a40		       ae 4c 01 	      LDX	temp_acc
   4474  8a43		       9d 84 01 	      sta	ebul_vx,x
   4475  8a46		       a9 00		      lda	#0
   4476  8a48		       38		      SEC
   4477  8a49		       ed 66 01 	      SBC	temp_bx
   4478  8a4c		       8d 66 01 	      sta	temp_bx
   4479  8a4f		       4c 5a 8a 	      jmp	.skipelse4
   4480  8a52				   .skipL0343
   4481  8a52		       a9 02		      lda	#2
   4482  8a54		       ae 4c 01 	      LDX	temp_acc
   4483  8a57		       9d 84 01 	      sta	ebul_vx,x
   4484  8a5a				   .skipelse4
   4485  8a5a				   .
   4486  8a5a							;;line 638;;
   4487  8a5a
   4488  8a5a				   .L0344		;;line 639;;  temp_by = py  +	8
   4489  8a5a
   4490  8a5a		       ad 41 01 	      lda	py
   4491  8a5d		       18		      CLC
   4492  8a5e		       69 08		      ADC	#8
   4493  8a60		       8d 67 01 	      sta	temp_by
   4494  8a63				   .L0345		;;line 640;;  temp_by = temp_by  -  temp_w
   4495  8a63
   4496  8a63		       ad 67 01 	      lda	temp_by
   4497  8a66		       38		      SEC
   4498  8a67		       ed 89 01 	      SBC	temp_w
   4499  8a6a		       8d 67 01 	      sta	temp_by
   4500  8a6d				   .L0346		;;line 641;;  if temp_by  >=  128 then ebul_vy[temp_acc] = 254  :  temp_by = 0  -  temp_by else ebul_vy[temp_acc] = 2
   4501  8a6d
   4502  8a6d		       ad 67 01 	      lda	temp_by
   4503  8a70		       c9 80		      cmp	#128
   4504  8a72		       90 14		      bcc	.skipL0346
   4505  8a74				   .condpart82
   4506  8a74		       a9 fe		      lda	#254
   4507  8a76		       ae 4c 01 	      LDX	temp_acc
   4508  8a79		       9d 3c 22 	      sta	ebul_vy,x
   4509  8a7c		       a9 00		      lda	#0
   4510  8a7e		       38		      SEC
   4511  8a7f		       ed 67 01 	      SBC	temp_by
   4512  8a82		       8d 67 01 	      sta	temp_by
   4513  8a85		       4c 90 8a 	      jmp	.skipelse5
   4514  8a88				   .skipL0346
   4515  8a88		       a9 02		      lda	#2
   4516  8a8a		       ae 4c 01 	      LDX	temp_acc
   4517  8a8d		       9d 3c 22 	      sta	ebul_vy,x
   4518  8a90				   .skipelse5
   4519  8a90				   .
   4520  8a90							;;line 642;;
   4521  8a90
   4522  8a90				   .
   4523  8a90							;;line 643;;
   4524  8a90
   4525  8a90				   .L0347		;;line 644;;  temp_v = temp_bx  /  2
   4526  8a90
   4527  8a90		       ad 66 01 	      lda	temp_bx
   4528  8a93		       4a		      lsr
   4529  8a94		       8d 4f 01 	      sta	temp_v
   4530  8a97				   .L0348		;;line 645;;  if temp_v  >  temp_by then ebul_vy[temp_acc] = 0
   4531  8a97
   4532  8a97		       ad 67 01 	      lda	temp_by
   4533  8a9a		       cd 4f 01 	      cmp	temp_v
   4534  8a9d		       b0 08		      bcs	.skipL0348
   4535  8a9f				   .condpart83
   4536  8a9f		       a9 00		      lda	#0
   4537  8aa1		       ae 4c 01 	      LDX	temp_acc
   4538  8aa4		       9d 3c 22 	      sta	ebul_vy,x
   4539  8aa7				   .skipL0348
   4540  8aa7				   .
   4541  8aa7							;;line 646;;
   4542  8aa7
   4543  8aa7				   .L0349		;;line 647;;  temp_v = temp_by  /  2
   4544  8aa7
   4545  8aa7		       ad 67 01 	      lda	temp_by
   4546  8aaa		       4a		      lsr
   4547  8aab		       8d 4f 01 	      sta	temp_v
   4548  8aae				   .L0350		;;line 648;;  if temp_v  >  temp_bx then ebul_vx[temp_acc] = 0
   4549  8aae
   4550  8aae		       ad 66 01 	      lda	temp_bx
   4551  8ab1		       cd 4f 01 	      cmp	temp_v
   4552  8ab4		       b0 08		      bcs	.skipL0350
   4553  8ab6				   .condpart84
   4554  8ab6		       a9 00		      lda	#0
   4555  8ab8		       ae 4c 01 	      LDX	temp_acc
   4556  8abb		       9d 84 01 	      sta	ebul_vx,x
   4557  8abe				   .skipL0350
   4558  8abe				   .
   4559  8abe							;;line 649;;
   4560  8abe
   4561  8abe				   .L0351		;;line 650;;  ecooldown = 15
   4562  8abe
   4563  8abe		       a9 0f		      lda	#15
   4564  8ac0		       8d 88 01 	      sta	ecooldown
   4565  8ac3				   .L0352		;;line 651;;  return
   4566  8ac3
   4567  8ac3		       60		      rts
   4568  8ac4				   .
   4569  8ac4							;;line 652;;
   4570  8ac4
   4571  8ac4				   .update_enemy_bullets
   4572  8ac4							;;line 653;; update_enemy_bullets
   4573  8ac4
   4574  8ac4				   .L0353		;;line 654;;  for iter = 0 to 3
   4575  8ac4
   4576  8ac4		       a9 00		      lda	#0
   4577  8ac6		       8d 51 01 	      sta	iter
   4578  8ac9				   .L0353foriter
   4579  8ac9				   .L0354		;;line 655;;  if eblife[iter] = 0 then goto skip_ebul_update
   4580  8ac9
   4581  8ac9		       ae 51 01 	      LDX	iter
   4582  8acc		       bd 40 22 	      lda	eblife,x
   4583  8acf		       c9 00		      cmp	#0
   4584  8ad1		       d0 03		      bne	.skipL0354
   4585  8ad3				   .condpart85
   4586  8ad3		       4c 64 8c 	      jmp	.skip_ebul_update
   4587  8ad6				   .skipL0354
   4588  8ad6				   .
   4589  8ad6							;;line 656;;
   4590  8ad6
   4591  8ad6				   .L0355		;;line 657;;  eblife[iter] = eblife[iter]  -  1
   4592  8ad6
   4593  8ad6		       ae 51 01 	      LDX	iter
   4594  8ad9		       bd 40 22 	      lda	eblife,x
   4595  8adc		       38		      SEC
   4596  8add		       e9 01		      SBC	#1
   4597  8adf		       ae 51 01 	      LDX	iter
   4598  8ae2		       9d 40 22 	      sta	eblife,x
   4599  8ae5				   .
   4600  8ae5							;;line 658;;
   4601  8ae5
   4602  8ae5				   .
   4603  8ae5							;;line 659;;
   4604  8ae5
   4605  8ae5				   .L0356		;;line 660;;  temp_v = ebul_vx[iter]
   4606  8ae5
   4607  8ae5		       ae 51 01 	      LDX	iter
   4608  8ae8		       bd 84 01 	      lda	ebul_vx,x
   4609  8aeb		       8d 4f 01 	      sta	temp_v
   4610  8aee				   .L0357		;;line 661;;  if temp_v  >=  128 then goto ebul_x_neg
   4611  8aee
   4612  8aee		       ad 4f 01 	      lda	temp_v
   4613  8af1		       c9 80		      cmp	#128
   4614  8af3		       90 03		      bcc	.skipL0357
   4615  8af5				   .condpart86
   4616  8af5		       4c 25 8b 	      jmp	.ebul_x_neg
   4617  8af8				   .skipL0357
   4618  8af8				   .
   4619  8af8							;;line 662;;
   4620  8af8
   4621  8af8				   .
   4622  8af8							;;line 663;;
   4623  8af8
   4624  8af8				   .L0358		;;line 664;;  ebul_x[iter] = ebul_x[iter]  +  temp_v
   4625  8af8
   4626  8af8		       ae 51 01 	      LDX	iter
   4627  8afb		       bd 7c 01 	      lda	ebul_x,x
   4628  8afe		       18		      CLC
   4629  8aff		       6d 4f 01 	      ADC	temp_v
   4630  8b02		       ae 51 01 	      LDX	iter
   4631  8b05		       9d 7c 01 	      sta	ebul_x,x
   4632  8b08				   .L0359		;;line 665;;  if ebul_x[iter]	<  temp_v then ebul_x_hi[iter] = ebul_x_hi[iter]  +  1
   4633  8b08
   4634  8b08		       ae 51 01 	      LDX	iter
   4635  8b0b		       bd 7c 01 	      lda	ebul_x,x
   4636  8b0e		       cd 4f 01 	      cmp	temp_v
   4637  8b11		       b0 0f		      bcs	.skipL0359
   4638  8b13				   .condpart87
   4639  8b13		       ae 51 01 	      LDX	iter
   4640  8b16		       bd 58 22 	      lda	ebul_x_hi,x
   4641  8b19		       18		      CLC
   4642  8b1a		       69 01		      ADC	#1
   4643  8b1c		       ae 51 01 	      LDX	iter
   4644  8b1f		       9d 58 22 	      sta	ebul_x_hi,x
   4645  8b22				   .skipL0359
   4646  8b22				   .L0360		;;line 666;;  goto ebul_x_done
   4647  8b22
   4648  8b22		       4c 61 8b 	      jmp	.ebul_x_done
   4649  8b25				   .
   4650  8b25							;;line 667;;
   4651  8b25
   4652  8b25				   .ebul_x_neg
   4653  8b25							;;line 668;; ebul_x_neg
   4654  8b25
   4655  8b25				   .L0361		;;line 669;;  temp_v = 0  -  temp_v
   4656  8b25
   4657  8b25		       a9 00		      lda	#0
   4658  8b27		       38		      SEC
   4659  8b28		       ed 4f 01 	      SBC	temp_v
   4660  8b2b		       8d 4f 01 	      sta	temp_v
   4661  8b2e				   .L0362		;;line 670;;  temp_w = ebul_x[iter]
   4662  8b2e
   4663  8b2e		       ae 51 01 	      LDX	iter
   4664  8b31		       bd 7c 01 	      lda	ebul_x,x
   4665  8b34		       8d 89 01 	      sta	temp_w
   4666  8b37				   .L0363		;;line 671;;  ebul_x[iter] = ebul_x[iter]  -  temp_v
   4667  8b37
   4668  8b37		       ae 51 01 	      LDX	iter
   4669  8b3a		       bd 7c 01 	      lda	ebul_x,x
   4670  8b3d		       38		      SEC
   4671  8b3e		       ed 4f 01 	      SBC	temp_v
   4672  8b41		       ae 51 01 	      LDX	iter
   4673  8b44		       9d 7c 01 	      sta	ebul_x,x
   4674  8b47				   .L0364		;;line 672;;  if ebul_x[iter]	>  temp_w then ebul_x_hi[iter] = ebul_x_hi[iter]  -  1
   4675  8b47
   4676  8b47		       ad 89 01 	      lda	temp_w
   4677  8b4a		       ae 51 01 	      LDX	iter
   4678  8b4d		       dd 7c 01 	      cmp	ebul_x,x
   4679  8b50		       b0 0f		      bcs	.skipL0364
   4680  8b52				   .condpart88
   4681  8b52		       ae 51 01 	      LDX	iter
   4682  8b55		       bd 58 22 	      lda	ebul_x_hi,x
   4683  8b58		       38		      SEC
   4684  8b59		       e9 01		      SBC	#1
   4685  8b5b		       ae 51 01 	      LDX	iter
   4686  8b5e		       9d 58 22 	      sta	ebul_x_hi,x
   4687  8b61				   .skipL0364
   4688  8b61				   .
   4689  8b61							;;line 673;;
   4690  8b61
   4691  8b61				   .ebul_x_done
   4692  8b61							;;line 674;; ebul_x_done
   4693  8b61
   4694  8b61				   .
   4695  8b61							;;line 675;;
   4696  8b61
   4697  8b61				   .L0365		;;line 676;;  if ebul_x_hi[iter]  >=  4 then ebul_x_hi[iter] = 0
   4698  8b61
   4699  8b61		       ae 51 01 	      LDX	iter
   4700  8b64		       bd 58 22 	      lda	ebul_x_hi,x
   4701  8b67		       c9 04		      cmp	#4
   4702  8b69		       90 08		      bcc	.skipL0365
   4703  8b6b				   .condpart89
   4704  8b6b		       a9 00		      lda	#0
   4705  8b6d		       ae 51 01 	      LDX	iter
   4706  8b70		       9d 58 22 	      sta	ebul_x_hi,x
   4707  8b73				   .skipL0365
   4708  8b73				   .L0366		;;line 677;;  if ebul_x_hi[iter] = 255 then ebul_x_hi[iter] = 3
   4709  8b73
   4710  8b73		       ae 51 01 	      LDX	iter
   4711  8b76		       bd 58 22 	      lda	ebul_x_hi,x
   4712  8b79		       c9 ff		      cmp	#255
   4713  8b7b		       d0 08		      bne	.skipL0366
   4714  8b7d				   .condpart90
   4715  8b7d		       a9 03		      lda	#3
   4716  8b7f		       ae 51 01 	      LDX	iter
   4717  8b82		       9d 58 22 	      sta	ebul_x_hi,x
   4718  8b85				   .skipL0366
   4719  8b85				   .
   4720  8b85							;;line 678;;
   4721  8b85
   4722  8b85				   .
   4723  8b85							;;line 679;;
   4724  8b85
   4725  8b85				   .L0367		;;line 680;;  temp_v = ebul_vy[iter]
   4726  8b85
   4727  8b85		       ae 51 01 	      LDX	iter
   4728  8b88		       bd 3c 22 	      lda	ebul_vy,x
   4729  8b8b		       8d 4f 01 	      sta	temp_v
   4730  8b8e				   .L0368		;;line 681;;  if temp_v  >=  128 then goto ebul_y_neg
   4731  8b8e
   4732  8b8e		       ad 4f 01 	      lda	temp_v
   4733  8b91		       c9 80		      cmp	#128
   4734  8b93		       90 03		      bcc	.skipL0368
   4735  8b95				   .condpart91
   4736  8b95		       4c c5 8b 	      jmp	.ebul_y_neg
   4737  8b98				   .skipL0368
   4738  8b98				   .
   4739  8b98							;;line 682;;
   4740  8b98
   4741  8b98				   .
   4742  8b98							;;line 683;;
   4743  8b98
   4744  8b98				   .L0369		;;line 684;;  ebul_y[iter] = ebul_y[iter]  +  temp_v
   4745  8b98
   4746  8b98		       ae 51 01 	      LDX	iter
   4747  8b9b		       bd 80 01 	      lda	ebul_y,x
   4748  8b9e		       18		      CLC
   4749  8b9f		       6d 4f 01 	      ADC	temp_v
   4750  8ba2		       ae 51 01 	      LDX	iter
   4751  8ba5		       9d 80 01 	      sta	ebul_y,x
   4752  8ba8				   .L0370		;;line 685;;  if ebul_y[iter]	<  temp_v then ebul_y_hi[iter] = ebul_y_hi[iter]  +  1
   4753  8ba8
   4754  8ba8		       ae 51 01 	      LDX	iter
   4755  8bab		       bd 80 01 	      lda	ebul_y,x
   4756  8bae		       cd 4f 01 	      cmp	temp_v
   4757  8bb1		       b0 0f		      bcs	.skipL0370
   4758  8bb3				   .condpart92
   4759  8bb3		       ae 51 01 	      LDX	iter
   4760  8bb6		       bd 5c 22 	      lda	ebul_y_hi,x
   4761  8bb9		       18		      CLC
   4762  8bba		       69 01		      ADC	#1
   4763  8bbc		       ae 51 01 	      LDX	iter
   4764  8bbf		       9d 5c 22 	      sta	ebul_y_hi,x
   4765  8bc2				   .skipL0370
   4766  8bc2				   .L0371		;;line 686;;  goto ebul_y_done
   4767  8bc2
   4768  8bc2		       4c 01 8c 	      jmp	.ebul_y_done
   4769  8bc5				   .
   4770  8bc5							;;line 687;;
   4771  8bc5
   4772  8bc5				   .ebul_y_neg
   4773  8bc5							;;line 688;; ebul_y_neg
   4774  8bc5
   4775  8bc5				   .L0372		;;line 689;;  temp_v = 0  -  temp_v
   4776  8bc5
   4777  8bc5		       a9 00		      lda	#0
   4778  8bc7		       38		      SEC
   4779  8bc8		       ed 4f 01 	      SBC	temp_v
   4780  8bcb		       8d 4f 01 	      sta	temp_v
   4781  8bce				   .L0373		;;line 690;;  temp_w = ebul_y[iter]
   4782  8bce
   4783  8bce		       ae 51 01 	      LDX	iter
   4784  8bd1		       bd 80 01 	      lda	ebul_y,x
   4785  8bd4		       8d 89 01 	      sta	temp_w
   4786  8bd7				   .L0374		;;line 691;;  ebul_y[iter] = ebul_y[iter]  -  temp_v
   4787  8bd7
   4788  8bd7		       ae 51 01 	      LDX	iter
   4789  8bda		       bd 80 01 	      lda	ebul_y,x
   4790  8bdd		       38		      SEC
   4791  8bde		       ed 4f 01 	      SBC	temp_v
   4792  8be1		       ae 51 01 	      LDX	iter
   4793  8be4		       9d 80 01 	      sta	ebul_y,x
   4794  8be7				   .L0375		;;line 692;;  if ebul_y[iter]	>  temp_w then ebul_y_hi[iter] = ebul_y_hi[iter]  -  1
   4795  8be7
   4796  8be7		       ad 89 01 	      lda	temp_w
   4797  8bea		       ae 51 01 	      LDX	iter
   4798  8bed		       dd 80 01 	      cmp	ebul_y,x
   4799  8bf0		       b0 0f		      bcs	.skipL0375
   4800  8bf2				   .condpart93
   4801  8bf2		       ae 51 01 	      LDX	iter
   4802  8bf5		       bd 5c 22 	      lda	ebul_y_hi,x
   4803  8bf8		       38		      SEC
   4804  8bf9		       e9 01		      SBC	#1
   4805  8bfb		       ae 51 01 	      LDX	iter
   4806  8bfe		       9d 5c 22 	      sta	ebul_y_hi,x
   4807  8c01				   .skipL0375
   4808  8c01				   .
   4809  8c01							;;line 693;;
   4810  8c01
   4811  8c01				   .ebul_y_done
   4812  8c01							;;line 694;; ebul_y_done
   4813  8c01
   4814  8c01				   .
   4815  8c01							;;line 695;;
   4816  8c01
   4817  8c01				   .L0376		;;line 696;;  if ebul_y_hi[iter]  >=  4 then ebul_y_hi[iter] = 0
   4818  8c01
   4819  8c01		       ae 51 01 	      LDX	iter
   4820  8c04		       bd 5c 22 	      lda	ebul_y_hi,x
   4821  8c07		       c9 04		      cmp	#4
   4822  8c09		       90 08		      bcc	.skipL0376
   4823  8c0b				   .condpart94
   4824  8c0b		       a9 00		      lda	#0
   4825  8c0d		       ae 51 01 	      LDX	iter
   4826  8c10		       9d 5c 22 	      sta	ebul_y_hi,x
   4827  8c13				   .skipL0376
   4828  8c13				   .L0377		;;line 697;;  if ebul_y_hi[iter] = 255 then ebul_y_hi[iter] = 3
   4829  8c13
   4830  8c13		       ae 51 01 	      LDX	iter
   4831  8c16		       bd 5c 22 	      lda	ebul_y_hi,x
   4832  8c19		       c9 ff		      cmp	#255
   4833  8c1b		       d0 08		      bne	.skipL0377
   4834  8c1d				   .condpart95
   4835  8c1d		       a9 03		      lda	#3
   4836  8c1f		       ae 51 01 	      LDX	iter
   4837  8c22		       9d 5c 22 	      sta	ebul_y_hi,x
   4838  8c25				   .skipL0377
   4839  8c25				   .
   4840  8c25							;;line 698;;
   4841  8c25
   4842  8c25				   .
   4843  8c25							;;line 699;;
   4844  8c25
   4845  8c25				   .L0378		;;line 700;;  temp_v = ebul_x[iter]  -  cam_x
   4846  8c25
   4847  8c25		       ae 51 01 	      LDX	iter
   4848  8c28		       bd 7c 01 	      lda	ebul_x,x
   4849  8c2b		       38		      SEC
   4850  8c2c		       ed 48 22 	      SBC	cam_x
   4851  8c2f		       8d 4f 01 	      sta	temp_v
   4852  8c32				   .L0379		;;line 701;;  if temp_v  >  165 then if temp_v  <  240 then eblife[iter] = 0
   4853  8c32
   4854  8c32		       a9 a5		      lda	#165
   4855  8c34		       cd 4f 01 	      cmp	temp_v
   4856  8c37		       b0 0f		      bcs	.skipL0379
   4857  8c39				   .condpart96
   4858  8c39		       ad 4f 01 	      lda	temp_v
   4859  8c3c		       c9 f0		      cmp	#240
   4860  8c3e		       b0 08		      bcs	.skip96then
   4861  8c40				   .condpart97
   4862  8c40		       a9 00		      lda	#0
   4863  8c42		       ae 51 01 	      LDX	iter
   4864  8c45		       9d 40 22 	      sta	eblife,x
   4865  8c48				   .skip96then
   4866  8c48				   .skipL0379
   4867  8c48				   .
   4868  8c48							;;line 702;;
   4869  8c48
   4870  8c48				   .L0380		;;line 703;;  temp_v = ebul_y[iter]  -  cam_y
   4871  8c48
   4872  8c48		       ae 51 01 	      LDX	iter
   4873  8c4b		       bd 80 01 	      lda	ebul_y,x
   4874  8c4e		       38		      SEC
   4875  8c4f		       ed 4a 22 	      SBC	cam_y
   4876  8c52		       8d 4f 01 	      sta	temp_v
   4877  8c55				   .L0381		;;line 704;;  if temp_v  >  200 then eblife[iter] = 0
   4878  8c55
   4879  8c55		       a9 c8		      lda	#200
   4880  8c57		       cd 4f 01 	      cmp	temp_v
   4881  8c5a		       b0 08		      bcs	.skipL0381
   4882  8c5c				   .condpart98
   4883  8c5c		       a9 00		      lda	#0
   4884  8c5e		       ae 51 01 	      LDX	iter
   4885  8c61		       9d 40 22 	      sta	eblife,x
   4886  8c64				   .skipL0381
   4887  8c64				   .
   4888  8c64							;;line 705;;
   4889  8c64
   4890  8c64				   .skip_ebul_update
   4891  8c64							;;line 706;; skip_ebul_update
   4892  8c64
   4893  8c64				   .L0382		;;line 707;;  next
   4894  8c64
   4895  8c64		       ad 51 01 	      lda	iter
   4896  8c67		       c9 03		      cmp	#3
   4897  8c69		       ee 51 01 	      inc	iter
   4898  8c6c				  -	      if	((* - .L0353foriter) < 127) && ((* - .L0353foriter) > -128)
   4899  8c6c				  -	      bcc	.L0353foriter
   4900  8c6c					      else
   4901  8c6c		       b0 03		      bcs	.5skipL0353foriter
   4902  8c6e		       4c c9 8a 	      jmp	.L0353foriter
   4903  8c71				   .5skipL0353foriter
   4904  8c71					      endif
   4905  8c71				   .L0383		;;line 708;;  return
   4906  8c71
   4907  8c71		       60		      rts
   4908  8c72				   .
   4909  8c72							;;line 709;;
   4910  8c72
   4911  8c72				   .update_asteroid
   4912  8c72							;;line 710;; update_asteroid
   4913  8c72
   4914  8c72				   .L0384		;;line 711;;  if alife = 0 then gosub spawn_asteroid
   4915  8c72
   4916  8c72		       ad 36 22 	      lda	alife
   4917  8c75		       c9 00		      cmp	#0
   4918  8c77		       d0 03		      bne	.skipL0384
   4919  8c79				   .condpart99
   4920  8c79		       20 75 8d 	      jsr	.spawn_asteroid
   4921  8c7c				   .skipL0384
   4922  8c7c				   .L0385		;;line 712;;  if alife = 0 then return
   4923  8c7c
   4924  8c7c		       ad 36 22 	      lda	alife
   4925  8c7f		       c9 00		      cmp	#0
   4926  8c81		       d0 01		      bne	.skipL0385
   4927  8c83				   .condpart100
   4928  8c83		       60		      rts
   4929  8c84				   .skipL0385
   4930  8c84				   .
   4931  8c84							;;line 713;;
   4932  8c84
   4933  8c84				   .
   4934  8c84							;;line 714;;
   4935  8c84
   4936  8c84				   .L0386		;;line 715;;  if  ( frame  &  3 )   >	0 then return
   4937  8c84
   4938  8c84							; complex condition detected
   4939  8c84							; complex statement detected
   4940  8c84		       ad 4d 01 	      lda	frame
   4941  8c87		       29 03		      AND	#3
   4942  8c89		       48		      pha
   4943  8c8a		       ba		      tsx
   4944  8c8b		       68		      pla
   4945  8c8c		       a9 00		      lda	#0
   4946  8c8e		       dd 01 01 	      cmp	$101,x
   4947  8c91		       b0 01		      bcs	.skipL0386
   4948  8c93				   .condpart101
   4949  8c93		       60		      rts
   4950  8c94				   .skipL0386
   4951  8c94				   .
   4952  8c94							;;line 716;;
   4953  8c94
   4954  8c94				   .
   4955  8c94							;;line 717;;
   4956  8c94
   4957  8c94				   .L0387		;;line 718;;  temp_v = avx
   4958  8c94
   4959  8c94		       ad 34 22 	      lda	avx
   4960  8c97		       8d 4f 01 	      sta	temp_v
   4961  8c9a				   .L0388		;;line 719;;  if temp_v  <  128 then goto ast_move_pos_x
   4962  8c9a
   4963  8c9a		       ad 4f 01 	      lda	temp_v
   4964  8c9d		       c9 80		      cmp	#128
   4965  8c9f		       b0 03		      bcs	.skipL0388
   4966  8ca1				   .condpart102
   4967  8ca1		       4c d1 8c 	      jmp	.ast_move_pos_x
   4968  8ca4				   .skipL0388
   4969  8ca4				   .
   4970  8ca4							;;line 720;;
   4971  8ca4
   4972  8ca4				   .
   4973  8ca4							;;line 721;;
   4974  8ca4
   4975  8ca4				   .L0389		;;line 722;;  temp_v = 0  -  temp_v
   4976  8ca4
   4977  8ca4		       a9 00		      lda	#0
   4978  8ca6		       38		      SEC
   4979  8ca7		       ed 4f 01 	      SBC	temp_v
   4980  8caa		       8d 4f 01 	      sta	temp_v
   4981  8cad				   .L0390		;;line 723;;  temp_w = ax
   4982  8cad
   4983  8cad		       ad 32 22 	      lda	ax
   4984  8cb0		       8d 89 01 	      sta	temp_w
   4985  8cb3				   .L0391		;;line 724;;  ax = ax	-  temp_v
   4986  8cb3
   4987  8cb3		       ad 32 22 	      lda	ax
   4988  8cb6		       38		      SEC
   4989  8cb7		       ed 4f 01 	      SBC	temp_v
   4990  8cba		       8d 32 22 	      sta	ax
   4991  8cbd				   .L0392		;;line 725;;  if ax  >  temp_w then ax_hi = ax_hi  -  1
   4992  8cbd
   4993  8cbd		       ad 89 01 	      lda	temp_w
   4994  8cc0		       cd 32 22 	      cmp	ax
   4995  8cc3		       b0 09		      bcs	.skipL0392
   4996  8cc5				   .condpart103
   4997  8cc5		       ad 37 22 	      lda	ax_hi
   4998  8cc8		       38		      SEC
   4999  8cc9		       e9 01		      SBC	#1
   5000  8ccb		       8d 37 22 	      sta	ax_hi
   5001  8cce				   .skipL0392
   5002  8cce				   .L0393		;;line 726;;  goto ast_x_done
   5003  8cce
   5004  8cce		       4c ec 8c 	      jmp	.ast_x_done
   5005  8cd1				   .
   5006  8cd1							;;line 727;;
   5007  8cd1
   5008  8cd1				   .ast_move_pos_x
   5009  8cd1							;;line 728;; ast_move_pos_x
   5010  8cd1
   5011  8cd1				   .L0394		;;line 729;;  ax = ax	+  temp_v
   5012  8cd1
   5013  8cd1		       ad 32 22 	      lda	ax
   5014  8cd4		       18		      CLC
   5015  8cd5		       6d 4f 01 	      ADC	temp_v
   5016  8cd8		       8d 32 22 	      sta	ax
   5017  8cdb				   .L0395		;;line 730;;  if ax  <  temp_v then ax_hi = ax_hi  +  1
   5018  8cdb
   5019  8cdb		       ad 32 22 	      lda	ax
   5020  8cde		       cd 4f 01 	      cmp	temp_v
   5021  8ce1		       b0 09		      bcs	.skipL0395
   5022  8ce3				   .condpart104
   5023  8ce3		       ad 37 22 	      lda	ax_hi
   5024  8ce6		       18		      CLC
   5025  8ce7		       69 01		      ADC	#1
   5026  8ce9		       8d 37 22 	      sta	ax_hi
   5027  8cec				   .skipL0395
   5028  8cec				   .
   5029  8cec							;;line 731;;
   5030  8cec
   5031  8cec				   .ast_x_done
   5032  8cec							;;line 732;; ast_x_done
   5033  8cec
   5034  8cec				   .
   5035  8cec							;;line 733;;
   5036  8cec
   5037  8cec				   .L0396		;;line 734;;  if ax_hi  >=  4 then ax_hi = 0
   5038  8cec
   5039  8cec		       ad 37 22 	      lda	ax_hi
   5040  8cef		       c9 04		      cmp	#4
   5041  8cf1		       90 05		      bcc	.skipL0396
   5042  8cf3				   .condpart105
   5043  8cf3		       a9 00		      lda	#0
   5044  8cf5		       8d 37 22 	      sta	ax_hi
   5045  8cf8				   .skipL0396
   5046  8cf8				   .L0397		;;line 735;;  if ax_hi = 255 then ax_hi = 3
   5047  8cf8
   5048  8cf8		       ad 37 22 	      lda	ax_hi
   5049  8cfb		       c9 ff		      cmp	#255
   5050  8cfd		       d0 05		      bne	.skipL0397
   5051  8cff				   .condpart106
   5052  8cff		       a9 03		      lda	#3
   5053  8d01		       8d 37 22 	      sta	ax_hi
   5054  8d04				   .skipL0397
   5055  8d04				   .
   5056  8d04							;;line 736;;
   5057  8d04
   5058  8d04				   .
   5059  8d04							;;line 737;;
   5060  8d04
   5061  8d04				   .L0398		;;line 738;;  temp_v = avy
   5062  8d04
   5063  8d04		       ad 35 22 	      lda	avy
   5064  8d07		       8d 4f 01 	      sta	temp_v
   5065  8d0a				   .L0399		;;line 739;;  if temp_v  <  128 then goto ast_move_pos_y
   5066  8d0a
   5067  8d0a		       ad 4f 01 	      lda	temp_v
   5068  8d0d		       c9 80		      cmp	#128
   5069  8d0f		       b0 03		      bcs	.skipL0399
   5070  8d11				   .condpart107
   5071  8d11		       4c 41 8d 	      jmp	.ast_move_pos_y
   5072  8d14				   .skipL0399
   5073  8d14				   .
   5074  8d14							;;line 740;;
   5075  8d14
   5076  8d14				   .
   5077  8d14							;;line 741;;
   5078  8d14
   5079  8d14				   .L0400		;;line 742;;  temp_v = 0  -  temp_v
   5080  8d14
   5081  8d14		       a9 00		      lda	#0
   5082  8d16		       38		      SEC
   5083  8d17		       ed 4f 01 	      SBC	temp_v
   5084  8d1a		       8d 4f 01 	      sta	temp_v
   5085  8d1d				   .L0401		;;line 743;;  temp_w = ay
   5086  8d1d
   5087  8d1d		       ad 33 22 	      lda	ay
   5088  8d20		       8d 89 01 	      sta	temp_w
   5089  8d23				   .L0402		;;line 744;;  ay = ay	-  temp_v
   5090  8d23
   5091  8d23		       ad 33 22 	      lda	ay
   5092  8d26		       38		      SEC
   5093  8d27		       ed 4f 01 	      SBC	temp_v
   5094  8d2a		       8d 33 22 	      sta	ay
   5095  8d2d				   .L0403		;;line 745;;  if ay  >  temp_w then ay_hi = ay_hi  -  1
   5096  8d2d
   5097  8d2d		       ad 89 01 	      lda	temp_w
   5098  8d30		       cd 33 22 	      cmp	ay
   5099  8d33		       b0 09		      bcs	.skipL0403
   5100  8d35				   .condpart108
   5101  8d35		       ad 38 22 	      lda	ay_hi
   5102  8d38		       38		      SEC
   5103  8d39		       e9 01		      SBC	#1
   5104  8d3b		       8d 38 22 	      sta	ay_hi
   5105  8d3e				   .skipL0403
   5106  8d3e				   .L0404		;;line 746;;  goto ast_y_done
   5107  8d3e
   5108  8d3e		       4c 5c 8d 	      jmp	.ast_y_done
   5109  8d41				   .
   5110  8d41							;;line 747;;
   5111  8d41
   5112  8d41				   .ast_move_pos_y
   5113  8d41							;;line 748;; ast_move_pos_y
   5114  8d41
   5115  8d41				   .L0405		;;line 749;;  ay = ay	+  temp_v
   5116  8d41
   5117  8d41		       ad 33 22 	      lda	ay
   5118  8d44		       18		      CLC
   5119  8d45		       6d 4f 01 	      ADC	temp_v
   5120  8d48		       8d 33 22 	      sta	ay
   5121  8d4b				   .L0406		;;line 750;;  if ay  <  temp_v then ay_hi = ay_hi  +  1
   5122  8d4b
   5123  8d4b		       ad 33 22 	      lda	ay
   5124  8d4e		       cd 4f 01 	      cmp	temp_v
   5125  8d51		       b0 09		      bcs	.skipL0406
   5126  8d53				   .condpart109
   5127  8d53		       ad 38 22 	      lda	ay_hi
   5128  8d56		       18		      CLC
   5129  8d57		       69 01		      ADC	#1
   5130  8d59		       8d 38 22 	      sta	ay_hi
   5131  8d5c				   .skipL0406
   5132  8d5c				   .
   5133  8d5c							;;line 751;;
   5134  8d5c
   5135  8d5c				   .ast_y_done
   5136  8d5c							;;line 752;; ast_y_done
   5137  8d5c
   5138  8d5c				   .
   5139  8d5c							;;line 753;;
   5140  8d5c
   5141  8d5c				   .L0407		;;line 754;;  if ay_hi  >=  4 then ay_hi = 0
   5142  8d5c
   5143  8d5c		       ad 38 22 	      lda	ay_hi
   5144  8d5f		       c9 04		      cmp	#4
   5145  8d61		       90 05		      bcc	.skipL0407
   5146  8d63				   .condpart110
   5147  8d63		       a9 00		      lda	#0
   5148  8d65		       8d 38 22 	      sta	ay_hi
   5149  8d68				   .skipL0407
   5150  8d68				   .L0408		;;line 755;;  if ay_hi = 255 then ay_hi = 3
   5151  8d68
   5152  8d68		       ad 38 22 	      lda	ay_hi
   5153  8d6b		       c9 ff		      cmp	#255
   5154  8d6d		       d0 05		      bne	.skipL0408
   5155  8d6f				   .condpart111
   5156  8d6f		       a9 03		      lda	#3
   5157  8d71		       8d 38 22 	      sta	ay_hi
   5158  8d74				   .skipL0408
   5159  8d74				   .
   5160  8d74							;;line 756;;
   5161  8d74
   5162  8d74				   .L0409		;;line 757;;  return
   5163  8d74
   5164  8d74		       60		      rts
   5165  8d75				   .
   5166  8d75							;;line 758;;
   5167  8d75
   5168  8d75				   .spawn_asteroid
   5169  8d75							;;line 759;; spawn_asteroid
   5170  8d75
   5171  8d75				   .
   5172  8d75							;;line 760;;
   5173  8d75
   5174  8d75				   .L0410		;;line 761;;  rand_val = frame  &  127
   5175  8d75
   5176  8d75		       ad 4d 01 	      lda	frame
   5177  8d78		       29 7f		      AND	#127
   5178  8d7a		       8d 30 22 	      sta	rand_val
   5179  8d7d				   .L0411		;;line 762;;  if rand_val  >  5 then return
   5180  8d7d
   5181  8d7d		       a9 05		      lda	#5
   5182  8d7f		       cd 30 22 	      cmp	rand_val
   5183  8d82		       b0 01		      bcs	.skipL0411
   5184  8d84				   .condpart112
   5185  8d84		       60		      rts
   5186  8d85				   .skipL0411
   5187  8d85				   .
   5188  8d85							;;line 763;;
   5189  8d85
   5190  8d85				   .L0412		;;line 764;;  alife = 1
   5191  8d85
   5192  8d85		       a9 01		      lda	#1
   5193  8d87		       8d 36 22 	      sta	alife
   5194  8d8a				   .
   5195  8d8a							;;line 765;;
   5196  8d8a
   5197  8d8a				   .L0413		;;line 766;;  rand_val = frame  &  3
   5198  8d8a
   5199  8d8a		       ad 4d 01 	      lda	frame
   5200  8d8d		       29 03		      AND	#3
   5201  8d8f		       8d 30 22 	      sta	rand_val
   5202  8d92				   .L0414		;;line 767;;  if rand_val = 0 then ax = 5  :  ay = 90
   5203  8d92
   5204  8d92		       ad 30 22 	      lda	rand_val
   5205  8d95		       c9 00		      cmp	#0
   5206  8d97		       d0 0a		      bne	.skipL0414
   5207  8d99				   .condpart113
   5208  8d99		       a9 05		      lda	#5
   5209  8d9b		       8d 32 22 	      sta	ax
   5210  8d9e		       a9 5a		      lda	#90
   5211  8da0		       8d 33 22 	      sta	ay
   5212  8da3				   .skipL0414
   5213  8da3				   .L0415		;;line 768;;  if rand_val = 1 then ax = 155  :  ay = 90
   5214  8da3
   5215  8da3		       ad 30 22 	      lda	rand_val
   5216  8da6		       c9 01		      cmp	#1
   5217  8da8		       d0 0a		      bne	.skipL0415
   5218  8daa				   .condpart114
   5219  8daa		       a9 9b		      lda	#155
   5220  8dac		       8d 32 22 	      sta	ax
   5221  8daf		       a9 5a		      lda	#90
   5222  8db1		       8d 33 22 	      sta	ay
   5223  8db4				   .skipL0415
   5224  8db4				   .L0416		;;line 769;;  if rand_val = 2 then ax = 80  :	ay = 5
   5225  8db4
   5226  8db4		       ad 30 22 	      lda	rand_val
   5227  8db7		       c9 02		      cmp	#2
   5228  8db9		       d0 0a		      bne	.skipL0416
   5229  8dbb				   .condpart115
   5230  8dbb		       a9 50		      lda	#80
   5231  8dbd		       8d 32 22 	      sta	ax
   5232  8dc0		       a9 05		      lda	#5
   5233  8dc2		       8d 33 22 	      sta	ay
   5234  8dc5				   .skipL0416
   5235  8dc5				   .L0417		;;line 770;;  if rand_val = 3 then ax = 80  :	ay = 175
   5236  8dc5
   5237  8dc5		       ad 30 22 	      lda	rand_val
   5238  8dc8		       c9 03		      cmp	#3
   5239  8dca		       d0 0a		      bne	.skipL0417
   5240  8dcc				   .condpart116
   5241  8dcc		       a9 50		      lda	#80
   5242  8dce		       8d 32 22 	      sta	ax
   5243  8dd1		       a9 af		      lda	#175
   5244  8dd3		       8d 33 22 	      sta	ay
   5245  8dd6				   .skipL0417
   5246  8dd6				   .
   5247  8dd6							;;line 771;;
   5248  8dd6
   5249  8dd6				   .
   5250  8dd6							;;line 772;;
   5251  8dd6
   5252  8dd6				   .L0418		;;line 773;;  temp_v = ax  +  cam_x
   5253  8dd6
   5254  8dd6		       ad 32 22 	      lda	ax
   5255  8dd9		       18		      CLC
   5256  8dda		       6d 48 22 	      ADC	cam_x
   5257  8ddd		       8d 4f 01 	      sta	temp_v
   5258  8de0				   .L0419		;;line 774;;  ax = temp_v
   5259  8de0
   5260  8de0		       ad 4f 01 	      lda	temp_v
   5261  8de3		       8d 32 22 	      sta	ax
   5262  8de6				   .L0420		;;line 775;;  ax_hi = cam_x_hi
   5263  8de6
   5264  8de6		       ad 49 22 	      lda	cam_x_hi
   5265  8de9		       8d 37 22 	      sta	ax_hi
   5266  8dec				   .L0421		;;line 776;;  if ax  <  temp_v then ax_hi = ax_hi  +  1
   5267  8dec
   5268  8dec		       ad 32 22 	      lda	ax
   5269  8def		       cd 4f 01 	      cmp	temp_v
   5270  8df2		       b0 09		      bcs	.skipL0421
   5271  8df4				   .condpart117
   5272  8df4		       ad 37 22 	      lda	ax_hi
   5273  8df7		       18		      CLC
   5274  8df8		       69 01		      ADC	#1
   5275  8dfa		       8d 37 22 	      sta	ax_hi
   5276  8dfd				   .skipL0421
   5277  8dfd				   .L0422		;;line 777;;  if ax_hi  >=  4 then ax_hi = 0
   5278  8dfd
   5279  8dfd		       ad 37 22 	      lda	ax_hi
   5280  8e00		       c9 04		      cmp	#4
   5281  8e02		       90 05		      bcc	.skipL0422
   5282  8e04				   .condpart118
   5283  8e04		       a9 00		      lda	#0
   5284  8e06		       8d 37 22 	      sta	ax_hi
   5285  8e09				   .skipL0422
   5286  8e09				   .
   5287  8e09							;;line 778;;
   5288  8e09
   5289  8e09				   .L0423		;;line 779;;  temp_v = ay  +  cam_y
   5290  8e09
   5291  8e09		       ad 33 22 	      lda	ay
   5292  8e0c		       18		      CLC
   5293  8e0d		       6d 4a 22 	      ADC	cam_y
   5294  8e10		       8d 4f 01 	      sta	temp_v
   5295  8e13				   .L0424		;;line 780;;  ay = temp_v
   5296  8e13
   5297  8e13		       ad 4f 01 	      lda	temp_v
   5298  8e16		       8d 33 22 	      sta	ay
   5299  8e19				   .L0425		;;line 781;;  ay_hi = cam_y_hi
   5300  8e19
   5301  8e19		       ad 4b 22 	      lda	cam_y_hi
   5302  8e1c		       8d 38 22 	      sta	ay_hi
   5303  8e1f				   .L0426		;;line 782;;  if ay  <  temp_v then ay_hi = ay_hi  +  1
   5304  8e1f
   5305  8e1f		       ad 33 22 	      lda	ay
   5306  8e22		       cd 4f 01 	      cmp	temp_v
   5307  8e25		       b0 09		      bcs	.skipL0426
   5308  8e27				   .condpart119
   5309  8e27		       ad 38 22 	      lda	ay_hi
   5310  8e2a		       18		      CLC
   5311  8e2b		       69 01		      ADC	#1
   5312  8e2d		       8d 38 22 	      sta	ay_hi
   5313  8e30				   .skipL0426
   5314  8e30				   .L0427		;;line 783;;  if ay_hi  >=  4 then ay_hi = 0
   5315  8e30
   5316  8e30		       ad 38 22 	      lda	ay_hi
   5317  8e33		       c9 04		      cmp	#4
   5318  8e35		       90 05		      bcc	.skipL0427
   5319  8e37				   .condpart120
   5320  8e37		       a9 00		      lda	#0
   5321  8e39		       8d 38 22 	      sta	ay_hi
   5322  8e3c				   .skipL0427
   5323  8e3c				   .
   5324  8e3c							;;line 784;;
   5325  8e3c
   5326  8e3c				   .
   5327  8e3c							;;line 785;;
   5328  8e3c
   5329  8e3c				   .
   5330  8e3c							;;line 786;;
   5331  8e3c
   5332  8e3c				   .L0428		;;line 787;;  rand_val = frame  &  1
   5333  8e3c
   5334  8e3c		       ad 4d 01 	      lda	frame
   5335  8e3f		       29 01		      AND	#1
   5336  8e41		       8d 30 22 	      sta	rand_val
   5337  8e44				   .L0429		;;line 788;;  if rand_val = 0 then avx = 1 else avx = 255
   5338  8e44
   5339  8e44		       ad 30 22 	      lda	rand_val
   5340  8e47		       c9 00		      cmp	#0
   5341  8e49		       d0 08		      bne	.skipL0429
   5342  8e4b				   .condpart121
   5343  8e4b		       a9 01		      lda	#1
   5344  8e4d		       8d 34 22 	      sta	avx
   5345  8e50		       4c 58 8e 	      jmp	.skipelse6
   5346  8e53				   .skipL0429
   5347  8e53		       a9 ff		      lda	#255
   5348  8e55		       8d 34 22 	      sta	avx
   5349  8e58				   .skipelse6
   5350  8e58				   .L0430		;;line 789;;  rand_val = frame  &  2
   5351  8e58
   5352  8e58		       ad 4d 01 	      lda	frame
   5353  8e5b		       29 02		      AND	#2
   5354  8e5d		       8d 30 22 	      sta	rand_val
   5355  8e60				   .L0431		;;line 790;;  if rand_val = 0 then avy = 1 else avy = 255
   5356  8e60
   5357  8e60		       ad 30 22 	      lda	rand_val
   5358  8e63		       c9 00		      cmp	#0
   5359  8e65		       d0 08		      bne	.skipL0431
   5360  8e67				   .condpart122
   5361  8e67		       a9 01		      lda	#1
   5362  8e69		       8d 35 22 	      sta	avy
   5363  8e6c		       4c 74 8e 	      jmp	.skipelse7
   5364  8e6f				   .skipL0431
   5365  8e6f		       a9 ff		      lda	#255
   5366  8e71		       8d 35 22 	      sta	avy
   5367  8e74				   .skipelse7
   5368  8e74				   .
   5369  8e74							;;line 791;;
   5370  8e74
   5371  8e74				   .L0432		;;line 792;;  return
   5372  8e74
   5373  8e74		       60		      rts
   5374  8e75				   .
   5375  8e75							;;line 793;;
   5376  8e75
   5377  8e75				   .check_collisions
   5378  8e75							;;line 794;; check_collisions
   5379  8e75
   5380  8e75				   .
   5381  8e75							;;line 795;;
   5382  8e75
   5383  8e75				   .L0433		;;line 796;;  for iter = 0 to 3
   5384  8e75
   5385  8e75		       a9 00		      lda	#0
   5386  8e77		       8d 51 01 	      sta	iter
   5387  8e7a				   .L0433foriter
   5388  8e7a				   .L0434		;;line 797;;  if blife[iter] = 0 then goto skip_bullet_coll
   5389  8e7a
   5390  8e7a		       ae 51 01 	      LDX	iter
   5391  8e7d		       bd 62 01 	      lda	blife,x
   5392  8e80		       c9 00		      cmp	#0
   5393  8e82		       d0 03		      bne	.skipL0434
   5394  8e84				   .condpart123
   5395  8e84		       4c 6a 8f 	      jmp	.skip_bullet_coll
   5396  8e87				   .skipL0434
   5397  8e87				   .
   5398  8e87							;;line 798;;
   5399  8e87
   5400  8e87				   .L0435		;;line 799;;  for temp_acc = 0 to 3
   5401  8e87
   5402  8e87		       a9 00		      lda	#0
   5403  8e89		       8d 4c 01 	      sta	temp_acc
   5404  8e8c				   .L0435fortemp_acc
   5405  8e8c				   .L0436		;;line 800;;  if elife[temp_acc] = 0 then goto skip_enemy_coll
   5406  8e8c
   5407  8e8c		       ae 4c 01 	      LDX	temp_acc
   5408  8e8f		       bd 78 01 	      lda	elife,x
   5409  8e92		       c9 00		      cmp	#0
   5410  8e94		       d0 03		      bne	.skipL0436
   5411  8e96				   .condpart124
   5412  8e96		       4c 5d 8f 	      jmp	.skip_enemy_coll
   5413  8e99				   .skipL0436
   5414  8e99				   .
   5415  8e99							;;line 801;;
   5416  8e99
   5417  8e99				   .
   5418  8e99							;;line 802;;
   5419  8e99
   5420  8e99				   .L0437		;;line 803;;  temp_val_hi = ex_hi[temp_acc]  -  cam_x_hi
   5421  8e99
   5422  8e99		       ae 4c 01 	      LDX	temp_acc
   5423  8e9c		       bd 8a 01 	      lda	ex_hi,x
   5424  8e9f		       38		      SEC
   5425  8ea0		       ed 49 22 	      SBC	cam_x_hi
   5426  8ea3		       8d 60 22 	      sta	temp_val_hi
   5427  8ea6				   .L0438		;;line 804;;  if temp_val_hi = 3 then temp_val_hi = 255
   5428  8ea6
   5429  8ea6		       ad 60 22 	      lda	temp_val_hi
   5430  8ea9		       c9 03		      cmp	#3
   5431  8eab		       d0 05		      bne	.skipL0438
   5432  8ead				   .condpart125
   5433  8ead		       a9 ff		      lda	#255
   5434  8eaf		       8d 60 22 	      sta	temp_val_hi
   5435  8eb2				   .skipL0438
   5436  8eb2				   .L0439		;;line 805;;  if temp_val_hi = 253 then temp_val_hi = 1
   5437  8eb2
   5438  8eb2		       ad 60 22 	      lda	temp_val_hi
   5439  8eb5		       c9 fd		      cmp	#253
   5440  8eb7		       d0 05		      bne	.skipL0439
   5441  8eb9				   .condpart126
   5442  8eb9		       a9 01		      lda	#1
   5443  8ebb		       8d 60 22 	      sta	temp_val_hi
   5444  8ebe				   .skipL0439
   5445  8ebe				   .L0440		;;line 806;;  if temp_val_hi  >  1  &&  temp_val_hi  <  255 then goto skip_enemy_coll
   5446  8ebe
   5447  8ebe		       a9 01		      lda	#1
   5448  8ec0		       cd 60 22 	      cmp	temp_val_hi
   5449  8ec3		       b0 0a		      bcs	.skipL0440
   5450  8ec5				   .condpart127
   5451  8ec5		       ad 60 22 	      lda	temp_val_hi
   5452  8ec8		       c9 ff		      cmp	#255
   5453  8eca		       b0 03		      bcs	.skip127then
   5454  8ecc				   .condpart128
   5455  8ecc		       4c 5d 8f 	      jmp	.skip_enemy_coll
   5456  8ecf				   .skip127then
   5457  8ecf				   .skipL0440
   5458  8ecf				   .
   5459  8ecf							;;line 807;;
   5460  8ecf
   5461  8ecf				   .
   5462  8ecf							;;line 808;;
   5463  8ecf
   5464  8ecf				   .L0441		;;line 809;;  temp_w = ex[temp_acc]  -  cam_x
   5465  8ecf
   5466  8ecf		       ae 4c 01 	      LDX	temp_acc
   5467  8ed2		       bd 68 01 	      lda	ex,x
   5468  8ed5		       38		      SEC
   5469  8ed6		       ed 48 22 	      SBC	cam_x
   5470  8ed9		       8d 89 01 	      sta	temp_w
   5471  8edc				   .
   5472  8edc							;;line 810;;
   5473  8edc
   5474  8edc				   .
   5475  8edc							;;line 811;;
   5476  8edc
   5477  8edc				   .L0442		;;line 812;;  temp_v = bul_x[iter]  -	temp_w
   5478  8edc
   5479  8edc		       ae 51 01 	      LDX	iter
   5480  8edf		       bd 52 01 	      lda	bul_x,x
   5481  8ee2		       38		      SEC
   5482  8ee3		       ed 89 01 	      SBC	temp_w
   5483  8ee6		       8d 4f 01 	      sta	temp_v
   5484  8ee9				   .L0443		;;line 813;;  if temp_v  >=  128 then temp_v = 0  -  temp_v
   5485  8ee9
   5486  8ee9		       ad 4f 01 	      lda	temp_v
   5487  8eec		       c9 80		      cmp	#128
   5488  8eee		       90 09		      bcc	.skipL0443
   5489  8ef0				   .condpart129
   5490  8ef0		       a9 00		      lda	#0
   5491  8ef2		       38		      SEC
   5492  8ef3		       ed 4f 01 	      SBC	temp_v
   5493  8ef6		       8d 4f 01 	      sta	temp_v
   5494  8ef9				   .skipL0443
   5495  8ef9				   .L0444		;;line 814;;  if temp_v  >=  4 then goto skip_enemy_coll
   5496  8ef9
   5497  8ef9		       ad 4f 01 	      lda	temp_v
   5498  8efc		       c9 04		      cmp	#4
   5499  8efe		       90 03		      bcc	.skipL0444
   5500  8f00				   .condpart130
   5501  8f00		       4c 5d 8f 	      jmp	.skip_enemy_coll
   5502  8f03				   .skipL0444
   5503  8f03				   .
   5504  8f03							;;line 815;;
   5505  8f03
   5506  8f03				   .
   5507  8f03							;;line 816;;
   5508  8f03
   5509  8f03				   .L0445		;;line 817;;  temp_w = ey[temp_acc]  -  cam_y
   5510  8f03
   5511  8f03		       ae 4c 01 	      LDX	temp_acc
   5512  8f06		       bd 6c 01 	      lda	ey,x
   5513  8f09		       38		      SEC
   5514  8f0a		       ed 4a 22 	      SBC	cam_y
   5515  8f0d		       8d 89 01 	      sta	temp_w
   5516  8f10				   .
   5517  8f10							;;line 818;;
   5518  8f10
   5519  8f10				   .
   5520  8f10							;;line 819;;
   5521  8f10
   5522  8f10				   .L0446		;;line 820;;  temp_v = bul_y[iter]  -	temp_w
   5523  8f10
   5524  8f10		       ae 51 01 	      LDX	iter
   5525  8f13		       bd 56 01 	      lda	bul_y,x
   5526  8f16		       38		      SEC
   5527  8f17		       ed 89 01 	      SBC	temp_w
   5528  8f1a		       8d 4f 01 	      sta	temp_v
   5529  8f1d				   .L0447		;;line 821;;  if temp_v  >=  128 then temp_v = 0  -  temp_v
   5530  8f1d
   5531  8f1d		       ad 4f 01 	      lda	temp_v
   5532  8f20		       c9 80		      cmp	#128
   5533  8f22		       90 09		      bcc	.skipL0447
   5534  8f24				   .condpart131
   5535  8f24		       a9 00		      lda	#0
   5536  8f26		       38		      SEC
   5537  8f27		       ed 4f 01 	      SBC	temp_v
   5538  8f2a		       8d 4f 01 	      sta	temp_v
   5539  8f2d				   .skipL0447
   5540  8f2d				   .L0448		;;line 822;;  if temp_v  >=  6 then goto skip_enemy_coll
   5541  8f2d
   5542  8f2d		       ad 4f 01 	      lda	temp_v
   5543  8f30		       c9 06		      cmp	#6
   5544  8f32		       90 03		      bcc	.skipL0448
   5545  8f34				   .condpart132
   5546  8f34		       4c 5d 8f 	      jmp	.skip_enemy_coll
   5547  8f37				   .skipL0448
   5548  8f37				   .
   5549  8f37							;;line 823;;
   5550  8f37
   5551  8f37				   .
   5552  8f37							;;line 824;;
   5553  8f37
   5554  8f37				   .L0449		;;line 825;;  blife[iter] = 0
   5555  8f37
   5556  8f37		       a9 00		      lda	#0
   5557  8f39		       ae 51 01 	      LDX	iter
   5558  8f3c		       9d 62 01 	      sta	blife,x
   5559  8f3f				   .L0450		;;line 826;;  elife[temp_acc] = 0
   5560  8f3f
   5561  8f3f		       a9 00		      lda	#0
   5562  8f41		       ae 4c 01 	      LDX	temp_acc
   5563  8f44		       9d 78 01 	      sta	elife,x
   5564  8f47				   .
   5565  8f47							;;line 827;;
   5566  8f47
   5567  8f47				   .
   5568  8f47							;;line 828;;
   5569  8f47
   5570  8f47				   .L0451		;;line 829;;  score_p = score_p  +  1
   5571  8f47
   5572  8f47		       ad 2c 22 	      lda	score_p
   5573  8f4a		       18		      CLC
   5574  8f4b		       69 01		      ADC	#1
   5575  8f4d		       8d 2c 22 	      sta	score_p
   5576  8f50				   .L0452		;;line 830;;  if score_p  >=  100 then goto you_win
   5577  8f50
   5578  8f50		       ad 2c 22 	      lda	score_p
   5579  8f53		       c9 64		      cmp	#100
   5580  8f55		       90 03		      bcc	.skipL0452
   5581  8f57				   .condpart133
   5582  8f57		       4c be 97 	      jmp	.you_win
   5583  8f5a				   .skipL0452
   5584  8f5a				   .
   5585  8f5a							;;line 831;;
   5586  8f5a
   5587  8f5a				   .L0453		;;line 832;;  goto skip_enemy_coll
   5588  8f5a
   5589  8f5a		       4c 5d 8f 	      jmp	.skip_enemy_coll
   5590  8f5d				   .
   5591  8f5d							;;line 833;;
   5592  8f5d
   5593  8f5d				   .skip_enemy_coll
   5594  8f5d							;;line 834;; skip_enemy_coll
   5595  8f5d
   5596  8f5d				   .L0454		;;line 835;;  next
   5597  8f5d
   5598  8f5d		       ad 4c 01 	      lda	temp_acc
   5599  8f60		       c9 03		      cmp	#3
   5600  8f62		       ee 4c 01 	      inc	temp_acc
   5601  8f65				  -	      if	((* - .L0435fortemp_acc) < 127) && ((* - .L0435fortemp_acc) > -128)
   5602  8f65				  -	      bcc	.L0435fortemp_acc
   5603  8f65					      else
   5604  8f65		       b0 03		      bcs	.6skipL0435fortemp_acc
   5605  8f67		       4c 8c 8e 	      jmp	.L0435fortemp_acc
   5606  8f6a				   .6skipL0435fortemp_acc
   5607  8f6a					      endif
   5608  8f6a				   .
   5609  8f6a							;;line 836;;
   5610  8f6a
   5611  8f6a				   .skip_bullet_coll
   5612  8f6a							;;line 837;; skip_bullet_coll
   5613  8f6a
   5614  8f6a				   .L0455		;;line 838;;  next
   5615  8f6a
   5616  8f6a		       ad 51 01 	      lda	iter
   5617  8f6d		       c9 03		      cmp	#3
   5618  8f6f		       ee 51 01 	      inc	iter
   5619  8f72				  -	      if	((* - .L0433foriter) < 127) && ((* - .L0433foriter) > -128)
   5620  8f72				  -	      bcc	.L0433foriter
   5621  8f72					      else
   5622  8f72		       b0 03		      bcs	.7skipL0433foriter
   5623  8f74		       4c 7a 8e 	      jmp	.L0433foriter
   5624  8f77				   .7skipL0433foriter
   5625  8f77					      endif
   5626  8f77				   .
   5627  8f77							;;line 839;;
   5628  8f77
   5629  8f77				   .
   5630  8f77							;;line 840;;
   5631  8f77
   5632  8f77				   .L0456		;;line 841;;  for iter = 0 to 3
   5633  8f77
   5634  8f77		       a9 00		      lda	#0
   5635  8f79		       8d 51 01 	      sta	iter
   5636  8f7c				   .L0456foriter
   5637  8f7c				   .L0457		;;line 842;;  if elife[iter] = 0 then goto skip_p_e
   5638  8f7c
   5639  8f7c		       ae 51 01 	      LDX	iter
   5640  8f7f		       bd 78 01 	      lda	elife,x
   5641  8f82		       c9 00		      cmp	#0
   5642  8f84		       d0 03		      bne	.skipL0457
   5643  8f86				   .condpart134
   5644  8f86		       4c 59 90 	      jmp	.skip_p_e
   5645  8f89				   .skipL0457
   5646  8f89				   .
   5647  8f89							;;line 843;;
   5648  8f89
   5649  8f89				   .
   5650  8f89							;;line 844;;
   5651  8f89
   5652  8f89				   .L0458		;;line 845;;  temp_val_hi = ex_hi[iter]  -  cam_x_hi
   5653  8f89
   5654  8f89		       ae 51 01 	      LDX	iter
   5655  8f8c		       bd 8a 01 	      lda	ex_hi,x
   5656  8f8f		       38		      SEC
   5657  8f90		       ed 49 22 	      SBC	cam_x_hi
   5658  8f93		       8d 60 22 	      sta	temp_val_hi
   5659  8f96				   .L0459		;;line 846;;  if temp_val_hi = 3 then temp_val_hi = 255
   5660  8f96
   5661  8f96		       ad 60 22 	      lda	temp_val_hi
   5662  8f99		       c9 03		      cmp	#3
   5663  8f9b		       d0 05		      bne	.skipL0459
   5664  8f9d				   .condpart135
   5665  8f9d		       a9 ff		      lda	#255
   5666  8f9f		       8d 60 22 	      sta	temp_val_hi
   5667  8fa2				   .skipL0459
   5668  8fa2				   .L0460		;;line 847;;  if temp_val_hi = 253 then temp_val_hi = 1
   5669  8fa2
   5670  8fa2		       ad 60 22 	      lda	temp_val_hi
   5671  8fa5		       c9 fd		      cmp	#253
   5672  8fa7		       d0 05		      bne	.skipL0460
   5673  8fa9				   .condpart136
   5674  8fa9		       a9 01		      lda	#1
   5675  8fab		       8d 60 22 	      sta	temp_val_hi
   5676  8fae				   .skipL0460
   5677  8fae				   .L0461		;;line 848;;  if temp_val_hi  >  1  &&  temp_val_hi  <  255 then goto skip_p_e
   5678  8fae
   5679  8fae		       a9 01		      lda	#1
   5680  8fb0		       cd 60 22 	      cmp	temp_val_hi
   5681  8fb3		       b0 0a		      bcs	.skipL0461
   5682  8fb5				   .condpart137
   5683  8fb5		       ad 60 22 	      lda	temp_val_hi
   5684  8fb8		       c9 ff		      cmp	#255
   5685  8fba		       b0 03		      bcs	.skip137then
   5686  8fbc				   .condpart138
   5687  8fbc		       4c 59 90 	      jmp	.skip_p_e
   5688  8fbf				   .skip137then
   5689  8fbf				   .skipL0461
   5690  8fbf				   .
   5691  8fbf							;;line 849;;
   5692  8fbf
   5693  8fbf				   .
   5694  8fbf							;;line 850;;
   5695  8fbf
   5696  8fbf				   .L0462		;;line 851;;  temp_v = px  -  cam_x
   5697  8fbf
   5698  8fbf		       ad 40 01 	      lda	px
   5699  8fc2		       38		      SEC
   5700  8fc3		       ed 48 22 	      SBC	cam_x
   5701  8fc6		       8d 4f 01 	      sta	temp_v
   5702  8fc9				   .L0463		;;line 852;;  temp_w = ex[iter]  -  cam_x
   5703  8fc9
   5704  8fc9		       ae 51 01 	      LDX	iter
   5705  8fcc		       bd 68 01 	      lda	ex,x
   5706  8fcf		       38		      SEC
   5707  8fd0		       ed 48 22 	      SBC	cam_x
   5708  8fd3		       8d 89 01 	      sta	temp_w
   5709  8fd6				   .L0464		;;line 853;;  temp_v = temp_v	-  temp_w
   5710  8fd6
   5711  8fd6		       ad 4f 01 	      lda	temp_v
   5712  8fd9		       38		      SEC
   5713  8fda		       ed 89 01 	      SBC	temp_w
   5714  8fdd		       8d 4f 01 	      sta	temp_v
   5715  8fe0				   .L0465		;;line 854;;  temp_v = temp_v	+  4
   5716  8fe0
   5717  8fe0		       ad 4f 01 	      lda	temp_v
   5718  8fe3		       18		      CLC
   5719  8fe4		       69 04		      ADC	#4
   5720  8fe6		       8d 4f 01 	      sta	temp_v
   5721  8fe9				   .L0466		;;line 855;;  if temp_v  >=  128 then temp_v = 0  -  temp_v
   5722  8fe9
   5723  8fe9		       ad 4f 01 	      lda	temp_v
   5724  8fec		       c9 80		      cmp	#128
   5725  8fee		       90 09		      bcc	.skipL0466
   5726  8ff0				   .condpart139
   5727  8ff0		       a9 00		      lda	#0
   5728  8ff2		       38		      SEC
   5729  8ff3		       ed 4f 01 	      SBC	temp_v
   5730  8ff6		       8d 4f 01 	      sta	temp_v
   5731  8ff9				   .skipL0466
   5732  8ff9				   .L0467		;;line 856;;  if temp_v  >=  11 then goto skip_p_e
   5733  8ff9
   5734  8ff9		       ad 4f 01 	      lda	temp_v
   5735  8ffc		       c9 0b		      cmp	#11
   5736  8ffe		       90 03		      bcc	.skipL0467
   5737  9000				   .condpart140
   5738  9000		       4c 59 90 	      jmp	.skip_p_e
   5739  9003				   .skipL0467
   5740  9003				   .
   5741  9003							;;line 857;;
   5742  9003
   5743  9003				   .
   5744  9003							;;line 858;;
   5745  9003
   5746  9003				   .L0468		;;line 859;;  temp_v = py  -  cam_y
   5747  9003
   5748  9003		       ad 41 01 	      lda	py
   5749  9006		       38		      SEC
   5750  9007		       ed 4a 22 	      SBC	cam_y
   5751  900a		       8d 4f 01 	      sta	temp_v
   5752  900d				   .L0469		;;line 860;;  temp_w = ey[iter]  -  cam_y
   5753  900d
   5754  900d		       ae 51 01 	      LDX	iter
   5755  9010		       bd 6c 01 	      lda	ey,x
   5756  9013		       38		      SEC
   5757  9014		       ed 4a 22 	      SBC	cam_y
   5758  9017		       8d 89 01 	      sta	temp_w
   5759  901a				   .L0470		;;line 861;;  temp_v = temp_v	-  temp_w
   5760  901a
   5761  901a		       ad 4f 01 	      lda	temp_v
   5762  901d		       38		      SEC
   5763  901e		       ed 89 01 	      SBC	temp_w
   5764  9021		       8d 4f 01 	      sta	temp_v
   5765  9024				   .
   5766  9024							;;line 862;;
   5767  9024
   5768  9024				   .L0471		;;line 863;;  if temp_v  >=  128 then temp_v = 0  -  temp_v
   5769  9024
   5770  9024		       ad 4f 01 	      lda	temp_v
   5771  9027		       c9 80		      cmp	#128
   5772  9029		       90 09		      bcc	.skipL0471
   5773  902b				   .condpart141
   5774  902b		       a9 00		      lda	#0
   5775  902d		       38		      SEC
   5776  902e		       ed 4f 01 	      SBC	temp_v
   5777  9031		       8d 4f 01 	      sta	temp_v
   5778  9034				   .skipL0471
   5779  9034				   .L0472		;;line 864;;  if temp_v  >=  11 then goto skip_p_e
   5780  9034
   5781  9034		       ad 4f 01 	      lda	temp_v
   5782  9037		       c9 0b		      cmp	#11
   5783  9039		       90 03		      bcc	.skipL0472
   5784  903b				   .condpart142
   5785  903b		       4c 59 90 	      jmp	.skip_p_e
   5786  903e				   .skipL0472
   5787  903e				   .
   5788  903e							;;line 865;;
   5789  903e
   5790  903e				   .
   5791  903e							;;line 866;;
   5792  903e
   5793  903e				   .L0473		;;line 867;;  elife[iter] = 0
   5794  903e
   5795  903e		       a9 00		      lda	#0
   5796  9040		       ae 51 01 	      LDX	iter
   5797  9043		       9d 78 01 	      sta	elife,x
   5798  9046				   .L0474		;;line 868;;  score_e = score_e  +  1
   5799  9046
   5800  9046		       ad 2d 22 	      lda	score_e
   5801  9049		       18		      CLC
   5802  904a		       69 01		      ADC	#1
   5803  904c		       8d 2d 22 	      sta	score_e
   5804  904f				   .L0475		;;line 869;;  if score_e  >=  100 then goto you_lose
   5805  904f
   5806  904f		       ad 2d 22 	      lda	score_e
   5807  9052		       c9 64		      cmp	#100
   5808  9054		       90 03		      bcc	.skipL0475
   5809  9056				   .condpart143
   5810  9056		       4c d3 97 	      jmp	.you_lose
   5811  9059				   .skipL0475
   5812  9059				   .
   5813  9059							;;line 870;;
   5814  9059
   5815  9059				   .skip_p_e
   5816  9059							;;line 871;; skip_p_e
   5817  9059
   5818  9059				   .L0476		;;line 872;;  next
   5819  9059
   5820  9059		       ad 51 01 	      lda	iter
   5821  905c		       c9 03		      cmp	#3
   5822  905e		       ee 51 01 	      inc	iter
   5823  9061				  -	      if	((* - .L0456foriter) < 127) && ((* - .L0456foriter) > -128)
   5824  9061				  -	      bcc	.L0456foriter
   5825  9061					      else
   5826  9061		       b0 03		      bcs	.8skipL0456foriter
   5827  9063		       4c 7c 8f 	      jmp	.L0456foriter
   5828  9066				   .8skipL0456foriter
   5829  9066					      endif
   5830  9066				   .
   5831  9066							;;line 873;;
   5832  9066
   5833  9066				   .L0477		;;line 874;;  goto check_asteroid_coll
   5834  9066
   5835  9066		       4c 69 90 	      jmp	.check_asteroid_coll
   5836  9069				   .
   5837  9069							;;line 875;;
   5838  9069
   5839  9069				   .check_asteroid_coll
   5840  9069							;;line 876;; check_asteroid_coll
   5841  9069
   5842  9069				   .L0478		;;line 877;;  if alife = 0 then goto check_player_ebul
   5843  9069
   5844  9069		       ad 36 22 	      lda	alife
   5845  906c		       c9 00		      cmp	#0
   5846  906e		       d0 03		      bne	.skipL0478
   5847  9070				   .condpart144
   5848  9070		       4c f1 91 	      jmp	.check_player_ebul
   5849  9073				   .skipL0478
   5850  9073				   .
   5851  9073							;;line 878;;
   5852  9073
   5853  9073				   .
   5854  9073							;;line 879;;
   5855  9073
   5856  9073				   .
   5857  9073							;;line 880;;
   5858  9073
   5859  9073				   .
   5860  9073							;;line 881;;
   5861  9073
   5862  9073				   .
   5863  9073							;;line 882;;
   5864  9073
   5865  9073				   .
   5866  9073							;;line 883;;
   5867  9073
   5868  9073				   .
   5869  9073							;;line 884;;
   5870  9073
   5871  9073				   .L0479		;;line 885;;  for iter = 0 to 3
   5872  9073
   5873  9073		       a9 00		      lda	#0
   5874  9075		       8d 51 01 	      sta	iter
   5875  9078				   .L0479foriter
   5876  9078				   .L0480		;;line 886;;  if blife[iter] = 0 then goto skip_bul_ast
   5877  9078
   5878  9078		       ae 51 01 	      LDX	iter
   5879  907b		       bd 62 01 	      lda	blife,x
   5880  907e		       c9 00		      cmp	#0
   5881  9080		       d0 03		      bne	.skipL0480
   5882  9082				   .condpart145
   5883  9082		       4c 3c 91 	      jmp	.skip_bul_ast
   5884  9085				   .skipL0480
   5885  9085				   .
   5886  9085							;;line 887;;
   5887  9085
   5888  9085				   .
   5889  9085							;;line 888;;
   5890  9085
   5891  9085				   .L0481		;;line 889;;  temp_val_hi = ax_hi  -  cam_x_hi
   5892  9085
   5893  9085		       ad 37 22 	      lda	ax_hi
   5894  9088		       38		      SEC
   5895  9089		       ed 49 22 	      SBC	cam_x_hi
   5896  908c		       8d 60 22 	      sta	temp_val_hi
   5897  908f				   .L0482		;;line 890;;  if temp_val_hi = 3 then temp_val_hi = 255
   5898  908f
   5899  908f		       ad 60 22 	      lda	temp_val_hi
   5900  9092		       c9 03		      cmp	#3
   5901  9094		       d0 05		      bne	.skipL0482
   5902  9096				   .condpart146
   5903  9096		       a9 ff		      lda	#255
   5904  9098		       8d 60 22 	      sta	temp_val_hi
   5905  909b				   .skipL0482
   5906  909b				   .L0483		;;line 891;;  if temp_val_hi = 253 then temp_val_hi = 1
   5907  909b
   5908  909b		       ad 60 22 	      lda	temp_val_hi
   5909  909e		       c9 fd		      cmp	#253
   5910  90a0		       d0 05		      bne	.skipL0483
   5911  90a2				   .condpart147
   5912  90a2		       a9 01		      lda	#1
   5913  90a4		       8d 60 22 	      sta	temp_val_hi
   5914  90a7				   .skipL0483
   5915  90a7				   .L0484		;;line 892;;  if temp_val_hi  >  1  &&  temp_val_hi  <  255 then goto skip_bul_ast
   5916  90a7
   5917  90a7		       a9 01		      lda	#1
   5918  90a9		       cd 60 22 	      cmp	temp_val_hi
   5919  90ac		       b0 0a		      bcs	.skipL0484
   5920  90ae				   .condpart148
   5921  90ae		       ad 60 22 	      lda	temp_val_hi
   5922  90b1		       c9 ff		      cmp	#255
   5923  90b3		       b0 03		      bcs	.skip148then
   5924  90b5				   .condpart149
   5925  90b5		       4c 3c 91 	      jmp	.skip_bul_ast
   5926  90b8				   .skip148then
   5927  90b8				   .skipL0484
   5928  90b8				   .
   5929  90b8							;;line 893;;
   5930  90b8
   5931  90b8				   .
   5932  90b8							;;line 894;;
   5933  90b8
   5934  90b8				   .L0485		;;line 895;;  temp_w = ax  -  cam_x
   5935  90b8
   5936  90b8		       ad 32 22 	      lda	ax
   5937  90bb		       38		      SEC
   5938  90bc		       ed 48 22 	      SBC	cam_x
   5939  90bf		       8d 89 01 	      sta	temp_w
   5940  90c2				   .
   5941  90c2							;;line 896;;
   5942  90c2
   5943  90c2				   .
   5944  90c2							;;line 897;;
   5945  90c2
   5946  90c2				   .
   5947  90c2							;;line 898;;
   5948  90c2
   5949  90c2				   .
   5950  90c2							;;line 899;;
   5951  90c2
   5952  90c2				   .L0486		;;line 900;;  temp_v = bul_x[iter]  -	temp_w
   5953  90c2
   5954  90c2		       ae 51 01 	      LDX	iter
   5955  90c5		       bd 52 01 	      lda	bul_x,x
   5956  90c8		       38		      SEC
   5957  90c9		       ed 89 01 	      SBC	temp_w
   5958  90cc		       8d 4f 01 	      sta	temp_v
   5959  90cf				   .L0487		;;line 901;;  temp_v = temp_v	-  8
   5960  90cf
   5961  90cf		       ad 4f 01 	      lda	temp_v
   5962  90d2		       38		      SEC
   5963  90d3		       e9 08		      SBC	#8
   5964  90d5		       8d 4f 01 	      sta	temp_v
   5965  90d8				   .L0488		;;line 902;;  if temp_v  >=  128 then temp_v = 0  -  temp_v
   5966  90d8
   5967  90d8		       ad 4f 01 	      lda	temp_v
   5968  90db		       c9 80		      cmp	#128
   5969  90dd		       90 09		      bcc	.skipL0488
   5970  90df				   .condpart150
   5971  90df		       a9 00		      lda	#0
   5972  90e1		       38		      SEC
   5973  90e2		       ed 4f 01 	      SBC	temp_v
   5974  90e5		       8d 4f 01 	      sta	temp_v
   5975  90e8				   .skipL0488
   5976  90e8				   .L0489		;;line 903;;  if temp_v  >=  10 then goto skip_bul_ast
   5977  90e8
   5978  90e8		       ad 4f 01 	      lda	temp_v
   5979  90eb		       c9 0a		      cmp	#10
   5980  90ed		       90 03		      bcc	.skipL0489
   5981  90ef				   .condpart151
   5982  90ef		       4c 3c 91 	      jmp	.skip_bul_ast
   5983  90f2				   .skipL0489
   5984  90f2				   .
   5985  90f2							;;line 904;;
   5986  90f2
   5987  90f2				   .
   5988  90f2							;;line 905;;
   5989  90f2
   5990  90f2				   .L0490		;;line 906;;  temp_w = ay  -  cam_y
   5991  90f2
   5992  90f2		       ad 33 22 	      lda	ay
   5993  90f5		       38		      SEC
   5994  90f6		       ed 4a 22 	      SBC	cam_y
   5995  90f9		       8d 89 01 	      sta	temp_w
   5996  90fc				   .L0491		;;line 907;;  temp_v = bul_y[iter]  -	temp_w
   5997  90fc
   5998  90fc		       ae 51 01 	      LDX	iter
   5999  90ff		       bd 56 01 	      lda	bul_y,x
   6000  9102		       38		      SEC
   6001  9103		       ed 89 01 	      SBC	temp_w
   6002  9106		       8d 4f 01 	      sta	temp_v
   6003  9109				   .L0492		;;line 908;;  temp_v = temp_v	-  8
   6004  9109
   6005  9109		       ad 4f 01 	      lda	temp_v
   6006  910c		       38		      SEC
   6007  910d		       e9 08		      SBC	#8
   6008  910f		       8d 4f 01 	      sta	temp_v
   6009  9112				   .L0493		;;line 909;;  if temp_v  >=  128 then temp_v = 0  -  temp_v
   6010  9112
   6011  9112		       ad 4f 01 	      lda	temp_v
   6012  9115		       c9 80		      cmp	#128
   6013  9117		       90 09		      bcc	.skipL0493
   6014  9119				   .condpart152
   6015  9119		       a9 00		      lda	#0
   6016  911b		       38		      SEC
   6017  911c		       ed 4f 01 	      SBC	temp_v
   6018  911f		       8d 4f 01 	      sta	temp_v
   6019  9122				   .skipL0493
   6020  9122				   .L0494		;;line 910;;  if temp_v  >=  10 then goto skip_bul_ast
   6021  9122
   6022  9122		       ad 4f 01 	      lda	temp_v
   6023  9125		       c9 0a		      cmp	#10
   6024  9127		       90 03		      bcc	.skipL0494
   6025  9129				   .condpart153
   6026  9129		       4c 3c 91 	      jmp	.skip_bul_ast
   6027  912c				   .skipL0494
   6028  912c				   .
   6029  912c							;;line 911;;
   6030  912c
   6031  912c				   .
   6032  912c							;;line 912;;
   6033  912c
   6034  912c				   .L0495		;;line 913;;  blife[iter] = 0
   6035  912c
   6036  912c		       a9 00		      lda	#0
   6037  912e		       ae 51 01 	      LDX	iter
   6038  9131		       9d 62 01 	      sta	blife,x
   6039  9134				   .L0496		;;line 914;;  alife = 0
   6040  9134
   6041  9134		       a9 00		      lda	#0
   6042  9136		       8d 36 22 	      sta	alife
   6043  9139				   .
   6044  9139							;;line 915;;
   6045  9139
   6046  9139				   .L0497		;;line 916;;  goto check_player_ebul
   6047  9139
   6048  9139		       4c f1 91 	      jmp	.check_player_ebul
   6049  913c				   .
   6050  913c							;;line 917;;
   6051  913c
   6052  913c				   .skip_bul_ast
   6053  913c							;;line 918;; skip_bul_ast
   6054  913c
   6055  913c				   .L0498		;;line 919;;  next
   6056  913c
   6057  913c		       ad 51 01 	      lda	iter
   6058  913f		       c9 03		      cmp	#3
   6059  9141		       ee 51 01 	      inc	iter
   6060  9144				  -	      if	((* - .L0479foriter) < 127) && ((* - .L0479foriter) > -128)
   6061  9144				  -	      bcc	.L0479foriter
   6062  9144					      else
   6063  9144		       b0 03		      bcs	.9skipL0479foriter
   6064  9146		       4c 78 90 	      jmp	.L0479foriter
   6065  9149				   .9skipL0479foriter
   6066  9149					      endif
   6067  9149				   .
   6068  9149							;;line 920;;
   6069  9149
   6070  9149				   .
   6071  9149							;;line 921;;
   6072  9149
   6073  9149				   .
   6074  9149							;;line 922;;
   6075  9149
   6076  9149				   .L0499		;;line 923;;  temp_val_hi = ax_hi  -  cam_x_hi
   6077  9149
   6078  9149		       ad 37 22 	      lda	ax_hi
   6079  914c		       38		      SEC
   6080  914d		       ed 49 22 	      SBC	cam_x_hi
   6081  9150		       8d 60 22 	      sta	temp_val_hi
   6082  9153				   .L0500		;;line 924;;  if temp_val_hi = 3 then temp_val_hi = 255
   6083  9153
   6084  9153		       ad 60 22 	      lda	temp_val_hi
   6085  9156		       c9 03		      cmp	#3
   6086  9158		       d0 05		      bne	.skipL0500
   6087  915a				   .condpart154
   6088  915a		       a9 ff		      lda	#255
   6089  915c		       8d 60 22 	      sta	temp_val_hi
   6090  915f				   .skipL0500
   6091  915f				   .L0501		;;line 925;;  if temp_val_hi = 253 then temp_val_hi = 1
   6092  915f
   6093  915f		       ad 60 22 	      lda	temp_val_hi
   6094  9162		       c9 fd		      cmp	#253
   6095  9164		       d0 05		      bne	.skipL0501
   6096  9166				   .condpart155
   6097  9166		       a9 01		      lda	#1
   6098  9168		       8d 60 22 	      sta	temp_val_hi
   6099  916b				   .skipL0501
   6100  916b				   .L0502		;;line 926;;  if temp_val_hi  >  1  &&  temp_val_hi  <  255 then goto check_player_ebul
   6101  916b
   6102  916b		       a9 01		      lda	#1
   6103  916d		       cd 60 22 	      cmp	temp_val_hi
   6104  9170		       b0 0a		      bcs	.skipL0502
   6105  9172				   .condpart156
   6106  9172		       ad 60 22 	      lda	temp_val_hi
   6107  9175		       c9 ff		      cmp	#255
   6108  9177		       b0 03		      bcs	.skip156then
   6109  9179				   .condpart157
   6110  9179		       4c f1 91 	      jmp	.check_player_ebul
   6111  917c				   .skip156then
   6112  917c				   .skipL0502
   6113  917c				   .
   6114  917c							;;line 927;;
   6115  917c
   6116  917c				   .
   6117  917c							;;line 928;;
   6118  917c
   6119  917c				   .L0503		;;line 929;;  temp_v = px  -  cam_x
   6120  917c
   6121  917c		       ad 40 01 	      lda	px
   6122  917f		       38		      SEC
   6123  9180		       ed 48 22 	      SBC	cam_x
   6124  9183		       8d 4f 01 	      sta	temp_v
   6125  9186				   .L0504		;;line 930;;  temp_w = ax  -  cam_x
   6126  9186
   6127  9186		       ad 32 22 	      lda	ax
   6128  9189		       38		      SEC
   6129  918a		       ed 48 22 	      SBC	cam_x
   6130  918d		       8d 89 01 	      sta	temp_w
   6131  9190				   .
   6132  9190							;;line 931;;
   6133  9190
   6134  9190				   .L0505		;;line 932;;  temp_w = temp_v	-  temp_w
   6135  9190
   6136  9190		       ad 4f 01 	      lda	temp_v
   6137  9193		       38		      SEC
   6138  9194		       ed 89 01 	      SBC	temp_w
   6139  9197		       8d 89 01 	      sta	temp_w
   6140  919a				   .L0506		;;line 933;;  if temp_w  >=  128 then temp_w = 0  -  temp_w
   6141  919a
   6142  919a		       ad 89 01 	      lda	temp_w
   6143  919d		       c9 80		      cmp	#128
   6144  919f		       90 09		      bcc	.skipL0506
   6145  91a1				   .condpart158
   6146  91a1		       a9 00		      lda	#0
   6147  91a3		       38		      SEC
   6148  91a4		       ed 89 01 	      SBC	temp_w
   6149  91a7		       8d 89 01 	      sta	temp_w
   6150  91aa				   .skipL0506
   6151  91aa				   .L0507		;;line 934;;  if temp_w  >=  14 then goto check_player_ebul
   6152  91aa
   6153  91aa		       ad 89 01 	      lda	temp_w
   6154  91ad		       c9 0e		      cmp	#14
   6155  91af		       90 03		      bcc	.skipL0507
   6156  91b1				   .condpart159
   6157  91b1		       4c f1 91 	      jmp	.check_player_ebul
   6158  91b4				   .skipL0507
   6159  91b4				   .
   6160  91b4							;;line 935;;
   6161  91b4
   6162  91b4				   .
   6163  91b4							;;line 936;;
   6164  91b4
   6165  91b4				   .L0508		;;line 937;;  temp_v = py  -  cam_y
   6166  91b4
   6167  91b4		       ad 41 01 	      lda	py
   6168  91b7		       38		      SEC
   6169  91b8		       ed 4a 22 	      SBC	cam_y
   6170  91bb		       8d 4f 01 	      sta	temp_v
   6171  91be				   .L0509		;;line 938;;  temp_w = ay  -  cam_y
   6172  91be
   6173  91be		       ad 33 22 	      lda	ay
   6174  91c1		       38		      SEC
   6175  91c2		       ed 4a 22 	      SBC	cam_y
   6176  91c5		       8d 89 01 	      sta	temp_w
   6177  91c8				   .L0510		;;line 939;;  temp_w = temp_v	-  temp_w
   6178  91c8
   6179  91c8		       ad 4f 01 	      lda	temp_v
   6180  91cb		       38		      SEC
   6181  91cc		       ed 89 01 	      SBC	temp_w
   6182  91cf		       8d 89 01 	      sta	temp_w
   6183  91d2				   .L0511		;;line 940;;  if temp_w  >=  128 then temp_w = 0  -  temp_w
   6184  91d2
   6185  91d2		       ad 89 01 	      lda	temp_w
   6186  91d5		       c9 80		      cmp	#128
   6187  91d7		       90 09		      bcc	.skipL0511
   6188  91d9				   .condpart160
   6189  91d9		       a9 00		      lda	#0
   6190  91db		       38		      SEC
   6191  91dc		       ed 89 01 	      SBC	temp_w
   6192  91df		       8d 89 01 	      sta	temp_w
   6193  91e2				   .skipL0511
   6194  91e2				   .L0512		;;line 941;;  if temp_w  >=  14 then goto check_player_ebul
   6195  91e2
   6196  91e2		       ad 89 01 	      lda	temp_w
   6197  91e5		       c9 0e		      cmp	#14
   6198  91e7		       90 03		      bcc	.skipL0512
   6199  91e9				   .condpart161
   6200  91e9		       4c f1 91 	      jmp	.check_player_ebul
   6201  91ec				   .skipL0512
   6202  91ec				   .
   6203  91ec							;;line 942;;
   6204  91ec
   6205  91ec				   .
   6206  91ec							;;line 943;;
   6207  91ec
   6208  91ec				   .L0513		;;line 944;;  alife = 0
   6209  91ec
   6210  91ec		       a9 00		      lda	#0
   6211  91ee		       8d 36 22 	      sta	alife
   6212  91f1				   .
   6213  91f1							;;line 945;;
   6214  91f1
   6215  91f1				   .
   6216  91f1							;;line 946;;
   6217  91f1
   6218  91f1				   .check_player_ebul
   6219  91f1							;;line 947;; check_player_ebul
   6220  91f1
   6221  91f1				   .
   6222  91f1							;;line 948;;
   6223  91f1
   6224  91f1				   .L0514		;;line 949;;  for iter = 0 to 3
   6225  91f1
   6226  91f1		       a9 00		      lda	#0
   6227  91f3		       8d 51 01 	      sta	iter
   6228  91f6				   .L0514foriter
   6229  91f6				   .L0515		;;line 950;;  if eblife[iter] = 0 then goto skip_ebul_coll
   6230  91f6
   6231  91f6		       ae 51 01 	      LDX	iter
   6232  91f9		       bd 40 22 	      lda	eblife,x
   6233  91fc		       c9 00		      cmp	#0
   6234  91fe		       d0 03		      bne	.skipL0515
   6235  9200				   .condpart162
   6236  9200		       4c 2d 93 	      jmp	.skip_ebul_coll
   6237  9203				   .skipL0515
   6238  9203				   .
   6239  9203							;;line 951;;
   6240  9203
   6241  9203				   .
   6242  9203							;;line 952;;
   6243  9203
   6244  9203				   .L0516		;;line 953;;  temp_val_hi = ebul_x_hi[iter]  -  cam_x_hi
   6245  9203
   6246  9203		       ae 51 01 	      LDX	iter
   6247  9206		       bd 58 22 	      lda	ebul_x_hi,x
   6248  9209		       38		      SEC
   6249  920a		       ed 49 22 	      SBC	cam_x_hi
   6250  920d		       8d 60 22 	      sta	temp_val_hi
   6251  9210				   .
   6252  9210							;;line 954;;
   6253  9210
   6254  9210				   .L0517		;;line 955;;  if temp_val_hi = 3 then temp_val_hi = 255
   6255  9210
   6256  9210		       ad 60 22 	      lda	temp_val_hi
   6257  9213		       c9 03		      cmp	#3
   6258  9215		       d0 05		      bne	.skipL0517
   6259  9217				   .condpart163
   6260  9217		       a9 ff		      lda	#255
   6261  9219		       8d 60 22 	      sta	temp_val_hi
   6262  921c				   .skipL0517
   6263  921c				   .L0518		;;line 956;;  if temp_val_hi = 253 then temp_val_hi = 1
   6264  921c
   6265  921c		       ad 60 22 	      lda	temp_val_hi
   6266  921f		       c9 fd		      cmp	#253
   6267  9221		       d0 05		      bne	.skipL0518
   6268  9223				   .condpart164
   6269  9223		       a9 01		      lda	#1
   6270  9225		       8d 60 22 	      sta	temp_val_hi
   6271  9228				   .skipL0518
   6272  9228				   .
   6273  9228							;;line 957;;
   6274  9228
   6275  9228				   .L0519		;;line 958;;  if temp_val_hi  >  1  &&  temp_val_hi  <  255 then goto skip_ebul_coll
   6276  9228
   6277  9228		       a9 01		      lda	#1
   6278  922a		       cd 60 22 	      cmp	temp_val_hi
   6279  922d		       b0 0a		      bcs	.skipL0519
   6280  922f				   .condpart165
   6281  922f		       ad 60 22 	      lda	temp_val_hi
   6282  9232		       c9 ff		      cmp	#255
   6283  9234		       b0 03		      bcs	.skip165then
   6284  9236				   .condpart166
   6285  9236		       4c 2d 93 	      jmp	.skip_ebul_coll
   6286  9239				   .skip165then
   6287  9239				   .skipL0519
   6288  9239				   .
   6289  9239							;;line 959;;
   6290  9239
   6291  9239				   .
   6292  9239							;;line 960;;
   6293  9239
   6294  9239				   .
   6295  9239							;;line 961;;
   6296  9239
   6297  9239				   .L0520		;;line 962;;  temp_v = px  -  cam_x
   6298  9239
   6299  9239		       ad 40 01 	      lda	px
   6300  923c		       38		      SEC
   6301  923d		       ed 48 22 	      SBC	cam_x
   6302  9240		       8d 4f 01 	      sta	temp_v
   6303  9243				   .L0521		;;line 963;;  temp_w = ebul_x[iter]  -  cam_x
   6304  9243
   6305  9243		       ae 51 01 	      LDX	iter
   6306  9246		       bd 7c 01 	      lda	ebul_x,x
   6307  9249		       38		      SEC
   6308  924a		       ed 48 22 	      SBC	cam_x
   6309  924d		       8d 89 01 	      sta	temp_w
   6310  9250				   .
   6311  9250							;;line 964;;
   6312  9250
   6313  9250				   .
   6314  9250							;;line 965;;
   6315  9250
   6316  9250				   .L0522		;;line 966;;  temp_v = temp_v	-  temp_w
   6317  9250
   6318  9250		       ad 4f 01 	      lda	temp_v
   6319  9253		       38		      SEC
   6320  9254		       ed 89 01 	      SBC	temp_w
   6321  9257		       8d 4f 01 	      sta	temp_v
   6322  925a				   .
   6323  925a							;;line 967;;
   6324  925a
   6325  925a				   .
   6326  925a							;;line 968;;
   6327  925a
   6328  925a				   .
   6329  925a							;;line 969;;
   6330  925a
   6331  925a				   .L0523		;;line 970;;  temp_v = temp_v	+  7
   6332  925a
   6333  925a		       ad 4f 01 	      lda	temp_v
   6334  925d		       18		      CLC
   6335  925e		       69 07		      ADC	#7
   6336  9260		       8d 4f 01 	      sta	temp_v
   6337  9263				   .
   6338  9263							;;line 971;;
   6339  9263
   6340  9263				   .L0524		;;line 972;;  if temp_v  >=  128 then temp_v = 0  -  temp_v
   6341  9263
   6342  9263		       ad 4f 01 	      lda	temp_v
   6343  9266		       c9 80		      cmp	#128
   6344  9268		       90 09		      bcc	.skipL0524
   6345  926a				   .condpart167
   6346  926a		       a9 00		      lda	#0
   6347  926c		       38		      SEC
   6348  926d		       ed 4f 01 	      SBC	temp_v
   6349  9270		       8d 4f 01 	      sta	temp_v
   6350  9273				   .skipL0524
   6351  9273				   .L0525		;;line 973;;  if temp_v  >=  6 then goto skip_ebul_coll
   6352  9273
   6353  9273		       ad 4f 01 	      lda	temp_v
   6354  9276		       c9 06		      cmp	#6
   6355  9278		       90 03		      bcc	.skipL0525
   6356  927a				   .condpart168
   6357  927a		       4c 2d 93 	      jmp	.skip_ebul_coll
   6358  927d				   .skipL0525
   6359  927d				   .
   6360  927d							;;line 974;;
   6361  927d
   6362  927d				   .
   6363  927d							;;line 975;;
   6364  927d
   6365  927d				   .L0526		;;line 976;;  temp_val_hi = ebul_y_hi[iter]  -  cam_y_hi
   6366  927d
   6367  927d		       ae 51 01 	      LDX	iter
   6368  9280		       bd 5c 22 	      lda	ebul_y_hi,x
   6369  9283		       38		      SEC
   6370  9284		       ed 4b 22 	      SBC	cam_y_hi
   6371  9287		       8d 60 22 	      sta	temp_val_hi
   6372  928a				   .
   6373  928a							;;line 977;;
   6374  928a
   6375  928a				   .L0527		;;line 978;;  if temp_val_hi = 3 then temp_val_hi = 255
   6376  928a
   6377  928a		       ad 60 22 	      lda	temp_val_hi
   6378  928d		       c9 03		      cmp	#3
   6379  928f		       d0 05		      bne	.skipL0527
   6380  9291				   .condpart169
   6381  9291		       a9 ff		      lda	#255
   6382  9293		       8d 60 22 	      sta	temp_val_hi
   6383  9296				   .skipL0527
   6384  9296				   .L0528		;;line 979;;  if temp_val_hi = 253 then temp_val_hi = 1
   6385  9296
   6386  9296		       ad 60 22 	      lda	temp_val_hi
   6387  9299		       c9 fd		      cmp	#253
   6388  929b		       d0 05		      bne	.skipL0528
   6389  929d				   .condpart170
   6390  929d		       a9 01		      lda	#1
   6391  929f		       8d 60 22 	      sta	temp_val_hi
   6392  92a2				   .skipL0528
   6393  92a2				   .L0529		;;line 980;;  if temp_val_hi  >  1  &&  temp_val_hi  <  255 then goto skip_ebul_coll
   6394  92a2
   6395  92a2		       a9 01		      lda	#1
   6396  92a4		       cd 60 22 	      cmp	temp_val_hi
   6397  92a7		       b0 0a		      bcs	.skipL0529
   6398  92a9				   .condpart171
   6399  92a9		       ad 60 22 	      lda	temp_val_hi
   6400  92ac		       c9 ff		      cmp	#255
   6401  92ae		       b0 03		      bcs	.skip171then
   6402  92b0				   .condpart172
   6403  92b0		       4c 2d 93 	      jmp	.skip_ebul_coll
   6404  92b3				   .skip171then
   6405  92b3				   .skipL0529
   6406  92b3				   .
   6407  92b3							;;line 981;;
   6408  92b3
   6409  92b3				   .
   6410  92b3							;;line 982;;
   6411  92b3
   6412  92b3				   .L0530		;;line 983;;  temp_v = py  -  cam_y
   6413  92b3
   6414  92b3		       ad 41 01 	      lda	py
   6415  92b6		       38		      SEC
   6416  92b7		       ed 4a 22 	      SBC	cam_y
   6417  92ba		       8d 4f 01 	      sta	temp_v
   6418  92bd				   .L0531		;;line 984;;  temp_w = ebul_y[iter]  -  cam_y
   6419  92bd
   6420  92bd		       ae 51 01 	      LDX	iter
   6421  92c0		       bd 80 01 	      lda	ebul_y,x
   6422  92c3		       38		      SEC
   6423  92c4		       ed 4a 22 	      SBC	cam_y
   6424  92c7		       8d 89 01 	      sta	temp_w
   6425  92ca				   .
   6426  92ca							;;line 985;;
   6427  92ca
   6428  92ca				   .L0532		;;line 986;;  temp_v = temp_v	-  temp_w
   6429  92ca
   6430  92ca		       ad 4f 01 	      lda	temp_v
   6431  92cd		       38		      SEC
   6432  92ce		       ed 89 01 	      SBC	temp_w
   6433  92d1		       8d 4f 01 	      sta	temp_v
   6434  92d4				   .L0533		;;line 987;;  temp_v = temp_v	+  7
   6435  92d4
   6436  92d4		       ad 4f 01 	      lda	temp_v
   6437  92d7		       18		      CLC
   6438  92d8		       69 07		      ADC	#7
   6439  92da		       8d 4f 01 	      sta	temp_v
   6440  92dd				   .
   6441  92dd							;;line 988;;
   6442  92dd
   6443  92dd				   .L0534		;;line 989;;  if temp_v  >=  128 then temp_v = 0  -  temp_v
   6444  92dd
   6445  92dd		       ad 4f 01 	      lda	temp_v
   6446  92e0		       c9 80		      cmp	#128
   6447  92e2		       90 09		      bcc	.skipL0534
   6448  92e4				   .condpart173
   6449  92e4		       a9 00		      lda	#0
   6450  92e6		       38		      SEC
   6451  92e7		       ed 4f 01 	      SBC	temp_v
   6452  92ea		       8d 4f 01 	      sta	temp_v
   6453  92ed				   .skipL0534
   6454  92ed				   .L0535		;;line 990;;  if temp_v  >=  10 then goto skip_ebul_coll
   6455  92ed
   6456  92ed		       ad 4f 01 	      lda	temp_v
   6457  92f0		       c9 0a		      cmp	#10
   6458  92f2		       90 03		      bcc	.skipL0535
   6459  92f4				   .condpart174
   6460  92f4		       4c 2d 93 	      jmp	.skip_ebul_coll
   6461  92f7				   .skipL0535
   6462  92f7				   .
   6463  92f7							;;line 991;;
   6464  92f7
   6465  92f7				   .
   6466  92f7							;;line 992;;
   6467  92f7
   6468  92f7				   .L0536		;;line 993;;  eblife[iter] = 0
   6469  92f7
   6470  92f7		       a9 00		      lda	#0
   6471  92f9		       ae 51 01 	      LDX	iter
   6472  92fc		       9d 40 22 	      sta	eblife,x
   6473  92ff				   .L0537		;;line 994;;  playsfx sfx_laser 0
   6474  92ff
   6475  92ff					      ifnconst	NOTIALOCKMUTE
   6476  92ff		       a9 01		      lda	#1
   6477  9301		       85 de		      sta	sfxschedulelock
   6478  9303		       a9 34		      lda	#<sfx_laser
   6479  9305		       85 e0		      sta	sfxinstrumentlo
   6480  9307		       a9 95		      lda	#>sfx_laser
   6481  9309		       85 e1		      sta	sfxinstrumenthi
   6482  930b		       a9 00		      lda	#0
   6483  930d		       85 e2		      sta	sfxpitchoffset	; pitch modification
   6484  930f		       a9 00		      lda	#0
   6485  9311		       85 e3		      sta	sfxnoteindex	; not a musical note
   6486  9313		       20 9d f2 	      jsr	schedulesfx
   6487  9316		       a9 00		      lda	#0
   6488  9318		       85 de		      sta	sfxschedulelock
   6489  931a					      endif		; NOTIALOCKMUTE
   6490  931a				   .
   6491  931a							;;line 995;;
   6492  931a
   6493  931a				   .L0538		;;line 996;;  score_e = score_e  +  1
   6494  931a
   6495  931a		       ad 2d 22 	      lda	score_e
   6496  931d		       18		      CLC
   6497  931e		       69 01		      ADC	#1
   6498  9320		       8d 2d 22 	      sta	score_e
   6499  9323				   .L0539		;;line 997;;  if score_e  >=  100 then goto you_lose
   6500  9323
   6501  9323		       ad 2d 22 	      lda	score_e
   6502  9326		       c9 64		      cmp	#100
   6503  9328		       90 03		      bcc	.skipL0539
   6504  932a				   .condpart175
   6505  932a		       4c d3 97 	      jmp	.you_lose
   6506  932d				   .skipL0539
   6507  932d				   .
   6508  932d							;;line 998;;
   6509  932d
   6510  932d				   .skip_ebul_coll
   6511  932d							;;line 999;; skip_ebul_coll
   6512  932d
   6513  932d				   .L0540		;;line 1000;;	next
   6514  932d
   6515  932d		       ad 51 01 	      lda	iter
   6516  9330		       c9 03		      cmp	#3
   6517  9332		       ee 51 01 	      inc	iter
   6518  9335				  -	      if	((* - .L0514foriter) < 127) && ((* - .L0514foriter) > -128)
   6519  9335				  -	      bcc	.L0514foriter
   6520  9335					      else
   6521  9335		       b0 03		      bcs	.10skipL0514foriter
   6522  9337		       4c f6 91 	      jmp	.L0514foriter
   6523  933a				   .10skipL0514foriter
   6524  933a					      endif
   6525  933a				   .
   6526  933a							;;line 1001;;
   6527  933a
   6528  933a				   .coll_done
   6529  933a							;;line 1002;; coll_done
   6530  933a
   6531  933a				   .L0541		;;line 1003;;	return
   6532  933a
   6533  933a		       60		      rts
   6534  933b				   .
   6535  933b							;;line 1004;;
   6536  933b
   6537  933b				   .init_stars
   6538  933b							;;line 1005;; init_stars
   6539  933b
   6540  933b				   .L0542		;;line 1006;;	for iter = 0 to 19
   6541  933b
   6542  933b		       a9 00		      lda	#0
   6543  933d		       8d 51 01 	      sta	iter
   6544  9340				   .L0542foriter
   6545  9340				   .
   6546  9340							;;line 1007;;
   6547  9340
   6548  9340				   .L0543		;;line 1008;;	rand_val = frame  &  127  :  temp_v = rand_val
   6549  9340
   6550  9340		       ad 4d 01 	      lda	frame
   6551  9343		       29 7f		      AND	#127
   6552  9345		       8d 30 22 	      sta	rand_val
   6553  9348		       20 0c f4 	      jsr	randomize
   6554  934b		       8d 4f 01 	      sta	temp_v
   6555  934e				   .L0544		;;line 1009;;	rand_val = frame  &  32  :  temp_v = temp_v  +	rand_val
   6556  934e
   6557  934e		       ad 4d 01 	      lda	frame
   6558  9351		       29 20		      AND	#32
   6559  9353		       8d 30 22 	      sta	rand_val
   6560  9356		       ad 4f 01 	      lda	temp_v
   6561  9359		       18		      CLC
   6562  935a		       6d 30 22 	      ADC	rand_val
   6563  935d		       8d 4f 01 	      sta	temp_v
   6564  9360				   .L0545		;;line 1010;;	if temp_v  >  159 then temp_v = 159
   6565  9360
   6566  9360		       a9 9f		      lda	#159
   6567  9362		       cd 4f 01 	      cmp	temp_v
   6568  9365		       b0 05		      bcs	.skipL0545
   6569  9367				   .condpart176
   6570  9367		       a9 9f		      lda	#159
   6571  9369		       8d 4f 01 	      sta	temp_v
   6572  936c				   .skipL0545
   6573  936c				   .L0546		;;line 1011;;	star_x[iter] = temp_v
   6574  936c
   6575  936c		       ad 4f 01 	      lda	temp_v
   6576  936f		       ae 51 01 	      LDX	iter
   6577  9372		       9d 90 01 	      sta	star_x,x
   6578  9375				   .
   6579  9375							;;line 1012;;
   6580  9375
   6581  9375				   .
   6582  9375							;;line 1013;;
   6583  9375
   6584  9375				   .L0547		;;line 1014;;	rand_val = frame  &  127
   6585  9375
   6586  9375		       ad 4d 01 	      lda	frame
   6587  9378		       29 7f		      AND	#127
   6588  937a		       8d 30 22 	      sta	rand_val
   6589  937d				   .L0548		;;line 1015;;	rand_val = rand_val  +	50
   6590  937d
   6591  937d		       20 0c f4 	      jsr	randomize
   6592  9380		       18		      CLC
   6593  9381		       69 32		      ADC	#50
   6594  9383		       8d 30 22 	      sta	rand_val
   6595  9386				   .L0549		;;line 1016;;	if rand_val  >	180 then rand_val = rand_val  -  100
   6596  9386
   6597  9386		       a9 b4		      lda	#180
   6598  9388		       cd 30 22 	      cmp	rand_val
   6599  938b		       b0 09		      bcs	.skipL0549
   6600  938d				   .condpart177
   6601  938d		       20 0c f4 	      jsr	randomize
   6602  9390		       38		      SEC
   6603  9391		       e9 64		      SBC	#100
   6604  9393		       8d 30 22 	      sta	rand_val
   6605  9396				   .skipL0549
   6606  9396				   .L0550		;;line 1017;;	star_y[iter] = rand_val
   6607  9396
   6608  9396		       20 0c f4 	      jsr	randomize
   6609  9399		       ae 51 01 	      LDX	iter
   6610  939c		       9d 00 22 	      sta	star_y,x
   6611  939f				   .
   6612  939f							;;line 1018;;
   6613  939f
   6614  939f				   .
   6615  939f							;;line 1019;;
   6616  939f
   6617  939f				   .L0551		;;line 1020;;	rand_val = frame  &  3
   6618  939f
   6619  939f		       ad 4d 01 	      lda	frame
   6620  93a2		       29 03		      AND	#3
   6621  93a4		       8d 30 22 	      sta	rand_val
   6622  93a7				   .L0552		;;line 1021;;	if rand_val = 0 then rand_val = 1
   6623  93a7
   6624  93a7		       ad 30 22 	      lda	rand_val
   6625  93aa		       c9 00		      cmp	#0
   6626  93ac		       d0 05		      bne	.skipL0552
   6627  93ae				   .condpart178
   6628  93ae		       a9 01		      lda	#1
   6629  93b0		       8d 30 22 	      sta	rand_val
   6630  93b3				   .skipL0552
   6631  93b3				   .L0553		;;line 1022;;	star_c[iter] = rand_val
   6632  93b3
   6633  93b3		       20 0c f4 	      jsr	randomize
   6634  93b6		       ae 51 01 	      LDX	iter
   6635  93b9		       9d 14 22 	      sta	star_c,x
   6636  93bc				   .
   6637  93bc							;;line 1023;;
   6638  93bc
   6639  93bc				   .
   6640  93bc							;;line 1024;;
   6641  93bc
   6642  93bc				   .L0554		;;line 1025;;	frame = frame  +  1
   6643  93bc
   6644  93bc		       ad 4d 01 	      lda	frame
   6645  93bf		       18		      CLC
   6646  93c0		       69 01		      ADC	#1
   6647  93c2		       8d 4d 01 	      sta	frame
   6648  93c5				   .L0555		;;line 1026;;	next
   6649  93c5
   6650  93c5		       ad 51 01 	      lda	iter
   6651  93c8		       c9 13		      cmp	#19
   6652  93ca		       ee 51 01 	      inc	iter
   6653  93cd				  -	      if	((* - .L0542foriter) < 127) && ((* - .L0542foriter) > -128)
   6654  93cd				  -	      bcc	.L0542foriter
   6655  93cd					      else
   6656  93cd		       b0 03		      bcs	.11skipL0542foriter
   6657  93cf		       4c 40 93 	      jmp	.L0542foriter
   6658  93d2				   .11skipL0542foriter
   6659  93d2					      endif
   6660  93d2				   .L0556		;;line 1027;;	return
   6661  93d2
   6662  93d2		       60		      rts
   6663  93d3				   .
   6664  93d3							;;line 1028;;
   6665  93d3
   6666  93d3				   .draw_stars
   6667  93d3							;;line 1029;; draw_stars
   6668  93d3
   6669  93d3				   .L0557		;;line 1030;;	for iter = 0 to 9
   6670  93d3
   6671  93d3		       a9 00		      lda	#0
   6672  93d5		       8d 51 01 	      sta	iter
   6673  93d8				   .L0557foriter
   6674  93d8				   .
   6675  93d8							;;line 1031;;
   6676  93d8
   6677  93d8				   .L0558		;;line 1032;;	temp_v = star_x[iter]  -  cam_x
   6678  93d8
   6679  93d8		       ae 51 01 	      LDX	iter
   6680  93db		       bd 90 01 	      lda	star_x,x
   6681  93de		       38		      SEC
   6682  93df		       ed 48 22 	      SBC	cam_x
   6683  93e2		       8d 4f 01 	      sta	temp_v
   6684  93e5				   .
   6685  93e5							;;line 1033;;
   6686  93e5
   6687  93e5				   .
   6688  93e5							;;line 1034;;
   6689  93e5
   6690  93e5				   .L0559		;;line 1035;;	if temp_v  >  165 then goto skip_star_draw
   6691  93e5
   6692  93e5		       a9 a5		      lda	#165
   6693  93e7		       cd 4f 01 	      cmp	temp_v
   6694  93ea		       b0 03		      bcs	.skipL0559
   6695  93ec				   .condpart179
   6696  93ec		       4c 23 94 	      jmp	.skip_star_draw
   6697  93ef				   .skipL0559
   6698  93ef				   .
   6699  93ef							;;line 1036;;
   6700  93ef
   6701  93ef				   .L0560		;;line 1037;;	temp_w = star_y[iter]  -  cam_y
   6702  93ef
   6703  93ef		       ae 51 01 	      LDX	iter
   6704  93f2		       bd 00 22 	      lda	star_y,x
   6705  93f5		       38		      SEC
   6706  93f6		       ed 4a 22 	      SBC	cam_y
   6707  93f9		       8d 89 01 	      sta	temp_w
   6708  93fc				   .L0561		;;line 1038;;	if temp_w  >  200 then goto skip_star_draw
   6709  93fc
   6710  93fc		       a9 c8		      lda	#200
   6711  93fe		       cd 89 01 	      cmp	temp_w
   6712  9401		       b0 03		      bcs	.skipL0561
   6713  9403				   .condpart180
   6714  9403		       4c 23 94 	      jmp	.skip_star_draw
   6715  9406				   .skipL0561
   6716  9406				   .
   6717  9406							;;line 1039;;
   6718  9406
   6719  9406				   .
   6720  9406							;;line 1040;;
   6721  9406
   6722  9406				   .L0562		;;line 1041;;	plotsprite bullet_conv 4 temp_v temp_w
   6723  9406
   6724  9406		       a9 40		      lda	#<bullet_conv
   6725  9408		       85 42		      sta	temp1
   6726  940a
   6727  940a		       a9 e0		      lda	#>bullet_conv
   6728  940c		       85 43		      sta	temp2
   6729  940e
   6730  940e		       a9 9f		      lda	#(128|bullet_conv_width_twoscompliment)
   6731  9410		       85 44		      sta	temp3
   6732  9412
   6733  9412		       ad 4f 01 	      lda	temp_v
   6734  9415		       85 45		      sta	temp4
   6735  9417
   6736  9417		       ad 89 01 	      lda	temp_w
   6737  941a
   6738  941a		       85 46		      sta	temp5
   6739  941c
   6740  941c		       a9 40		      lda	#(bullet_conv_mode|%01000000)
   6741  941e		       85 47		      sta	temp6
   6742  9420
   6743  9420		       20 e3 f2 	      jsr	plotsprite
   6744  9423				   .
   6745  9423							;;line 1042;;
   6746  9423
   6747  9423				   .skip_star_draw
   6748  9423							;;line 1043;; skip_star_draw
   6749  9423
   6750  9423				   .L0563		;;line 1044;;	next
   6751  9423
   6752  9423		       ad 51 01 	      lda	iter
   6753  9426		       c9 09		      cmp	#9
   6754  9428		       ee 51 01 	      inc	iter
   6755  942b					      if	((* - .L0557foriter) < 127) && ((* - .L0557foriter) > -128)
   6756  942b		       90 ab		      bcc	.L0557foriter
   6757  942d				  -	      else
   6758  942d				  -	      bcs	.12skipL0557foriter
   6759  942d				  -	      jmp	.L0557foriter
   6760  942d				  -.12skipL0557foriter
   6761  942d					      endif
   6762  942d				   .L0564		;;line 1045;;	return
   6763  942d
   6764  942d		       60		      rts
   6765  942e				   .
   6766  942e							;;line 1046;;
   6767  942e
   6768  942e				   .L0565		;;line 1047;;	dim sc1 = var140
   6769  942e
   6770  942e				   .L0566		;;line 1048;;	dim sc2 = var141
   6771  942e
   6772  942e				   .L0567		;;line 1049;;	dim sc3 = var142
   6773  942e
   6774  942e				   .L0568		;;line 1050;;	dim cycle_state = var143
   6775  942e
   6776  942e				   .
   6777  942e							;;line 1051;;
   6778  942e
   6779  942e				   ....
   6780  942e							;;line 1052;; ...
   6781  942e
   6782  942e				   .
   6783  942e							;;line 1053;;
   6784  942e
   6785  942e				   .cycle_stars
   6786  942e							;;line 1054;; cycle_stars
   6787  942e
   6788  942e				   .
   6789  942e							;;line 1055;;
   6790  942e
   6791  942e				   .L0569		;;line 1056;;	if  ( frame  &	7 )   >  0 then return
   6792  942e
   6793  942e							; complex condition detected
   6794  942e							; complex statement detected
   6795  942e		       ad 4d 01 	      lda	frame
   6796  9431		       29 07		      AND	#7
   6797  9433		       48		      pha
   6798  9434		       ba		      tsx
   6799  9435		       68		      pla
   6800  9436		       a9 00		      lda	#0
   6801  9438		       dd 01 01 	      cmp	$101,x
   6802  943b		       b0 01		      bcs	.skipL0569
   6803  943d				   .condpart181
   6804  943d		       60		      rts
   6805  943e				   .skipL0569
   6806  943e				   .
   6807  943e							;;line 1057;;
   6808  943e
   6809  943e				   .L0570		;;line 1058;;	cycle_state = cycle_state  +  1
   6810  943e
   6811  943e		       ad 2b 22 	      lda	cycle_state
   6812  9441		       18		      CLC
   6813  9442		       69 01		      ADC	#1
   6814  9444		       8d 2b 22 	      sta	cycle_state
   6815  9447				   .L0571		;;line 1059;;	if cycle_state	>  2 then cycle_state = 0
   6816  9447
   6817  9447		       a9 02		      lda	#2
   6818  9449		       cd 2b 22 	      cmp	cycle_state
   6819  944c		       b0 05		      bcs	.skipL0571
   6820  944e				   .condpart182
   6821  944e		       a9 00		      lda	#0
   6822  9450		       8d 2b 22 	      sta	cycle_state
   6823  9453				   .skipL0571
   6824  9453				   .
   6825  9453							;;line 1060;;
   6826  9453
   6827  9453				   .L0572		;;line 1061;;	if cycle_state = 0 then P4C1 = $08 :  P4C2 = $0C :  P4C3 = $0F
   6828  9453
   6829  9453		       ad 2b 22 	      lda	cycle_state
   6830  9456		       c9 00		      cmp	#0
   6831  9458		       d0 0c		      bne	.skipL0572
   6832  945a				   .condpart183
   6833  945a		       a9 08		      lda	#$08
   6834  945c		       85 31		      sta	P4C1
   6835  945e		       a9 0c		      lda	#$0C
   6836  9460		       85 32		      sta	P4C2
   6837  9462		       a9 0f		      lda	#$0F
   6838  9464		       85 33		      sta	P4C3
   6839  9466				   .skipL0572
   6840  9466				   .L0573		;;line 1062;;	if cycle_state = 1 then P4C1 = $0C :  P4C2 = $0F :  P4C3 = $08
   6841  9466
   6842  9466		       ad 2b 22 	      lda	cycle_state
   6843  9469		       c9 01		      cmp	#1
   6844  946b		       d0 0c		      bne	.skipL0573
   6845  946d				   .condpart184
   6846  946d		       a9 0c		      lda	#$0C
   6847  946f		       85 31		      sta	P4C1
   6848  9471		       a9 0f		      lda	#$0F
   6849  9473		       85 32		      sta	P4C2
   6850  9475		       a9 08		      lda	#$08
   6851  9477		       85 33		      sta	P4C3
   6852  9479				   .skipL0573
   6853  9479				   .L0574		;;line 1063;;	if cycle_state = 2 then P4C1 = $0F :  P4C2 = $08 :  P4C3 = $0C
   6854  9479
   6855  9479		       ad 2b 22 	      lda	cycle_state
   6856  947c		       c9 02		      cmp	#2
   6857  947e		       d0 0c		      bne	.skipL0574
   6858  9480				   .condpart185
   6859  9480		       a9 0f		      lda	#$0F
   6860  9482		       85 31		      sta	P4C1
   6861  9484		       a9 08		      lda	#$08
   6862  9486		       85 32		      sta	P4C2
   6863  9488		       a9 0c		      lda	#$0C
   6864  948a		       85 33		      sta	P4C3
   6865  948c				   .skipL0574
   6866  948c				   .L0575		;;line 1064;;	return
   6867  948c
   6868  948c		       60		      rts
   6869  948d				   .
   6870  948d							;;line 1065;;
   6871  948d
   6872  948d				   .update_camera
   6873  948d							;;line 1066;; update_camera
   6874  948d
   6875  948d				   .
   6876  948d							;;line 1067;;
   6877  948d
   6878  948d				   .
   6879  948d							;;line 1068;;
   6880  948d
   6881  948d				   .
   6882  948d							;;line 1069;;
   6883  948d
   6884  948d				   .L0576		;;line 1070;;	temp_v = px
   6885  948d
   6886  948d		       ad 40 01 	      lda	px
   6887  9490		       8d 4f 01 	      sta	temp_v
   6888  9493				   .L0577		;;line 1071;;	cam_x = px  -  80
   6889  9493
   6890  9493		       ad 40 01 	      lda	px
   6891  9496		       38		      SEC
   6892  9497		       e9 50		      SBC	#80
   6893  9499		       8d 48 22 	      sta	cam_x
   6894  949c				   .L0578		;;line 1072;;	cam_x_hi = px_hi
   6895  949c
   6896  949c		       ad 46 22 	      lda	px_hi
   6897  949f		       8d 49 22 	      sta	cam_x_hi
   6898  94a2				   .L0579		;;line 1073;;	if cam_x  >  temp_v then cam_x_hi = cam_x_hi  -  1
   6899  94a2
   6900  94a2		       ad 4f 01 	      lda	temp_v
   6901  94a5		       cd 48 22 	      cmp	cam_x
   6902  94a8		       b0 09		      bcs	.skipL0579
   6903  94aa				   .condpart186
   6904  94aa		       ad 49 22 	      lda	cam_x_hi
   6905  94ad		       38		      SEC
   6906  94ae		       e9 01		      SBC	#1
   6907  94b0		       8d 49 22 	      sta	cam_x_hi
   6908  94b3				   .skipL0579
   6909  94b3				   .
   6910  94b3							;;line 1074;;
   6911  94b3
   6912  94b3				   .
   6913  94b3							;;line 1075;;
   6914  94b3
   6915  94b3				   .L0580		;;line 1076;;	if cam_x_hi = 255 then cam_x_hi = 3
   6916  94b3
   6917  94b3		       ad 49 22 	      lda	cam_x_hi
   6918  94b6		       c9 ff		      cmp	#255
   6919  94b8		       d0 05		      bne	.skipL0580
   6920  94ba				   .condpart187
   6921  94ba		       a9 03		      lda	#3
   6922  94bc		       8d 49 22 	      sta	cam_x_hi
   6923  94bf				   .skipL0580
   6924  94bf				   .L0581		;;line 1077;;	if cam_x_hi  >=  4 then cam_x_hi = 0
   6925  94bf
   6926  94bf		       ad 49 22 	      lda	cam_x_hi
   6927  94c2		       c9 04		      cmp	#4
   6928  94c4		       90 05		      bcc	.skipL0581
   6929  94c6				   .condpart188
   6930  94c6		       a9 00		      lda	#0
   6931  94c8		       8d 49 22 	      sta	cam_x_hi
   6932  94cb				   .skipL0581
   6933  94cb				   .
   6934  94cb							;;line 1078;;
   6935  94cb
   6936  94cb				   .
   6937  94cb							;;line 1079;;
   6938  94cb
   6939  94cb				   .L0582		;;line 1080;;	temp_v = py
   6940  94cb
   6941  94cb		       ad 41 01 	      lda	py
   6942  94ce		       8d 4f 01 	      sta	temp_v
   6943  94d1				   .L0583		;;line 1081;;	cam_y = py  -  90
   6944  94d1
   6945  94d1		       ad 41 01 	      lda	py
   6946  94d4		       38		      SEC
   6947  94d5		       e9 5a		      SBC	#90
   6948  94d7		       8d 4a 22 	      sta	cam_y
   6949  94da				   .L0584		;;line 1082;;	cam_y_hi = py_hi
   6950  94da
   6951  94da		       ad 47 22 	      lda	py_hi
   6952  94dd		       8d 4b 22 	      sta	cam_y_hi
   6953  94e0				   .L0585		;;line 1083;;	if cam_y  >  temp_v then cam_y_hi = cam_y_hi  -  1
   6954  94e0
   6955  94e0		       ad 4f 01 	      lda	temp_v
   6956  94e3		       cd 4a 22 	      cmp	cam_y
   6957  94e6		       b0 09		      bcs	.skipL0585
   6958  94e8				   .condpart189
   6959  94e8		       ad 4b 22 	      lda	cam_y_hi
   6960  94eb		       38		      SEC
   6961  94ec		       e9 01		      SBC	#1
   6962  94ee		       8d 4b 22 	      sta	cam_y_hi
   6963  94f1				   .skipL0585
   6964  94f1				   .
   6965  94f1							;;line 1084;;
   6966  94f1
   6967  94f1				   .
   6968  94f1							;;line 1085;;
   6969  94f1
   6970  94f1				   .L0586		;;line 1086;;	if cam_y_hi = 255 then cam_y_hi = 3
   6971  94f1
   6972  94f1		       ad 4b 22 	      lda	cam_y_hi
   6973  94f4		       c9 ff		      cmp	#255
   6974  94f6		       d0 05		      bne	.skipL0586
   6975  94f8				   .condpart190
   6976  94f8		       a9 03		      lda	#3
   6977  94fa		       8d 4b 22 	      sta	cam_y_hi
   6978  94fd				   .skipL0586
   6979  94fd				   .L0587		;;line 1087;;	if cam_y_hi  >=  4 then cam_y_hi = 0
   6980  94fd
   6981  94fd		       ad 4b 22 	      lda	cam_y_hi
   6982  9500		       c9 04		      cmp	#4
   6983  9502		       90 05		      bcc	.skipL0587
   6984  9504				   .condpart191
   6985  9504		       a9 00		      lda	#0
   6986  9506		       8d 4b 22 	      sta	cam_y_hi
   6987  9509				   .skipL0587
   6988  9509				   .
   6989  9509							;;line 1088;;
   6990  9509
   6991  9509				   .L0588		;;line 1089;;	return
   6992  9509
   6993  9509		       60		      rts
   6994  950a				   .
   6995  950a							;;line 1090;;
   6996  950a
   6997  950a				   .
   6998  950a							;;line 1091;;
   6999  950a
   7000  950a				   .
   7001  950a							;;line 1092;;
   7002  950a
   7003  950a				   .
   7004  950a							;;line 1093;;
   7005  950a
   7006  950a				   .
   7007  950a							;;line 1094;;
   7008  950a
   7009  950a				   .
   7010  950a							;;line 1095;;
   7011  950a
   7012  950a				   .
   7013  950a							;;line 1096;;
   7014  950a
   7015  950a				   .L0589		;;line 1097;;	return
   7016  950a
   7017  950a		       60		      rts
   7018  950b				   .
   7019  950b							;;line 1098;;
   7020  950b
   7021  950b				   .
   7022  950b							;;line 1099;;
   7023  950b
   7024  950b				   .
   7025  950b							;;line 1100;;
   7026  950b
   7027  950b				   .L0590		;;line 1101;;	data sin_table
   7028  950b
   7029  950b		       4c 1e 95 	      jmp	.skipL0590
   7030  950e				   sin_table
   7031  950e		       00 02 03 04*	      .byte.b	0, 2, 3, 4, 4, 4, 3, 2, 0, 254, 253, 252, 252, 252, 253, 254
   7032  951e
   7033  951e				   .skipL0590
   7034  951e		       00 10	   sin_table_length =	[. - sin_table]
   7035  951e				   sin_table_lo SET	#<sin_table
   7036  951e				   sin_table_hi SET	#>sin_table
   7037  951e				   .
   7038  951e							;;line 1104;;
   7039  951e
   7040  951e				   .L0591		;;line 1105;;	data cos_table
   7041  951e
   7042  951e		       4c 31 95 	      jmp	.skipL0591
   7043  9521				   cos_table
   7044  9521		       06 06 04 02*	      .byte.b	6, 6, 4, 2, 0, 254, 252, 250, 250, 250, 252, 254, 0, 2, 4, 6
   7045  9531
   7046  9531				   .skipL0591
   7047  9531		       00 10	   cos_table_length =	[. - cos_table]
   7048  9531				   cos_table_lo SET	#<cos_table
   7049  9531				   cos_table_hi SET	#>cos_table
   7050  9531				   .
   7051  9531							;;line 1108;;
   7052  9531
   7053  9531				   .L0592		;;line 1109;;	data sfx_laser
   7054  9531
   7055  9531		       4c 43 95 	      jmp	.skipL0592
   7056  9534				   sfx_laser
   7057  9534		       10 01 04 	      .byte.b	16, 1, 4	; version, priority, frames per chunk
   7058  9537
   7059  9537		       18 02 06 	      .byte.b	$18,$02,$06	; freq, channel, volume
   7060  953a
   7061  953a		       15 02 06 	      .byte.b	$15,$02,$06
   7062  953d
   7063  953d		       12 02 06 	      .byte.b	$12,$02,$06
   7064  9540
   7065  9540		       00 00 00 	      .byte.b	$00,$00,$00
   7066  9543
   7067  9543				   .skipL0592
   7068  9543		       00 0f	   sfx_laser_length =	[. - sfx_laser]
   7069  9543				   sfx_laser_lo SET	#<sfx_laser
   7070  9543				   sfx_laser_hi SET	#>sfx_laser
   7071  9543				   .draw_player_bullets
   7072  9543							;;line 1116;; draw_player_bullets
   7073  9543
   7074  9543				   .L0593		;;line 1117;;	for iter = 0 to 3
   7075  9543
   7076  9543		       a9 00		      lda	#0
   7077  9545		       8d 51 01 	      sta	iter
   7078  9548				   .L0593foriter
   7079  9548				   .L0594		;;line 1118;;	if blife[iter] = 0 then goto skip_draw_bul
   7080  9548
   7081  9548		       ae 51 01 	      LDX	iter
   7082  954b		       bd 62 01 	      lda	blife,x
   7083  954e		       c9 00		      cmp	#0
   7084  9550		       d0 03		      bne	.skipL0594
   7085  9552				   .condpart192
   7086  9552		       4c 9f 95 	      jmp	.skip_draw_bul
   7087  9555				   .skipL0594
   7088  9555				   .
   7089  9555							;;line 1119;;
   7090  9555
   7091  9555				   .
   7092  9555							;;line 1120;;
   7093  9555
   7094  9555				   .L0595		;;line 1121;;	temp_v = bul_x[iter]
   7095  9555
   7096  9555		       ae 51 01 	      LDX	iter
   7097  9558		       bd 52 01 	      lda	bul_x,x
   7098  955b		       8d 4f 01 	      sta	temp_v
   7099  955e				   .L0596		;;line 1122;;	temp_w = bul_y[iter]
   7100  955e
   7101  955e		       ae 51 01 	      LDX	iter
   7102  9561		       bd 56 01 	      lda	bul_y,x
   7103  9564		       8d 89 01 	      sta	temp_w
   7104  9567				   .
   7105  9567							;;line 1123;;
   7106  9567
   7107  9567				   .
   7108  9567							;;line 1124;;
   7109  9567
   7110  9567				   .L0597		;;line 1125;;	if temp_v  >  165 then if temp_v  <  240 then goto skip_draw_bul
   7111  9567
   7112  9567		       a9 a5		      lda	#165
   7113  9569		       cd 4f 01 	      cmp	temp_v
   7114  956c		       b0 0a		      bcs	.skipL0597
   7115  956e				   .condpart193
   7116  956e		       ad 4f 01 	      lda	temp_v
   7117  9571		       c9 f0		      cmp	#240
   7118  9573		       b0 03		      bcs	.skip193then
   7119  9575				   .condpart194
   7120  9575		       4c 9f 95 	      jmp	.skip_draw_bul
   7121  9578				   .skip193then
   7122  9578				   .skipL0597
   7123  9578				   .L0598		;;line 1126;;	if temp_w  >  200 then goto skip_draw_bul
   7124  9578
   7125  9578		       a9 c8		      lda	#200
   7126  957a		       cd 89 01 	      cmp	temp_w
   7127  957d		       b0 03		      bcs	.skipL0598
   7128  957f				   .condpart195
   7129  957f		       4c 9f 95 	      jmp	.skip_draw_bul
   7130  9582				   .skipL0598
   7131  9582				   .
   7132  9582							;;line 1127;;
   7133  9582
   7134  9582				   .L0599		;;line 1128;;	plotsprite bullet_conv 1 temp_v temp_w
   7135  9582
   7136  9582		       a9 40		      lda	#<bullet_conv
   7137  9584		       85 42		      sta	temp1
   7138  9586
   7139  9586		       a9 e0		      lda	#>bullet_conv
   7140  9588		       85 43		      sta	temp2
   7141  958a
   7142  958a		       a9 3f		      lda	#(32|bullet_conv_width_twoscompliment)
   7143  958c		       85 44		      sta	temp3
   7144  958e
   7145  958e		       ad 4f 01 	      lda	temp_v
   7146  9591		       85 45		      sta	temp4
   7147  9593
   7148  9593		       ad 89 01 	      lda	temp_w
   7149  9596
   7150  9596		       85 46		      sta	temp5
   7151  9598
   7152  9598		       a9 40		      lda	#(bullet_conv_mode|%01000000)
   7153  959a		       85 47		      sta	temp6
   7154  959c
   7155  959c		       20 e3 f2 	      jsr	plotsprite
   7156  959f				   .
   7157  959f							;;line 1129;;
   7158  959f
   7159  959f				   .skip_draw_bul
   7160  959f							;;line 1130;; skip_draw_bul
   7161  959f
   7162  959f				   .L0600		;;line 1131;;	next
   7163  959f
   7164  959f		       ad 51 01 	      lda	iter
   7165  95a2		       c9 03		      cmp	#3
   7166  95a4		       ee 51 01 	      inc	iter
   7167  95a7					      if	((* - .L0593foriter) < 127) && ((* - .L0593foriter) > -128)
   7168  95a7		       90 9f		      bcc	.L0593foriter
   7169  95a9				  -	      else
   7170  95a9				  -	      bcs	.13skipL0593foriter
   7171  95a9				  -	      jmp	.L0593foriter
   7172  95a9				  -.13skipL0593foriter
   7173  95a9					      endif
   7174  95a9				   .L0601		;;line 1132;;	return
   7175  95a9
   7176  95a9		       60		      rts
   7177  95aa				   .draw_enemy_bullets
   7178  95aa							;;line 1133;; draw_enemy_bullets
   7179  95aa
   7180  95aa				   .L0602		;;line 1134;;	for iter = 0 to 3
   7181  95aa
   7182  95aa		       a9 00		      lda	#0
   7183  95ac		       8d 51 01 	      sta	iter
   7184  95af				   .L0602foriter
   7185  95af				   .L0603		;;line 1135;;	if eblife[iter] = 0 then goto skip_draw_ebul
   7186  95af
   7187  95af		       ae 51 01 	      LDX	iter
   7188  95b2		       bd 40 22 	      lda	eblife,x
   7189  95b5		       c9 00		      cmp	#0
   7190  95b7		       d0 03		      bne	.skipL0603
   7191  95b9				   .condpart196
   7192  95b9		       4c 78 96 	      jmp	.skip_draw_ebul
   7193  95bc				   .skipL0603
   7194  95bc				   .
   7195  95bc							;;line 1136;;
   7196  95bc
   7197  95bc				   .
   7198  95bc							;;line 1137;;
   7199  95bc
   7200  95bc				   .L0604		;;line 1138;;	temp_val_hi = ebul_x_hi[iter]  -  cam_x_hi
   7201  95bc
   7202  95bc		       ae 51 01 	      LDX	iter
   7203  95bf		       bd 58 22 	      lda	ebul_x_hi,x
   7204  95c2		       38		      SEC
   7205  95c3		       ed 49 22 	      SBC	cam_x_hi
   7206  95c6		       8d 60 22 	      sta	temp_val_hi
   7207  95c9				   .L0605		;;line 1139;;	if temp_val_hi = 0 then goto draw_ebul_fast
   7208  95c9
   7209  95c9		       ad 60 22 	      lda	temp_val_hi
   7210  95cc		       c9 00		      cmp	#0
   7211  95ce		       d0 03		      bne	.skipL0605
   7212  95d0				   .condpart197
   7213  95d0		       4c fc 95 	      jmp	.draw_ebul_fast
   7214  95d3				   .skipL0605
   7215  95d3				   .
   7216  95d3							;;line 1140;;
   7217  95d3
   7218  95d3				   .L0606		;;line 1141;;	if temp_val_hi = 3 then temp_val_hi = 255
   7219  95d3
   7220  95d3		       ad 60 22 	      lda	temp_val_hi
   7221  95d6		       c9 03		      cmp	#3
   7222  95d8		       d0 05		      bne	.skipL0606
   7223  95da				   .condpart198
   7224  95da		       a9 ff		      lda	#255
   7225  95dc		       8d 60 22 	      sta	temp_val_hi
   7226  95df				   .skipL0606
   7227  95df				   .L0607		;;line 1142;;	if temp_val_hi = 253 then temp_val_hi = 1
   7228  95df
   7229  95df		       ad 60 22 	      lda	temp_val_hi
   7230  95e2		       c9 fd		      cmp	#253
   7231  95e4		       d0 05		      bne	.skipL0607
   7232  95e6				   .condpart199
   7233  95e6		       a9 01		      lda	#1
   7234  95e8		       8d 60 22 	      sta	temp_val_hi
   7235  95eb				   .skipL0607
   7236  95eb				   .
   7237  95eb							;;line 1143;;
   7238  95eb
   7239  95eb				   .
   7240  95eb							;;line 1144;;
   7241  95eb
   7242  95eb				   .L0608		;;line 1145;;	if temp_val_hi	>  1  &&  temp_val_hi  <  255 then goto skip_draw_ebul
   7243  95eb
   7244  95eb		       a9 01		      lda	#1
   7245  95ed		       cd 60 22 	      cmp	temp_val_hi
   7246  95f0		       b0 0a		      bcs	.skipL0608
   7247  95f2				   .condpart200
   7248  95f2		       ad 60 22 	      lda	temp_val_hi
   7249  95f5		       c9 ff		      cmp	#255
   7250  95f7		       b0 03		      bcs	.skip200then
   7251  95f9				   .condpart201
   7252  95f9		       4c 78 96 	      jmp	.skip_draw_ebul
   7253  95fc				   .skip200then
   7254  95fc				   .skipL0608
   7255  95fc				   .
   7256  95fc							;;line 1146;;
   7257  95fc
   7258  95fc				   .draw_ebul_fast
   7259  95fc							;;line 1147;; draw_ebul_fast
   7260  95fc
   7261  95fc				   .
   7262  95fc							;;line 1148;;
   7263  95fc
   7264  95fc				   .L0609		;;line 1149;;	temp_v = ebul_x[iter]  -  cam_x
   7265  95fc
   7266  95fc		       ae 51 01 	      LDX	iter
   7267  95ff		       bd 7c 01 	      lda	ebul_x,x
   7268  9602		       38		      SEC
   7269  9603		       ed 48 22 	      SBC	cam_x
   7270  9606		       8d 4f 01 	      sta	temp_v
   7271  9609				   .
   7272  9609							;;line 1150;;
   7273  9609
   7274  9609				   .
   7275  9609							;;line 1151;;
   7276  9609
   7277  9609				   .
   7278  9609							;;line 1152;;
   7279  9609
   7280  9609				   .L0610		;;line 1153;;	if temp_val_hi = 1 then if ebul_x[iter]  >=  cam_x then goto skip_draw_ebul
   7281  9609
   7282  9609		       ad 60 22 	      lda	temp_val_hi
   7283  960c		       c9 01		      cmp	#1
   7284  960e		       d0 0e		      bne	.skipL0610
   7285  9610				   .condpart202
   7286  9610		       ae 51 01 	      LDX	iter
   7287  9613		       bd 7c 01 	      lda	ebul_x,x
   7288  9616		       cd 48 22 	      cmp	cam_x
   7289  9619		       90 03		      bcc	.skip202then
   7290  961b				   .condpart203
   7291  961b		       4c 78 96 	      jmp	.skip_draw_ebul
   7292  961e				   .skip202then
   7293  961e				   .skipL0610
   7294  961e				   .
   7295  961e							;;line 1154;;
   7296  961e
   7297  961e				   .
   7298  961e							;;line 1155;;
   7299  961e
   7300  961e				   .L0611		;;line 1156;;	if temp_val_hi = 255 then if ebul_x[iter]  <=  cam_x then goto skip_draw_ebul
   7301  961e
   7302  961e		       ad 60 22 	      lda	temp_val_hi
   7303  9621		       c9 ff		      cmp	#255
   7304  9623		       d0 0e		      bne	.skipL0611
   7305  9625				   .condpart204
   7306  9625		       ad 48 22 	      lda	cam_x
   7307  9628		       ae 51 01 	      LDX	iter
   7308  962b		       dd 7c 01 	      cmp	ebul_x,x
   7309  962e		       90 03		      bcc	.skip204then
   7310  9630				   .condpart205
   7311  9630		       4c 78 96 	      jmp	.skip_draw_ebul
   7312  9633				   .skip204then
   7313  9633				   .skipL0611
   7314  9633				   .
   7315  9633							;;line 1157;;
   7316  9633
   7317  9633				   .
   7318  9633							;;line 1158;;
   7319  9633
   7320  9633				   .L0612		;;line 1159;;	if temp_v  >  165 then if temp_v  <  240 then goto skip_draw_ebul
   7321  9633
   7322  9633		       a9 a5		      lda	#165
   7323  9635		       cd 4f 01 	      cmp	temp_v
   7324  9638		       b0 0a		      bcs	.skipL0612
   7325  963a				   .condpart206
   7326  963a		       ad 4f 01 	      lda	temp_v
   7327  963d		       c9 f0		      cmp	#240
   7328  963f		       b0 03		      bcs	.skip206then
   7329  9641				   .condpart207
   7330  9641		       4c 78 96 	      jmp	.skip_draw_ebul
   7331  9644				   .skip206then
   7332  9644				   .skipL0612
   7333  9644				   .
   7334  9644							;;line 1160;;
   7335  9644
   7336  9644				   .L0613		;;line 1161;;	temp_w = ebul_y[iter]  -  cam_y
   7337  9644
   7338  9644		       ae 51 01 	      LDX	iter
   7339  9647		       bd 80 01 	      lda	ebul_y,x
   7340  964a		       38		      SEC
   7341  964b		       ed 4a 22 	      SBC	cam_y
   7342  964e		       8d 89 01 	      sta	temp_w
   7343  9651				   .L0614		;;line 1162;;	if temp_w  >  200 then goto skip_draw_ebul
   7344  9651
   7345  9651		       a9 c8		      lda	#200
   7346  9653		       cd 89 01 	      cmp	temp_w
   7347  9656		       b0 03		      bcs	.skipL0614
   7348  9658				   .condpart208
   7349  9658		       4c 78 96 	      jmp	.skip_draw_ebul
   7350  965b				   .skipL0614
   7351  965b				   .
   7352  965b							;;line 1163;;
   7353  965b
   7354  965b				   .L0615		;;line 1164;;	plotsprite bullet_conv 3 temp_v temp_w
   7355  965b
   7356  965b		       a9 40		      lda	#<bullet_conv
   7357  965d		       85 42		      sta	temp1
   7358  965f
   7359  965f		       a9 e0		      lda	#>bullet_conv
   7360  9661		       85 43		      sta	temp2
   7361  9663
   7362  9663		       a9 7f		      lda	#(96|bullet_conv_width_twoscompliment)
   7363  9665		       85 44		      sta	temp3
   7364  9667
   7365  9667		       ad 4f 01 	      lda	temp_v
   7366  966a		       85 45		      sta	temp4
   7367  966c
   7368  966c		       ad 89 01 	      lda	temp_w
   7369  966f
   7370  966f		       85 46		      sta	temp5
   7371  9671
   7372  9671		       a9 40		      lda	#(bullet_conv_mode|%01000000)
   7373  9673		       85 47		      sta	temp6
   7374  9675
   7375  9675		       20 e3 f2 	      jsr	plotsprite
   7376  9678				   .
   7377  9678							;;line 1165;;
   7378  9678
   7379  9678				   .skip_draw_ebul
   7380  9678							;;line 1166;; skip_draw_ebul
   7381  9678
   7382  9678				   .L0616		;;line 1167;;	next
   7383  9678
   7384  9678		       ad 51 01 	      lda	iter
   7385  967b		       c9 03		      cmp	#3
   7386  967d		       ee 51 01 	      inc	iter
   7387  9680				  -	      if	((* - .L0602foriter) < 127) && ((* - .L0602foriter) > -128)
   7388  9680				  -	      bcc	.L0602foriter
   7389  9680					      else
   7390  9680		       b0 03		      bcs	.14skipL0602foriter
   7391  9682		       4c af 95 	      jmp	.L0602foriter
   7392  9685				   .14skipL0602foriter
   7393  9685					      endif
   7394  9685				   .L0617		;;line 1168;;	return
   7395  9685
   7396  9685		       60		      rts
   7397  9686				   .draw_enemies
   7398  9686							;;line 1169;; draw_enemies
   7399  9686
   7400  9686				   .L0618		;;line 1170;;	for iter = 0 to 3
   7401  9686
   7402  9686		       a9 00		      lda	#0
   7403  9688		       8d 51 01 	      sta	iter
   7404  968b				   .L0618foriter
   7405  968b				   .L0619		;;line 1171;;	if elife[iter] = 0 then goto skip_draw_enemy
   7406  968b
   7407  968b		       ae 51 01 	      LDX	iter
   7408  968e		       bd 78 01 	      lda	elife,x
   7409  9691		       c9 00		      cmp	#0
   7410  9693		       d0 03		      bne	.skipL0619
   7411  9695				   .condpart209
   7412  9695		       4c f1 96 	      jmp	.skip_draw_enemy
   7413  9698				   .skipL0619
   7414  9698				   .
   7415  9698							;;line 1172;;
   7416  9698
   7417  9698				   .
   7418  9698							;;line 1173;;
   7419  9698
   7420  9698				   .L0620		;;line 1174;;	temp_v = ex[iter]  -  cam_x
   7421  9698
   7422  9698		       ae 51 01 	      LDX	iter
   7423  969b		       bd 68 01 	      lda	ex,x
   7424  969e		       38		      SEC
   7425  969f		       ed 48 22 	      SBC	cam_x
   7426  96a2		       8d 4f 01 	      sta	temp_v
   7427  96a5				   .
   7428  96a5							;;line 1175;;
   7429  96a5
   7430  96a5				   .
   7431  96a5							;;line 1176;;
   7432  96a5
   7433  96a5				   .L0621		;;line 1177;;	if temp_v  >  170 then if temp_v  <  220 then goto skip_draw_enemy
   7434  96a5
   7435  96a5		       a9 aa		      lda	#170
   7436  96a7		       cd 4f 01 	      cmp	temp_v
   7437  96aa		       b0 0a		      bcs	.skipL0621
   7438  96ac				   .condpart210
   7439  96ac		       ad 4f 01 	      lda	temp_v
   7440  96af		       c9 dc		      cmp	#220
   7441  96b1		       b0 03		      bcs	.skip210then
   7442  96b3				   .condpart211
   7443  96b3		       4c f1 96 	      jmp	.skip_draw_enemy
   7444  96b6				   .skip210then
   7445  96b6				   .skipL0621
   7446  96b6				   .
   7447  96b6							;;line 1178;;
   7448  96b6
   7449  96b6				   .L0622		;;line 1179;;	temp_w = ey[iter]  -  cam_y
   7450  96b6
   7451  96b6		       ae 51 01 	      LDX	iter
   7452  96b9		       bd 6c 01 	      lda	ey,x
   7453  96bc		       38		      SEC
   7454  96bd		       ed 4a 22 	      SBC	cam_y
   7455  96c0		       8d 89 01 	      sta	temp_w
   7456  96c3				   .
   7457  96c3							;;line 1180;;
   7458  96c3
   7459  96c3				   .
   7460  96c3							;;line 1181;;
   7461  96c3
   7462  96c3				   .L0623		;;line 1182;;	if temp_w  >  200 then if temp_w  <  220 then goto skip_draw_enemy
   7463  96c3
   7464  96c3		       a9 c8		      lda	#200
   7465  96c5		       cd 89 01 	      cmp	temp_w
   7466  96c8		       b0 0a		      bcs	.skipL0623
   7467  96ca				   .condpart212
   7468  96ca		       ad 89 01 	      lda	temp_w
   7469  96cd		       c9 dc		      cmp	#220
   7470  96cf		       b0 03		      bcs	.skip212then
   7471  96d1				   .condpart213
   7472  96d1		       4c f1 96 	      jmp	.skip_draw_enemy
   7473  96d4				   .skip212then
   7474  96d4				   .skipL0623
   7475  96d4				   .
   7476  96d4							;;line 1183;;
   7477  96d4
   7478  96d4				   .L0624		;;line 1184;;	plotsprite fighter_conv 3 temp_v temp_w
   7479  96d4
   7480  96d4		       a9 41		      lda	#<fighter_conv
   7481  96d6		       85 42		      sta	temp1
   7482  96d8
   7483  96d8		       a9 e0		      lda	#>fighter_conv
   7484  96da		       85 43		      sta	temp2
   7485  96dc
   7486  96dc		       a9 7f		      lda	#(96|fighter_conv_width_twoscompliment)
   7487  96de		       85 44		      sta	temp3
   7488  96e0
   7489  96e0		       ad 4f 01 	      lda	temp_v
   7490  96e3		       85 45		      sta	temp4
   7491  96e5
   7492  96e5		       ad 89 01 	      lda	temp_w
   7493  96e8
   7494  96e8		       85 46		      sta	temp5
   7495  96ea
   7496  96ea		       a9 40		      lda	#(fighter_conv_mode|%01000000)
   7497  96ec		       85 47		      sta	temp6
   7498  96ee
   7499  96ee		       20 e3 f2 	      jsr	plotsprite
   7500  96f1				   .
   7501  96f1							;;line 1185;;
   7502  96f1
   7503  96f1				   .skip_draw_enemy
   7504  96f1							;;line 1186;; skip_draw_enemy
   7505  96f1
   7506  96f1				   .L0625		;;line 1187;;	next
   7507  96f1
   7508  96f1		       ad 51 01 	      lda	iter
   7509  96f4		       c9 03		      cmp	#3
   7510  96f6		       ee 51 01 	      inc	iter
   7511  96f9					      if	((* - .L0618foriter) < 127) && ((* - .L0618foriter) > -128)
   7512  96f9		       90 90		      bcc	.L0618foriter
   7513  96fb				  -	      else
   7514  96fb				  -	      bcs	.15skipL0618foriter
   7515  96fb				  -	      jmp	.L0618foriter
   7516  96fb				  -.15skipL0618foriter
   7517  96fb					      endif
   7518  96fb				   .L0626		;;line 1188;;	return
   7519  96fb
   7520  96fb		       60		      rts
   7521  96fc				   .
   7522  96fc							;;line 1189;;
   7523  96fc
   7524  96fc				   .draw_asteroid
   7525  96fc							;;line 1190;; draw_asteroid
   7526  96fc
   7527  96fc				   .
   7528  96fc							;;line 1191;;
   7529  96fc
   7530  96fc				   .L0627		;;line 1192;;	temp_val_hi = ax_hi  -	cam_x_hi
   7531  96fc
   7532  96fc		       ad 37 22 	      lda	ax_hi
   7533  96ff		       38		      SEC
   7534  9700		       ed 49 22 	      SBC	cam_x_hi
   7535  9703		       8d 60 22 	      sta	temp_val_hi
   7536  9706				   .
   7537  9706							;;line 1193;;
   7538  9706
   7539  9706				   .
   7540  9706							;;line 1194;;
   7541  9706
   7542  9706				   .L0628		;;line 1195;;	if temp_val_hi = 3 then temp_val_hi = 255
   7543  9706
   7544  9706		       ad 60 22 	      lda	temp_val_hi
   7545  9709		       c9 03		      cmp	#3
   7546  970b		       d0 05		      bne	.skipL0628
   7547  970d				   .condpart214
   7548  970d		       a9 ff		      lda	#255
   7549  970f		       8d 60 22 	      sta	temp_val_hi
   7550  9712				   .skipL0628
   7551  9712				   .L0629		;;line 1196;;	if temp_val_hi = 253 then temp_val_hi = 1
   7552  9712
   7553  9712		       ad 60 22 	      lda	temp_val_hi
   7554  9715		       c9 fd		      cmp	#253
   7555  9717		       d0 05		      bne	.skipL0629
   7556  9719				   .condpart215
   7557  9719		       a9 01		      lda	#1
   7558  971b		       8d 60 22 	      sta	temp_val_hi
   7559  971e				   .skipL0629
   7560  971e				   .
   7561  971e							;;line 1197;;
   7562  971e
   7563  971e				   .L0630		;;line 1198;;	if temp_val_hi	>  1  &&  temp_val_hi  <  255 then return
   7564  971e
   7565  971e		       a9 01		      lda	#1
   7566  9720		       cd 60 22 	      cmp	temp_val_hi
   7567  9723		       b0 08		      bcs	.skipL0630
   7568  9725				   .condpart216
   7569  9725		       ad 60 22 	      lda	temp_val_hi
   7570  9728		       c9 ff		      cmp	#255
   7571  972a		       b0 01		      bcs	.skip216then
   7572  972c				   .condpart217
   7573  972c		       60		      rts
   7574  972d				   .skip216then
   7575  972d				   .skipL0630
   7576  972d				   .
   7577  972d							;;line 1199;;
   7578  972d
   7579  972d				   .L0631		;;line 1200;;	temp_v = ax  -	cam_x
   7580  972d
   7581  972d		       ad 32 22 	      lda	ax
   7582  9730		       38		      SEC
   7583  9731		       ed 48 22 	      SBC	cam_x
   7584  9734		       8d 4f 01 	      sta	temp_v
   7585  9737				   .
   7586  9737							;;line 1201;;
   7587  9737
   7588  9737				   .
   7589  9737							;;line 1202;;
   7590  9737
   7591  9737				   .L0632		;;line 1203;;	if temp_v  >  170 then if temp_v  <  220 then return
   7592  9737
   7593  9737		       a9 aa		      lda	#170
   7594  9739		       cd 4f 01 	      cmp	temp_v
   7595  973c		       b0 08		      bcs	.skipL0632
   7596  973e				   .condpart218
   7597  973e		       ad 4f 01 	      lda	temp_v
   7598  9741		       c9 dc		      cmp	#220
   7599  9743		       b0 01		      bcs	.skip218then
   7600  9745				   .condpart219
   7601  9745		       60		      rts
   7602  9746				   .skip218then
   7603  9746				   .skipL0632
   7604  9746				   .
   7605  9746							;;line 1204;;
   7606  9746
   7607  9746				   .
   7608  9746							;;line 1205;;
   7609  9746
   7610  9746				   .L0633		;;line 1206;;	temp_val_hi = ay_hi  -	cam_y_hi
   7611  9746
   7612  9746		       ad 38 22 	      lda	ay_hi
   7613  9749		       38		      SEC
   7614  974a		       ed 4b 22 	      SBC	cam_y_hi
   7615  974d		       8d 60 22 	      sta	temp_val_hi
   7616  9750				   .
   7617  9750							;;line 1207;;
   7618  9750
   7619  9750				   .
   7620  9750							;;line 1208;;
   7621  9750
   7622  9750				   .L0634		;;line 1209;;	if temp_val_hi = 3 then temp_val_hi = 255
   7623  9750
   7624  9750		       ad 60 22 	      lda	temp_val_hi
   7625  9753		       c9 03		      cmp	#3
   7626  9755		       d0 05		      bne	.skipL0634
   7627  9757				   .condpart220
   7628  9757		       a9 ff		      lda	#255
   7629  9759		       8d 60 22 	      sta	temp_val_hi
   7630  975c				   .skipL0634
   7631  975c				   .L0635		;;line 1210;;	if temp_val_hi = 253 then temp_val_hi = 1
   7632  975c
   7633  975c		       ad 60 22 	      lda	temp_val_hi
   7634  975f		       c9 fd		      cmp	#253
   7635  9761		       d0 05		      bne	.skipL0635
   7636  9763				   .condpart221
   7637  9763		       a9 01		      lda	#1
   7638  9765		       8d 60 22 	      sta	temp_val_hi
   7639  9768				   .skipL0635
   7640  9768				   .
   7641  9768							;;line 1211;;
   7642  9768
   7643  9768				   .L0636		;;line 1212;;	if temp_val_hi	>  1  &&  temp_val_hi  <  255 then return
   7644  9768
   7645  9768		       a9 01		      lda	#1
   7646  976a		       cd 60 22 	      cmp	temp_val_hi
   7647  976d		       b0 08		      bcs	.skipL0636
   7648  976f				   .condpart222
   7649  976f		       ad 60 22 	      lda	temp_val_hi
   7650  9772		       c9 ff		      cmp	#255
   7651  9774		       b0 01		      bcs	.skip222then
   7652  9776				   .condpart223
   7653  9776		       60		      rts
   7654  9777				   .skip222then
   7655  9777				   .skipL0636
   7656  9777				   .
   7657  9777							;;line 1213;;
   7658  9777
   7659  9777				   .L0637		;;line 1214;;	temp_w = ay  -	cam_y
   7660  9777
   7661  9777		       ad 33 22 	      lda	ay
   7662  977a		       38		      SEC
   7663  977b		       ed 4a 22 	      SBC	cam_y
   7664  977e		       8d 89 01 	      sta	temp_w
   7665  9781				   .
   7666  9781							;;line 1215;;
   7667  9781
   7668  9781				   .
   7669  9781							;;line 1216;;
   7670  9781
   7671  9781				   .L0638		;;line 1217;;	if temp_w  >  200 then if temp_w  <  220 then return
   7672  9781
   7673  9781		       a9 c8		      lda	#200
   7674  9783		       cd 89 01 	      cmp	temp_w
   7675  9786		       b0 08		      bcs	.skipL0638
   7676  9788				   .condpart224
   7677  9788		       ad 89 01 	      lda	temp_w
   7678  978b		       c9 dc		      cmp	#220
   7679  978d		       b0 01		      bcs	.skip224then
   7680  978f				   .condpart225
   7681  978f		       60		      rts
   7682  9790				   .skip224then
   7683  9790				   .skipL0638
   7684  9790				   .
   7685  9790							;;line 1218;;
   7686  9790
   7687  9790				   .L0639		;;line 1219;;	plotsprite asteroid_M_conv 2 temp_v temp_w
   7688  9790
   7689  9790		       a9 62		      lda	#<asteroid_M_conv
   7690  9792		       85 42		      sta	temp1
   7691  9794
   7692  9794		       a9 e0		      lda	#>asteroid_M_conv
   7693  9796		       85 43		      sta	temp2
   7694  9798
   7695  9798		       a9 5c		      lda	#(64|asteroid_M_conv_width_twoscompliment)
   7696  979a		       85 44		      sta	temp3
   7697  979c
   7698  979c		       ad 4f 01 	      lda	temp_v
   7699  979f		       85 45		      sta	temp4
   7700  97a1
   7701  97a1		       ad 89 01 	      lda	temp_w
   7702  97a4
   7703  97a4		       85 46		      sta	temp5
   7704  97a6
   7705  97a6		       a9 40		      lda	#(asteroid_M_conv_mode|%01000000)
   7706  97a8		       85 47		      sta	temp6
   7707  97aa
   7708  97aa		       20 e3 f2 	      jsr	plotsprite
   7709  97ad				  -	      ifconst	TALLCLIP
   7710  97ad				  -	      lda	#0
   7711  97ad				  -	      ldy	temp5
   7712  97ad				  -	      cpy	#(WSCREENHEIGHT)
   7713  97ad				  -	      adc	#$FF
   7714  97ad				  -	      sta	temp7	; on-screen: temp7=0, off-screen: temp7=$ff
   7715  97ad					      endif		; TALLCLIP
   7716  97ad							; +tall sprite replot
   7717  97ad		       18		      clc
   7718  97ae		       a5 42		      lda	temp1
   7719  97b0		       69 04		      adc	#asteroid_M_conv_width
   7720  97b2		       85 42		      sta	temp1
   7721  97b4		       a5 46		      lda	temp5
   7722  97b6		       69 10		      adc	#WZONEHEIGHT
   7723  97b8		       85 46		      sta	temp5
   7724  97ba				  -	      ifconst	TALLCLIP
   7725  97ba				  -	      ora	temp7
   7726  97ba				  -	      cmp	#(WSCREENHEIGHT)
   7727  97ba				  -	      bcs	.plotexit_0
   7728  97ba					      endif		; TALLCLIP
   7729  97ba		       20 e3 f2 	      jsr	plotsprite
   7730  97bd				   .plotexit_0
   7731  97bd				   .L0640		;;line 1220;;	return
   7732  97bd
   7733  97bd		       60		      rts
   7734  97be				   .
   7735  97be							;;line 1221;;
   7736  97be
   7737  97be				   .you_win
   7738  97be							;;line 1222;; you_win
   7739  97be
   7740  97be				   .L0641		;;line 1223;;	clearscreen
   7741  97be
   7742  97be		       20 7f f0 	      jsr	clearscreen
   7743  97c1				   .L0642		;;line 1224;;	BACKGRND =
   7744  97c1
   7745  97c1		       a9 00		      lda	#
   7746  97c3		       85 20		      sta	BACKGRND
   7747  97c5				   .L0643		;;line 1225;;	drawscreen
   7748  97c5
   7749  97c5		       20 b3 f0 	      jsr	drawscreen
   7750  97c8				   .L0644		;;line 1226;;	if joy0fire0 then goto cold_start
   7751  97c8
   7752  97c8		       2c 02 21 	      bit	sINPT1
   7753  97cb		       50 03		      bvc	.skipL0644
   7754  97cd				   .condpart226
   7755  97cd		       4c 07 80 	      jmp	.cold_start
   7756  97d0				   .skipL0644
   7757  97d0				   .L0645		;;line 1227;;	goto you_win
   7758  97d0
   7759  97d0		       4c be 97 	      jmp	.you_win
   7760  97d3				   .
   7761  97d3							;;line 1228;;
   7762  97d3
   7763  97d3				   .you_lose
   7764  97d3							;;line 1229;; you_lose
   7765  97d3
   7766  97d3				   .L0646		;;line 1230;;	clearscreen
   7767  97d3
   7768  97d3		       20 7f f0 	      jsr	clearscreen
   7769  97d6				   .L0647		;;line 1231;;	BACKGRND =
   7770  97d6
   7771  97d6		       a9 00		      lda	#
   7772  97d8		       85 20		      sta	BACKGRND
   7773  97da				   .L0648		;;line 1232;;	drawscreen
   7774  97da
   7775  97da		       20 b3 f0 	      jsr	drawscreen
   7776  97dd				   .L0649		;;line 1233;;	if joy0fire0 then goto cold_start
   7777  97dd
   7778  97dd		       2c 02 21 	      bit	sINPT1
   7779  97e0		       50 03		      bvc	.skipL0649
   7780  97e2				   .condpart227
   7781  97e2		       4c 07 80 	      jmp	.cold_start
   7782  97e5				   .skipL0649
   7783  97e5				   .L0650		;;line 1234;;	goto you_lose
   7784  97e5
   7785  97e5		       4c d3 97 	      jmp	.you_lose
   7786  97e5				   DMAHOLEEND0 SET	.
   7787  97e8				   gameend
   7788  97e8				   DMAHOLEEND0 SET	.
   18456 bytes of ROM space left in the main area.
   7789  97e8					      echo	" ",[($E000 - gameend)]d , "bytes of ROM space left in the main area."
   7790  97e8				  -	      if	($E000 - gameend) < 0
   7791  97e8				  -SPACEOVERFLOW SET	(SPACEOVERFLOW+1)
   7792  97e8					      endif
   7793  97e8				  -	      if	START_OF_ROM = .	; avoid dasm empty start-rom truncation.
   7794  97e8				  -	      .byte	0
   7795  97e8					      endif
   7796  97e8				   START_OF_ROM SET	0	; scuttle so we always fail subsequent banks
   7797  97e8
   7798  e000					      ORG	$E000,0	; *************
   7799  e000
   7800  e000		       e0 00	   sprite_spaceship1 =	$E000
   7801  e000
   7802  e000				   sprite_spaceship1
   7803  e000		       00 00 00 00	      HEX	00000000
   7804  e000		       e0 04	   sprite_spaceship2 =	$E004
   7805  e004
   7806  e004				   sprite_spaceship2
   7807  e004		       00 00 00 00	      HEX	00000000
   7808  e004		       e0 08	   sprite_spaceship3 =	$E008
   7809  e008
   7810  e008				   sprite_spaceship3
   7811  e008		       00 00 00 00	      HEX	00000000
   7812  e008		       e0 0c	   sprite_spaceship4 =	$E00C
   7813  e00c
   7814  e00c				   sprite_spaceship4
   7815  e00c		       00 00 00 00	      HEX	00000000
   7816  e00c		       e0 10	   sprite_spaceship5 =	$E010
   7817  e010
   7818  e010				   sprite_spaceship5
   7819  e010		       00 0c 00 00	      HEX	000c0000
   7820  e010		       e0 14	   sprite_spaceship6 =	$E014
   7821  e014
   7822  e014				   sprite_spaceship6
   7823  e014		       00 00 00 00	      HEX	00000000
   7824  e014		       e0 18	   sprite_spaceship7 =	$E018
   7825  e018
   7826  e018				   sprite_spaceship7
   7827  e018		       00 00 00 00	      HEX	00000000
   7828  e018		       e0 1c	   sprite_spaceship8 =	$E01C
   7829  e01c
   7830  e01c				   sprite_spaceship8
   7831  e01c		       00 00 00 00	      HEX	00000000
   7832  e01c		       e0 20	   sprite_spaceship9 =	$E020
   7833  e020
   7834  e020				   sprite_spaceship9
   7835  e020		       00 00 00 00	      HEX	00000000
   7836  e020		       e0 24	   sprite_spaceship10 =	$E024
   7837  e024
   7838  e024				   sprite_spaceship10
   7839  e024		       00 00 00 00	      HEX	00000000
   7840  e024		       e0 28	   sprite_spaceship11 =	$E028
   7841  e028
   7842  e028				   sprite_spaceship11
   7843  e028		       00 00 00 00	      HEX	00000000
   7844  e028		       e0 2c	   sprite_spaceship12 =	$E02C
   7845  e02c
   7846  e02c				   sprite_spaceship12
   7847  e02c		       00 00 00 00	      HEX	00000000
   7848  e02c		       e0 30	   sprite_spaceship13 =	$E030
   7849  e030
   7850  e030				   sprite_spaceship13
   7851  e030		       00 00 30 00	      HEX	00003000
   7852  e030		       e0 34	   sprite_spaceship14 =	$E034
   7853  e034
   7854  e034				   sprite_spaceship14
   7855  e034		       00 00 c0 00	      HEX	0000c000
   7856  e034		       e0 38	   sprite_spaceship15 =	$E038
   7857  e038
   7858  e038				   sprite_spaceship15
   7859  e038		       00 00 00 00	      HEX	00000000
   7860  e038		       e0 3c	   sprite_spaceship16 =	$E03C
   7861  e03c
   7862  e03c				   sprite_spaceship16
   7863  e03c		       00 00 00 00	      HEX	00000000
   7864  e03c		       e0 40	   bullet_conv =	$E040
   7865  e040
   7866  e040				   bullet_conv
   7867  e040		       00		      HEX	00
   7868  e040		       e0 41	   fighter_conv =	$E041
   7869  e041
   7870  e041				   fighter_conv
   7871  e041		       00		      HEX	00
   7872  e041		       e0 42	   asteroid_L_conv =	$E042
   7873  e042
   7874  e042				   asteroid_L_conv
   7875  e042		       00 1a a5 55*	      HEX	001aa55555555400
   7876  e042		       e0 4a	   asteroid_L_conv_tallsprite_00 =	$E04A
   7877  e04a
   7878  e04a				   asteroid_L_conv_tallsprite_00
   7879  e04a		       15 55 55 55*	      HEX	1555555555555554
   7880  e04a		       e0 52	   asteroid_L_conv_tallsprite_01 =	$E052
   7881  e052
   7882  e052				   asteroid_L_conv_tallsprite_01
   7883  e052		       01 55 55 55*	      HEX	0155555555555540
   7884  e052		       e0 5a	   asteroid_L_conv_tallsprite_02 =	$E05A
   7885  e05a
   7886  e05a				   asteroid_L_conv_tallsprite_02
   7887  e05a		       00 00 00 00*	      HEX	0000000000000000
   7888  e05a		       e0 62	   asteroid_M_conv =	$E062
   7889  e062
   7890  e062				   asteroid_M_conv
   7891  e062		       55 aa 55 55	      HEX	55aa5555
   7892  e062		       e0 66	   asteroid_M_conv_tallsprite_00 =	$E066
   7893  e066
   7894  e066				   asteroid_M_conv_tallsprite_00
   7895  e066		       00 15 55 00	      HEX	00155500
   7896  e066		       e0 6a	   scoredigits_s00 =	$E06A
   7897  e06a
   7898  e06a				   scoredigits_s00
   7899  e06a		       00 00		      HEX	0000
   7900  e06a		       e0 6c	   scoredigits_s01 =	$E06C
   7901  e06c
   7902  e06c				   scoredigits_s01
   7903  e06c		       00 00		      HEX	0000
   7904  e06c		       e0 6e	   scoredigits_s02 =	$E06E
   7905  e06e
   7906  e06e				   scoredigits_s02
   7907  e06e		       00 00		      HEX	0000
   7908  e06e		       e0 70	   scoredigits_s03 =	$E070
   7909  e070
   7910  e070				   scoredigits_s03
   7911  e070		       00 00		      HEX	0000
   7912  e070		       e0 72	   scoredigits_s04 =	$E072
   7913  e072
   7914  e072				   scoredigits_s04
   7915  e072		       00 00		      HEX	0000
   7916  e072		       e0 74	   scoredigits_s05 =	$E074
   7917  e074
   7918  e074				   scoredigits_s05
   7919  e074		       00 00		      HEX	0000
   7920  e074		       e0 76	   scoredigits_s06 =	$E076
   7921  e076
   7922  e076				   scoredigits_s06
   7923  e076		       00 00		      HEX	0000
   7924  e076		       e0 78	   scoredigits_s07 =	$E078
   7925  e078
   7926  e078				   scoredigits_s07
   7927  e078		       00 00		      HEX	0000
   7928  e078		       e0 7a	   scoredigits_s08 =	$E07A
   7929  e07a
   7930  e07a				   scoredigits_s08
   7931  e07a		       00 00		      HEX	0000
   7932  e07a		       e0 7c	   scoredigits_s09 =	$E07C
   7933  e07c
   7934  e07c				   scoredigits_s09
   7935  e07c		       00 00		      HEX	0000
   7936  e07c		       e0 7e	   scoredigits_s10 =	$E07E
   7937  e07e
   7938  e07e				   scoredigits_s10
   7939  e07e		       00 00		      HEX	0000
   7940  e07e		       e0 80	   scoredigits_s11 =	$E080
   7941  e080
   7942  e080				   scoredigits_s11
   7943  e080		       00 00		      HEX	0000
   7944  e080		       e0 82	   scoredigits_s12 =	$E082
   7945  e082
   7946  e082				   scoredigits_s12
   7947  e082		       00 00		      HEX	0000
   7948  e082		       e0 84	   scoredigits_s13 =	$E084
   7949  e084
   7950  e084				   scoredigits_s13
   7951  e084		       00 00		      HEX	0000
   7952  e084		       e0 86	   scoredigits_s14 =	$E086
   7953  e086
   7954  e086				   scoredigits_s14
   7955  e086		       00 00		      HEX	0000
   7956  e086		       e0 88	   scoredigits_s15 =	$E088
   7957  e088
   7958  e088				   scoredigits_s15
   7959  e088		       00 00		      HEX	0000
   7960  e08a
   7961  e100					      ORG	$E100,0	; *************
   7962  e100
   7963  e100							;sprite_spaceship1
   7964  e100		       00 01 40 00	      HEX	00014000
   7965  e104							;sprite_spaceship2
   7966  e104		       00 00 00 00	      HEX	00000000
   7967  e108							;sprite_spaceship3
   7968  e108		       00 00 30 00	      HEX	00003000
   7969  e10c							;sprite_spaceship4
   7970  e10c		       00 03 00 00	      HEX	00030000
   7971  e110							;sprite_spaceship5
   7972  e110		       00 0c 00 00	      HEX	000c0000
   7973  e114							;sprite_spaceship6
   7974  e114		       00 00 00 00	      HEX	00000000
   7975  e118							;sprite_spaceship7
   7976  e118		       00 00 00 00	      HEX	00000000
   7977  e11c							;sprite_spaceship8
   7978  e11c		       00 00 00 00	      HEX	00000000
   7979  e120							;sprite_spaceship9
   7980  e120		       00 03 c0 00	      HEX	0003c000
   7981  e124							;sprite_spaceship10
   7982  e124		       00 00 00 00	      HEX	00000000
   7983  e128							;sprite_spaceship11
   7984  e128		       00 00 00 00	      HEX	00000000
   7985  e12c							;sprite_spaceship12
   7986  e12c		       00 00 00 00	      HEX	00000000
   7987  e130							;sprite_spaceship13
   7988  e130		       00 00 30 00	      HEX	00003000
   7989  e134							;sprite_spaceship14
   7990  e134		       00 00 c0 00	      HEX	0000c000
   7991  e138							;sprite_spaceship15
   7992  e138		       00 03 00 00	      HEX	00030000
   7993  e13c							;sprite_spaceship16
   7994  e13c		       00 00 d0 00	      HEX	0000d000
   7995  e140							;bullet_conv
   7996  e140		       00		      HEX	00
   7997  e141							;fighter_conv
   7998  e141		       00		      HEX	00
   7999  e142							;asteroid_L_conv
   8000  e142		       00 1a a5 55*	      HEX	001aa55555555400
   8001  e14a							;asteroid_L_conv_tallsprite_00
   8002  e14a		       15 55 55 55*	      HEX	1555555555555554
   8003  e152							;asteroid_L_conv_tallsprite_01
   8004  e152		       01 55 55 55*	      HEX	0155555555555540
   8005  e15a							;asteroid_L_conv_tallsprite_02
   8006  e15a		       00 00 00 00*	      HEX	0000000000000000
   8007  e162							;asteroid_M_conv
   8008  e162		       55 aa 55 55	      HEX	55aa5555
   8009  e166							;asteroid_M_conv_tallsprite_00
   8010  e166		       00 15 55 00	      HEX	00155500
   8011  e16a							;scoredigits_s00
   8012  e16a		       00 00		      HEX	0000
   8013  e16c							;scoredigits_s01
   8014  e16c		       00 00		      HEX	0000
   8015  e16e							;scoredigits_s02
   8016  e16e		       00 00		      HEX	0000
   8017  e170							;scoredigits_s03
   8018  e170		       00 00		      HEX	0000
   8019  e172							;scoredigits_s04
   8020  e172		       00 00		      HEX	0000
   8021  e174							;scoredigits_s05
   8022  e174		       00 00		      HEX	0000
   8023  e176							;scoredigits_s06
   8024  e176		       00 00		      HEX	0000
   8025  e178							;scoredigits_s07
   8026  e178		       00 00		      HEX	0000
   8027  e17a							;scoredigits_s08
   8028  e17a		       00 00		      HEX	0000
   8029  e17c							;scoredigits_s09
   8030  e17c		       00 00		      HEX	0000
   8031  e17e							;scoredigits_s10
   8032  e17e		       00 00		      HEX	0000
   8033  e180							;scoredigits_s11
   8034  e180		       00 00		      HEX	0000
   8035  e182							;scoredigits_s12
   8036  e182		       00 00		      HEX	0000
   8037  e184							;scoredigits_s13
   8038  e184		       00 00		      HEX	0000
   8039  e186							;scoredigits_s14
   8040  e186		       00 00		      HEX	0000
   8041  e188							;scoredigits_s15
   8042  e188		       00 00		      HEX	0000
   8043  e18a
   8044  e200					      ORG	$E200,0	; *************
   8045  e200
   8046  e200							;sprite_spaceship1
   8047  e200		       00 0e b0 00	      HEX	000eb000
   8048  e204							;sprite_spaceship2
   8049  e204		       00 05 cc 00	      HEX	0005cc00
   8050  e208							;sprite_spaceship3
   8051  e208		       00 03 f0 00	      HEX	0003f000
   8052  e20c							;sprite_spaceship4
   8053  e20c		       00 03 00 00	      HEX	00030000
   8054  e210							;sprite_spaceship5
   8055  e210		       00 0f 00 00	      HEX	000f0000
   8056  e214							;sprite_spaceship6
   8057  e214		       00 30 00 00	      HEX	00300000
   8058  e218							;sprite_spaceship7
   8059  e218		       00 00 10 00	      HEX	00001000
   8060  e21c							;sprite_spaceship8
   8061  e21c		       00 00 f0 00	      HEX	0000f000
   8062  e220							;sprite_spaceship9
   8063  e220		       00 01 40 00	      HEX	00014000
   8064  e224							;sprite_spaceship10
   8065  e224		       00 03 00 00	      HEX	00030000
   8066  e228							;sprite_spaceship11
   8067  e228		       00 0c 00 00	      HEX	000c0000
   8068  e22c							;sprite_spaceship12
   8069  e22c		       00 00 0f 00	      HEX	00000f00
   8070  e230							;sprite_spaceship13
   8071  e230		       00 00 f0 00	      HEX	0000f000
   8072  e234							;sprite_spaceship14
   8073  e234		       00 00 c0 00	      HEX	0000c000
   8074  e238							;sprite_spaceship15
   8075  e238		       00 03 00 00	      HEX	00030000
   8076  e23c							;sprite_spaceship16
   8077  e23c		       00 0f a0 00	      HEX	000fa000
   8078  e240							;bullet_conv
   8079  e240		       00		      HEX	00
   8080  e241							;fighter_conv
   8081  e241		       00		      HEX	00
   8082  e242							;asteroid_L_conv
   8083  e242		       00 0a a5 55*	      HEX	000aa55555555400
   8084  e24a							;asteroid_L_conv_tallsprite_00
   8085  e24a		       15 55 55 55*	      HEX	1555555555555554
   8086  e252							;asteroid_L_conv_tallsprite_01
   8087  e252		       01 55 55 55*	      HEX	0155555555555550
   8088  e25a							;asteroid_L_conv_tallsprite_02
   8089  e25a		       00 00 00 05*	      HEX	0000000555500000
   8090  e262							;asteroid_M_conv
   8091  e262		       5a a5 55 55	      HEX	5aa55555
   8092  e266							;asteroid_M_conv_tallsprite_00
   8093  e266		       00 55 55 50	      HEX	00555550
   8094  e26a							;scoredigits_s00
   8095  e26a		       00 00		      HEX	0000
   8096  e26c							;scoredigits_s01
   8097  e26c		       00 00		      HEX	0000
   8098  e26e							;scoredigits_s02
   8099  e26e		       00 00		      HEX	0000
   8100  e270							;scoredigits_s03
   8101  e270		       00 00		      HEX	0000
   8102  e272							;scoredigits_s04
   8103  e272		       00 00		      HEX	0000
   8104  e274							;scoredigits_s05
   8105  e274		       00 00		      HEX	0000
   8106  e276							;scoredigits_s06
   8107  e276		       00 00		      HEX	0000
   8108  e278							;scoredigits_s07
   8109  e278		       00 00		      HEX	0000
   8110  e27a							;scoredigits_s08
   8111  e27a		       00 00		      HEX	0000
   8112  e27c							;scoredigits_s09
   8113  e27c		       00 00		      HEX	0000
   8114  e27e							;scoredigits_s10
   8115  e27e		       00 00		      HEX	0000
   8116  e280							;scoredigits_s11
   8117  e280		       00 00		      HEX	0000
   8118  e282							;scoredigits_s12
   8119  e282		       00 00		      HEX	0000
   8120  e284							;scoredigits_s13
   8121  e284		       00 00		      HEX	0000
   8122  e286							;scoredigits_s14
   8123  e286		       00 00		      HEX	0000
   8124  e288							;scoredigits_s15
   8125  e288		       00 00		      HEX	0000
   8126  e28a
   8127  e300					      ORG	$E300,0	; *************
   8128  e300
   8129  e300							;sprite_spaceship1
   8130  e300		       00 0b e0 00	      HEX	000be000
   8131  e304							;sprite_spaceship2
   8132  e304		       00 0a bc 00	      HEX	000abc00
   8133  e308							;sprite_spaceship3
   8134  e308		       00 06 f0 00	      HEX	0006f000
   8135  e30c							;sprite_spaceship4
   8136  e30c		       00 0b 40 00	      HEX	000b4000
   8137  e310							;sprite_spaceship5
   8138  e310		       00 0f 00 00	      HEX	000f0000
   8139  e314							;sprite_spaceship6
   8140  e314		       00 3d 00 00	      HEX	003d0000
   8141  e318							;sprite_spaceship7
   8142  e318		       00 00 1c 00	      HEX	00001c00
   8143  e31c							;sprite_spaceship8
   8144  e31c		       00 00 50 00	      HEX	00005000
   8145  e320							;sprite_spaceship9
   8146  e320		       00 02 80 00	      HEX	00028000
   8147  e324							;sprite_spaceship10
   8148  e324		       00 01 80 00	      HEX	00018000
   8149  e328							;sprite_spaceship11
   8150  e328		       00 06 00 00	      HEX	00060000
   8151  e32c							;sprite_spaceship12
   8152  e32c		       00 00 1c 00	      HEX	00001c00
   8153  e330							;sprite_spaceship13
   8154  e330		       00 00 f0 00	      HEX	0000f000
   8155  e334							;sprite_spaceship14
   8156  e334		       00 00 fc 00	      HEX	0000fc00
   8157  e338							;sprite_spaceship15
   8158  e338		       00 03 e4 00	      HEX	0003e400
   8159  e33c							;sprite_spaceship16
   8160  e33c		       00 0f f8 00	      HEX	000ff800
   8161  e340							;bullet_conv
   8162  e340		       00		      HEX	00
   8163  e341							;fighter_conv
   8164  e341		       00		      HEX	00
   8165  e342							;asteroid_L_conv
   8166  e342		       00 0a a5 55*	      HEX	000aa55555555400
   8167  e34a							;asteroid_L_conv_tallsprite_00
   8168  e34a		       15 55 55 55*	      HEX	1555555555555554
   8169  e352							;asteroid_L_conv_tallsprite_01
   8170  e352		       01 55 55 55*	      HEX	0155555555555550
   8171  e35a							;asteroid_L_conv_tallsprite_02
   8172  e35a		       00 00 00 05*	      HEX	0000000555500000
   8173  e362							;asteroid_M_conv
   8174  e362		       5a a5 55 55	      HEX	5aa55555
   8175  e366							;asteroid_M_conv_tallsprite_00
   8176  e366		       00 55 55 50	      HEX	00555550
   8177  e36a							;scoredigits_s00
   8178  e36a		       00 00		      HEX	0000
   8179  e36c							;scoredigits_s01
   8180  e36c		       00 00		      HEX	0000
   8181  e36e							;scoredigits_s02
   8182  e36e		       00 00		      HEX	0000
   8183  e370							;scoredigits_s03
   8184  e370		       00 00		      HEX	0000
   8185  e372							;scoredigits_s04
   8186  e372		       00 00		      HEX	0000
   8187  e374							;scoredigits_s05
   8188  e374		       00 00		      HEX	0000
   8189  e376							;scoredigits_s06
   8190  e376		       00 00		      HEX	0000
   8191  e378							;scoredigits_s07
   8192  e378		       00 00		      HEX	0000
   8193  e37a							;scoredigits_s08
   8194  e37a		       00 00		      HEX	0000
   8195  e37c							;scoredigits_s09
   8196  e37c		       00 00		      HEX	0000
   8197  e37e							;scoredigits_s10
   8198  e37e		       00 00		      HEX	0000
   8199  e380							;scoredigits_s11
   8200  e380		       00 00		      HEX	0000
   8201  e382							;scoredigits_s12
   8202  e382		       00 00		      HEX	0000
   8203  e384							;scoredigits_s13
   8204  e384		       00 00		      HEX	0000
   8205  e386							;scoredigits_s14
   8206  e386		       00 00		      HEX	0000
   8207  e388							;scoredigits_s15
   8208  e388		       00 00		      HEX	0000
   8209  e38a
   8210  e400					      ORG	$E400,0	; *************
   8211  e400
   8212  e400							;sprite_spaceship1
   8213  e400		       00 ff ff 00	      HEX	00ffff00
   8214  e404							;sprite_spaceship2
   8215  e404		       00 3b fc 00	      HEX	003bfc00
   8216  e408							;sprite_spaceship3
   8217  e408		       00 1b d0 00	      HEX	001bd000
   8218  e40c							;sprite_spaceship4
   8219  e40c		       00 0b 40 00	      HEX	000b4000
   8220  e410							;sprite_spaceship5
   8221  e410		       00 3f 40 00	      HEX	003f4000
   8222  e414							;sprite_spaceship6
   8223  e414		       00 3d 74 00	      HEX	003d7400
   8224  e418							;sprite_spaceship7
   8225  e418		       00 f5 64 00	      HEX	00f56400
   8226  e41c							;sprite_spaceship8
   8227  e41c		       00 00 a0 00	      HEX	0000a000
   8228  e420							;sprite_spaceship9
   8229  e420		       00 03 c0 00	      HEX	0003c000
   8230  e424							;sprite_spaceship10
   8231  e424		       00 02 c0 00	      HEX	0002c000
   8232  e428							;sprite_spaceship11
   8233  e428		       00 07 57 00	      HEX	00075700
   8234  e42c							;sprite_spaceship12
   8235  e42c		       00 38 7c 00	      HEX	00387c00
   8236  e430							;sprite_spaceship13
   8237  e430		       00 01 fc 00	      HEX	0001fc00
   8238  e434							;sprite_spaceship14
   8239  e434		       00 00 f8 00	      HEX	0000f800
   8240  e438							;sprite_spaceship15
   8241  e438		       00 03 f8 00	      HEX	0003f800
   8242  e43c							;sprite_spaceship16
   8243  e43c		       00 0f b8 00	      HEX	000fb800
   8244  e440							;bullet_conv
   8245  e440		       00		      HEX	00
   8246  e441							;fighter_conv
   8247  e441		       00		      HEX	00
   8248  e442							;asteroid_L_conv
   8249  e442		       00 02 95 b5*	      HEX	000295b555555000
   8250  e44a							;asteroid_L_conv_tallsprite_00
   8251  e44a		       15 55 56 55*	      HEX	1555565555555554
   8252  e452							;asteroid_L_conv_tallsprite_01
   8253  e452		       05 55 55 55*	      HEX	0555555555555554
   8254  e45a							;asteroid_L_conv_tallsprite_02
   8255  e45a		       00 00 05 55*	      HEX	0000055555540000
   8256  e462							;asteroid_M_conv
   8257  e462		       29 69 99 55	      HEX	29699955
   8258  e466							;asteroid_M_conv_tallsprite_00
   8259  e466		       05 55 55 54	      HEX	05555554
   8260  e46a							;scoredigits_s00
   8261  e46a		       00 00		      HEX	0000
   8262  e46c							;scoredigits_s01
   8263  e46c		       00 00		      HEX	0000
   8264  e46e							;scoredigits_s02
   8265  e46e		       00 00		      HEX	0000
   8266  e470							;scoredigits_s03
   8267  e470		       00 00		      HEX	0000
   8268  e472							;scoredigits_s04
   8269  e472		       00 00		      HEX	0000
   8270  e474							;scoredigits_s05
   8271  e474		       00 00		      HEX	0000
   8272  e476							;scoredigits_s06
   8273  e476		       00 00		      HEX	0000
   8274  e478							;scoredigits_s07
   8275  e478		       00 00		      HEX	0000
   8276  e47a							;scoredigits_s08
   8277  e47a		       00 00		      HEX	0000
   8278  e47c							;scoredigits_s09
   8279  e47c		       00 00		      HEX	0000
   8280  e47e							;scoredigits_s10
   8281  e47e		       00 00		      HEX	0000
   8282  e480							;scoredigits_s11
   8283  e480		       00 00		      HEX	0000
   8284  e482							;scoredigits_s12
   8285  e482		       00 00		      HEX	0000
   8286  e484							;scoredigits_s13
   8287  e484		       00 00		      HEX	0000
   8288  e486							;scoredigits_s14
   8289  e486		       00 00		      HEX	0000
   8290  e488							;scoredigits_s15
   8291  e488		       00 00		      HEX	0000
   8292  e48a
   8293  e500					      ORG	$E500,0	; *************
   8294  e500
   8295  e500							;sprite_spaceship1
   8296  e500		       00 fe bf 00	      HEX	00febf00
   8297  e504							;sprite_spaceship2
   8298  e504		       00 2f f0 00	      HEX	002ff000
   8299  e508							;sprite_spaceship3
   8300  e508		       00 1f d0 00	      HEX	001fd000
   8301  e50c							;sprite_spaceship4
   8302  e50c		       00 1f c0 00	      HEX	001fc000
   8303  e510							;sprite_spaceship5
   8304  e510		       00 3f 40 00	      HEX	003f4000
   8305  e514							;sprite_spaceship6
   8306  e514		       00 3f 74 00	      HEX	003f7400
   8307  e518							;sprite_spaceship7
   8308  e518		       00 fd 70 00	      HEX	00fd7000
   8309  e51c							;sprite_spaceship8
   8310  e51c		       00 01 f0 00	      HEX	0001f000
   8311  e520							;sprite_spaceship9
   8312  e520		       00 01 40 00	      HEX	00014000
   8313  e524							;sprite_spaceship10
   8314  e524		       00 03 40 00	      HEX	00034000
   8315  e528							;sprite_spaceship11
   8316  e528		       00 09 ff 00	      HEX	0009ff00
   8317  e52c							;sprite_spaceship12
   8318  e52c		       00 39 fc 00	      HEX	0039fc00
   8319  e530							;sprite_spaceship13
   8320  e530		       00 01 fc 00	      HEX	0001fc00
   8321  e534							;sprite_spaceship14
   8322  e534		       00 01 f9 00	      HEX	0001f900
   8323  e538							;sprite_spaceship15
   8324  e538		       00 03 f8 00	      HEX	0003f800
   8325  e53c							;sprite_spaceship16
   8326  e53c		       00 07 ac 00	      HEX	0007ac00
   8327  e540							;bullet_conv
   8328  e540		       00		      HEX	00
   8329  e541							;fighter_conv
   8330  e541		       00		      HEX	00
   8331  e542							;asteroid_L_conv
   8332  e542		       00 02 95 b5*	      HEX	000295b555555000
   8333  e54a							;asteroid_L_conv_tallsprite_00
   8334  e54a		       15 55 56 55*	      HEX	1555565555555554
   8335  e552							;asteroid_L_conv_tallsprite_01
   8336  e552		       05 55 55 55*	      HEX	0555555555555554
   8337  e55a							;asteroid_L_conv_tallsprite_02
   8338  e55a		       00 00 05 55*	      HEX	0000055555540000
   8339  e562							;asteroid_M_conv
   8340  e562		       29 69 99 55	      HEX	29699955
   8341  e566							;asteroid_M_conv_tallsprite_00
   8342  e566		       05 55 55 54	      HEX	05555554
   8343  e56a							;scoredigits_s00
   8344  e56a		       00 00		      HEX	0000
   8345  e56c							;scoredigits_s01
   8346  e56c		       00 00		      HEX	0000
   8347  e56e							;scoredigits_s02
   8348  e56e		       00 00		      HEX	0000
   8349  e570							;scoredigits_s03
   8350  e570		       00 00		      HEX	0000
   8351  e572							;scoredigits_s04
   8352  e572		       00 00		      HEX	0000
   8353  e574							;scoredigits_s05
   8354  e574		       00 00		      HEX	0000
   8355  e576							;scoredigits_s06
   8356  e576		       00 00		      HEX	0000
   8357  e578							;scoredigits_s07
   8358  e578		       00 00		      HEX	0000
   8359  e57a							;scoredigits_s08
   8360  e57a		       00 00		      HEX	0000
   8361  e57c							;scoredigits_s09
   8362  e57c		       00 00		      HEX	0000
   8363  e57e							;scoredigits_s10
   8364  e57e		       00 00		      HEX	0000
   8365  e580							;scoredigits_s11
   8366  e580		       00 00		      HEX	0000
   8367  e582							;scoredigits_s12
   8368  e582		       00 00		      HEX	0000
   8369  e584							;scoredigits_s13
   8370  e584		       00 00		      HEX	0000
   8371  e586							;scoredigits_s14
   8372  e586		       00 00		      HEX	0000
   8373  e588							;scoredigits_s15
   8374  e588		       00 00		      HEX	0000
   8375  e58a
   8376  e600					      ORG	$E600,0	; *************
   8377  e600
   8378  e600							;sprite_spaceship1
   8379  e600		       00 3e bc 00	      HEX	003ebc00
   8380  e604							;sprite_spaceship2
   8381  e604		       00 3e f0 00	      HEX	003ef000
   8382  e608							;sprite_spaceship3
   8383  e608		       00 2e d0 00	      HEX	002ed000
   8384  e60c							;sprite_spaceship4
   8385  e60c		       00 1e c0 00	      HEX	001ec000
   8386  e610							;sprite_spaceship5
   8387  e610		       00 6e db 00	      HEX	006edb00
   8388  e614							;sprite_spaceship6
   8389  e614		       00 2f f4 00	      HEX	002ff400
   8390  e618							;sprite_spaceship7
   8391  e618		       00 3f d0 00	      HEX	003fd000
   8392  e61c							;sprite_spaceship8
   8393  e61c		       00 05 40 00	      HEX	00054000
   8394  e620							;sprite_spaceship9
   8395  e620		       00 07 d0 00	      HEX	0007d000
   8396  e624							;sprite_spaceship10
   8397  e624		       00 01 d0 00	      HEX	0001d000
   8398  e628							;sprite_spaceship11
   8399  e628		       00 01 ff 00	      HEX	0001ff00
   8400  e62c							;sprite_spaceship12
   8401  e62c		       00 39 ff 00	      HEX	0039ff00
   8402  e630							;sprite_spaceship13
   8403  e630		       00 e7 b9 00	      HEX	00e7b900
   8404  e634							;sprite_spaceship14
   8405  e634		       00 01 ed 00	      HEX	0001ed00
   8406  e638							;sprite_spaceship15
   8407  e638		       00 03 bc 00	      HEX	0003bc00
   8408  e63c							;sprite_spaceship16
   8409  e63c		       00 07 ef 00	      HEX	0007ef00
   8410  e640							;bullet_conv
   8411  e640		       00		      HEX	00
   8412  e641							;fighter_conv
   8413  e641		       00		      HEX	00
   8414  e642							;asteroid_L_conv
   8415  e642		       00 00 55 59*	      HEX	0000555955554000
   8416  e64a							;asteroid_L_conv_tallsprite_00
   8417  e64a		       15 55 55 55*	      HEX	1555555555555554
   8418  e652							;asteroid_L_conv_tallsprite_01
   8419  e652		       05 55 55 55*	      HEX	0555555555555554
   8420  e65a							;asteroid_L_conv_tallsprite_02
   8421  e65a		       00 00 15 55*	      HEX	0000155555550000
   8422  e662							;asteroid_M_conv
   8423  e662		       0a 6a 65 54	      HEX	0a6a6554
   8424  e666							;asteroid_M_conv_tallsprite_00
   8425  e666		       15 55 55 54	      HEX	15555554
   8426  e66a							;scoredigits_s00
   8427  e66a		       00 00		      HEX	0000
   8428  e66c							;scoredigits_s01
   8429  e66c		       00 00		      HEX	0000
   8430  e66e							;scoredigits_s02
   8431  e66e		       00 00		      HEX	0000
   8432  e670							;scoredigits_s03
   8433  e670		       00 00		      HEX	0000
   8434  e672							;scoredigits_s04
   8435  e672		       00 00		      HEX	0000
   8436  e674							;scoredigits_s05
   8437  e674		       00 00		      HEX	0000
   8438  e676							;scoredigits_s06
   8439  e676		       00 00		      HEX	0000
   8440  e678							;scoredigits_s07
   8441  e678		       00 00		      HEX	0000
   8442  e67a							;scoredigits_s08
   8443  e67a		       00 00		      HEX	0000
   8444  e67c							;scoredigits_s09
   8445  e67c		       00 00		      HEX	0000
   8446  e67e							;scoredigits_s10
   8447  e67e		       00 00		      HEX	0000
   8448  e680							;scoredigits_s11
   8449  e680		       00 00		      HEX	0000
   8450  e682							;scoredigits_s12
   8451  e682		       00 00		      HEX	0000
   8452  e684							;scoredigits_s13
   8453  e684		       00 00		      HEX	0000
   8454  e686							;scoredigits_s14
   8455  e686		       00 00		      HEX	0000
   8456  e688							;scoredigits_s15
   8457  e688		       00 00		      HEX	0000
   8458  e68a
   8459  e700					      ORG	$E700,0	; *************
   8460  e700
   8461  e700							;sprite_spaceship1
   8462  e700		       00 1f f4 00	      HEX	001ff400
   8463  e704							;sprite_spaceship2
   8464  e704		       00 fe d0 00	      HEX	00fed000
   8465  e708							;sprite_spaceship3
   8466  e708		       00 2e d0 00	      HEX	002ed000
   8467  e70c							;sprite_spaceship4
   8468  e70c		       00 2e d0 00	      HEX	002ed000
   8469  e710							;sprite_spaceship5
   8470  e710		       00 6e db 00	      HEX	006edb00
   8471  e714							;sprite_spaceship6
   8472  e714		       00 2b d0 00	      HEX	002bd000
   8473  e718							;sprite_spaceship7
   8474  e718		       00 3f d0 00	      HEX	003fd000
   8475  e71c							;sprite_spaceship8
   8476  e71c		       00 1f d0 00	      HEX	001fd000
   8477  e720							;sprite_spaceship9
   8478  e720		       00 07 d0 00	      HEX	0007d000
   8479  e724							;sprite_spaceship10
   8480  e724		       00 01 f4 00	      HEX	0001f400
   8481  e728							;sprite_spaceship11
   8482  e728		       00 03 ec 00	      HEX	0003ec00
   8483  e72c							;sprite_spaceship12
   8484  e72c		       00 0f ef 00	      HEX	000fef00
   8485  e730							;sprite_spaceship13
   8486  e730		       00 e7 b9 00	      HEX	00e7b900
   8487  e734							;sprite_spaceship14
   8488  e734		       00 01 ed 00	      HEX	0001ed00
   8489  e738							;sprite_spaceship15
   8490  e738		       00 01 ef 00	      HEX	0001ef00
   8491  e73c							;sprite_spaceship16
   8492  e73c		       00 03 ff c0	      HEX	0003ffc0
   8493  e740							;bullet_conv
   8494  e740		       00		      HEX	00
   8495  e741							;fighter_conv
   8496  e741		       00		      HEX	00
   8497  e742							;asteroid_L_conv
   8498  e742		       00 00 55 59*	      HEX	0000555955554000
   8499  e74a							;asteroid_L_conv_tallsprite_00
   8500  e74a		       15 55 55 55*	      HEX	1555555555555554
   8501  e752							;asteroid_L_conv_tallsprite_01
   8502  e752		       05 55 55 55*	      HEX	0555555555555554
   8503  e75a							;asteroid_L_conv_tallsprite_02
   8504  e75a		       00 00 15 55*	      HEX	0000155555550000
   8505  e762							;asteroid_M_conv
   8506  e762		       0a 6a 65 54	      HEX	0a6a6554
   8507  e766							;asteroid_M_conv_tallsprite_00
   8508  e766		       15 55 55 54	      HEX	15555554
   8509  e76a							;scoredigits_s00
   8510  e76a		       00 00		      HEX	0000
   8511  e76c							;scoredigits_s01
   8512  e76c		       00 00		      HEX	0000
   8513  e76e							;scoredigits_s02
   8514  e76e		       00 00		      HEX	0000
   8515  e770							;scoredigits_s03
   8516  e770		       00 00		      HEX	0000
   8517  e772							;scoredigits_s04
   8518  e772		       00 00		      HEX	0000
   8519  e774							;scoredigits_s05
   8520  e774		       00 00		      HEX	0000
   8521  e776							;scoredigits_s06
   8522  e776		       00 00		      HEX	0000
   8523  e778							;scoredigits_s07
   8524  e778		       00 00		      HEX	0000
   8525  e77a							;scoredigits_s08
   8526  e77a		       00 00		      HEX	0000
   8527  e77c							;scoredigits_s09
   8528  e77c		       00 00		      HEX	0000
   8529  e77e							;scoredigits_s10
   8530  e77e		       00 00		      HEX	0000
   8531  e780							;scoredigits_s11
   8532  e780		       00 00		      HEX	0000
   8533  e782							;scoredigits_s12
   8534  e782		       00 00		      HEX	0000
   8535  e784							;scoredigits_s13
   8536  e784		       00 00		      HEX	0000
   8537  e786							;scoredigits_s14
   8538  e786		       00 00		      HEX	0000
   8539  e788							;scoredigits_s15
   8540  e788		       00 00		      HEX	0000
   8541  e78a
   8542  e800					      ORG	$E800,0	; *************
   8543  e800
   8544  e800							;sprite_spaceship1
   8545  e800		       00 07 d0 00	      HEX	0007d000
   8546  e804							;sprite_spaceship2
   8547  e804		       00 ff d0 00	      HEX	00ffd000
   8548  e808							;sprite_spaceship3
   8549  e808		       00 3f d0 00	      HEX	003fd000
   8550  e80c							;sprite_spaceship4
   8551  e80c		       00 2b d0 00	      HEX	002bd000
   8552  e810							;sprite_spaceship5
   8553  e810		       00 6e db 00	      HEX	006edb00
   8554  e814							;sprite_spaceship6
   8555  e814		       00 2e d0 00	      HEX	002ed000
   8556  e818							;sprite_spaceship7
   8557  e818		       00 2e d0 00	      HEX	002ed000
   8558  e81c							;sprite_spaceship8
   8559  e81c		       00 ff d0 00	      HEX	00ffd000
   8560  e820							;sprite_spaceship9
   8561  e820		       00 1f f4 00	      HEX	001ff400
   8562  e824							;sprite_spaceship10
   8563  e824		       00 03 ff c0	      HEX	0003ffc0
   8564  e828							;sprite_spaceship11
   8565  e828		       00 01 ef 00	      HEX	0001ef00
   8566  e82c							;sprite_spaceship12
   8567  e82c		       00 01 ed 00	      HEX	0001ed00
   8568  e830							;sprite_spaceship13
   8569  e830		       00 e7 b9 00	      HEX	00e7b900
   8570  e834							;sprite_spaceship14
   8571  e834		       00 0f ef 00	      HEX	000fef00
   8572  e838							;sprite_spaceship15
   8573  e838		       00 03 ec 00	      HEX	0003ec00
   8574  e83c							;sprite_spaceship16
   8575  e83c		       00 01 f4 00	      HEX	0001f400
   8576  e840							;bullet_conv
   8577  e840		       00		      HEX	00
   8578  e841							;fighter_conv
   8579  e841		       3c		      HEX	3c
   8580  e842							;asteroid_L_conv
   8581  e842		       00 00 25 5a*	      HEX	0000255a55550000
   8582  e84a							;asteroid_L_conv_tallsprite_00
   8583  e84a		       05 55 56 55*	      HEX	0555565555555550
   8584  e852							;asteroid_L_conv_tallsprite_01
   8585  e852		       05 55 55 55*	      HEX	0555555555555554
   8586  e85a							;asteroid_L_conv_tallsprite_02
   8587  e85a		       00 00 55 55*	      HEX	0000555555555000
   8588  e862							;asteroid_M_conv
   8589  e862		       07 ea 95 50	      HEX	07ea9550
   8590  e866							;asteroid_M_conv_tallsprite_00
   8591  e866		       15 55 55 55	      HEX	15555555
   8592  e86a							;scoredigits_s00
   8593  e86a		       05 50		      HEX	0550
   8594  e86c							;scoredigits_s01
   8595  e86c		       15 54		      HEX	1554
   8596  e86e							;scoredigits_s02
   8597  e86e		       15 54		      HEX	1554
   8598  e870							;scoredigits_s03
   8599  e870		       05 50		      HEX	0550
   8600  e872							;scoredigits_s04
   8601  e872		       00 50		      HEX	0050
   8602  e874							;scoredigits_s05
   8603  e874		       05 50		      HEX	0550
   8604  e876							;scoredigits_s06
   8605  e876		       05 50		      HEX	0550
   8606  e878							;scoredigits_s07
   8607  e878		       05 00		      HEX	0500
   8608  e87a							;scoredigits_s08
   8609  e87a		       05 50		      HEX	0550
   8610  e87c							;scoredigits_s09
   8611  e87c		       05 40		      HEX	0540
   8612  e87e							;scoredigits_s10
   8613  e87e		       14 14		      HEX	1414
   8614  e880							;scoredigits_s11
   8615  e880		       15 50		      HEX	1550
   8616  e882							;scoredigits_s12
   8617  e882		       05 50		      HEX	0550
   8618  e884							;scoredigits_s13
   8619  e884		       15 40		      HEX	1540
   8620  e886							;scoredigits_s14
   8621  e886		       15 54		      HEX	1554
   8622  e888							;scoredigits_s15
   8623  e888		       14 00		      HEX	1400
   8624  e88a
   8625  e900					      ORG	$E900,0	; *************
   8626  e900
   8627  e900							;sprite_spaceship1
   8628  e900		       00 07 d0 00	      HEX	0007d000
   8629  e904							;sprite_spaceship2
   8630  e904		       00 1f d0 00	      HEX	001fd000
   8631  e908							;sprite_spaceship3
   8632  e908		       00 3f d0 00	      HEX	003fd000
   8633  e90c							;sprite_spaceship4
   8634  e90c		       00 2f f4 00	      HEX	002ff400
   8635  e910							;sprite_spaceship5
   8636  e910		       00 6e db 00	      HEX	006edb00
   8637  e914							;sprite_spaceship6
   8638  e914		       00 2e c0 00	      HEX	002ec000
   8639  e918							;sprite_spaceship7
   8640  e918		       00 2e d0 00	      HEX	002ed000
   8641  e91c							;sprite_spaceship8
   8642  e91c		       00 fe d0 00	      HEX	00fed000
   8643  e920							;sprite_spaceship9
   8644  e920		       00 3e bc 00	      HEX	003ebc00
   8645  e924							;sprite_spaceship10
   8646  e924		       00 07 ef 00	      HEX	0007ef00
   8647  e928							;sprite_spaceship11
   8648  e928		       00 03 bc 00	      HEX	0003bc00
   8649  e92c							;sprite_spaceship12
   8650  e92c		       00 01 ed 00	      HEX	0001ed00
   8651  e930							;sprite_spaceship13
   8652  e930		       00 e7 b9 00	      HEX	00e7b900
   8653  e934							;sprite_spaceship14
   8654  e934		       00 39 ff 00	      HEX	0039ff00
   8655  e938							;sprite_spaceship15
   8656  e938		       00 01 ff 00	      HEX	0001ff00
   8657  e93c							;sprite_spaceship16
   8658  e93c		       00 01 d0 00	      HEX	0001d000
   8659  e940							;bullet_conv
   8660  e940		       00		      HEX	00
   8661  e941							;fighter_conv
   8662  e941		       3c		      HEX	3c
   8663  e942							;asteroid_L_conv
   8664  e942		       00 00 25 5a*	      HEX	0000255a55550000
   8665  e94a							;asteroid_L_conv_tallsprite_00
   8666  e94a		       05 55 56 55*	      HEX	0555565555555550
   8667  e952							;asteroid_L_conv_tallsprite_01
   8668  e952		       05 55 55 55*	      HEX	0555555555555554
   8669  e95a							;asteroid_L_conv_tallsprite_02
   8670  e95a		       00 00 55 55*	      HEX	0000555555555000
   8671  e962							;asteroid_M_conv
   8672  e962		       07 ea 95 50	      HEX	07ea9550
   8673  e966							;asteroid_M_conv_tallsprite_00
   8674  e966		       15 55 55 55	      HEX	15555555
   8675  e96a							;scoredigits_s00
   8676  e96a		       14 14		      HEX	1414
   8677  e96c							;scoredigits_s01
   8678  e96c		       01 40		      HEX	0140
   8679  e96e							;scoredigits_s02
   8680  e96e		       14 00		      HEX	1400
   8681  e970							;scoredigits_s03
   8682  e970		       14 14		      HEX	1414
   8683  e972							;scoredigits_s04
   8684  e972		       15 54		      HEX	1554
   8685  e974							;scoredigits_s05
   8686  e974		       14 14		      HEX	1414
   8687  e976							;scoredigits_s06
   8688  e976		       14 14		      HEX	1414
   8689  e978							;scoredigits_s07
   8690  e978		       05 00		      HEX	0500
   8691  e97a							;scoredigits_s08
   8692  e97a		       14 14		      HEX	1414
   8693  e97c							;scoredigits_s09
   8694  e97c		       00 50		      HEX	0050
   8695  e97e							;scoredigits_s10
   8696  e97e		       14 14		      HEX	1414
   8697  e980							;scoredigits_s11
   8698  e980		       14 14		      HEX	1414
   8699  e982							;scoredigits_s12
   8700  e982		       14 14		      HEX	1414
   8701  e984							;scoredigits_s13
   8702  e984		       14 50		      HEX	1450
   8703  e986							;scoredigits_s14
   8704  e986		       14 00		      HEX	1400
   8705  e988							;scoredigits_s15
   8706  e988		       14 00		      HEX	1400
   8707  e98a
   8708  ea00					      ORG	$EA00,0	; *************
   8709  ea00
   8710  ea00							;sprite_spaceship1
   8711  ea00		       00 01 40 00	      HEX	00014000
   8712  ea04							;sprite_spaceship2
   8713  ea04		       00 05 40 00	      HEX	00054000
   8714  ea08							;sprite_spaceship3
   8715  ea08		       00 fd 70 00	      HEX	00fd7000
   8716  ea0c							;sprite_spaceship4
   8717  ea0c		       00 3f 74 00	      HEX	003f7400
   8718  ea10							;sprite_spaceship5
   8719  ea10		       00 3f 40 00	      HEX	003f4000
   8720  ea14							;sprite_spaceship6
   8721  ea14		       00 1f c0 00	      HEX	001fc000
   8722  ea18							;sprite_spaceship7
   8723  ea18		       00 1f d0 00	      HEX	001fd000
   8724  ea1c							;sprite_spaceship8
   8725  ea1c		       00 3e f0 00	      HEX	003ef000
   8726  ea20							;sprite_spaceship9
   8727  ea20		       00 fe bf 00	      HEX	00febf00
   8728  ea24							;sprite_spaceship10
   8729  ea24		       00 07 ac 00	      HEX	0007ac00
   8730  ea28							;sprite_spaceship11
   8731  ea28		       00 03 f8 00	      HEX	0003f800
   8732  ea2c							;sprite_spaceship12
   8733  ea2c		       00 01 f9 00	      HEX	0001f900
   8734  ea30							;sprite_spaceship13
   8735  ea30		       00 01 fc 00	      HEX	0001fc00
   8736  ea34							;sprite_spaceship14
   8737  ea34		       00 39 fc 00	      HEX	0039fc00
   8738  ea38							;sprite_spaceship15
   8739  ea38		       00 09 ff 00	      HEX	0009ff00
   8740  ea3c							;sprite_spaceship16
   8741  ea3c		       00 03 40 00	      HEX	00034000
   8742  ea40							;bullet_conv
   8743  ea40		       00		      HEX	00
   8744  ea41							;fighter_conv
   8745  ea41		       ff		      HEX	ff
   8746  ea42							;asteroid_L_conv
   8747  ea42		       00 00 19 6a*	      HEX	0000196a55540000
   8748  ea4a							;asteroid_L_conv_tallsprite_00
   8749  ea4a		       05 55 66 55*	      HEX	0555665555555550
   8750  ea52							;asteroid_L_conv_tallsprite_01
   8751  ea52		       05 55 55 55*	      HEX	0555555555555554
   8752  ea5a							;asteroid_L_conv_tallsprite_02
   8753  ea5a		       00 05 55 55*	      HEX	0005555555555400
   8754  ea62							;asteroid_M_conv
   8755  ea62		       03 de a5 50	      HEX	03dea550
   8756  ea66							;asteroid_M_conv_tallsprite_00
   8757  ea66		       15 55 55 55	      HEX	15555555
   8758  ea6a							;scoredigits_s00
   8759  ea6a		       14 14		      HEX	1414
   8760  ea6c							;scoredigits_s01
   8761  ea6c		       01 40		      HEX	0140
   8762  ea6e							;scoredigits_s02
   8763  ea6e		       05 00		      HEX	0500
   8764  ea70							;scoredigits_s03
   8765  ea70		       00 14		      HEX	0014
   8766  ea72							;scoredigits_s04
   8767  ea72		       14 50		      HEX	1450
   8768  ea74							;scoredigits_s05
   8769  ea74		       00 14		      HEX	0014
   8770  ea76							;scoredigits_s06
   8771  ea76		       14 14		      HEX	1414
   8772  ea78							;scoredigits_s07
   8773  ea78		       05 00		      HEX	0500
   8774  ea7a							;scoredigits_s08
   8775  ea7a		       14 14		      HEX	1414
   8776  ea7c							;scoredigits_s09
   8777  ea7c		       00 14		      HEX	0014
   8778  ea7e							;scoredigits_s10
   8779  ea7e		       14 14		      HEX	1414
   8780  ea80							;scoredigits_s11
   8781  ea80		       14 14		      HEX	1414
   8782  ea82							;scoredigits_s12
   8783  ea82		       14 00		      HEX	1400
   8784  ea84							;scoredigits_s13
   8785  ea84		       14 14		      HEX	1414
   8786  ea86							;scoredigits_s14
   8787  ea86		       14 00		      HEX	1400
   8788  ea88							;scoredigits_s15
   8789  ea88		       14 00		      HEX	1400
   8790  ea8a
   8791  eb00					      ORG	$EB00,0	; *************
   8792  eb00
   8793  eb00							;sprite_spaceship1
   8794  eb00		       00 03 c0 00	      HEX	0003c000
   8795  eb04							;sprite_spaceship2
   8796  eb04		       00 01 f0 00	      HEX	0001f000
   8797  eb08							;sprite_spaceship3
   8798  eb08		       00 f5 64 00	      HEX	00f56400
   8799  eb0c							;sprite_spaceship4
   8800  eb0c		       00 3d 74 00	      HEX	003d7400
   8801  eb10							;sprite_spaceship5
   8802  eb10		       00 3f 40 00	      HEX	003f4000
   8803  eb14							;sprite_spaceship6
   8804  eb14		       00 0b 40 00	      HEX	000b4000
   8805  eb18							;sprite_spaceship7
   8806  eb18		       00 1b d0 00	      HEX	001bd000
   8807  eb1c							;sprite_spaceship8
   8808  eb1c		       00 2f f0 00	      HEX	002ff000
   8809  eb20							;sprite_spaceship9
   8810  eb20		       00 ff ff 00	      HEX	00ffff00
   8811  eb24							;sprite_spaceship10
   8812  eb24		       00 0f b8 00	      HEX	000fb800
   8813  eb28							;sprite_spaceship11
   8814  eb28		       00 03 f8 00	      HEX	0003f800
   8815  eb2c							;sprite_spaceship12
   8816  eb2c		       00 00 f8 00	      HEX	0000f800
   8817  eb30							;sprite_spaceship13
   8818  eb30		       00 01 fc 00	      HEX	0001fc00
   8819  eb34							;sprite_spaceship14
   8820  eb34		       00 38 7c 00	      HEX	00387c00
   8821  eb38							;sprite_spaceship15
   8822  eb38		       00 07 57 00	      HEX	00075700
   8823  eb3c							;sprite_spaceship16
   8824  eb3c		       00 02 c0 00	      HEX	0002c000
   8825  eb40							;bullet_conv
   8826  eb40		       00		      HEX	00
   8827  eb41							;fighter_conv
   8828  eb41		       ff		      HEX	ff
   8829  eb42							;asteroid_L_conv
   8830  eb42		       00 00 19 6a*	      HEX	0000196a55540000
   8831  eb4a							;asteroid_L_conv_tallsprite_00
   8832  eb4a		       05 55 66 55*	      HEX	0555665555555550
   8833  eb52							;asteroid_L_conv_tallsprite_01
   8834  eb52		       05 55 55 55*	      HEX	0555555555555554
   8835  eb5a							;asteroid_L_conv_tallsprite_02
   8836  eb5a		       00 05 55 55*	      HEX	0005555555555400
   8837  eb62							;asteroid_M_conv
   8838  eb62		       03 de a5 50	      HEX	03dea550
   8839  eb66							;asteroid_M_conv_tallsprite_00
   8840  eb66		       15 55 55 55	      HEX	15555555
   8841  eb6a							;scoredigits_s00
   8842  eb6a		       14 14		      HEX	1414
   8843  eb6c							;scoredigits_s01
   8844  eb6c		       01 40		      HEX	0140
   8845  eb6e							;scoredigits_s02
   8846  eb6e		       01 50		      HEX	0150
   8847  eb70							;scoredigits_s03
   8848  eb70		       00 50		      HEX	0050
   8849  eb72							;scoredigits_s04
   8850  eb72		       14 50		      HEX	1450
   8851  eb74							;scoredigits_s05
   8852  eb74		       15 50		      HEX	1550
   8853  eb76							;scoredigits_s06
   8854  eb76		       15 50		      HEX	1550
   8855  eb78							;scoredigits_s07
   8856  eb78		       01 40		      HEX	0140
   8857  eb7a							;scoredigits_s08
   8858  eb7a		       05 50		      HEX	0550
   8859  eb7c							;scoredigits_s09
   8860  eb7c		       05 54		      HEX	0554
   8861  eb7e							;scoredigits_s10
   8862  eb7e		       15 54		      HEX	1554
   8863  eb80							;scoredigits_s11
   8864  eb80		       15 50		      HEX	1550
   8865  eb82							;scoredigits_s12
   8866  eb82		       14 00		      HEX	1400
   8867  eb84							;scoredigits_s13
   8868  eb84		       14 14		      HEX	1414
   8869  eb86							;scoredigits_s14
   8870  eb86		       15 50		      HEX	1550
   8871  eb88							;scoredigits_s15
   8872  eb88		       15 50		      HEX	1550
   8873  eb8a
   8874  ec00					      ORG	$EC00,0	; *************
   8875  ec00
   8876  ec00							;sprite_spaceship1
   8877  ec00		       00 02 80 00	      HEX	00028000
   8878  ec04							;sprite_spaceship2
   8879  ec04		       00 00 a0 00	      HEX	0000a000
   8880  ec08							;sprite_spaceship3
   8881  ec08		       00 00 1c 00	      HEX	00001c00
   8882  ec0c							;sprite_spaceship4
   8883  ec0c		       00 3d 00 00	      HEX	003d0000
   8884  ec10							;sprite_spaceship5
   8885  ec10		       00 0f 00 00	      HEX	000f0000
   8886  ec14							;sprite_spaceship6
   8887  ec14		       00 0b 40 00	      HEX	000b4000
   8888  ec18							;sprite_spaceship7
   8889  ec18		       00 06 f0 00	      HEX	0006f000
   8890  ec1c							;sprite_spaceship8
   8891  ec1c		       00 3b fc 00	      HEX	003bfc00
   8892  ec20							;sprite_spaceship9
   8893  ec20		       00 0b e0 00	      HEX	000be000
   8894  ec24							;sprite_spaceship10
   8895  ec24		       00 0f f8 00	      HEX	000ff800
   8896  ec28							;sprite_spaceship11
   8897  ec28		       00 03 e4 00	      HEX	0003e400
   8898  ec2c							;sprite_spaceship12
   8899  ec2c		       00 00 fc 00	      HEX	0000fc00
   8900  ec30							;sprite_spaceship13
   8901  ec30		       00 00 f0 00	      HEX	0000f000
   8902  ec34							;sprite_spaceship14
   8903  ec34		       00 00 1c 00	      HEX	00001c00
   8904  ec38							;sprite_spaceship15
   8905  ec38		       00 06 00 00	      HEX	00060000
   8906  ec3c							;sprite_spaceship16
   8907  ec3c		       00 01 80 00	      HEX	00018000
   8908  ec40							;bullet_conv
   8909  ec40		       14		      HEX	14
   8910  ec41							;fighter_conv
   8911  ec41		       24		      HEX	24
   8912  ec42							;asteroid_L_conv
   8913  ec42		       00 00 01 69*	      HEX	0000016955400000
   8914  ec4a							;asteroid_L_conv_tallsprite_00
   8915  ec4a		       01 65 55 55*	      HEX	0165555555555540
   8916  ec52							;asteroid_L_conv_tallsprite_01
   8917  ec52		       15 55 55 55*	      HEX	1555555555555554
   8918  ec5a							;asteroid_L_conv_tallsprite_02
   8919  ec5a		       00 15 55 55*	      HEX	0015555555555500
   8920  ec62							;asteroid_M_conv
   8921  ec62		       00 67 55 40	      HEX	00675540
   8922  ec66							;asteroid_M_conv_tallsprite_00
   8923  ec66		       19 95 55 55	      HEX	19955555
   8924  ec6a							;scoredigits_s00
   8925  ec6a		       14 14		      HEX	1414
   8926  ec6c							;scoredigits_s01
   8927  ec6c		       01 40		      HEX	0140
   8928  ec6e							;scoredigits_s02
   8929  ec6e		       00 14		      HEX	0014
   8930  ec70							;scoredigits_s03
   8931  ec70		       01 40		      HEX	0140
   8932  ec72							;scoredigits_s04
   8933  ec72		       05 50		      HEX	0550
   8934  ec74							;scoredigits_s05
   8935  ec74		       14 00		      HEX	1400
   8936  ec76							;scoredigits_s06
   8937  ec76		       14 00		      HEX	1400
   8938  ec78							;scoredigits_s07
   8939  ec78		       00 50		      HEX	0050
   8940  ec7a							;scoredigits_s08
   8941  ec7a		       14 14		      HEX	1414
   8942  ec7c							;scoredigits_s09
   8943  ec7c		       14 14		      HEX	1414
   8944  ec7e							;scoredigits_s10
   8945  ec7e		       14 14		      HEX	1414
   8946  ec80							;scoredigits_s11
   8947  ec80		       14 14		      HEX	1414
   8948  ec82							;scoredigits_s12
   8949  ec82		       14 00		      HEX	1400
   8950  ec84							;scoredigits_s13
   8951  ec84		       14 14		      HEX	1414
   8952  ec86							;scoredigits_s14
   8953  ec86		       14 00		      HEX	1400
   8954  ec88							;scoredigits_s15
   8955  ec88		       14 00		      HEX	1400
   8956  ec8a
   8957  ed00					      ORG	$ED00,0	; *************
   8958  ed00
   8959  ed00							;sprite_spaceship1
   8960  ed00		       00 01 40 00	      HEX	00014000
   8961  ed04							;sprite_spaceship2
   8962  ed04		       00 00 50 00	      HEX	00005000
   8963  ed08							;sprite_spaceship3
   8964  ed08		       00 00 10 00	      HEX	00001000
   8965  ed0c							;sprite_spaceship4
   8966  ed0c		       00 30 00 00	      HEX	00300000
   8967  ed10							;sprite_spaceship5
   8968  ed10		       00 0f 00 00	      HEX	000f0000
   8969  ed14							;sprite_spaceship6
   8970  ed14		       00 03 00 00	      HEX	00030000
   8971  ed18							;sprite_spaceship7
   8972  ed18		       00 03 f0 00	      HEX	0003f000
   8973  ed1c							;sprite_spaceship8
   8974  ed1c		       00 0a bc 00	      HEX	000abc00
   8975  ed20							;sprite_spaceship9
   8976  ed20		       00 0e b0 00	      HEX	000eb000
   8977  ed24							;sprite_spaceship10
   8978  ed24		       00 0f a0 00	      HEX	000fa000
   8979  ed28							;sprite_spaceship11
   8980  ed28		       00 03 00 00	      HEX	00030000
   8981  ed2c							;sprite_spaceship12
   8982  ed2c		       00 00 c0 00	      HEX	0000c000
   8983  ed30							;sprite_spaceship13
   8984  ed30		       00 00 f0 00	      HEX	0000f000
   8985  ed34							;sprite_spaceship14
   8986  ed34		       00 00 0f 00	      HEX	00000f00
   8987  ed38							;sprite_spaceship15
   8988  ed38		       00 0c 00 00	      HEX	000c0000
   8989  ed3c							;sprite_spaceship16
   8990  ed3c		       00 03 00 00	      HEX	00030000
   8991  ed40							;bullet_conv
   8992  ed40		       14		      HEX	14
   8993  ed41							;fighter_conv
   8994  ed41		       24		      HEX	24
   8995  ed42							;asteroid_L_conv
   8996  ed42		       00 00 01 69*	      HEX	0000016955400000
   8997  ed4a							;asteroid_L_conv_tallsprite_00
   8998  ed4a		       01 65 55 55*	      HEX	0165555555555540
   8999  ed52							;asteroid_L_conv_tallsprite_01
   9000  ed52		       15 55 55 55*	      HEX	1555555555555554
   9001  ed5a							;asteroid_L_conv_tallsprite_02
   9002  ed5a		       00 15 55 55*	      HEX	0015555555555500
   9003  ed62							;asteroid_M_conv
   9004  ed62		       00 67 55 40	      HEX	00675540
   9005  ed66							;asteroid_M_conv_tallsprite_00
   9006  ed66		       19 95 55 55	      HEX	19955555
   9007  ed6a							;scoredigits_s00
   9008  ed6a		       14 14		      HEX	1414
   9009  ed6c							;scoredigits_s01
   9010  ed6c		       05 40		      HEX	0540
   9011  ed6e							;scoredigits_s02
   9012  ed6e		       14 14		      HEX	1414
   9013  ed70							;scoredigits_s03
   9014  ed70		       00 50		      HEX	0050
   9015  ed72							;scoredigits_s04
   9016  ed72		       01 50		      HEX	0150
   9017  ed74							;scoredigits_s05
   9018  ed74		       14 00		      HEX	1400
   9019  ed76							;scoredigits_s06
   9020  ed76		       14 00		      HEX	1400
   9021  ed78							;scoredigits_s07
   9022  ed78		       00 14		      HEX	0014
   9023  ed7a							;scoredigits_s08
   9024  ed7a		       14 14		      HEX	1414
   9025  ed7c							;scoredigits_s09
   9026  ed7c		       14 14		      HEX	1414
   9027  ed7e							;scoredigits_s10
   9028  ed7e		       05 50		      HEX	0550
   9029  ed80							;scoredigits_s11
   9030  ed80		       14 14		      HEX	1414
   9031  ed82							;scoredigits_s12
   9032  ed82		       14 14		      HEX	1414
   9033  ed84							;scoredigits_s13
   9034  ed84		       14 50		      HEX	1450
   9035  ed86							;scoredigits_s14
   9036  ed86		       14 00		      HEX	1400
   9037  ed88							;scoredigits_s15
   9038  ed88		       14 00		      HEX	1400
   9039  ed8a
   9040  ee00					      ORG	$EE00,0	; *************
   9041  ee00
   9042  ee00							;sprite_spaceship1
   9043  ee00		       00 03 c0 00	      HEX	0003c000
   9044  ee04							;sprite_spaceship2
   9045  ee04		       00 00 f0 00	      HEX	0000f000
   9046  ee08							;sprite_spaceship3
   9047  ee08		       00 00 00 00	      HEX	00000000
   9048  ee0c							;sprite_spaceship4
   9049  ee0c		       00 00 00 00	      HEX	00000000
   9050  ee10							;sprite_spaceship5
   9051  ee10		       00 0c 00 00	      HEX	000c0000
   9052  ee14							;sprite_spaceship6
   9053  ee14		       00 03 00 00	      HEX	00030000
   9054  ee18							;sprite_spaceship7
   9055  ee18		       00 00 30 00	      HEX	00003000
   9056  ee1c							;sprite_spaceship8
   9057  ee1c		       00 05 cc 00	      HEX	0005cc00
   9058  ee20							;sprite_spaceship9
   9059  ee20		       00 01 40 00	      HEX	00014000
   9060  ee24							;sprite_spaceship10
   9061  ee24		       00 00 d0 00	      HEX	0000d000
   9062  ee28							;sprite_spaceship11
   9063  ee28		       00 03 00 00	      HEX	00030000
   9064  ee2c							;sprite_spaceship12
   9065  ee2c		       00 00 c0 00	      HEX	0000c000
   9066  ee30							;sprite_spaceship13
   9067  ee30		       00 00 30 00	      HEX	00003000
   9068  ee34							;sprite_spaceship14
   9069  ee34		       00 00 00 00	      HEX	00000000
   9070  ee38							;sprite_spaceship15
   9071  ee38		       00 00 00 00	      HEX	00000000
   9072  ee3c							;sprite_spaceship16
   9073  ee3c		       00 00 00 00	      HEX	00000000
   9074  ee40							;bullet_conv
   9075  ee40		       14		      HEX	14
   9076  ee41							;fighter_conv
   9077  ee41		       00		      HEX	00
   9078  ee42							;asteroid_L_conv
   9079  ee42		       00 00 00 00*	      HEX	0000000000000000
   9080  ee4a							;asteroid_L_conv_tallsprite_00
   9081  ee4a		       00 55 55 55*	      HEX	0055555555555540
   9082  ee52							;asteroid_L_conv_tallsprite_01
   9083  ee52		       15 55 55 55*	      HEX	1555555555555554
   9084  ee5a							;asteroid_L_conv_tallsprite_02
   9085  ee5a		       00 55 55 55*	      HEX	0055555555555540
   9086  ee62							;asteroid_M_conv
   9087  ee62		       00 07 94 00	      HEX	00079400
   9088  ee66							;asteroid_M_conv_tallsprite_00
   9089  ee66		       55 a9 55 55	      HEX	55a95555
   9090  ee6a							;scoredigits_s00
   9091  ee6a		       05 50		      HEX	0550
   9092  ee6c							;scoredigits_s01
   9093  ee6c		       01 40		      HEX	0140
   9094  ee6e							;scoredigits_s02
   9095  ee6e		       05 50		      HEX	0550
   9096  ee70							;scoredigits_s03
   9097  ee70		       15 54		      HEX	1554
   9098  ee72							;scoredigits_s04
   9099  ee72		       00 50		      HEX	0050
   9100  ee74							;scoredigits_s05
   9101  ee74		       15 54		      HEX	1554
   9102  ee76							;scoredigits_s06
   9103  ee76		       05 50		      HEX	0550
   9104  ee78							;scoredigits_s07
   9105  ee78		       15 54		      HEX	1554
   9106  ee7a							;scoredigits_s08
   9107  ee7a		       05 50		      HEX	0550
   9108  ee7c							;scoredigits_s09
   9109  ee7c		       05 50		      HEX	0550
   9110  ee7e							;scoredigits_s10
   9111  ee7e		       01 40		      HEX	0140
   9112  ee80							;scoredigits_s11
   9113  ee80		       15 50		      HEX	1550
   9114  ee82							;scoredigits_s12
   9115  ee82		       05 50		      HEX	0550
   9116  ee84							;scoredigits_s13
   9117  ee84		       15 40		      HEX	1540
   9118  ee86							;scoredigits_s14
   9119  ee86		       15 54		      HEX	1554
   9120  ee88							;scoredigits_s15
   9121  ee88		       15 54		      HEX	1554
   9122  ee8a
   9123  ef00					      ORG	$EF00,0	; *************
   9124  ef00
   9125  ef00							;sprite_spaceship1
   9126  ef00		       00 00 00 00	      HEX	00000000
   9127  ef04							;sprite_spaceship2
   9128  ef04		       00 00 00 00	      HEX	00000000
   9129  ef08							;sprite_spaceship3
   9130  ef08		       00 00 00 00	      HEX	00000000
   9131  ef0c							;sprite_spaceship4
   9132  ef0c		       00 00 00 00	      HEX	00000000
   9133  ef10							;sprite_spaceship5
   9134  ef10		       00 0c 00 00	      HEX	000c0000
   9135  ef14							;sprite_spaceship6
   9136  ef14		       00 00 00 00	      HEX	00000000
   9137  ef18							;sprite_spaceship7
   9138  ef18		       00 00 00 00	      HEX	00000000
   9139  ef1c							;sprite_spaceship8
   9140  ef1c		       00 00 00 00	      HEX	00000000
   9141  ef20							;sprite_spaceship9
   9142  ef20		       00 00 00 00	      HEX	00000000
   9143  ef24							;sprite_spaceship10
   9144  ef24		       00 00 00 00	      HEX	00000000
   9145  ef28							;sprite_spaceship11
   9146  ef28		       00 00 00 00	      HEX	00000000
   9147  ef2c							;sprite_spaceship12
   9148  ef2c		       00 00 c0 00	      HEX	0000c000
   9149  ef30							;sprite_spaceship13
   9150  ef30		       00 00 30 00	      HEX	00003000
   9151  ef34							;sprite_spaceship14
   9152  ef34		       00 00 00 00	      HEX	00000000
   9153  ef38							;sprite_spaceship15
   9154  ef38		       00 00 00 00	      HEX	00000000
   9155  ef3c							;sprite_spaceship16
   9156  ef3c		       00 00 00 00	      HEX	00000000
   9157  ef40							;bullet_conv
   9158  ef40		       14		      HEX	14
   9159  ef41							;fighter_conv
   9160  ef41		       00		      HEX	00
   9161  ef42							;asteroid_L_conv
   9162  ef42		       00 00 00 00*	      HEX	0000000000000000
   9163  ef4a							;asteroid_L_conv_tallsprite_00
   9164  ef4a		       00 55 55 55*	      HEX	0055555555555540
   9165  ef52							;asteroid_L_conv_tallsprite_01
   9166  ef52		       15 55 55 55*	      HEX	1555555555555554
   9167  ef5a							;asteroid_L_conv_tallsprite_02
   9168  ef5a		       00 55 55 55*	      HEX	0055555555555540
   9169  ef62							;asteroid_M_conv
   9170  ef62		       00 07 94 00	      HEX	00079400
   9171  ef66							;asteroid_M_conv_tallsprite_00
   9172  ef66		       55 a9 55 55	      HEX	55a95555
   9173  ef6a							;scoredigits_s00
   9174  ef6a		       00 00		      HEX	0000
   9175  ef6c							;scoredigits_s01
   9176  ef6c		       00 00		      HEX	0000
   9177  ef6e							;scoredigits_s02
   9178  ef6e		       00 00		      HEX	0000
   9179  ef70							;scoredigits_s03
   9180  ef70		       00 00		      HEX	0000
   9181  ef72							;scoredigits_s04
   9182  ef72		       00 00		      HEX	0000
   9183  ef74							;scoredigits_s05
   9184  ef74		       00 00		      HEX	0000
   9185  ef76							;scoredigits_s06
   9186  ef76		       00 00		      HEX	0000
   9187  ef78							;scoredigits_s07
   9188  ef78		       00 00		      HEX	0000
   9189  ef7a							;scoredigits_s08
   9190  ef7a		       00 00		      HEX	0000
   9191  ef7c							;scoredigits_s09
   9192  ef7c		       00 00		      HEX	0000
   9193  ef7e							;scoredigits_s10
   9194  ef7e		       00 00		      HEX	0000
   9195  ef80							;scoredigits_s11
   9196  ef80		       00 00		      HEX	0000
   9197  ef82							;scoredigits_s12
   9198  ef82		       00 00		      HEX	0000
   9199  ef84							;scoredigits_s13
   9200  ef84		       00 00		      HEX	0000
   9201  ef86							;scoredigits_s14
   9202  ef86		       00 00		      HEX	0000
   9203  ef88							;scoredigits_s15
   9204  ef88		       00 00		      HEX	0000
   9205  ef8a				  -	      if	SPACEOVERFLOW > 0
   9206  ef8a				  -	      echo	""
   9207  ef8a				  -	      echo	"######## ERROR: space overflow detected in",[SPACEOVERFLOW]d,"areas."
   9208  ef8a				  -	      echo	"######## look above for areas with negative ROM space left."
   9209  ef8a					      endif
   9210  ef8a
   9211  ef8a
   9212  ef8a							; Provided under the CC0 license. See the included LICENSE.txt for details.
   9213  ef8a
   9214  ef8a					      ifnconst	bankswitchmode
   9215  ef8a					      if	( * < $f000 )
   9216  f000					      ORG	$F000
   9217  f000					      endif
   9218  f000				  -	      else
   9219  f000				  -	      ifconst	ROM128K
   9220  f000				  -	      if	( * < $f000 )
   9221  f000				  -	      ORG	$27000
   9222  f000				  -	      RORG	$F000
   9223  f000				  -	      endif
   9224  f000				  -	      endif
   9225  f000				  -	      ifconst	ROM144K
   9226  f000				  -	      if	( * < $f000 )
   9227  f000				  -	      ORG	$27000
   9228  f000				  -	      RORG	$F000
   9229  f000				  -	      endif
   9230  f000				  -	      endif
   9231  f000				  -	      ifconst	ROM256K
   9232  f000				  -	      if	( * < $f000 )
   9233  f000				  -	      ORG	$47000
   9234  f000				  -	      RORG	$F000
   9235  f000				  -	      endif
   9236  f000				  -	      endif
   9237  f000				  -	      ifconst	ROM272K
   9238  f000				  -	      if	( * < $f000 )
   9239  f000				  -	      ORG	$47000
   9240  f000				  -	      RORG	$F000
   9241  f000				  -	      endif
   9242  f000				  -	      endif
   9243  f000				  -	      ifconst	ROM512K
   9244  f000				  -	      if	( * < $f000 )
   9245  f000				  -	      ORG	$87000
   9246  f000				  -	      RORG	$F000
   9247  f000				  -	      endif
   9248  f000				  -	      endif
   9249  f000				  -	      ifconst	ROM528K
   9250  f000				  -	      if	( * < $f000 )
   9251  f000				  -	      ORG	$87000
   9252  f000				  -	      RORG	$F000
   9253  f000				  -	      endif
   9254  f000				  -	      endif
   9255  f000					      endif
   9256  f000
   9257  f000							; all of these "modules" have conditional clauses in them, so even though
   9258  f000							; they're always included here, they don't take up rom unless the user
   9259  f000							; explicitly enables support for the feature.
   9260  f000
   9261  f000					      ifnconst	included.rmtplayer.asm
------- FILE rmtplayer.asm LEVEL 2 PASS 3
      0  f000					      include	rmtplayer.asm	; requires page alignment, so go first
      1  f000				  -	      ifconst	RMT
      2  f000				  -
      3  f000				  -rmtmodulestart
      4  f000				  -
      5  f000				  -			;*
      6  f000				  -			;* Raster Music Tracker, RMT Atari routine version 1.20030223
      7  f000				  -			;* (c) Radek Sterba, Raster/C.P.U., 2002 - 2003
      8  f000				  -			;* http://raster.atari.org
      9  f000				  -			;*
     10  f000				  -			;* Some small changes to allow using this code with DASM cross assembler and
     11  f000				  -			;* to compile for cartridge based systems, like the Atari 5200 or 7800,
     12  f000				  -			;* by Eckhard Stolberg ( http://home.arcor.de/estolberg/ ).
     13  f000				  -			;*
     14  f000				  -			;* More small changes were made to use this code with 7800basic, and
     15  f000				  -			;* comments by VinsCool on more recent versions were back-ported.
     16  f000				  -			;* --Mike Saarna.
     17  f000				  -			;*
     18  f000				  -			;* Warnings:
     19  f000				  -			;*
     20  f000				  -			;* 1. RMT player routine needs 19 dedicated zero page bytes, as well as cca
     21  f000				  -			;* 1KB of memory before the "PLAYER" address for frequency tables and
     22  f000				  -			;* functionary variables. It's:
     23  f000				  -			;* a) from PLAYER-$400 to PLAYER for stereo RMTplayer
     24  f000				  -			;* b) from PLAYER-$380 to PLAYER for mono RMTplayer
     25  f000				  -			;*
     26  f000				  -			;* note: This has been changed for 5200 & 7800 compatibility. Now PLAYER
     27  f000				  -			;* points to the start of the frequency tables. The player routines follows
     28  f000				  -			;* after that. The variables are now independent and can be located with
     29  f000				  -			;* PLAYER_VAR_RAM and PLAYER_ZP_RAM (see below):
     30  f000				  -			;*
     31  f000				  -			;* 2. RMT player routine MUST (!!!) be compiled aligned to a memory page.
     32  f000				  -			;* i.e. "PLAYER" address can be $..00 only!
     33  f000				  -			;*
     34  f000				  -			;* 3. Because of RMTplayer provides a lot of effects, it spent a lot of
     35  f000				  -			;* CPU time.
     36  f000				  -			;*
     37  f000				  -			;*
     38  f000				  -			;* Define the following equates here or in your main code file.
     39  f000				  -			;* Set the values according to the system you compile for.
     40  f000				  -			;*
     41  f000				  -
     42  f000				  -POKEY_BASE equ	pokeyaddress
     43  f000				  -PLAYER_ZP_RAM equ	songchannel1layer1lo	;* player routine needs 19 bytes
     44  f000				  -			;* of zero page RAM
     45  f000				  -PLAYER_VAR_RAM equ	RMTRAM	;* variables in main RAM - 173 bytes
     46  f000				  -			;* mono - 337 stereo
     47  f000				  -
     48  f000				  -ROM_BASED  equ	1	;* using a ROM based system - no self modifying code
     49  f000				  -STEREO8T   equ	0	;* 0 => compile RMTplayer for mono 4 tracks
     50  f000				  -			; ;1 => compile RMTplayer for stereo 8 tracks
     51  f000				  -
     52  f000				  -HARD_OF_HEARING equ	1	;* repeat output to pokey
     53  f000				  -
     54  f000				  -rmt_ispeed equ	PLAYER_ZP_RAM+19
     55  f000				  -rmt_intcount equ	PLAYER_ZP_RAM+20
     56  f000				  -
     57  f000				  -			;*
     58  f000				  -
     59  f000				  -	      IF	STEREO8T
     60  f000				  -TRACKS     equ	8
     61  f000				  -	      ELSE
     62  f000				  -TRACKS     equ	4
     63  f000				  -	      ENDIF
     64  f000				  -
     65  f000				  -			;*
     66  f000				  -			;* RMT FEATures definitions
     67  f000				  -			;* For optimizations of RMT player routine to concrete RMT modul only!
     68  f000				  -			;* --------BEGIN--------
     69  f000				  -FEAT_COMMAND1 equ	1	;* cca 8 bytes
     70  f000				  -FEAT_COMMAND2 equ	1	;* cca 20 bytes (+save 1 address in zero page)
     71  f000				  -			;* and quicker whole RMT routine
     72  f000				  -FEAT_COMMAND3 equ	1	;* cca 12 bytes
     73  f000				  -FEAT_COMMAND4 equ	1	;* cca 15 bytes
     74  f000				  -FEAT_COMMAND5 equ	1	;* cca 67 bytes
     75  f000				  -FEAT_COMMAND6 equ	1	;* cca 15 bytes
     76  f000				  -			;* COMMAND7 SETNOTE (i.e. command 7 with parameter != $80)
     77  f000				  -FEAT_COMMAND7SETNOTE equ	1	;* cca 12 bytes
     78  f000				  -			;* COMMAND7 VOLUMEONLY (i.e. command 7 with parameter == $80)
     79  f000				  -FEAT_COMMAND7VOLUMEONLY equ	1	;* cca 74 bytes
     80  f000				  -			;* PORTAMENTO
     81  f000				  -FEAT_PORTAMENTO equ	1	;* cca 138 bytes and quicker whole RMT routine
     82  f000				  -			;* FILTER
     83  f000				  -FEAT_FILTER equ	1	;* cca 179 bytes and quicker whole RMT routine
     84  f000				  -FEAT_FILTERG0L equ	1	;* (cca 38 bytes for each)
     85  f000				  -FEAT_FILTERG1L equ	1
     86  f000				  -FEAT_FILTERG0R equ	1
     87  f000				  -FEAT_FILTERG1R equ	1
     88  f000				  -			;* BASS16B (i.e. distortion value 6)
     89  f000				  -FEAT_BASS16 equ	1	;* cca 194 bytes +128bytes freq table and
     90  f000				  -			;* quicker whole RMT routine
     91  f000				  -FEAT_BASS16G1L equ	1	;* (cca 47 bytes for each)
     92  f000				  -FEAT_BASS16G3L equ	1
     93  f000				  -FEAT_BASS16G1R equ	1
     94  f000				  -FEAT_BASS16G3R equ	1
     95  f000				  -			;* VOLUME ONLY for particular generators
     96  f000				  -FEAT_VOLUMEONLYG0L equ	1	;* (cca 7 bytes for each)
     97  f000				  -FEAT_VOLUMEONLYG2L equ	1
     98  f000				  -FEAT_VOLUMEONLYG3L equ	1
     99  f000				  -FEAT_VOLUMEONLYG0R equ	1
    100  f000				  -FEAT_VOLUMEONLYG2R equ	1
    101  f000				  -FEAT_VOLUMEONLYG3R equ	1
    102  f000				  -			;* TABLE TYPE (i.e. TABLETYPE=1)
    103  f000				  -FEAT_TABLETYPE equ	1	;* cca 53 bytes and quicker whole RMT routine
    104  f000				  -			;* TABLE MODE (i.e. TABLEMODE=1)
    105  f000				  -FEAT_TABLEMODE equ	1	;* cca 16 bytes and quicker whole RMT routine
    106  f000				  -			;* AUDCTLMANUALSET (i.e. any MANUAL AUDCTL setting to nonzero value)
    107  f000				  -FEAT_AUDCTLMANUALSET equ	1	;* cca 27 bytes and quicker whole RMT routine
    108  f000				  -			;* --------END--------
    109  f000				  -			;*
    110  f000				  -			;*
    111  f000				  -			;* RMT ZeroPage addresses
    112  f000				  -
    113  f000				  -MEMLOC     SET	PLAYER_ZP_RAM
    114  f000				  -p_tis      =	MEMLOC
    115  f000				  -p_instrstable =	MEMLOC
    116  f000				  -MEMLOC     SET	(MEMLOC+2)
    117  f000				  -ptrTracksTblLo =	MEMLOC
    118  f000				  -MEMLOC     SET	(MEMLOC+2)
    119  f000				  -ptrTracksTblHi =	MEMLOC
    120  f000				  -MEMLOC     SET	(MEMLOC+2)
    121  f000				  -ptrSongLines =	MEMLOC
    122  f000				  -MEMLOC     SET	(MEMLOC+2)
    123  f000				  -
    124  f000				  -_ns	      =	MEMLOC
    125  f000				  -MEMLOC     SET	(MEMLOC+2)
    126  f000				  -_nr	      =	MEMLOC
    127  f000				  -MEMLOC     SET	(MEMLOC+2)
    128  f000				  -_nt	      =	MEMLOC
    129  f000				  -MEMLOC     SET	(MEMLOC+2)
    130  f000				  -
    131  f000				  -rmtreg1    =	MEMLOC
    132  f000				  -MEMLOC     SET	(MEMLOC+1)
    133  f000				  -rmtreg2    =	MEMLOC
    134  f000				  -MEMLOC     SET	(MEMLOC+1)
    135  f000				  -rmtreg3    =	MEMLOC
    136  f000				  -MEMLOC     SET	(MEMLOC+1)
    137  f000				  -_tmp       =	MEMLOC
    138  f000				  -MEMLOC     SET	(MEMLOC+1)
    139  f000				  -	      IF	FEAT_COMMAND2
    140  f000				  -frqaddcmd2 =	MEMLOC
    141  f000				  -MEMLOC     SET	(MEMLOC+1)
    142  f000				  -	      ENDIF
    143  f000				  -
    144  f000				  -			;*
    145  f000				  -			;* Variables in main RAM used by player routine.
    146  f000				  -			;* 337 bytes for stereo - 173 bytes for mono
    147  f000				  -			;*
    148  f000				  -
    149  f000				  -MEMLOC     SET	PLAYER_VAR_RAM
    150  f000				  -track_variables =	MEMLOC
    151  f000				  -
    152  f000				  -trackn_TblLo =	MEMLOC
    153  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    154  f000				  -trackn_TblHi =	MEMLOC
    155  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    156  f000				  -trackn_idx =	MEMLOC
    157  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    158  f000				  -trackn_pause =	MEMLOC
    159  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    160  f000				  -trackn_note =	MEMLOC
    161  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    162  f000				  -trackn_volume =	MEMLOC
    163  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    164  f000				  -trackn_distor =	MEMLOC
    165  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    166  f000				  -trackn_shiftfrq =	MEMLOC
    167  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    168  f000				  -
    169  f000				  -	      IF	FEAT_PORTAMENTO
    170  f000				  -trackn_portafrqc =	MEMLOC
    171  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    172  f000				  -trackn_portafrqa =	MEMLOC
    173  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    174  f000				  -trackn_portaspeed =	MEMLOC
    175  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    176  f000				  -trackn_portaspeeda =	MEMLOC
    177  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    178  f000				  -trackn_portadepth =	MEMLOC
    179  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    180  f000				  -	      ENDIF
    181  f000				  -
    182  f000				  -trackn_instrx2 =	MEMLOC
    183  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    184  f000				  -trackn_instrdb =	MEMLOC
    185  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    186  f000				  -trackn_instrhb =	MEMLOC
    187  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    188  f000				  -trackn_instridx =	MEMLOC
    189  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    190  f000				  -trackn_instrlen =	MEMLOC
    191  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    192  f000				  -trackn_instrlop =	MEMLOC
    193  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    194  f000				  -trackn_instrreachend =	MEMLOC
    195  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    196  f000				  -trackn_volumeslidedepth =	MEMLOC
    197  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    198  f000				  -trackn_volumeslidevalue =	MEMLOC
    199  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    200  f000				  -trackn_volumemin =	MEMLOC
    201  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    202  f000				  -trackn_effdelay =	MEMLOC
    203  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    204  f000				  -trackn_effvibratoa =	MEMLOC
    205  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    206  f000				  -trackn_effvibratobeg =	MEMLOC
    207  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    208  f000				  -trackn_effvibratoend =	MEMLOC
    209  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    210  f000				  -trackn_effshift =	MEMLOC
    211  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    212  f000				  -trackn_tabletypespeed =	MEMLOC
    213  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    214  f000				  -
    215  f000				  -	      IF	FEAT_TABLEMODE
    216  f000				  -trackn_tablemode =	MEMLOC
    217  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    218  f000				  -	      ENDIF
    219  f000				  -
    220  f000				  -trackn_tablenote =	MEMLOC
    221  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    222  f000				  -
    223  f000				  -trackn_tablea =	MEMLOC
    224  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    225  f000				  -trackn_tableend =	MEMLOC
    226  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    227  f000				  -trackn_tablelop =	MEMLOC
    228  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    229  f000				  -trackn_tablespeeda =	MEMLOC
    230  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    231  f000				  -trackn_command =	MEMLOC
    232  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    233  f000				  -
    234  f000				  -	      IF	FEAT_BASS16
    235  f000				  -trackn_outnote =	MEMLOC
    236  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    237  f000				  -	      ENDIF
    238  f000				  -	      IF	FEAT_FILTER
    239  f000				  -trackn_filter =	MEMLOC
    240  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    241  f000				  -	      ENDIF
    242  f000				  -
    243  f000				  -trackn_audf =	MEMLOC
    244  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    245  f000				  -trackn_audc =	MEMLOC
    246  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    247  f000				  -
    248  f000				  -	      IF	FEAT_AUDCTLMANUALSET
    249  f000				  -trackn_audctl =	MEMLOC
    250  f000				  -MEMLOC     SET	(MEMLOC+TRACKS)
    251  f000				  -	      ENDIF
    252  f000				  -
    253  f000				  -v_audctl   =	MEMLOC
    254  f000				  -MEMLOC     SET	(MEMLOC+1)
    255  f000				  -v_audctl2  =	MEMLOC
    256  f000				  -MEMLOC     SET	(MEMLOC+1)
    257  f000				  -v_speed    =	MEMLOC
    258  f000				  -MEMLOC     SET	(MEMLOC+1)
    259  f000				  -v_aspeed   =	MEMLOC
    260  f000				  -MEMLOC     SET	(MEMLOC+1)
    261  f000				  -v_bspeed   =	MEMLOC
    262  f000				  -MEMLOC     SET	(MEMLOC+1)
    263  f000				  -v_instrspeed =	MEMLOC
    264  f000				  -MEMLOC     SET	(MEMLOC+1)
    265  f000				  -smc_silence_instrspeed =	MEMLOC
    266  f000				  -MEMLOC     SET	(MEMLOC+1)
    267  f000				  -v_maxtracklen =	MEMLOC
    268  f000				  -MEMLOC     SET	(MEMLOC+1)
    269  f000				  -v_abeat    =	MEMLOC
    270  f000				  -MEMLOC     SET	(MEMLOC+1)
    271  f000				  -
    272  f000				  -track_endvariables =	MEMLOC
    273  f000				  -
    274  f000				  -			;*
    275  f000				  -			;* Data tables used by player routine.
    276  f000				  -			;*
    277  f000				  -	      ALIGN	256
    278  f000				  -PLAYER     =	.
    279  f000				  -
    280  f000				  -volumetab
    281  f000				  -	      dc.b	$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    282  f000				  -	      dc.b	$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01
    283  f000				  -	      dc.b	$00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01,$02,$02,$02,$02
    284  f000				  -	      dc.b	$00,$00,$00,$01,$01,$01,$01,$01,$02,$02,$02,$02,$02,$03,$03,$03
    285  f000				  -	      dc.b	$00,$00,$01,$01,$01,$01,$02,$02,$02,$02,$03,$03,$03,$03,$04,$04
    286  f000				  -	      dc.b	$00,$00,$01,$01,$01,$02,$02,$02,$03,$03,$03,$04,$04,$04,$05,$05
    287  f000				  -	      dc.b	$00,$00,$01,$01,$02,$02,$02,$03,$03,$04,$04,$04,$05,$05,$06,$06
    288  f000				  -	      dc.b	$00,$00,$01,$01,$02,$02,$03,$03,$04,$04,$05,$05,$06,$06,$07,$07
    289  f000				  -	      dc.b	$00,$01,$01,$02,$02,$03,$03,$04,$04,$05,$05,$06,$06,$07,$07,$08
    290  f000				  -	      dc.b	$00,$01,$01,$02,$02,$03,$04,$04,$05,$05,$06,$07,$07,$08,$08,$09
    291  f000				  -	      dc.b	$00,$01,$01,$02,$03,$03,$04,$05,$05,$06,$07,$07,$08,$09,$09,$0A
    292  f000				  -	      dc.b	$00,$01,$01,$02,$03,$04,$04,$05,$06,$07,$07,$08,$09,$0A,$0A,$0B
    293  f000				  -	      dc.b	$00,$01,$02,$02,$03,$04,$05,$06,$06,$07,$08,$09,$0A,$0A,$0B,$0C
    294  f000				  -	      dc.b	$00,$01,$02,$03,$03,$04,$05,$06,$07,$08,$09,$0A,$0A,$0B,$0C,$0D
    295  f000				  -	      dc.b	$00,$01,$02,$03,$04,$05,$06,$07,$07,$08,$09,$0A,$0B,$0C,$0D,$0E
    296  f000				  -	      dc.b	$00,$01,$02,$03,$04,$05,$06,$07,$08,$09,$0A,$0B,$0C,$0D,$0E,$0F
    297  f000				  -
    298  f000				  -frqtab
    299  f000				  -			; ERT [<frqtab]!=0 ;* frqtab must begin at the memory page bound!
    300  f000				  -			;* (i.e. $..00 address)
    301  f000				  -frqtabbass1
    302  f000				  -	      dc.b	$BF,$B6,$AA,$A1,$98,$8F,$89,$80,$F2,$E6,$DA,$CE,$BF,$B6,$AA,$A1
    303  f000				  -	      dc.b	$98,$8F,$89,$80,$7A,$71,$6B,$65,$5F,$5C,$56,$50,$4D,$47,$44,$3E
    304  f000				  -	      dc.b	$3C,$38,$35,$32,$2F,$2D,$2A,$28,$25,$23,$21,$1F,$1D,$1C,$1A,$18
    305  f000				  -	      dc.b	$17,$16,$14,$13,$12,$11,$10,$0F,$0E,$0D,$0C,$0B,$0A,$09,$08,$07
    306  f000				  -frqtabbass2
    307  f000				  -	      dc.b	$FF,$F1,$E4,$D8,$CA,$C0,$B5,$AB,$A2,$99,$8E,$87,$7F,$79,$73,$70
    308  f000				  -	      dc.b	$66,$61,$5A,$55,$52,$4B,$48,$43,$3F,$3C,$39,$37,$33,$30,$2D,$2A
    309  f000				  -	      dc.b	$28,$25,$24,$21,$1F,$1E,$1C,$1B,$19,$17,$16,$15,$13,$12,$11,$10
    310  f000				  -	      dc.b	$0F,$0E,$0D,$0C,$0B,$0A,$09,$08,$07,$06,$05,$04,$03,$02,$01,$00
    311  f000				  -frqtabpure
    312  f000				  -	      dc.b	$F3,$E6,$D9,$CC,$C1,$B5,$AD,$A2,$99,$90,$88,$80,$79,$72,$6C,$66
    313  f000				  -	      dc.b	$60,$5B,$55,$51,$4C,$48,$44,$40,$3C,$39,$35,$32,$2F,$2D,$2A,$28
    314  f000				  -	      dc.b	$25,$23,$21,$1F,$1D,$1C,$1A,$18,$17,$16,$14,$13,$12,$11,$10,$0F
    315  f000				  -	      dc.b	$0E,$0D,$0C,$0B,$0A,$09,$08,$07,$06,$05,$04,$03,$02,$01,$00,$00
    316  f000				  -	      IF	FEAT_BASS16
    317  f000				  -frqtabbasshi
    318  f000				  -	      dc.b	$0D,$0D,$0C,$0B,$0B,$0A,$0A,$09,$08,$08,$07,$07,$07,$06,$06,$05
    319  f000				  -	      dc.b	$05,$05,$04,$04,$04,$04,$03,$03,$03,$03,$03,$02,$02,$02,$02,$02
    320  f000				  -	      dc.b	$02,$02,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$01,$00,$00
    321  f000				  -	      dc.b	$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
    322  f000				  -	      ENDIF
    323  f000				  -
    324  f000				  -	      IF	FEAT_BASS16
    325  f000				  -frqtabbasslo
    326  f000				  -	      dc.b	$F2,$33,$96,$E2,$38,$8C,$00,$6A,$E8,$6A,$EF,$80,$08,$AE,$46,$E6
    327  f000				  -	      dc.b	$95,$41,$F6,$B0,$6E,$30,$F6,$BB,$84,$52,$22,$F4,$C8,$A0,$7A,$55
    328  f000				  -	      dc.b	$34,$14,$F5,$D8,$BD,$A4,$8D,$77,$60,$4E,$38,$27,$15,$06,$F7,$E8
    329  f000				  -	      dc.b	$DB,$CF,$C3,$B8,$AC,$A2,$9A,$90,$88,$7F,$78,$70,$6A,$64,$5E,$00
    330  f000				  -	      ENDIF
    331  f000				  -
    332  f000				  -	      IF	ROM_BASED
    333  f000				  -rts_tab    dc.w	cmd0-1,cmd1-1,cmd2-1,cmd3-1,cmd4-1,cmd5-1,cmd6-1,cmd7-1
    334  f000				  -	      ENDIF
    335  f000				  -INSTRPAR   equ	12
    336  f000				  -tabbeganddistor
    337  f000				  -	      dc.b	frqtabpure-frqtab,$00
    338  f000				  -	      dc.b	frqtabpure-frqtab,$20
    339  f000				  -	      dc.b	frqtabpure-frqtab,$40
    340  f000				  -	      dc.b	frqtabbass1-frqtab,$c0
    341  f000				  -	      dc.b	frqtabpure-frqtab,$80
    342  f000				  -	      dc.b	frqtabpure-frqtab,$a0
    343  f000				  -	      dc.b	frqtabbass1-frqtab,$c0
    344  f000				  -	      dc.b	frqtabbass2-frqtab,$c0
    345  f000				  -vibtabbeg  dc.b	0,vib1-vib0,vib2-vib0,vib3-vib0,vibx-vib0
    346  f000				  -vib0       dc.b	0
    347  f000				  -vib1       dc.b	1,-1,-1,1
    348  f000				  -vib2       dc.b	1,0,-1,-1,0,1
    349  f000				  -vib3       dc.b	1,1,0,-1,-1,-1,-1,0,1,1
    350  f000				  -vibx
    351  f000				  -emptytrack
    352  f000				  -	      dc.b	62,0
    353  f000				  -
    354  f000				  -			;*
    355  f000				  -			;* Set of RMT main vectors:
    356  f000				  -			;*
    357  f000				  -RASTERMUSICTRACKER
    358  f000				  -	      jmp	rmt_init	;* Must be run first, to clear memory and initialise
    359  f000				  -			;* the player... Once this is done, run rmt_play
    360  f000				  -			;* afterwards, or Set_Pokey if you want to manually
    361  f000				  -			;* time certain things.
    362  f000				  -
    363  f000				  -	      jmp	rmt_play	;* One play each subroutine call. SetPokey is
    364  f000				  -			;* executed first, then all the play code is ran
    365  f000				  -			;* once, until the RTS. rmt_play could be called
    366  f000				  -			;* multiple times per frame if wanted.
    367  f000				  -
    368  f000				  -	      jmp	rmt_p3	;* Similar to rmt_play, but will also skip SetPokey
    369  f000				  -			;* and the instruments/songlines/tracklines
    370  f000				  -			;* initialisation, very useful for playing simple
    371  f000				  -			;* things.
    372  f000				  -
    373  f000				  -	      jmp	rmt_silence	;* Run this to stop the driver, and reset all POKEY
    374  f000				  -			;* registers to 0. This is also part of rmt_init
    375  f000				  -			;* when it is executed first.
    376  f000				  -
    377  f000				  -	      jmp	SetPokey	;* Run to copy the contents of the Shadow POKEY
    378  f000				  -			;* registers (v_audctl, v_skctl, trackn_audf,x etc)
    379  f000				  -			;* into the real ones. Will be run first each time
    380  f000				  -			;* rmt_play is called.
    381  f000				  -rmt_init
    382  f000				  -	      stx	_ns
    383  f000				  -	      sty	_ns+1
    384  f000				  -	      pha
    385  f000				  -	      IF	track_endvariables-track_variables>255
    386  f000				  -	      ldy	#0
    387  f000				  -	      tya
    388  f000				  -ri_clear_loop
    389  f000				  -	      sta	track_variables,y
    390  f000				  -	      sta	track_endvariables-$100,y
    391  f000				  -	      iny
    392  f000				  -	      bne	ri_clear_loop
    393  f000				  -	      ELSE
    394  f000				  -	      ldy	#track_endvariables-track_variables
    395  f000				  -	      lda	#0
    396  f000				  -ri_clear_loop
    397  f000				  -	      sta	track_variables-1,y
    398  f000				  -	      dey
    399  f000				  -	      bne	ri_clear_loop
    400  f000				  -	      ENDIF
    401  f000				  -			;* Parse the RMT module data
    402  f000				  -			;* Track length: +4
    403  f000				  -	      ldy	#4
    404  f000				  -	      lda	(_ns),y
    405  f000				  -	      sta	v_maxtracklen	;* Change the code to store the track length
    406  f000				  -	      iny
    407  f000				  -	      lda	(_ns),y
    408  f000				  -	      sta	v_speed	;* Change the code to store the song speed
    409  f000				  -	      iny
    410  f000				  -	      lda	(_ns),y
    411  f000				  -	      sta	v_instrspeed	;* Change the code to store the instrument speed
    412  f000				  -	      sta	smc_silence_instrspeed
    413  f000				  -
    414  f000				  -			; Copy 4 pointers: +8
    415  f000				  -			; -> InstrumentPtrs[]	       2 bytes
    416  f000				  -			; -> TracksPtrsLow[]	       2 bytes
    417  f000				  -			; -> TracksPtrsHi	       2 bytes
    418  f000				  -			; -> SongData		       2 bytes
    419  f000				  -	      ldy	#8
    420  f000				  -ri_copy_loop
    421  f000				  -	      lda	(_ns),y
    422  f000				  -	      sta	p_tis-8,y
    423  f000				  -	      iny
    424  f000				  -	      cpy	#8+8	;* we started at 8, so loop until 16
    425  f000				  -	      bne	ri_copy_loop
    426  f000				  -
    427  f000				  -	      pla
    428  f000				  -	      pha
    429  f000				  -	      IF	STEREO8T
    430  f000				  -	      asl
    431  f000				  -	      asl
    432  f000				  -	      asl
    433  f000				  -	      clc
    434  f000				  -	      adc	ptrSongLines
    435  f000				  -	      sta	ptrSongLines
    436  f000				  -	      pla
    437  f000				  -	      and	#$e0
    438  f000				  -	      asl
    439  f000				  -	      rol
    440  f000				  -	      rol
    441  f000				  -	      rol
    442  f000				  -	      ELSE
    443  f000				  -	      asl
    444  f000				  -	      asl
    445  f000				  -	      clc
    446  f000				  -	      adc	ptrSongLines
    447  f000				  -	      sta	ptrSongLines
    448  f000				  -	      pla
    449  f000				  -	      and	#$c0
    450  f000				  -	      asl
    451  f000				  -	      rol
    452  f000				  -	      rol
    453  f000				  -	      ENDIF
    454  f000				  -	      adc	ptrSongLines+1
    455  f000				  -	      sta	ptrSongLines+1
    456  f000				  -
    457  f000				  -	      jsr	GetSongLine
    458  f000				  -
    459  f000				  -	      jsr	GetTrackLine
    460  f000				  -	      jsr	InitOfNewSetInstrumentsOnly
    461  f000				  -	      jsr	rmt_silence
    462  f000				  -	      lda	v_instrspeed
    463  f000				  -	      rts
    464  f000				  -
    465  f000				  -rmt_silence
    466  f000				  -	      IF	STEREO8T
    467  f000				  -	      lda	#0
    468  f000				  -	      sta	POKEY_BASE+$08
    469  f000				  -	      sta	POKEY_BASE_S+$08
    470  f000				  -	      ldy	#3
    471  f000				  -	      sty	POKEY_BASE+$0f
    472  f000				  -	      sty	POKEY_BASE_S+$0f
    473  f000				  -	      ldy	#8
    474  f000				  -rmt_silence_loop
    475  f000				  -	      sta	POKEY_BASE+$00,y
    476  f000				  -	      sta	POKEY_BASE_S+$00,y
    477  f000				  -	      dey
    478  f000				  -	      bpl	rmt_silence_loop
    479  f000				  -	      ELSE
    480  f000				  -	      lda	#0
    481  f000				  -	      sta	POKEY_BASE+$08
    482  f000				  -	      ldy	#3
    483  f000				  -	      sty	POKEY_BASE+$0f
    484  f000				  -	      ldy	#8
    485  f000				  -rmt_silence_loop
    486  f000				  -	      sta	POKEY_BASE+$00,y
    487  f000				  -	      dey
    488  f000				  -	      bpl	rmt_silence_loop
    489  f000				  -	      ENDIF
    490  f000				  -	      rts
    491  f000				  -
    492  f000				  -GetSongLine
    493  f000				  -	      ldx	#0
    494  f000				  -	      stx	v_abeat
    495  f000				  -gsl_loop
    496  f000				  -	      ldx	#0
    497  f000				  -gsl_nextSongLine
    498  f000				  -	      txa
    499  f000				  -	      tay
    500  f000				  -	      lda	(ptrSongLines),y
    501  f000				  -			;* Check for special song line commands. Track numbers >= $FE are not real
    502  f000				  -			;* tracks, but control flow commands:
    503  f000				  -			;* $FE = Jump to a new song line pointer.
    504  f000				  -			;* $FF = Empty track line (handled in this 7800 port by setting a max pause).
    505  f000				  -	      cmp	#$fe	;* check for "goto line"
    506  f000				  -	      bcs	gsl_GotoOrEmpty	;* and handle it.
    507  f000				  -			;* (A) = Real track #
    508  f000				  -			;* Get the ptr to the track data and store it in ptrTracksTblLo
    509  f000				  -	      tay
    510  f000				  -	      lda	(ptrTracksTblLo),y
    511  f000				  -	      sta	trackn_TblLo,x
    512  f000				  -	      lda	(ptrTracksTblHi),y
    513  f000				  -gsl_initTrack
    514  f000				  -	      sta	trackn_TblHi,x
    515  f000				  -
    516  f000				  -	      lda	#0	;* reset the track index to 0 trackn_idx[x] = 0
    517  f000				  -	      sta	trackn_idx,x
    518  f000				  -
    519  f000				  -	      lda	#1
    520  f000				  -	      sta	trackn_pause,x	;* #1 is a new track, #0 is no new track
    521  f000				  -
    522  f000				  -	      lda	#$80	;* mark that there is no new instrument
    523  f000				  -	      sta	trackn_instrx2,x	;* #$80 is negative, will BMI when encountered,
    524  f000				  -			;* meaning no new instrument initialisation
    525  f000				  -	      inx
    526  f000				  -	      cpx	#TRACKS	;* if x < TRACKS --> gsl_nextSongLine
    527  f000				  -	      bne	gsl_nextSongLine
    528  f000				  -
    529  f000				  -			;* Done with data points of a song line, move to the next line
    530  f000				  -	      lda	ptrSongLines
    531  f000				  -	      clc
    532  f000				  -	      adc	#TRACKS
    533  f000				  -	      sta	ptrSongLines
    534  f000				  -	      bcc	gsl_skipSongHiIncrement
    535  f000				  -	      inc	ptrSongLines+1
    536  f000				  -gsl_skipSongHiIncrement
    537  f000				  -	      rts
    538  f000				  -
    539  f000				  -gsl_GotoOrEmpty
    540  f000				  -			; "cmp #$FE" performed prior to getting here
    541  f000				  -	      beq	gsl_Goto
    542  f000				  -
    543  f000				  -gsl_Empty
    544  f000				  -	      lda	#<emptytrack
    545  f000				  -	      sta	trackn_TblLo,x
    546  f000				  -	      lda	#>emptytrack
    547  f000				  -	      jmp	gsl_initTrack
    548  f000				  -
    549  f000				  -gsl_Goto
    550  f000				  -			; Data format: 0xFE, ???, low, high bytes of ptr to next song line
    551  f000				  -	      ldy	#2
    552  f000				  -	      lda	(ptrSongLines),y
    553  f000				  -	      tax
    554  f000				  -	      iny
    555  f000				  -	      lda	(ptrSongLines),y
    556  f000				  -	      sta	ptrSongLines+1
    557  f000				  -	      stx	ptrSongLines
    558  f000				  -	      jmp	gsl_loop
    559  f000				  -
    560  f000				  -GetTrackLine
    561  f000				  -rmtoo0
    562  f000				  -rmtoo0a
    563  f000				  -	      lda	v_speed
    564  f000				  -	      sta	v_bspeed
    565  f000				  -	      ldx	#0
    566  f000				  -gtl_loopTracks
    567  f000				  -	      lda	trackn_pause,x
    568  f000				  -	      beq	gtl_checkEndOfLoop
    569  f000				  -	      dec	trackn_pause,x
    570  f000				  -	      bne	gtl_checkEndOfLoop
    571  f000				  -	      inc	trackn_pause,x
    572  f000				  -
    573  f000				  -	      lda	trackn_TblLo,x
    574  f000				  -	      sta	_ns
    575  f000				  -	      lda	trackn_TblHi,x
    576  f000				  -	      sta	_ns+1
    577  f000				  -
    578  f000				  -oo1i
    579  f000				  -	      ldy	trackn_idx,x
    580  f000				  -			;* Get a track data point. The track data stream is a sequence of commands
    581  f000				  -			;* encoded by the first byte's value:
    582  f000				  -			;* 0-60 ($00-$3C): A new note. The next byte contains instrument/volume.
    583  f000				  -			;* 61	 ($3D):      Volume-only change for the current note.
    584  f000				  -			;* 62	 ($3E):      Pause. The next byte specifies duration.
    585  f000				  -			;* 63	 ($3F):      Control command (e.g., change speed, loop, or end track).
    586  f000				  -	      lda	(_ns),y
    587  f000				  -	      sta	rmtreg1
    588  f000				  -	      iny
    589  f000				  -	      lda	(_ns),y
    590  f000				  -	      sta	rmtreg2
    591  f000				  -	      iny
    592  f000				  -	      tya
    593  f000				  -	      sta	trackn_idx,x
    594  f000				  -
    595  f000				  -	      lda	rmtreg1
    596  f000				  -	      and	#$3f
    597  f000				  -	      cmp	#61
    598  f000				  -	      beq	gtl_ProcessVolumeData
    599  f000				  -	      bcs	gtl_Is62or63
    600  f000				  -
    601  f000				  -			;* if we're here it's a note, so store it.
    602  f000				  -	      sta	trackn_note,x
    603  f000				  -	      IF	FEAT_BASS16
    604  f000				  -	      sta	trackn_outnote,x
    605  f000				  -	      ENDIF
    606  f000				  -
    607  f000				  -			;* Process the instrument #
    608  f000				  -	      lda	rmtreg2
    609  f000				  -	      lsr
    610  f000				  -	      and	#$3f*2
    611  f000				  -	      sta	trackn_instrx2,x
    612  f000				  -
    613  f000				  -gtl_ProcessVolumeData
    614  f000				  -			;* The note/instrument/volume data is packed into two bytes to save space.
    615  f000				  -			;* Byte 1: [vvnnnnnn] (v=volume bits 3&2, n=note)
    616  f000				  -			;* Byte 2: [iiiiii vv] (i=instrument, v=volume bits 1&0)
    617  f000				  -			;* This sequence unpacks the 4-bit volume from the two bytes.
    618  f000				  -	      lda	rmtreg2
    619  f000				  -	      lsr
    620  f000				  -	      ror	rmtreg1
    621  f000				  -	      lsr
    622  f000				  -	      ror	rmtreg1
    623  f000				  -	      lda	rmtreg1
    624  f000				  -	      and	#$f0
    625  f000				  -	      sta	trackn_volume,x
    626  f000				  -gtl_checkEndOfLoop
    627  f000				  -	      inx
    628  f000				  -	      cpx	#TRACKS
    629  f000				  -	      bne	gtl_loopTracks
    630  f000				  -	      lda	v_bspeed
    631  f000				  -	      sta	v_speed
    632  f000				  -	      sta	v_aspeed
    633  f000				  -	      rts
    634  f000				  -
    635  f000				  -gtl_Is62or63
    636  f000				  -	      cmp	#63
    637  f000				  -	      beq	rmtoo63
    638  f000				  -	      lda	rmtreg1
    639  f000				  -	      and	#$c0
    640  f000				  -	      beq	rmtoo62_b
    641  f000				  -	      asl
    642  f000				  -	      rol
    643  f000				  -	      rol
    644  f000				  -	      sta	trackn_pause,x
    645  f000				  -	      dec	trackn_idx,x
    646  f000				  -	      jmp	gtl_checkEndOfLoop
    647  f000				  -
    648  f000				  -rmtoo62_b
    649  f000				  -	      lda	rmtreg2
    650  f000				  -	      sta	trackn_pause,x
    651  f000				  -	      jmp	gtl_checkEndOfLoop
    652  f000				  -
    653  f000				  -rmtoo63
    654  f000				  -	      lda	rmtreg1
    655  f000				  -	      bmi	rmtoo63_1X
    656  f000				  -	      lda	rmtreg2
    657  f000				  -	      sta	v_bspeed
    658  f000				  -	      jmp	oo1i
    659  f000				  -rmtoo63_1X
    660  f000				  -	      cmp	#255
    661  f000				  -	      beq	rmtoo63_11
    662  f000				  -	      lda	rmtreg2
    663  f000				  -	      sta	trackn_idx,x
    664  f000				  -	      jmp	oo1i
    665  f000				  -
    666  f000				  -rmtoo63_11
    667  f000				  -	      jsr	GetSongLine
    668  f000				  -	      jmp	rmtoo0
    669  f000				  -
    670  f000				  -InitOfNewSetInstrumentsOnly
    671  f000				  -	      ldx	#0
    672  f000				  -p2x1       ldy	trackn_instrx2,x
    673  f000				  -	      bmi	p2x2	;* if negative, no new instrument to initialise for this channel
    674  f000				  -	      jsr	SetUpInstrumentY2
    675  f000				  -	      lda	#$80
    676  f000				  -	      sta	trackn_instrx2,x
    677  f000				  -p2x2
    678  f000				  -	      inx
    679  f000				  -	      cpx	#TRACKS
    680  f000				  -	      bne	p2x1
    681  f000				  -	      rts
    682  f000				  -
    683  f000				  -			;* rmt_play:
    684  f000				  -			;*   This is the main player entry point, intended to be called once per frame
    685  f000				  -			;*   It orchestrates all player state updates.
    686  f000				  -			;*   The timing is controlled by two counters:
    687  f000				  -			;*   1. v_aspeed: Ticks per song line. When it reaches zero, a new line of
    688  f000				  -			;*	 track data is read by GetTrackLine. This is the "song tempo".
    689  f000				  -			;*   2. smc_silence_instrspeed: Ticks per instrument step. When it reaches
    690  f000				  -			;*	 zero, the instrument envelopes/effects are processed.
    691  f000				  -			;*
    692  f000				  -rmt_play
    693  f000				  -rmt_p0
    694  f000				  -	      jsr	SetPokey
    695  f000				  -rmt_p1
    696  f000				  -	      dec	smc_silence_instrspeed
    697  f000				  -	      beq	rmtp1a
    698  f000				  -	      jmp	rmt_p3
    699  f000				  -rmtp1a
    700  f000				  -	      lda	v_instrspeed
    701  f000				  -	      sta	smc_silence_instrspeed
    702  f000				  -rmt_p2
    703  f000				  -	      dec	v_aspeed
    704  f000				  -	      bne	rmt_p3
    705  f000				  -	      inc	v_abeat
    706  f000				  -	      lda	v_abeat
    707  f000				  -	      cmp	v_maxtracklen
    708  f000				  -	      bne	rmtp2o2
    709  f000				  -	      jsr	GetSongLine
    710  f000				  -rmtp2o2
    711  f000				  -	      jsr	GetTrackLine
    712  f000				  -	      jmp	rmt_p2X
    713  f000				  -go_ppnext
    714  f000				  -	      jmp	ppnext
    715  f000				  -rmt_p2X
    716  f000				  -	      jsr	InitOfNewSetInstrumentsOnly
    717  f000				  -rmt_p3
    718  f000				  -	      lda	#>frqtab
    719  f000				  -	      sta	_nr+1
    720  f000				  -
    721  f000				  -	      ldx	#0
    722  f000				  -rmtpp1
    723  f000				  -	      lda	trackn_instrhb,x
    724  f000				  -	      beq	go_ppnext
    725  f000				  -	      sta	_ns+1
    726  f000				  -	      lda	trackn_instrdb,x
    727  f000				  -	      sta	_ns
    728  f000				  -	      ldy	trackn_instridx,x
    729  f000				  -	      lda	(_ns),y
    730  f000				  -	      sta	rmtreg1
    731  f000				  -	      iny
    732  f000				  -	      lda	(_ns),y
    733  f000				  -	      sta	rmtreg2
    734  f000				  -	      iny
    735  f000				  -	      lda	(_ns),y
    736  f000				  -	      sta	rmtreg3
    737  f000				  -	      iny
    738  f000				  -	      tya
    739  f000				  -	      cmp	trackn_instrlen,x
    740  f000				  -	      bcc	rmtpp2
    741  f000				  -	      beq	rmtpp2
    742  f000				  -	      lda	#$80
    743  f000				  -	      sta	trackn_instrreachend,x
    744  f000				  -rmtpp1b
    745  f000				  -	      lda	trackn_instrlop,x
    746  f000				  -rmtpp2
    747  f000				  -	      sta	trackn_instridx,x
    748  f000				  -	      lda	rmtreg1
    749  f000				  -	      IF	STEREO8T
    750  f000				  -	      cpx	#4
    751  f000				  -	      bcc	rmtpp2s
    752  f000				  -	      lsr
    753  f000				  -	      lsr
    754  f000				  -	      lsr
    755  f000				  -	      lsr
    756  f000				  -rmtpp2s
    757  f000				  -	      ENDIF
    758  f000				  -	      and	#$0f
    759  f000				  -	      ora	trackn_volume,x
    760  f000				  -	      tay
    761  f000				  -	      lda	volumetab,y
    762  f000				  -	      pha
    763  f000				  -	      lda	rmtreg2
    764  f000				  -	      and	#$0e
    765  f000				  -	      tay
    766  f000				  -	      lda	tabbeganddistor,y
    767  f000				  -	      sta	_nr
    768  f000				  -	      pla
    769  f000				  -	      ora	tabbeganddistor+1,y
    770  f000				  -	      sta	trackn_audc,x
    771  f000				  -	      jmp	InstrumentsEffects
    772  f000				  -returnfromInstrumentsEffects
    773  f000				  -	      IF	FEAT_COMMAND2
    774  f000				  -	      lda	#0
    775  f000				  -	      sta	frqaddcmd2
    776  f000				  -	      ENDIF
    777  f000				  -	      lda	rmtreg2
    778  f000				  -	      sta	trackn_command,x
    779  f000				  -	      and	#$70
    780  f000				  -			;* This is the main instrument command dispatcher. The command number (0-7)
    781  f000				  -			;* is stored in the 3 bits of reg2 ($70 mask).
    782  f000				  -			;* The original player used self-modifying code here (sta jmx+1) to jump
    783  f000				  -			;* to the correct command handler.
    784  f000				  -			;* For a ROM-based system like the 7800:
    785  f000				  -			;*   the jump has been changed to use a table of addresses (rts_tab). The code
    786  f000				  -			;*   pushes the correct handler's address-1 onto the stack and executes an RTS,
    787  f000				  -			;*   effectively performing a calculated JMP.
    788  f000				  -			;* For a RAM-based system:
    789  f000				  -			;*   the jump uses self-modifying code to branch to the desired JMP
    790  f000				  -			;*   instruction.
    791  f000				  -	      lsr
    792  f000				  -	      lsr
    793  f000				  -	      IF	ROM_BASED
    794  f000				  -	      lsr
    795  f000				  -	      tay
    796  f000				  -	      lda	rts_tab+1,y
    797  f000				  -	      pha
    798  f000				  -	      lda	rts_tab,y
    799  f000				  -	      pha
    800  f000				  -	      rts
    801  f000				  -	      ELSE
    802  f000				  -	      sta	jmx+1
    803  f000				  -jmx
    804  f000				  -	      bcc	*
    805  f000				  -	      jmp	cmd0
    806  f000				  -	      nop
    807  f000				  -	      jmp	cmd1
    808  f000				  -	      nop
    809  f000				  -	      jmp	cmd2
    810  f000				  -	      nop
    811  f000				  -	      jmp	cmd3
    812  f000				  -	      nop
    813  f000				  -	      jmp	cmd4
    814  f000				  -	      nop
    815  f000				  -	      jmp	cmd5
    816  f000				  -	      nop
    817  f000				  -	      jmp	cmd6
    818  f000				  -	      nop
    819  f000				  -	      jmp	cmd7
    820  f000				  -	      ENDIF
    821  f000				  -cmd0
    822  f000				  -	      lda	trackn_note,x
    823  f000				  -	      clc
    824  f000				  -	      adc	rmtreg3
    825  f000				  -cmd0a
    826  f000				  -	      IF	FEAT_TABLETYPE
    827  f000				  -	      ldy	trackn_tabletypespeed,x
    828  f000				  -	      bmi	cmd0b
    829  f000				  -	      ENDIF
    830  f000				  -	      clc
    831  f000				  -	      adc	trackn_tablenote,x
    832  f000				  -	      cmp	#61
    833  f000				  -	      bcc	cmd0a1
    834  f000				  -	      lda	#0
    835  f000				  -	      sta	trackn_audc,x
    836  f000				  -	      lda	#63
    837  f000				  -cmd0a1
    838  f000				  -	      IF	FEAT_BASS16
    839  f000				  -	      sta	trackn_outnote,x
    840  f000				  -	      ENDIF
    841  f000				  -	      tay
    842  f000				  -	      lda	(_nr),y
    843  f000				  -	      clc
    844  f000				  -	      adc	trackn_shiftfrq,x
    845  f000				  -	      IF	FEAT_COMMAND2
    846  f000				  -	      clc
    847  f000				  -	      adc	frqaddcmd2
    848  f000				  -	      ENDIF
    849  f000				  -	      sta	trackn_audf,x
    850  f000				  -	      jmp	rmtpp9
    851  f000				  -	      IF	FEAT_TABLETYPE
    852  f000				  -cmd0b
    853  f000				  -	      cmp	#61
    854  f000				  -	      bcc	cmd0b1
    855  f000				  -	      lda	#0
    856  f000				  -	      sta	trackn_audc,x
    857  f000				  -	      lda	#63
    858  f000				  -cmd0b1
    859  f000				  -	      tay
    860  f000				  -	      lda	trackn_shiftfrq,x
    861  f000				  -	      clc
    862  f000				  -	      adc	trackn_tablenote,x
    863  f000				  -	      clc
    864  f000				  -	      adc	(_nr),y
    865  f000				  -	      IF	FEAT_COMMAND2
    866  f000				  -	      clc
    867  f000				  -	      adc	frqaddcmd2
    868  f000				  -	      ENDIF
    869  f000				  -	      sta	trackn_audf,x
    870  f000				  -	      jmp	rmtpp9
    871  f000				  -	      ENDIF
    872  f000				  -cmd1
    873  f000				  -	      IF	FEAT_COMMAND1
    874  f000				  -	      lda	rmtreg3
    875  f000				  -	      sta	trackn_audf,x
    876  f000				  -	      jmp	rmtpp9
    877  f000				  -	      ENDIF
    878  f000				  -cmd2
    879  f000				  -	      IF	FEAT_COMMAND2
    880  f000				  -	      lda	rmtreg3
    881  f000				  -	      sta	frqaddcmd2
    882  f000				  -	      lda	trackn_note,x
    883  f000				  -	      jmp	cmd0a
    884  f000				  -	      ENDIF
    885  f000				  -cmd3
    886  f000				  -	      IF	FEAT_COMMAND3
    887  f000				  -	      lda	trackn_note,x
    888  f000				  -	      clc
    889  f000				  -	      adc	rmtreg3
    890  f000				  -	      sta	trackn_note,x
    891  f000				  -	      jmp	cmd0a
    892  f000				  -	      ENDIF
    893  f000				  -cmd4
    894  f000				  -	      IF	FEAT_COMMAND4
    895  f000				  -	      lda	trackn_shiftfrq,x
    896  f000				  -	      clc
    897  f000				  -	      adc	rmtreg3
    898  f000				  -	      sta	trackn_shiftfrq,x
    899  f000				  -	      lda	trackn_note,x
    900  f000				  -	      jmp	cmd0a
    901  f000				  -	      ENDIF
    902  f000				  -cmd5
    903  f000				  -	      IF	FEAT_COMMAND5&&FEAT_PORTAMENTO
    904  f000				  -	      IF	FEAT_TABLETYPE
    905  f000				  -	      lda	trackn_tabletypespeed,x
    906  f000				  -	      bpl	cmd5a1
    907  f000				  -	      ldy	trackn_note,x
    908  f000				  -	      lda	(_nr),y
    909  f000				  -	      clc
    910  f000				  -	      adc	trackn_tablenote,x
    911  f000				  -	      jmp	cmd5ax
    912  f000				  -	      ENDIF
    913  f000				  -cmd5a1
    914  f000				  -	      lda	trackn_note,x
    915  f000				  -	      clc
    916  f000				  -	      adc	trackn_tablenote,x
    917  f000				  -	      cmp	#61
    918  f000				  -	      bcc	cmd5a2
    919  f000				  -	      lda	#63
    920  f000				  -cmd5a2
    921  f000				  -	      tay
    922  f000				  -	      lda	(_nr),y
    923  f000				  -cmd5ax
    924  f000				  -	      sta	trackn_portafrqc,x
    925  f000				  -	      ldy	rmtreg3
    926  f000				  -	      bne	cmd5a
    927  f000				  -	      sta	trackn_portafrqa,x
    928  f000				  -cmd5a
    929  f000				  -	      tya
    930  f000				  -	      lsr
    931  f000				  -	      lsr
    932  f000				  -	      lsr
    933  f000				  -	      lsr
    934  f000				  -	      sta	trackn_portaspeed,x
    935  f000				  -	      sta	trackn_portaspeeda,x
    936  f000				  -	      lda	rmtreg3
    937  f000				  -	      and	#$0f
    938  f000				  -	      sta	trackn_portadepth,x
    939  f000				  -	      lda	trackn_note,x
    940  f000				  -	      jmp	cmd0a
    941  f000				  -	      ELSE
    942  f000				  -	      IF	FEAT_COMMAND5
    943  f000				  -	      jmp	rmtpp9
    944  f000				  -	      ENDIF
    945  f000				  -	      ENDIF
    946  f000				  -cmd6
    947  f000				  -	      IF	FEAT_COMMAND6&&FEAT_FILTER
    948  f000				  -	      lda	rmtreg3
    949  f000				  -	      clc
    950  f000				  -	      adc	trackn_filter,x
    951  f000				  -	      sta	trackn_filter,x
    952  f000				  -	      lda	trackn_note,x
    953  f000				  -	      jmp	cmd0a
    954  f000				  -	      ELSE
    955  f000				  -	      IF	FEAT_COMMAND6
    956  f000				  -	      jmp	rmtpp9
    957  f000				  -	      ENDIF
    958  f000				  -	      ENDIF
    959  f000				  -cmd7
    960  f000				  -	      IF	FEAT_COMMAND7SETNOTE||FEAT_COMMAND7VOLUMEONLY
    961  f000				  -	      IF	FEAT_COMMAND7SETNOTE
    962  f000				  -	      lda	rmtreg3
    963  f000				  -	      IF	FEAT_COMMAND7VOLUMEONLY
    964  f000				  -	      cmp	#$80
    965  f000				  -	      beq	cmd7a
    966  f000				  -	      ENDIF
    967  f000				  -	      sta	trackn_note,x
    968  f000				  -	      jmp	cmd0a
    969  f000				  -	      ENDIF
    970  f000				  -	      IF	FEAT_COMMAND7VOLUMEONLY
    971  f000				  -cmd7a
    972  f000				  -	      lda	trackn_audc,x
    973  f000				  -	      ora	#$f0
    974  f000				  -	      sta	trackn_audc,x
    975  f000				  -	      lda	trackn_note,x
    976  f000				  -	      jmp	cmd0a
    977  f000				  -	      ENDIF
    978  f000				  -	      ENDIF
    979  f000				  -rmtpp9
    980  f000				  -	      IF	FEAT_PORTAMENTO
    981  f000				  -	      lda	trackn_portaspeeda,x
    982  f000				  -	      beq	rmtpp10
    983  f000				  -	      sec
    984  f000				  -	      sbc	#1
    985  f000				  -	      sta	trackn_portaspeeda,x
    986  f000				  -	      bne	rmtpp10
    987  f000				  -	      lda	trackn_portaspeed,x
    988  f000				  -	      sta	trackn_portaspeeda,x
    989  f000				  -	      lda	trackn_portafrqa,x
    990  f000				  -	      cmp	trackn_portafrqc,x
    991  f000				  -	      beq	rmtpp10
    992  f000				  -	      bcs	pps1
    993  f000				  -	      adc	trackn_portadepth,x
    994  f000				  -	      bcs	pps8
    995  f000				  -	      cmp	trackn_portafrqc,x
    996  f000				  -	      bcs	pps8
    997  f000				  -	      jmp	pps9
    998  f000				  -pps1
    999  f000				  -	      sbc	trackn_portadepth,x
   1000  f000				  -	      bcc	pps8
   1001  f000				  -	      cmp	trackn_portafrqc,x
   1002  f000				  -	      bcs	pps9
   1003  f000				  -pps8
   1004  f000				  -	      lda	trackn_portafrqc,x
   1005  f000				  -pps9
   1006  f000				  -	      sta	trackn_portafrqa,x
   1007  f000				  -rmtpp10
   1008  f000				  -	      lda	rmtreg2
   1009  f000				  -	      and	#$01
   1010  f000				  -	      beq	rmtpp11
   1011  f000				  -	      lda	trackn_portafrqa,x
   1012  f000				  -	      clc
   1013  f000				  -	      adc	trackn_shiftfrq,x
   1014  f000				  -	      sta	trackn_audf,x
   1015  f000				  -rmtpp11
   1016  f000				  -	      ENDIF
   1017  f000				  -ppnext
   1018  f000				  -	      inx
   1019  f000				  -	      cpx	#TRACKS
   1020  f000				  -	      beq	rmt_p4
   1021  f000				  -	      jmp	rmtpp1
   1022  f000				  -rmt_p4
   1023  f000				  -	      IF	FEAT_AUDCTLMANUALSET
   1024  f000				  -	      ldx	#3
   1025  f000				  -	      lda	#0
   1026  f000				  -qq0	      ora	trackn_audctl,x
   1027  f000				  -	      dex
   1028  f000				  -	      bpl	qq0
   1029  f000				  -	      sta	v_audctl
   1030  f000				  -			;* This section handles advanced audio effects that require multiple POKEY
   1031  f000				  -			;* channels. The priority system:
   1032  f000				  -			;* 1. Filters (highest priority): If a track enables a filter, it will
   1033  f000				  -			;*    override the channel it needs (e.g., track 0 filter uses channel 2),
   1034  f000				  -			;*    silencing whatever was playing there.
   1035  f000				  -			;* 2. 16-bit Bass (medium priority): If a filter is not active on a needed
   1036  f000				  -			;*    channel, 16-bit bass can use it (e.g., track 1 bass uses channel 0).
   1037  f000				  -			;* 3. Normal Track Playback (lowest priority).
   1038  f000				  -			;* The code first checks for and applies filters, then checks for 16-bit bass.
   1039  f000				  -qq1
   1040  f000				  -	      ldx	v_audctl
   1041  f000				  -	      ELSE
   1042  f000				  -	      ldx	#0
   1043  f000				  -	      stx	v_audctl
   1044  f000				  -	      ENDIF
   1045  f000				  -	      IF	FEAT_FILTER
   1046  f000				  -	      IF	FEAT_FILTERG0L
   1047  f000				  -	      lda	trackn_command+0
   1048  f000				  -	      bpl	qq2
   1049  f000				  -	      lda	trackn_audc+0
   1050  f000				  -	      and	#$0f
   1051  f000				  -	      beq	qq2
   1052  f000				  -	      lda	trackn_audf+0
   1053  f000				  -	      clc
   1054  f000				  -	      adc	trackn_filter+0
   1055  f000				  -	      sta	trackn_audf+2
   1056  f000				  -	      IF	FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG2L
   1057  f000				  -	      lda	trackn_audc+2
   1058  f000				  -	      and	#$10
   1059  f000				  -	      bne	qq1a
   1060  f000				  -	      ENDIF
   1061  f000				  -	      lda	#0
   1062  f000				  -	      sta	trackn_audc+2
   1063  f000				  -qq1a
   1064  f000				  -	      txa
   1065  f000				  -	      ora	#4
   1066  f000				  -	      tax
   1067  f000				  -	      ENDIF
   1068  f000				  -qq2
   1069  f000				  -	      IF	FEAT_FILTERG1L
   1070  f000				  -	      lda	trackn_command+1
   1071  f000				  -	      bpl	qq3
   1072  f000				  -	      lda	trackn_audc+1
   1073  f000				  -	      and	#$0f
   1074  f000				  -	      beq	qq3
   1075  f000				  -	      lda	trackn_audf+1
   1076  f000				  -	      clc
   1077  f000				  -	      adc	trackn_filter+1
   1078  f000				  -	      sta	trackn_audf+3
   1079  f000				  -	      IF	FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG3L
   1080  f000				  -	      lda	trackn_audc+3
   1081  f000				  -	      and	#$10
   1082  f000				  -	      bne	qq2a
   1083  f000				  -	      ENDIF
   1084  f000				  -	      lda	#0
   1085  f000				  -	      sta	trackn_audc+3
   1086  f000				  -qq2a
   1087  f000				  -	      txa
   1088  f000				  -	      ora	#2
   1089  f000				  -	      tax
   1090  f000				  -	      ENDIF
   1091  f000				  -qq3
   1092  f000				  -	      IF	FEAT_FILTERG0L||FEAT_FILTERG1L
   1093  f000				  -	      cpx	v_audctl
   1094  f000				  -	      bne	qq5
   1095  f000				  -	      ENDIF
   1096  f000				  -	      ENDIF
   1097  f000				  -	      IF	FEAT_BASS16
   1098  f000				  -	      IF	FEAT_BASS16G1L
   1099  f000				  -	      lda	trackn_command+1
   1100  f000				  -	      and	#$0e
   1101  f000				  -	      cmp	#6
   1102  f000				  -	      bne	qq4
   1103  f000				  -	      lda	trackn_audc+1
   1104  f000				  -	      and	#$0f
   1105  f000				  -	      beq	qq4
   1106  f000				  -	      ldy	trackn_outnote+1
   1107  f000				  -	      lda	frqtabbasslo,y
   1108  f000				  -	      sta	trackn_audf+0
   1109  f000				  -	      lda	frqtabbasshi,y
   1110  f000				  -	      sta	trackn_audf+1
   1111  f000				  -	      IF	FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG0L
   1112  f000				  -	      lda	trackn_audc+0
   1113  f000				  -	      and	#$10
   1114  f000				  -	      bne	qq3a
   1115  f000				  -	      ENDIF
   1116  f000				  -	      lda	#0
   1117  f000				  -	      sta	trackn_audc+0
   1118  f000				  -qq3a
   1119  f000				  -	      txa
   1120  f000				  -	      ora	#$50
   1121  f000				  -	      tax
   1122  f000				  -	      ENDIF
   1123  f000				  -qq4
   1124  f000				  -	      IF	FEAT_BASS16G3L
   1125  f000				  -	      lda	trackn_command+3
   1126  f000				  -	      and	#$0e
   1127  f000				  -	      cmp	#6
   1128  f000				  -	      bne	qq5
   1129  f000				  -	      lda	trackn_audc+3
   1130  f000				  -	      and	#$0f
   1131  f000				  -	      beq	qq5
   1132  f000				  -	      ldy	trackn_outnote+3
   1133  f000				  -	      lda	frqtabbasslo,y
   1134  f000				  -	      sta	trackn_audf+2
   1135  f000				  -	      lda	frqtabbasshi,y
   1136  f000				  -	      sta	trackn_audf+3
   1137  f000				  -	      IF	FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG2L
   1138  f000				  -	      lda	trackn_audc+2
   1139  f000				  -	      and	#$10
   1140  f000				  -	      bne	qq4a
   1141  f000				  -	      ENDIF
   1142  f000				  -	      lda	#0
   1143  f000				  -	      sta	trackn_audc+2
   1144  f000				  -qq4a
   1145  f000				  -	      txa
   1146  f000				  -	      ora	#$28
   1147  f000				  -	      tax
   1148  f000				  -	      ENDIF
   1149  f000				  -	      ENDIF
   1150  f000				  -qq5
   1151  f000				  -	      stx	v_audctl
   1152  f000				  -	      IF	STEREO8T
   1153  f000				  -	      IF	FEAT_AUDCTLMANUALSET
   1154  f000				  -	      ldx	#3
   1155  f000				  -	      lda	#0
   1156  f000				  -qs0	      ora	trackn_audctl+4,x
   1157  f000				  -	      dex
   1158  f000				  -	      bpl	qs0
   1159  f000				  -	      sta	v_audctl2
   1160  f000				  -qs1
   1161  f000				  -	      ldx	v_audctl2
   1162  f000				  -	      ELSE
   1163  f000				  -	      ldx	#0
   1164  f000				  -	      stx	v_audctl2
   1165  f000				  -	      ENDIF
   1166  f000				  -	      IF	FEAT_FILTER
   1167  f000				  -	      IF	FEAT_FILTERG0R
   1168  f000				  -	      lda	trackn_command+0+4
   1169  f000				  -	      bpl	qs2
   1170  f000				  -	      lda	trackn_audc+0+4
   1171  f000				  -	      and	#$0f
   1172  f000				  -	      beq	qs2
   1173  f000				  -	      lda	trackn_audf+0+4
   1174  f000				  -	      clc
   1175  f000				  -	      adc	trackn_filter+0+4
   1176  f000				  -	      sta	trackn_audf+2+4
   1177  f000				  -	      IF	FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG2R
   1178  f000				  -	      lda	trackn_audc+2+4
   1179  f000				  -	      and	#$10
   1180  f000				  -	      bne	qs1a
   1181  f000				  -	      ENDIF
   1182  f000				  -	      lda	#0
   1183  f000				  -	      sta	trackn_audc+2+4
   1184  f000				  -qs1a
   1185  f000				  -	      txa
   1186  f000				  -	      ora	#4
   1187  f000				  -	      tax
   1188  f000				  -	      ENDIF
   1189  f000				  -qs2
   1190  f000				  -	      IF	FEAT_FILTERG1R
   1191  f000				  -	      lda	trackn_command+1+4
   1192  f000				  -	      bpl	qs3
   1193  f000				  -	      lda	trackn_audc+1+4
   1194  f000				  -	      and	#$0f
   1195  f000				  -	      beq	qs3
   1196  f000				  -	      lda	trackn_audf+1+4
   1197  f000				  -	      clc
   1198  f000				  -	      adc	trackn_filter+1+4
   1199  f000				  -	      sta	trackn_audf+3+4
   1200  f000				  -	      IF	FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG3R
   1201  f000				  -	      lda	trackn_audc+3+4
   1202  f000				  -	      and	#$10
   1203  f000				  -	      bne	qs2a
   1204  f000				  -	      ENDIF
   1205  f000				  -	      lda	#0
   1206  f000				  -	      sta	trackn_audc+3+4
   1207  f000				  -qs2a
   1208  f000				  -	      txa
   1209  f000				  -	      ora	#2
   1210  f000				  -	      tax
   1211  f000				  -	      ENDIF
   1212  f000				  -qs3
   1213  f000				  -	      IF	FEAT_FILTERG0R||FEAT_FILTERG1R
   1214  f000				  -	      cpx	v_audctl2
   1215  f000				  -	      bne	qs5
   1216  f000				  -	      ENDIF
   1217  f000				  -	      ENDIF
   1218  f000				  -	      IF	FEAT_BASS16
   1219  f000				  -	      IF	FEAT_BASS16G1R
   1220  f000				  -	      lda	trackn_command+1+4
   1221  f000				  -	      and	#$0e
   1222  f000				  -	      cmp	#6
   1223  f000				  -	      bne	qs4
   1224  f000				  -	      lda	trackn_audc+1+4
   1225  f000				  -	      and	#$0f
   1226  f000				  -	      beq	qs4
   1227  f000				  -	      ldy	trackn_outnote+1+4
   1228  f000				  -	      lda	frqtabbasslo,y
   1229  f000				  -	      sta	trackn_audf+0+4
   1230  f000				  -	      lda	frqtabbasshi,y
   1231  f000				  -	      sta	trackn_audf+1+4
   1232  f000				  -	      IF	FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG0R
   1233  f000				  -	      lda	trackn_audc+0+4
   1234  f000				  -	      and	#$10
   1235  f000				  -	      bne	qs3a
   1236  f000				  -	      ENDIF
   1237  f000				  -	      lda	#0
   1238  f000				  -	      sta	trackn_audc+0+4
   1239  f000				  -qs3a
   1240  f000				  -	      txa
   1241  f000				  -	      ora	#$50
   1242  f000				  -	      tax
   1243  f000				  -	      ENDIF
   1244  f000				  -qs4
   1245  f000				  -	      IF	FEAT_BASS16G3R
   1246  f000				  -	      lda	trackn_command+3+4
   1247  f000				  -	      and	#$0e
   1248  f000				  -	      cmp	#6
   1249  f000				  -	      bne	qs5
   1250  f000				  -	      lda	trackn_audc+3+4
   1251  f000				  -	      and	#$0f
   1252  f000				  -	      beq	qs5
   1253  f000				  -	      ldy	trackn_outnote+3+4
   1254  f000				  -	      lda	frqtabbasslo,y
   1255  f000				  -	      sta	trackn_audf+2+4
   1256  f000				  -	      lda	frqtabbasshi,y
   1257  f000				  -	      sta	trackn_audf+3+4
   1258  f000				  -	      IF	FEAT_COMMAND7VOLUMEONLY&&FEAT_VOLUMEONLYG2R
   1259  f000				  -	      lda	trackn_audc+2+4
   1260  f000				  -	      and	#$10
   1261  f000				  -	      bne	qs4a
   1262  f000				  -	      ENDIF
   1263  f000				  -	      lda	#0
   1264  f000				  -	      sta	trackn_audc+2+4
   1265  f000				  -qs4a
   1266  f000				  -	      txa
   1267  f000				  -	      ora	#$28
   1268  f000				  -	      tax
   1269  f000				  -	      ENDIF
   1270  f000				  -	      ENDIF
   1271  f000				  -qs5
   1272  f000				  -	      stx	v_audctl2
   1273  f000				  -	      ENDIF
   1274  f000				  -rmt_p5
   1275  f000				  -	      lda	smc_silence_instrspeed
   1276  f000				  -	      rts
   1277  f000				  -SetPokey
   1278  f000				  -	      IF	STEREO8T
   1279  f000				  -	      ldy	v_audctl2
   1280  f000				  -	      lda	trackn_audf+0+4
   1281  f000				  -	      ldx	trackn_audf+0
   1282  f000				  -	      sta	POKEY_BASE_S+$00
   1283  f000				  -	      stx	POKEY_BASE+$00
   1284  f000				  -	      lda	trackn_audc+0+4
   1285  f000				  -	      ldx	trackn_audc+0
   1286  f000				  -	      sta	POKEY_BASE_S+$01
   1287  f000				  -	      stx	POKEY_BASE+$01
   1288  f000				  -	      lda	trackn_audf+1+4
   1289  f000				  -	      ldx	trackn_audf+1
   1290  f000				  -	      sta	POKEY_BASE_S+$02
   1291  f000				  -	      stx	POKEY_BASE+$02
   1292  f000				  -	      lda	trackn_audc+1+4
   1293  f000				  -	      ldx	trackn_audc+1
   1294  f000				  -	      sta	POKEY_BASE_S+$03
   1295  f000				  -	      stx	POKEY_BASE+$03
   1296  f000				  -	      lda	trackn_audf+2+4
   1297  f000				  -	      ldx	trackn_audf+2
   1298  f000				  -	      sta	POKEY_BASE_S+$04
   1299  f000				  -	      stx	POKEY_BASE+$04
   1300  f000				  -	      lda	trackn_audc+2+4
   1301  f000				  -	      ldx	trackn_audc+2
   1302  f000				  -	      sta	POKEY_BASE_S+$05
   1303  f000				  -	      stx	POKEY_BASE+$05
   1304  f000				  -	      lda	trackn_audf+3+4
   1305  f000				  -	      ldx	trackn_audf+3
   1306  f000				  -	      sta	POKEY_BASE_S+$06
   1307  f000				  -	      stx	POKEY_BASE+$06
   1308  f000				  -	      lda	trackn_audc+3+4
   1309  f000				  -	      ldx	trackn_audc+3
   1310  f000				  -	      sta	POKEY_BASE_S+$07
   1311  f000				  -	      stx	POKEY_BASE+$07
   1312  f000				  -	      lda	v_audctl
   1313  f000				  -	      sty	POKEY_BASE_S+$08
   1314  f000				  -	      sta	POKEY_BASE+$08
   1315  f000				  -	      ELSE
   1316  f000				  -
   1317  f000				  -	      ifconst	RMTVOLUME
   1318  f000				  -	      lda	rmtvolume
   1319  f000				  -	      sta	fourbitfadevalueint
   1320  f000				  -	      endif
   1321  f000				  -	      ldy	v_audctl
   1322  f000				  -	      ldx	trackn_audf+0
   1323  f000				  -	      lda	trackn_audc+0
   1324  f000				  -	      ifconst	RMTVOLUME
   1325  f000				  -	      jsr	fourbitfadeint
   1326  f000				  -	      endif
   1327  f000				  -	      stx	POKEY_BASE+$00+0
   1328  f000				  -	      if	HARD_OF_HEARING
   1329  f000				  -	      stx	POKEY_BASE+$00+0
   1330  f000				  -	      endif
   1331  f000				  -	      sta	POKEY_BASE+$01+0
   1332  f000				  -	      if	HARD_OF_HEARING
   1333  f000				  -	      sta	POKEY_BASE+$01+0
   1334  f000				  -	      endif
   1335  f000				  -
   1336  f000				  -	      ldx	trackn_audf+1
   1337  f000				  -	      lda	trackn_audc+1
   1338  f000				  -	      ifconst	RMTVOLUME
   1339  f000				  -	      jsr	fourbitfadeint
   1340  f000				  -	      endif
   1341  f000				  -	      stx	POKEY_BASE+$00+2
   1342  f000				  -	      if	HARD_OF_HEARING
   1343  f000				  -	      stx	POKEY_BASE+$00+2
   1344  f000				  -	      endif
   1345  f000				  -	      sta	POKEY_BASE+$01+2
   1346  f000				  -	      if	HARD_OF_HEARING
   1347  f000				  -	      sta	POKEY_BASE+$01+2
   1348  f000				  -	      endif
   1349  f000				  -
   1350  f000				  -	      ldx	trackn_audf+2
   1351  f000				  -	      lda	trackn_audc+2
   1352  f000				  -	      ifconst	RMTVOLUME
   1353  f000				  -	      jsr	fourbitfadeint
   1354  f000				  -	      endif
   1355  f000				  -	      stx	POKEY_BASE+$00+4
   1356  f000				  -	      if	HARD_OF_HEARING
   1357  f000				  -	      stx	POKEY_BASE+$00+4
   1358  f000				  -	      endif
   1359  f000				  -	      sta	POKEY_BASE+$01+4
   1360  f000				  -	      if	HARD_OF_HEARING
   1361  f000				  -	      sta	POKEY_BASE+$01+4
   1362  f000				  -	      endif
   1363  f000				  -
   1364  f000				  -	      ldx	trackn_audf+3
   1365  f000				  -	      lda	trackn_audc+3
   1366  f000				  -	      ifconst	RMTVOLUME
   1367  f000				  -	      jsr	fourbitfadeint
   1368  f000				  -	      endif
   1369  f000				  -	      stx	POKEY_BASE+$00+6
   1370  f000				  -	      if	HARD_OF_HEARING
   1371  f000				  -	      stx	POKEY_BASE+$00+6
   1372  f000				  -	      endif
   1373  f000				  -	      sta	POKEY_BASE+$01+6
   1374  f000				  -	      if	HARD_OF_HEARING
   1375  f000				  -	      sta	POKEY_BASE+$01+6
   1376  f000				  -	      endif
   1377  f000				  -
   1378  f000				  -	      sty	POKEY_BASE+$08
   1379  f000				  -	      if	HARD_OF_HEARING
   1380  f000				  -	      sty	POKEY_BASE+$08
   1381  f000				  -	      endif
   1382  f000				  -
   1383  f000				  -	      ENDIF
   1384  f000				  -	      rts
   1385  f000				  -SetUpInstrumentY2
   1386  f000				  -	      lda	(p_instrstable),y
   1387  f000				  -	      sta	trackn_instrdb,x
   1388  f000				  -	      sta	_nt
   1389  f000				  -	      iny
   1390  f000				  -	      lda	(p_instrstable),y
   1391  f000				  -	      sta	trackn_instrhb,x
   1392  f000				  -	      sta	_nt+1
   1393  f000				  -	      ldy	#0
   1394  f000				  -	      lda	(_nt),y
   1395  f000				  -	      sta	trackn_tableend,x
   1396  f000				  -	      clc
   1397  f000				  -	      adc	#1
   1398  f000				  -	      sta	trackn_instridx,x
   1399  f000				  -	      iny
   1400  f000				  -	      lda	(_nt),y
   1401  f000				  -	      sta	trackn_tablelop,x
   1402  f000				  -	      iny
   1403  f000				  -	      lda	(_nt),y
   1404  f000				  -	      sta	trackn_instrlen,x
   1405  f000				  -	      iny
   1406  f000				  -	      lda	(_nt),y
   1407  f000				  -	      sta	trackn_instrlop,x
   1408  f000				  -	      iny
   1409  f000				  -	      lda	(_nt),y
   1410  f000				  -	      sta	trackn_tabletypespeed,x
   1411  f000				  -	      IF	FEAT_TABLETYPE||FEAT_TABLEMODE
   1412  f000				  -	      and	#$3f
   1413  f000				  -	      ENDIF
   1414  f000				  -	      sta	trackn_tablespeeda,x
   1415  f000				  -	      IF	FEAT_TABLEMODE
   1416  f000				  -	      lda	(_nt),y
   1417  f000				  -	      and	#$40
   1418  f000				  -	      sta	trackn_tablemode,x
   1419  f000				  -	      ENDIF
   1420  f000				  -	      iny
   1421  f000				  -	      IF	FEAT_AUDCTLMANUALSET
   1422  f000				  -	      lda	(_nt),y
   1423  f000				  -	      sta	trackn_audctl,x
   1424  f000				  -	      ENDIF
   1425  f000				  -	      iny
   1426  f000				  -	      lda	(_nt),y
   1427  f000				  -	      sta	trackn_volumeslidedepth,x
   1428  f000				  -	      iny
   1429  f000				  -	      lda	(_nt),y
   1430  f000				  -	      sta	trackn_volumemin,x
   1431  f000				  -	      iny
   1432  f000				  -	      lda	(_nt),y
   1433  f000				  -	      sta	trackn_effdelay,x
   1434  f000				  -	      iny
   1435  f000				  -	      lda	(_nt),y
   1436  f000				  -	      tay
   1437  f000				  -	      lda	vibtabbeg,y
   1438  f000				  -	      sta	trackn_effvibratoa,x
   1439  f000				  -	      sta	trackn_effvibratobeg,x
   1440  f000				  -	      lda	vibtabbeg+1,y
   1441  f000				  -	      sta	trackn_effvibratoend,x
   1442  f000				  -	      ldy	#10
   1443  f000				  -	      lda	(_nt),y
   1444  f000				  -	      sta	trackn_effshift,x
   1445  f000				  -	      lda	#128
   1446  f000				  -	      sta	trackn_volumeslidevalue,x
   1447  f000				  -	      lda	#0
   1448  f000				  -	      sta	trackn_instrreachend,x
   1449  f000				  -	      sta	trackn_shiftfrq,x
   1450  f000				  -	      lda	#INSTRPAR
   1451  f000				  -	      sta	trackn_tablea,x
   1452  f000				  -	      tay
   1453  f000				  -	      lda	(_nt),y
   1454  f000				  -	      sta	trackn_tablenote,x
   1455  f000				  -	      IF	FEAT_FILTER
   1456  f000				  -	      lda	#1
   1457  f000				  -	      sta	trackn_filter,x
   1458  f000				  -	      ENDIF
   1459  f000				  -	      rts
   1460  f000				  -InstrumentsEffects
   1461  f000				  -	      lda	trackn_effdelay,x
   1462  f000				  -	      beq	ei2
   1463  f000				  -	      tay
   1464  f000				  -	      dey
   1465  f000				  -	      bne	ei1
   1466  f000				  -	      lda	trackn_shiftfrq,x
   1467  f000				  -	      clc
   1468  f000				  -	      adc	trackn_effshift,x
   1469  f000				  -	      clc
   1470  f000				  -	      ldy	trackn_effvibratoa,x
   1471  f000				  -	      adc	vib0,y
   1472  f000				  -	      sta	trackn_shiftfrq,x
   1473  f000				  -	      iny
   1474  f000				  -	      tya
   1475  f000				  -	      cmp	trackn_effvibratoend,x
   1476  f000				  -	      bne	ei1a
   1477  f000				  -	      lda	trackn_effvibratobeg,x
   1478  f000				  -ei1a
   1479  f000				  -	      sta	trackn_effvibratoa,x
   1480  f000				  -	      jmp	ei2
   1481  f000				  -ei1
   1482  f000				  -	      tya
   1483  f000				  -	      sta	trackn_effdelay,x
   1484  f000				  -ei2
   1485  f000				  -	      lda	trackn_tableend,x
   1486  f000				  -	      cmp	#INSTRPAR
   1487  f000				  -	      beq	ei3
   1488  f000				  -	      lda	trackn_tablespeeda,x
   1489  f000				  -	      bpl	ei2f
   1490  f000				  -ei2c
   1491  f000				  -	      lda	trackn_tablea,x
   1492  f000				  -	      clc
   1493  f000				  -	      adc	#1
   1494  f000				  -	      cmp	trackn_tableend,x
   1495  f000				  -	      bcc	ei2a
   1496  f000				  -	      beq	ei2a
   1497  f000				  -	      lda	trackn_tablelop,x
   1498  f000				  -ei2a
   1499  f000				  -	      sta	trackn_tablea,x
   1500  f000				  -	      lda	trackn_instrdb,x
   1501  f000				  -	      sta	_nt
   1502  f000				  -	      lda	trackn_instrhb,x
   1503  f000				  -	      sta	_nt+1
   1504  f000				  -	      ldy	trackn_tablea,x
   1505  f000				  -	      lda	(_nt),y
   1506  f000				  -	      IF	FEAT_TABLEMODE
   1507  f000				  -	      ldy	trackn_tablemode,x
   1508  f000				  -	      beq	ei2e
   1509  f000				  -	      clc
   1510  f000				  -	      adc	trackn_tablenote,x
   1511  f000				  -ei2e
   1512  f000				  -	      ENDIF
   1513  f000				  -	      sta	trackn_tablenote,x
   1514  f000				  -	      lda	trackn_tabletypespeed,x
   1515  f000				  -	      IF	FEAT_TABLETYPE||FEAT_TABLEMODE
   1516  f000				  -	      and	#$3f
   1517  f000				  -	      ENDIF
   1518  f000				  -ei2f
   1519  f000				  -	      sec
   1520  f000				  -	      sbc	#1
   1521  f000				  -	      sta	trackn_tablespeeda,x
   1522  f000				  -ei3
   1523  f000				  -	      lda	trackn_instrreachend,x
   1524  f000				  -	      bpl	ei4
   1525  f000				  -	      lda	trackn_volume,x
   1526  f000				  -	      beq	ei4
   1527  f000				  -	      cmp	trackn_volumemin,x
   1528  f000				  -	      beq	ei4
   1529  f000				  -	      bcc	ei4
   1530  f000				  -	      tay
   1531  f000				  -	      lda	trackn_volumeslidevalue,x
   1532  f000				  -	      clc
   1533  f000				  -	      adc	trackn_volumeslidedepth,x
   1534  f000				  -	      sta	trackn_volumeslidevalue,x
   1535  f000				  -	      bcc	ei4
   1536  f000				  -	      tya
   1537  f000				  -	      sbc	#16
   1538  f000				  -	      sta	trackn_volume,x
   1539  f000				  -ei4
   1540  f000				  -	      jmp	returnfromInstrumentsEffects
   1541  f000				  -
   1542  f000				  -rmtmoduleend
   1543  f000				  -	      echo	"  (rmtplayer module is using ",[(rmtmoduleend-rmtmodulestart)]d," bytes of rom)"
   1544  f000				  -	      echo	"  (rmtplayer module is using ",[(MEMLOC-RMTRAM-1)]d," bytes of ram)"
   1545  f000				  -
   1546  f000					      endif		; RMT
------- FILE rpmegafighter.bas.asm
   9263  f000					      endif
   9264  f000					      ifnconst	included.7800vox.asm
------- FILE 7800vox.asm LEVEL 2 PASS 3
      0  f000					      include	7800vox.asm
      1  f000							; Provided under the CC0 license. See the included LICENSE.txt for details.
      2  f000
      3  f000							; AtariVox 7800basic wrapper
      4  f000
      5  f000							; to be called with
      6  f000							; A=# of bytes
      7  f000							;
      8  f000
      9  f000				  -	      ifconst	HSSUPPORT
     10  f000				  -
     11  f000				  -_7800voxstart
     12  f000				  -
     13  f000				  -AVoxReadBytes
     14  f000				  -	      sta	temp8
     15  f000				  -	      jsr	i2c_startwrite
     16  f000				  -	      bcs	eeprom_error
     17  f000				  -
     18  f000				  -	      lda	HSVoxHi
     19  f000				  -	      jsr	i2c_txbyte
     20  f000				  -	      lda	HSVoxLo
     21  f000				  -	      jsr	i2c_txbyte
     22  f000				  -	      jsr	i2c_stopwrite
     23  f000				  -
     24  f000				  -	      jsr	i2c_startread
     25  f000				  -
     26  f000				  -	      ldx	#0
     27  f000				  -AVoxReadBytesLoop
     28  f000				  -	      jsr	i2c_rxbyte
     29  f000				  -	      sta	eeprombuffer,x
     30  f000				  -	      inx
     31  f000				  -	      cpx	temp8
     32  f000				  -	      bne	AVoxReadBytesLoop
     33  f000				  -	      jsr	i2c_stopread
     34  f000				  -	      lda	#0
     35  f000				  -	      rts
     36  f000				  -
     37  f000				  -			; to be called with
     38  f000				  -			; A=# of bytes
     39  f000				  -			;
     40  f000				  -
     41  f000				  -AVoxWriteBytes
     42  f000				  -	      sta	temp8
     43  f000				  -	      jsr	i2c_startwrite
     44  f000				  -	      bcs	eeprom_error
     45  f000				  -
     46  f000				  -	      lda	HSVoxHi
     47  f000				  -	      jsr	i2c_txbyte
     48  f000				  -	      lda	HSVoxLo
     49  f000				  -	      jsr	i2c_txbyte
     50  f000				  -
     51  f000				  -	      ldx	#$00
     52  f000				  -AVoxWriteBytesLoop
     53  f000				  -	      lda	eeprombuffer,x
     54  f000				  -	      jsr	i2c_txbyte
     55  f000				  -	      inx
     56  f000				  -	      cpx	temp8
     57  f000				  -	      bne	AVoxWriteBytesLoop
     58  f000				  -	      jsr	i2c_stopwrite
     59  f000				  -
     60  f000				  -	      lda	#0
     61  f000				  -	      rts
     62  f000				  -
     63  f000				  -eeprom_error
     64  f000				  -	      lda	#$ff
     65  f000				  -	      rts
     66  f000				  -
     67  f000				  -AVoxDetect
     68  f000				  -
     69  f000				  -	      jsr	i2c_startwrite
     70  f000				  -	      bcs	eeprom_error
     71  f000				  -	      lda	#$30
     72  f000				  -	      jsr	i2c_txbyte
     73  f000				  -	      lda	#$00
     74  f000				  -	      jsr	i2c_txbyte
     75  f000				  -	      jsr	i2c_stopwrite
     76  f000				  -	      rts
     77  f000				  -
     78  f000				  -	      include	"i2c7800.inc"
     79  f000				  -	      I2C_SUBS	temp9
     80  f000				  -
     81  f000				  -_7800voxend
     82  f000				  -
     83  f000				  -	      echo	"  (7800vox module is using ",[(_7800voxend-_7800voxstart)]d," bytes)"
     84  f000				  -
     85  f000					      endif
     86  f000
------- FILE rpmegafighter.bas.asm
   9266  f000					      endif
   9267  f000					      ifnconst	included.pokeysound.asm
------- FILE pokeysound.asm LEVEL 2 PASS 3
      0  f000					      include	pokeysound.asm
      1  f000							; Provided under the CC0 license. See the included LICENSE.txt for details.
      2  f000
      3  f000
      4  f000				  -	      ifconst	pokeysupport
      5  f000				  -
      6  f000				  -pokeysoundmodulestart
      7  f000				  -
      8  f000				  -mutepokey
      9  f000				  -	      lda	#0
     10  f000				  -	      ldy	#7
     11  f000				  -mutepokeyloop
     12  f000				  -	      sta	pokey1pointlo,y
     13  f000				  -	      sta	(pokeybaselo),y
     14  f000				  -	      dey
     15  f000				  -	      bpl	mutepokeyloop
     16  f000				  -	      rts
     17  f000				  -
     18  f000				  -	      ifconst	pokeysfxsupport
     19  f000				  -
     20  f000				  -checkpokeyplaying
     21  f000				  -	      ldx	#6
     22  f000				  -checkpokeyplayingloop
     23  f000				  -	      lda	pokey1pointlo,x
     24  f000				  -	      ora	pokey1pointhi,x
     25  f000				  -	      beq	pokeychannelinactive
     26  f000				  -	      jsr	playpokeysfxA	; x=channel*2
     27  f000				  -pokeychannelinactive
     28  f000				  -	      dex
     29  f000				  -	      dex
     30  f000				  -	      bpl	checkpokeyplayingloop
     31  f000				  -	      rts
     32  f000				  -
     33  f000				  -playpokeysfxA
     34  f000				  -	      txa
     35  f000				  -	      tay
     36  f000				  -	      lda	pokey1tick,x
     37  f000				  -	      beq	playpokeysfxAcont
     38  f000				  -	      sec
     39  f000				  -	      sbc	#1
     40  f000				  -	      sta	pokey1tick,x	; sound resolution is >1 frame, and we're mid-tock...
     41  f000				  -	      rts
     42  f000				  -
     43  f000				  -playpokeysfxAcont
     44  f000				  -	      lda	pokey1frames,x	; set the frame countdown for this sound chunk
     45  f000				  -	      sta	pokey1tick,x
     46  f000				  -
     47  f000				  -	      lda	pokey1priority,x	; decrease the sound's priority if its non-zero
     48  f000				  -	      beq	playpokeysfxAcont2
     49  f000				  -	      sec
     50  f000				  -	      sbc	#1
     51  f000				  -	      sta	pokey1priority,x
     52  f000				  -playpokeysfxAcont2
     53  f000				  -
     54  f000				  -			; *** FREQUENCY
     55  f000				  -	      lda	(pokey1pointlo,x)
     56  f000				  -	      sta	inttemp1
     57  f000				  -	      clc
     58  f000				  -	      adc	pokey1offset,x	; take into account any pitch modification
     59  f000				  -	      sta	(pokeybaselo),y	; PAUDF0,0
     60  f000				  -
     61  f000				  -			;advance the data pointer +1
     62  f000				  -	      inc	pokey1pointlo,x
     63  f000				  -	      bne	skippokeyhiinc1
     64  f000				  -	      inc	pokey1pointhi,x
     65  f000				  -skippokeyhiinc1
     66  f000				  -
     67  f000				  -			; *** WAVE
     68  f000				  -	      lda	(pokey1pointlo,x)
     69  f000				  -	      asl
     70  f000				  -	      asl
     71  f000				  -	      asl
     72  f000				  -	      asl		; x16
     73  f000				  -
     74  f000				  -			;advance the data pointer +1
     75  f000				  -	      inc	pokey1pointlo,x
     76  f000				  -	      bne	skippokeyhiinc2
     77  f000				  -	      inc	pokey1pointhi,x
     78  f000				  -skippokeyhiinc2
     79  f000				  -
     80  f000				  -	      ora	(pokey1pointlo,x)
     81  f000				  -	      iny
     82  f000				  -	      sta	(pokeybaselo),y
     83  f000				  -
     84  f000				  -	      ora	inttemp1	; check if F|C|V=0
     85  f000				  -	      beq	zeropokeypoint	; if so, we're at the end of the sound.
     86  f000				  -
     87  f000				  -			; advance the pointer +1, on to the next sound chunk
     88  f000				  -	      inc	pokey1pointlo,x
     89  f000				  -	      bne	skippokeyhiinc3
     90  f000				  -	      inc	pokey1pointhi,x
     91  f000				  -skippokeyhiinc3
     92  f000				  -	      rts
     93  f000				  -
     94  f000				  -zeropokeypoint
     95  f000				  -	      sta	pokey1pointlo,x
     96  f000				  -	      sta	pokey1pointhi,x
     97  f000				  -	      sta	pokey1priority,x
     98  f000				  -	      rts
     99  f000				  -
    100  f000				  -schedulepokeysfx
    101  f000				  -	      ldx	#6
    102  f000				  -schedulepokeysfxloop
    103  f000				  -	      lda	pokey1pointlo,x
    104  f000				  -	      ora	pokey1pointhi,x
    105  f000				  -	      bne	schedulespokeysearch
    106  f000				  -	      jmp	schedulepokeyX	; we found an unused channel, so use it...
    107  f000				  -schedulespokeysearch
    108  f000				  -	      dex
    109  f000				  -	      dex
    110  f000				  -	      bpl	schedulepokeysfxloop
    111  f000				  -
    112  f000				  -			; if we're here, all 4 channels are presently playing a sound...
    113  f000				  -	      ldy	#1
    114  f000				  -	      lda	(sfxinstrumentlo),y	; peek at the priority of this sfx...
    115  f000				  -	      bne	schedulepokeysfxcont1
    116  f000				  -	      rts		; ...and skip it if it's 0 priority
    117  f000				  -schedulepokeysfxcont1
    118  f000				  -
    119  f000				  -			; figure out which current sound has the lowest priority...
    120  f000				  -	      lda	#0
    121  f000				  -	      sta	temp8
    122  f000				  -	      lda	pokey1priority
    123  f000				  -	      sta	temp9
    124  f000				  -	      ldx	#6
    125  f000				  -findlowprioritypokeyloop
    126  f000				  -	      lda	pokey1priority,x
    127  f000				  -	      cmp	temp9
    128  f000				  -	      bcs	findlowprioritypokeyloopcontinue
    129  f000				  -	      sta	temp9
    130  f000				  -	      stx	temp8
    131  f000				  -findlowprioritypokeyloopcontinue
    132  f000				  -	      dex
    133  f000				  -	      dex
    134  f000				  -	      bne	findlowprioritypokeyloop
    135  f000				  -	      ldx	temp8	; the low priority channel we'll interrupt
    136  f000				  -
    137  f000				  -schedulepokeyX
    138  f000				  -			;called with X=2*pokey channel to play on...
    139  f000				  -	      ldy	#1	; get priority and sound-resolution (in frames)
    140  f000				  -	      lda	(sfxinstrumentlo),y
    141  f000				  -	      sta	pokey1priority,x
    142  f000				  -	      iny
    143  f000				  -	      lda	(sfxinstrumentlo),y
    144  f000				  -	      sta	pokey1frames,x
    145  f000				  -
    146  f000				  -	      lda	sfxinstrumentlo
    147  f000				  -	      clc
    148  f000				  -	      adc	#3
    149  f000				  -	      sta	pokey1pointlo,x
    150  f000				  -	      lda	sfxinstrumenthi
    151  f000				  -	      adc	#0
    152  f000				  -	      sta	pokey1pointhi,x
    153  f000				  -	      lda	sfxpitchoffset
    154  f000				  -	      sta	pokey1offset,x
    155  f000				  -	      lda	#0
    156  f000				  -	      sta	pokey1tick,x
    157  f000				  -	      rts
    158  f000				  -	      else
    159  f000				  -schedulepokeysfx		; just some stubs
    160  f000				  -checkpokeyplaying
    161  f000				  -	      rts
    162  f000				  -	      endif		; pokeysfxsupport
    163  f000				  -
    164  f000				  -			; pokey detection routine. we check for pokey in the XBOARD/XM location,
    165  f000				  -			; and the standard $4000 location.
    166  f000				  -			; if pokey the pokey is present, this routine will reset it.
    167  f000				  -	      ifconst	pokeyaddress
    168  f000				  -detectpokeylocation
    169  f000				  -	      lda	#<pokeyaddress
    170  f000				  -	      sta	pokeybaselo
    171  f000				  -	      lda	#>pokeyaddress
    172  f000				  -	      sta	pokeybasehi
    173  f000				  -	      lda	#$ff
    174  f000				  -	      sta	pokeydetected
    175  f000				  -
    176  f000				  -	      if	pokeyaddress = $450
    177  f000				  -	      lda	XCTRL1s
    178  f000				  -	      ora	#%00010100
    179  f000				  -	      sta	XCTRL1s
    180  f000				  -	      sta	XCTRL1
    181  f000				  -	      endif
    182  f000				  -
    183  f000				  -
    184  f000				  -	      lda	#0
    185  f000				  -	      ldy	#15
    186  f000				  -clearpokeyloop
    187  f000				  -	      sta	(pokeybase),y
    188  f000				  -	      dey
    189  f000				  -	      bpl	clearpokeyloop
    190  f000				  -			; take pokey out of reset...
    191  f000				  -	      ldy	#PSKCTL
    192  f000				  -	      lda	#3
    193  f000				  -	      sta	(pokeybase),y
    194  f000				  -	      ldy	#PAUDCTL
    195  f000				  -	      lda	#0
    196  f000				  -	      sta	(pokeybase),y
    197  f000				  -	      rts
    198  f000				  -	      else		; !pokeyaddress
    199  f000				  -detectpokeylocation
    200  f000				  -			;XBoard/XM...
    201  f000				  -	      ldx	#2
    202  f000				  -detectpokeyloop
    203  f000				  -	      lda	XCTRL1s
    204  f000				  -	      ora	#%00010100
    205  f000				  -	      and	POKEYXMMASK,x
    206  f000				  -	      sta	XCTRL1s
    207  f000				  -	      sta	XCTRL1
    208  f000				  -
    209  f000				  -	      lda	POKEYCHECKLO,x
    210  f000				  -	      sta	pokeybaselo
    211  f000				  -	      lda	POKEYCHECKHI,x
    212  f000				  -	      sta	pokeybasehi
    213  f000				  -	      jsr	checkforpokey
    214  f000				  -	      lda	pokeydetected
    215  f000				  -	      beq	foundpokeychip
    216  f000				  -	      dex
    217  f000				  -	      bpl	detectpokeyloop
    218  f000				  -foundpokeychip
    219  f000				  -	      eor	#$ff	; invert state for 7800basic if...then test
    220  f000				  -	      sta	pokeydetected
    221  f000				  -	      rts
    222  f000				  -
    223  f000				  -POKEYXMMASK
    224  f000				  -			;     XM POKEY on    XM POKEY off   XM POKEY off
    225  f000				  -	      .byte	%11111111, %11101111, %11101111
    226  f000				  -
    227  f000				  -POKEYCHECKLO
    228  f000				  -	      .byte	<$0450, <$0450, <$4000
    229  f000				  -POKEYCHECKHI
    230  f000				  -	      .byte	>$0450, >$0450, >$4000
    231  f000				  -
    232  f000				  -checkforpokey
    233  f000				  -	      ldy	#$0f
    234  f000				  -	      lda	#$00
    235  f000				  -	      sta	pokeydetected	; start off by assuming pokey will be detected
    236  f000				  -resetpokeyregistersloop
    237  f000				  -	      sta	(pokeybase),y
    238  f000				  -	      dey
    239  f000				  -	      bpl	resetpokeyregistersloop
    240  f000				  -
    241  f000				  -	      ldy	#PAUDCTL
    242  f000				  -	      sta	(pokeybase),y
    243  f000				  -	      ldy	#PSKCTL
    244  f000				  -	      sta	(pokeybase),y
    245  f000				  -
    246  f000				  -			; let the dust settle...
    247  f000				  -	      nop
    248  f000				  -	      nop
    249  f000				  -	      nop
    250  f000				  -
    251  f000				  -	      lda	#4
    252  f000				  -	      sta	temp9
    253  f000				  -pokeycheckloop1
    254  f000				  -			; we're in reset, so the RANDOM register should read $ff...
    255  f000				  -	      ldy	#PRANDOM
    256  f000				  -	      lda	(pokeybase),y
    257  f000				  -	      cmp	#$ff
    258  f000				  -	      bne	nopokeydetected
    259  f000				  -	      dec	temp9
    260  f000				  -	      bne	pokeycheckloop1
    261  f000				  -
    262  f000				  -			; take pokey out of reset...
    263  f000				  -	      ldy	#PSKCTL
    264  f000				  -	      lda	#3
    265  f000				  -	      sta	(pokeybase),y
    266  f000				  -	      ldy	#PAUDCTL
    267  f000				  -	      lda	#0
    268  f000				  -	      sta	(pokeybase),y
    269  f000				  -
    270  f000				  -			; let the dust settle again...
    271  f000				  -	      nop
    272  f000				  -	      nop
    273  f000				  -	      nop
    274  f000				  -
    275  f000				  -	      lda	#4
    276  f000				  -	      sta	temp9
    277  f000				  -pokeycheckloop2
    278  f000				  -			; we're out of reset, so RANDOM should read non-$ff...
    279  f000				  -	      ldy	#PRANDOM
    280  f000				  -	      lda	(pokeybase),y
    281  f000				  -	      cmp	#$ff
    282  f000				  -	      beq	skippokeycheckreturn
    283  f000				  -	      rts
    284  f000				  -skippokeycheckreturn
    285  f000				  -	      dec	temp9
    286  f000				  -	      bne	pokeycheckloop2
    287  f000				  -nopokeydetected
    288  f000				  -	      dec	pokeydetected	; pokeydetected=#$ff
    289  f000				  -	      rts
    290  f000				  -
    291  f000				  -	      endif		; !pokeyaddress
    292  f000				  -
    293  f000				  -pokeysoundmoduleend
    294  f000				  -
    295  f000				  -	      echo	"  (pokeysound module is using ",[(pokeysoundmoduleend-pokeysoundmodulestart)]d," bytes of rom)"
    296  f000				  -
    297  f000					      endif		; pokeysupport
------- FILE rpmegafighter.bas.asm
   9269  f000					      endif
   9270  f000					      ifnconst	included.snes2atari.asm
------- FILE snes2atari.asm LEVEL 2 PASS 3
      0  f000					      include	snes2atari.asm
      1  f000							; Provided under the CC0 license. See the included LICENSE.txt for details.
      2  f000
      3  f000				  -	      ifconst	SNES2ATARISUPPORT
      4  f000				  -snes2atarimodulestart
      5  f000				  -
      6  f000				  -SNES_CLOCK_PORT_BIT
      7  f000				  -	      .byte	$10,$01
      8  f000				  -SNES_CTLSWA_MASK
      9  f000				  -	      .byte	$30,$03
     10  f000				  -SNES_CTLSWA_SIGNAL
     11  f000				  -	      .byte	$C0,$0C
     12  f000				  -
     13  f000				  -			; Probe each port for SNES, and see if autodetection succeeds anywhere.
     14  f000				  -SNES_AUTODETECT
     15  f000				  -	      ifconst	HSSUPPORT
     16  f000				  -			; ** an atarivox might be plugged in, so we skip scanning the second
     17  f000				  -			; ** port for a snes if vox was detected...
     18  f000				  -	      lda	hsdevice	; b1 high means atarivox/savekey was detected
     19  f000				  -	      lsr
     20  f000				  -	      and	#1
     21  f000				  -	      eor	#1
     22  f000				  -	      tax
     23  f000				  -	      else
     24  f000				  -	      ldx	#1
     25  f000				  -	      endif		; HSSUPPORT
     26  f000				  -
     27  f000				  -SNES_AUTODETECT_LOOP
     28  f000				  -	      ifnconst	MULTIBUTTON	; snesdetect shouldn't be used in multibutton mode
     29  f000				  -	      lda	#1	; proline
     30  f000				  -	      sta	port0control,x
     31  f000				  -	      jsr	setportforinput
     32  f000				  -	      jsr	setonebuttonmode
     33  f000				  -	      jsr	SNES_READ
     34  f000				  -	      lda	snesdetected0,x
     35  f000				  -	      bne	SNES_AUTODETECT_FOUND
     36  f000				  -			; detection failed
     37  f000				  -	      jsr	setportforinput
     38  f000				  -	      jsr	settwobuttonmode
     39  f000				  -	      dex
     40  f000				  -	      bpl	SNES_AUTODETECT_LOOP
     41  f000				  -	      rts
     42  f000				  -SNES_AUTODETECT_FOUND
     43  f000				  -	      lda	#11	; formally set the snes controller
     44  f000				  -	      sta	port0control,x
     45  f000				  -	      stx	snesport
     46  f000				  -	      endif		; !MULTIBUTTON
     47  f000				  -	      rts
     48  f000					      endif		; SNES2ATARISUPPORT
     49  f000
     50  f000				   snes2atarihandler
     51  f000				  -	      ifconst	SNES2ATARISUPPORT
     52  f000				  -SNES2ATARI
     53  f000				  -	      jsr	SNES_READ
     54  f000				  -	      jmp	buttonreadloopreturn
     55  f000				  -
     56  f000				  -SNES_READ
     57  f000				  -			; x=0 for left port, x=1 for right
     58  f000				  -	      lda	port0control,x
     59  f000				  -	      cmp	#11	; snes
     60  f000				  -	      bne	snes2atari_signal_go	; if this is a first auto-detection read, go ahead and signal
     61  f000				  -	      lda	snesdetected0,x
     62  f000				  -	      bne	snes2atari_signal_skip	; if snes was available in previous frames, skip signalling
     63  f000				  -snes2atari_signal_go
     64  f000				  -	      jsr	SNES2ATARI_SIGNAL
     65  f000				  -snes2atari_signal_skip
     66  f000				  -
     67  f000				  -	      lda	CTLSWA
     68  f000				  -	      and	SWCHA_DIRMASK+1,x	; preserve other nibble
     69  f000				  -	      ora	SNES_CTLSWA_MASK,x
     70  f000				  -	      sta	CTLSWA	; enable pins UP/DOWN to work as outputs
     71  f000				  -
     72  f000				  -	      lda	SWCHA
     73  f000				  -	      and	SWCHA_DIRMASK+1,x	; preserve other nibble
     74  f000				  -	      ora	SNES_CTLSWA_MASK,x
     75  f000				  -
     76  f000				  -	      sta	SWCHA	; latch+clock high
     77  f000				  -	      nop
     78  f000				  -	      nop
     79  f000				  -	      nop
     80  f000				  -	      nop
     81  f000				  -	      nop
     82  f000				  -	      nop
     83  f000				  -	      nop
     84  f000				  -	      lda	SWCHA
     85  f000				  -	      and	SWCHA_DIRMASK+1,x	; preserve other nibble
     86  f000				  -	      sta	SWCHA	; latch and clock low
     87  f000				  -	      ldy	#16	; 16 bits
     88  f000				  -SNES2ATARILOOP
     89  f000				  -	      rol	INPT4,x	; sample data into carry
     90  f000				  -	      lda	SWCHA
     91  f000				  -	      and	SWCHA_DIRMASK+1,x	; preserve other nibble
     92  f000				  -	      ora	SNES_CLOCK_PORT_BIT,x
     93  f000				  -	      sta	SWCHA	; clock low
     94  f000				  -	      rol	snes2atari0lo,x
     95  f000				  -	      rol	snes2atari0hi,x
     96  f000				  -	      lda	SWCHA
     97  f000				  -	      and	SWCHA_DIRMASK+1,x	; preserve other nibble
     98  f000				  -	      sta	SWCHA	; latch and clock low
     99  f000				  -	      dey		; next bit
    100  f000				  -	      bne	SNES2ATARILOOP
    101  f000				  -	      rol	INPT4,x	; 17th bit should be lo if controller is there.
    102  f000				  -	      rol		; 17th snes bit into A low bit
    103  f000				  -	      eor	snes2atari0lo,x	; 16th bit should be hi if controller is there.
    104  f000				  -	      and	#1
    105  f000				  -	      sta	snesdetected0,x
    106  f000				  -	      beq	SNES_STOP_CLOCK	; if snes isn't detected, leave port in default state
    107  f000				  -	      stx	snesport	; snesport keeps the index of the latest autodetected controller
    108  f000				  -	      lda	SWCHA
    109  f000				  -	      and	SWCHA_DIRMASK+1,x	; preserve other nibble
    110  f000				  -	      ora	SNES_CLOCK_PORT_BIT,x
    111  f000				  -	      jmp	SNES_STOP_CLOCK
    112  f000				  -SNES_STOP_CLOCK
    113  f000				  -	      sta	SWCHA	; clock low
    114  f000				  -	      lda	CTLSWA
    115  f000				  -	      and	SWCHA_DIRMASK+1,x	; preserve other nibble
    116  f000				  -			;ora SNES_CLOCK_PORT_BIT,x
    117  f000				  -	      sta	CTLSWA	; set port bits to input avoid conflict with other drivers
    118  f000				  -	      ifconst	MULTIBUTTON
    119  f000				  -	      lda	snesdetected0,x
    120  f000				  -	      bne	snesexit
    121  f000				  -	      lda	#1	; proline
    122  f000				  -	      sta	port0control,x
    123  f000				  -	      jmp	settwobuttonmode
    124  f000				  -snesexit
    125  f000				  -	      lda	#6
    126  f000				  -	      sta	multibuttoncount0,x
    127  f000				  -			; stuff directions into sSWCHA nibble and buttons into sINPT1,x...
    128  f000				  -	      lda	s2a_joyshiftcount,x
    129  f000				  -	      tay
    130  f000				  -	      lda	snes2atari0hi,x
    131  f000				  -snesjoypadloop
    132  f000				  -	      lsr
    133  f000				  -	      rol	inttemp6
    134  f000				  -	      dey
    135  f000				  -	      bpl	snesjoypadloop
    136  f000				  -	      lda	sSWCHA
    137  f000				  -	      ora	SWCHA_DIRMASK,x	; turn off the bits for this port
    138  f000				  -	      sta	sSWCHA
    139  f000				  -	      lda	inttemp6
    140  f000				  -	      ora	SWCHA_DIRMASK+1,x	; don't change the other port
    141  f000				  -	      and	sSWCHA
    142  f000				  -	      sta	sSWCHA
    143  f000				  -
    144  f000				  -			; snes2atari0hi = B  Y  Se St *  *  *	*
    145  f000				  -			; snes2atari0lo = A  X  Ls Rs
    146  f000				  -			; sINPT1	 = B  A  Y  X  Ls Rs Se St
    147  f000				  -	      lda	snes2atari0lo,x
    148  f000				  -	      sta	inttemp5
    149  f000				  -	      lda	snes2atari0hi,x
    150  f000				  -	      sta	inttemp6
    151  f000				  -	      asl	inttemp5	; A
    152  f000				  -	      rol
    153  f000				  -	      asl	inttemp6	; B
    154  f000				  -	      rol
    155  f000				  -	      asl	inttemp6	; Y
    156  f000				  -	      rol
    157  f000				  -	      asl	inttemp5	; X
    158  f000				  -	      rol
    159  f000				  -	      asl	inttemp5	; Ls
    160  f000				  -	      rol
    161  f000				  -	      asl	inttemp5	; Rs
    162  f000				  -	      rol
    163  f000				  -	      asl	inttemp6	; Ls
    164  f000				  -	      rol
    165  f000				  -	      asl	inttemp6	; Rs
    166  f000				  -	      rol
    167  f000				  -	      eor	#%11000000	; invert to match proline
    168  f000				  -	      sta	sINPT1,x
    169  f000				  -	      endif		; MULTIBUTTON
    170  f000				  -	      rts
    171  f000				  -SNES2ATARI_SIGNAL
    172  f000				  -			; signal to SNES2ATARI++ that we want SNES mode...
    173  f000				  -	      lda	CTLSWA
    174  f000				  -	      and	SWCHA_DIRMASK+1,x	; preserve other nibble
    175  f000				  -	      ora	SNES_CTLSWA_SIGNAL,x
    176  f000				  -	      sta	CTLSWA
    177  f000				  -	      lda	SWCHA
    178  f000				  -	      and	SWCHA_DIRMASK+1,x	; preserve other nibble
    179  f000				  -	      sta	SWCHA
    180  f000				  -	      ldy	#16
    181  f000				  -SNES_SIGNAL_LOOP
    182  f000				  -	      dey
    183  f000				  -	      bne	SNES_SIGNAL_LOOP
    184  f000				  -	      lda	SWCHA
    185  f000				  -	      ora	SWCHA_DIRMASK,x
    186  f000				  -	      sta	SWCHA
    187  f000				  -	      rts
    188  f000				  -s2a_joyshiftcount
    189  f000				  -	      .byte	7,3
    190  f000				  -snes2atarimoduleend
    191  f000				  -	      echo	"  (snes2atari module is using ",[(snes2atarimoduleend-snes2atarimodulestart)]d," bytes of rom)"
    192  f000					      endif		; SNES2ATARISUPPORT
    193  f000
    194  f000
------- FILE rpmegafighter.bas.asm
   9272  f000					      endif
   9273  f000					      ifnconst	included.mega7800.asm
------- FILE mega7800.asm LEVEL 2 PASS 3
      0  f000					      include	mega7800.asm
      1  f000							; Provided under the CC0 license. See the included LICENSE.txt for details.
      2  f000
      3  f000				   mega7800handlerstart
      4  f000				   mega7800handler
      5  f000				  -	      ifconst	MEGA7800SUPPORT
      6  f000				  -
      7  f000				  -			; ** stuff the joyick directions into the shadow register
      8  f000				  -	      lda	sSWCHA	; clear previous dirs for this pad, from
      9  f000				  -	      ora	SWCHA_DIRMASK,x	; our sSWCHA nibble.
     10  f000				  -	      sta	sSWCHA
     11  f000				  -	      lda	SWCHA	; load the actual joystick dirs, ensuring
     12  f000				  -	      ora	SWCHA_DIRMASK+1,x	; we don't change the other nibble.
     13  f000				  -	      and	sSWCHA
     14  f000				  -	      sta	sSWCHA
     15  f000				  -
     16  f000				  -			; x=0 for left port, x=1 for right
     17  f000				  -
     18  f000				  -	      lda	#0
     19  f000				  -	      sta	inttemp5	; temporary button-state storage
     20  f000				  -	      sta	inttemp6	; temporary button-state storage
     21  f000				  -
     22  f000				  -	      lda	CTLSWA
     23  f000				  -	      and	SWCHA_DIRMASK+1,x	; preserve other port nibble
     24  f000				  -	      ora	MEGA_INIT,x
     25  f000				  -	      sta	CTLSWA	; enable pins UP/DOWN to work as outputs
     26  f000				  -
     27  f000				  -			; the controller type bits take a few cycles to get set after we start
     28  f000				  -			; an extended read, so we'll start the first extended read early...
     29  f000				  -	      lda	SWCHA
     30  f000				  -	      and	SWCHA_DIRMASK+1,x	; preserve other port nibble
     31  f000				  -	      sta	SWCHA	; all bits are low, which STARTS the extended read
     32  f000				  -	      nop
     33  f000				  -	      nop
     34  f000				  -
     35  f000				  -			; first read  will be pad state (mega7800 connect and controller type)
     36  f000				  -			; second read will be 3 button support (SACB)
     37  f000				  -			; third read  will be 6 button support (MXYZ)
     38  f000				  -
     39  f000				  -	      ldy	#5	; read 6x states, with the first 2x being the controller type
     40  f000				  -m7readloop
     41  f000				  -	      lda	SWCHA
     42  f000				  -	      and	SWCHA_DIRMASK+1,x	; preserve other port nibble
     43  f000				  -	      sta	SWCHA	; all bits are low, which STARTS the read
     44  f000				  -
     45  f000				  -	      lda	SWCHA
     46  f000				  -	      cpx	#1
     47  f000				  -	      bne	m7skipp1shift
     48  f000				  -	      asl
     49  f000				  -	      asl
     50  f000				  -	      asl
     51  f000				  -	      asl
     52  f000				  -m7skipp1shift
     53  f000				  -	      asl		; button bit 1 into carry
     54  f000				  -	      rol	inttemp6
     55  f000				  -	      rol	inttemp5
     56  f000				  -	      asl		; button bit 0 into carry
     57  f000				  -	      rol	inttemp6
     58  f000				  -	      rol	inttemp5
     59  f000				  -
     60  f000				  -	      lda	SWCHA
     61  f000				  -	      and	SWCHA_DIRMASK+1,x	; preserve other port nibble
     62  f000				  -	      ora	MEGA_NEXT,x
     63  f000				  -	      sta	SWCHA
     64  f000				  -
     65  f000				  -	      dey
     66  f000				  -	      bpl	m7readloop
     67  f000				  -
     68  f000				  -	      lda	CTLSWA
     69  f000				  -	      and	SWCHA_DIRMASK+1,x	; preserve other port nibble
     70  f000				  -	      sta	CTLSWA	; set this port back to input
     71  f000				  -
     72  f000				  -			; if mega7800 isn't detected this frame, unpress any buttons...
     73  f000				  -	      lda	inttemp5
     74  f000				  -	      and	#%00000011
     75  f000				  -	      beq	m7skipscuttle
     76  f000				  -	      lda	#$ff
     77  f000				  -	      sta	inttemp6
     78  f000				  -	      ifconst	MULTIBUTTON
     79  f000				  -			; the controller isn't present... revert to proline
     80  f000				  -	      lda	#1	; proline
     81  f000				  -	      sta	port0control,x
     82  f000				  -	      rts
     83  f000				  -	      endif		; MULTIBUTTON
     84  f000				  -m7skipscuttle
     85  f000				  -	      ifconst	MULTIBUTTON
     86  f000				  -	      lda	inttemp5
     87  f000				  -	      lsr
     88  f000				  -	      lsr
     89  f000				  -	      and	#3
     90  f000				  -	      tay
     91  f000				  -	      lda	megabuttons,y
     92  f000				  -	      sta	multibuttoncount0,x
     93  f000				  -	      endif		; MULTIBUTTON
     94  f000				  -
     95  f000				  -	      lda	inttemp5
     96  f000				  -	      sta	mega7800state0,x
     97  f000				  -	      lda	inttemp6
     98  f000				  -	      sta	mega7800data0,x
     99  f000				  -
    100  f000				  -	      ifconst	MULTIBUTTON
    101  f000				  -			; now update the genric multi-button bits...
    102  f000				  -	      ldy	#7
    103  f000				  -m7shuffleloop
    104  f000				  -	      lda	inttemp6
    105  f000				  -	      and	m7reorder,y
    106  f000				  -	      clc
    107  f000				  -	      adc	#$FF	; bit value in carry
    108  f000				  -	      rol	inttemp5
    109  f000				  -	      dey
    110  f000				  -	      bpl	m7shuffleloop
    111  f000				  -	      lda	inttemp5
    112  f000				  -	      eor	#%11000000
    113  f000				  -	      sta	sINPT1,x
    114  f000				  -	      rts
    115  f000				  -
    116  f000				  -megabuttons
    117  f000				  -	      .byte	6,2,3,2
    118  f000				  -m7reorder
    119  f000				  -			;	  S	     M	       Z	 Y
    120  f000				  -	      .byte	%00100000,%00000010,%00000100,%00001000
    121  f000				  -			;	  X	     C	       A	 B
    122  f000				  -	      .byte	%00000001,%10000000,%00010000,%01000000
    123  f000				  -	      else		;  !MULTIBUTTON
    124  f000				  -	      rts
    125  f000				  -	      endif		; !MULTIBUTTON
    126  f000				  -
    127  f000				  -MEGA_INIT
    128  f000				  -	      .byte	%00110000,%00000011
    129  f000				  -MEGA_NEXT
    130  f000				  -	      .byte	%00100000,%00000010
    131  f000				  -
    132  f000				  -mega7800handlerend
    133  f000				  -	      echo	"  (mega7800 module is using ",[(mega7800handlerend-mega7800handlerstart)]d," bytes of rom)"
    134  f000				  -
    135  f000					      endif		; MEGA7800SUPPORT
    136  f000
------- FILE rpmegafighter.bas.asm
   9275  f000					      endif
   9276  f000					      ifnconst	included.tracker.asm
------- FILE tracker.asm LEVEL 2 PASS 3
      0  f000					      include	tracker.asm
      1  f000							; Provided under the CC0 license. See the included LICENSE.txt for details.
      2  f000
      3  f000
      4  f000				  -	      ifconst	MUSICTRACKER
      5  f000				  -
      6  f000				  -trackerstart
      7  f000				  -
      8  f000				  -			; ** songtempo lists how many 256ths of a frame a 16th note lasts
      9  f000				  -			; ** the player operates on a 16th note grid.
     10  f000				  -
     11  f000				  -servicesongover
     12  f000				  -	      rts
     13  f000				  -servicesong
     14  f000				  -	      ifconst	PAUSESILENT
     15  f000				  -	      lda	pausestate
     16  f000				  -	      bne	servicesongover
     17  f000				  -	      endif
     18  f000				  -	      lda	songtempo
     19  f000				  -	      beq	servicesongover	; ** if song is off/paused then return
     20  f000				  -servicesongcontinue
     21  f000				  -	      lda	sfxschedulelock
     22  f000				  -	      sta	sfxschedulemissed
     23  f000				  -	      bne	servicesongover
     24  f000				  -	      lda	songtempo
     25  f000				  -	      clc
     26  f000				  -	      adc	songtick	; add songtempo to songtick until it rolls over
     27  f000				  -	      sta	songtick	; this is how we break away from 50/60Hz timing.
     28  f000				  -	      bcc	servicesongover
     29  f000				  -			; ** if we're here a new 16th note has passed
     30  f000				  -			; ** check if a new note is due on any of the 4 channels
     31  f000				  -servicesongredo
     32  f000				  -	      ldx	#3
     33  f000				  -checkchannelloop
     34  f000				  -	      dec	songchannel1busywait,x
     35  f000				  -	      bpl	carryoncheckingchannel
     36  f000				  -	      txa
     37  f000				  -	      pha		; save X for the loop
     38  f000				  -	      jsr	processsongdata
     39  f000				  -	      pla		; restore X for the loop
     40  f000				  -	      tax
     41  f000				  -carryoncheckingchannel
     42  f000				  -	      dex
     43  f000				  -	      bpl	checkchannelloop
     44  f000				  -	      lda	inactivechannelcount
     45  f000				  -	      cmp	#15
     46  f000				  -	      bne	skipstopsong
     47  f000				  -	      lda	songloops
     48  f000				  -	      bne	doasongloop
     49  f000				  -			;lda #0
     50  f000				  -	      sta	songtempo	; all channels are done. stop the song
     51  f000				  -	      rts
     52  f000				  -doasongloop
     53  f000				  -	      bmi	skipsongloopadjust
     54  f000				  -	      dec	songloops
     55  f000				  -skipsongloopadjust
     56  f000				  -	      jsr	setsongchannels
     57  f000				  -	      jmp	servicesongredo
     58  f000				  -skipstopsong
     59  f000				  -	      rts
     60  f000				  -
     61  f000				  -processsongdata
     62  f000				  -			; channel needs processing
     63  f000				  -			; X=channel #
     64  f000				  -
     65  f000				  -	      txa
     66  f000				  -	      clc
     67  f000				  -	      adc	songchannel1stackdepth,x	; stack depth value will be 0, 4, or 8
     68  f000				  -	      tay
     69  f000				  -
     70  f000				  -
     71  f000				  -			; ** indirect x is cumbersome with mult-byte commands.
     72  f000				  -			; ** setup a pointer to the song data for indirect y addressing.
     73  f000				  -	      lda	songchannel1layer1lo,y
     74  f000				  -	      sta	songdatalo
     75  f000				  -	      lda	songchannel1layer1hi,y
     76  f000				  -	      sta	songdatahi
     77  f000				  -			;ora songdatalo
     78  f000				  -	      bne	channelhasdata
     79  f000				  -			;channel data is pointing at $0000
     80  f000				  -	      lda	#$7F
     81  f000				  -	      sta	songchannel1busywait,x	; skip a bunch of notes
     82  f000				  -setchannelcountbits
     83  f000				  -	      lda	channel2bits,x
     84  f000				  -	      ora	inactivechannelcount
     85  f000				  -	      sta	inactivechannelcount
     86  f000				  -	      rts
     87  f000				  -channelhasdata
     88  f000				  -
     89  f000				  -	      sty	songstackindex
     90  f000				  -	      ldy	#0
     91  f000				  -	      lda	(songdatalo),y	; ** load in the next byte of song data, so we can decode it
     92  f000				  -	      cmp	#$ff
     93  f000				  -	      bne	carryoncheckingdatatype	; ** $ff=pattern end marker
     94  f000				  -	      jmp	handlechannelEOD
     95  f000				  -
     96  f000				  -carryoncheckingdatatype
     97  f000				  -	      and	#$F0
     98  f000				  -	      cmp	#$C0
     99  f000				  -	      beq	handlechannelrest	; 0000XXXX=rest
    100  f000				  -	      cmp	#$F0
    101  f000				  -	      beq	handlemultibytecommand
    102  f000				  -	      cmp	#$D0
    103  f000				  -	      beq	handlesemiup
    104  f000				  -	      cmp	#$E0
    105  f000				  -	      beq	handlesemidown
    106  f000				  -handlenotedata
    107  f000				  -			; ** TODO: note playing is a terrible choice for fall-through
    108  f000				  -
    109  f000				  -			; ** its simple note data, prepare arguments for schedulesfx
    110  f000				  -
    111  f000				  -			; ** set the note length
    112  f000				  -	      lda	(songdatalo),y
    113  f000				  -	      and	#$0F
    114  f000				  -	      sta	songchannel1busywait,x
    115  f000				  -
    116  f000				  -			; ** load the instrument
    117  f000				  -	      lda	songchannel1instrumentlo,x
    118  f000				  -	      sta	sfxinstrumentlo
    119  f000				  -	      lda	songchannel1instrumenthi,x
    120  f000				  -	      sta	sfxinstrumenthi
    121  f000				  -
    122  f000				  -			; ** get the note, and transpose
    123  f000				  -	      lda	(songdatalo),y
    124  f000				  -	      lsr
    125  f000				  -	      lsr
    126  f000				  -	      lsr
    127  f000				  -	      lsr
    128  f000				  -	      clc
    129  f000				  -	      adc	songchannel1transpose,x	; ** add it to the transpose index
    130  f000				  -			; ** its up the respective SFX scheduler to handle and save the note data
    131  f000				  -	      sta	sfxnoteindex
    132  f000				  -
    133  f000				  -	      lda	#0
    134  f000				  -	      sta	sfxpitchoffset
    135  f000				  -
    136  f000				  -	      jsr	schedulesfx
    137  f000				  -skipnoteschedule
    138  f000				  -	      jmp	advancethesongpointer1byte	; advance to the next data byte and exit
    139  f000				  -
    140  f000				  -handlechannelrest
    141  f000				  -			; ** set the note length
    142  f000				  -	      lda	(songdatalo),y
    143  f000				  -	      and	#$0F
    144  f000				  -	      sta	songchannel1busywait,x
    145  f000				  -	      jmp	advancethesongpointer1byte	; advance to the next data byte and exit
    146  f000				  -
    147  f000				  -handlesemiup
    148  f000				  -	      lda	(songdatalo),y	; ** reload the song data, so we can get at the lower nibble
    149  f000				  -	      and	#$0f	; ** since we need to mask the nibble of the subtracted value,
    150  f000				  -	      clc
    151  f000				  -handlesemidownentry
    152  f000				  -	      adc	songchannel1transpose,x	; ** add it to the transpose index
    153  f000				  -	      sta	songchannel1transpose,x
    154  f000				  -	      jsr	advancethesongpointer1byte
    155  f000				  -	      jmp	processsongdata	; semi doesn't have note length, so process the next data byte...
    156  f000				  -
    157  f000				  -handlesemidown
    158  f000				  -	      lda	(songdatalo),y	; ** reload the song data, so we can get at the lower nibble
    159  f000				  -	      and	#$0f	; ** since we need to mask the nibble of the subtracted value,
    160  f000				  -	      eor	#$ff	; ** its easier if we negate it, and then add it instead.
    161  f000				  -	      sec
    162  f000				  -	      jmp	handlesemidownentry
    163  f000				  -
    164  f000				  -handlemultibytecommand
    165  f000				  -	      lda	(songdatalo),y	; ** reload the song data, so we can get at the lower nibble
    166  f000				  -	      and	#$0f	; ** since we need to mask the nibble of the subtracted value,
    167  f000				  -	      cmp	#$08	; ** load new instrument?
    168  f000				  -	      bne	nothandleinstrumentchange
    169  f000				  -handleinstrumentchange
    170  f000				  -	      iny
    171  f000				  -	      lda	(songdatalo),y
    172  f000				  -	      sta	songchannel1instrumentlo,x
    173  f000				  -	      iny
    174  f000				  -	      lda	(songdatalo),y
    175  f000				  -	      sta	songchannel1instrumenthi,x
    176  f000				  -	      lda	#3
    177  f000				  -	      jsr	advancethesongpointerNbytes	; advance 3 bytes
    178  f000				  -	      jmp	processsongdata
    179  f000				  -
    180  f000				  -nothandleinstrumentchange
    181  f000				  -	      cmp	#$09	; ** absolute tempo change?
    182  f000				  -	      bne	nothandletempochange
    183  f000				  -	      lda	#0
    184  f000				  -	      sta	songtempo
    185  f000				  -handlerelativetempochange
    186  f000				  -	      iny
    187  f000				  -	      lda	(songdatalo),y
    188  f000				  -	      clc
    189  f000				  -	      adc	songtempo
    190  f000				  -	      sta	songtempo
    191  f000				  -	      lda	#2
    192  f000				  -	      jsr	advancethesongpointerNbytes	; advance 2 bytes
    193  f000				  -	      jmp	processsongdata
    194  f000				  -
    195  f000				  -nothandletempochange
    196  f000				  -	      cmp	#$0A	; ** relative tempo change?:
    197  f000				  -	      beq	handlerelativetempochange
    198  f000				  -	      cmp	#$0B	; ** octave/semi change?
    199  f000				  -	      beq	handleoctavesemichange
    200  f000				  -handlepatterndata
    201  f000				  -			; ** if we're here its a pattern/loop "subroutine"
    202  f000				  -			; ** move the channel's "stack" pointer and populate the new stack level
    203  f000				  -
    204  f000				  -	      lda	#4
    205  f000				  -	      clc
    206  f000				  -	      adc	songchannel1stackdepth,x
    207  f000				  -	      sta	songchannel1stackdepth,x	; stack depth value will be 0, 4, or 8
    208  f000				  -
    209  f000				  -	      stx	inttemp6	; about to invalidate x. save it.
    210  f000				  -	      lda	songstackindex
    211  f000				  -	      adc	#4
    212  f000				  -	      tax
    213  f000				  -
    214  f000				  -	      lda	(songdatalo),y
    215  f000				  -	      and	#$7
    216  f000				  -	      sta	songchannel1layer1loops,x
    217  f000				  -	      iny
    218  f000				  -	      lda	(songdatalo),y
    219  f000				  -	      sta	songchannel1layer1lo,x
    220  f000				  -	      iny
    221  f000				  -	      lda	(songdatalo),y
    222  f000				  -	      sta	songchannel1layer1hi,x
    223  f000				  -
    224  f000				  -	      ldx	inttemp6	; restore x with the channel #
    225  f000				  -
    226  f000				  -			; ** advance will operate on the old stack level, since we didn't store the updated songstackindex...
    227  f000				  -	      lda	#3
    228  f000				  -	      jsr	advancethesongpointerNbytes	; advance 3 bytes
    229  f000				  -
    230  f000				  -			; ** ...but the new stack level will be correctly picked up when we process the next byte.
    231  f000				  -	      jmp	processsongdata
    232  f000				  -
    233  f000				  -handlechannelEOD
    234  f000				  -			; ** check if there are loops remaining on the pattern
    235  f000				  -	      stx	inttemp6
    236  f000				  -	      ldx	songstackindex
    237  f000				  -	      dec	songchannel1layer1loops,x
    238  f000				  -	      bmi	handlechannelEODnoloop
    239  f000				  -			; ** loops are remaining. set the pattern pointer to the pattern start, which is contained after the EOD
    240  f000				  -	      iny
    241  f000				  -	      lda	(songdatalo),y
    242  f000				  -	      sta	songchannel1layer1lo,x
    243  f000				  -	      iny
    244  f000				  -	      lda	(songdatalo),y
    245  f000				  -	      sta	songchannel1layer1hi,x
    246  f000				  -	      ldx	inttemp6
    247  f000				  -	      jmp	processsongdata	; EOD handling doesn't have note length, so process the next data byte...
    248  f000				  -
    249  f000				  -handlechannelEODnoloop
    250  f000				  -			; this pattern/loop is done playing. "pop" the stack
    251  f000				  -	      ldx	inttemp6
    252  f000				  -	      lda	songchannel1stackdepth,x
    253  f000				  -	      beq	handlerootchannelEOD
    254  f000				  -	      sec
    255  f000				  -	      sbc	#4
    256  f000				  -	      sta	songchannel1stackdepth,x
    257  f000				  -	      jmp	processsongdata	; EOD handling doesn't have note length, so process the next data byte...
    258  f000				  -
    259  f000				  -handlerootchannelEOD
    260  f000				  -			; this channel is done. point it to $ff data so we no longer process this channel.
    261  f000				  -	      lda	#0
    262  f000				  -	      sta	songchannel1layer1lo,x
    263  f000				  -	      sta	songchannel1layer1hi,x
    264  f000				  -	      sta	songchannel1busywait,x
    265  f000				  -	      jmp	setchannelcountbits
    266  f000				  -	      rts
    267  f000				  -
    268  f000				  -nothandlepatternchange
    269  f000				  -handleoctavesemichange
    270  f000				  -	      iny
    271  f000				  -	      lda	(songdatalo),y
    272  f000				  -	      sta	songchannel1transpose,x
    273  f000				  -	      lda	#2
    274  f000				  -	      jsr	advancethesongpointerNbytes	; advance 2 bytes
    275  f000				  -	      jmp	processsongdata
    276  f000				  -
    277  f000				  -advancethesongpointer1byte
    278  f000				  -	      txa
    279  f000				  -	      ldx	songstackindex
    280  f000				  -	      inc	songchannel1layer1lo,x
    281  f000				  -	      bne	skiphiadvancethesongpointer1byte
    282  f000				  -	      inc	songchannel1layer1hi,x
    283  f000				  -skiphiadvancethesongpointer1byte
    284  f000				  -	      tax
    285  f000				  -	      rts
    286  f000				  -
    287  f000				  -advancethesongpointerNbytes
    288  f000				  -			; entered with A=# of byte to advance
    289  f000				  -	      stx	inttemp6
    290  f000				  -	      ldx	songstackindex
    291  f000				  -	      clc
    292  f000				  -	      adc	songchannel1layer1lo,x
    293  f000				  -	      sta	songchannel1layer1lo,x
    294  f000				  -	      lda	#0
    295  f000				  -	      adc	songchannel1layer1hi,x
    296  f000				  -	      sta	songchannel1layer1hi,x
    297  f000				  -	      ldx	inttemp6
    298  f000				  -	      rts
    299  f000				  -
    300  f000				  -clearsongmemory
    301  f000				  -	      lda	#0
    302  f000				  -	      ldx	#(songchannel4instrumenthi-songchannel1layer1lo)
    303  f000				  -clearsongmemoryloop1
    304  f000				  -	      sta	songchannel1layer1lo,x
    305  f000				  -	      dex
    306  f000				  -	      bpl	clearsongmemoryloop1
    307  f000				  -
    308  f000				  -	      ldx	#(songchannel4stackdepth-songchannel1layer1loops)
    309  f000				  -clearsongmemoryloop2
    310  f000				  -	      sta	songchannel1layer1loops,x
    311  f000				  -	      dex
    312  f000				  -	      bpl	clearsongmemoryloop2
    313  f000				  -
    314  f000				  -	      lda	#$ff
    315  f000				  -	      ldx	#3
    316  f000				  -clearsongmemoryloop3
    317  f000				  -	      sta	songchannel1busywait,x
    318  f000				  -	      dex
    319  f000				  -	      bpl	clearsongmemoryloop3
    320  f000				  -	      rts
    321  f000				  -
    322  f000				  -setsongchannels
    323  f000				  -	      jsr	clearsongmemory
    324  f000				  -	      ldy	#7
    325  f000				  -	      ldx	#3
    326  f000				  -setsongchannelsloop
    327  f000				  -	      lda	(songpointerlo),y
    328  f000				  -	      sta	songchannel1layer1hi,x
    329  f000				  -	      dey
    330  f000				  -	      lda	(songpointerlo),y
    331  f000				  -	      sta	songchannel1layer1lo,x
    332  f000				  -	      dex
    333  f000				  -	      dey
    334  f000				  -	      bpl	setsongchannelsloop
    335  f000				  -	      rts
    336  f000				  -
    337  f000				  -channel2bits
    338  f000				  -	      .byte	1,2,4,8
    339  f000				  -
    340  f000				  -tiatrackeroctavenotes
    341  f000				  -	      ifconst	BUZZBASS
    342  f000				  -LOWC       =	15
    343  f000				  -	      else
    344  f000				  -LOWC       =	14
    345  f000				  -	      endif
    346  f000				  -			; ****** ELECTRONIC (0 to 11)
    347  f000				  -	      .byte	LOWC,20	; c0	 16.1Hz
    348  f000				  -	      .byte	LOWC,18	; c#0
    349  f000				  -	      .byte	LOWC,17	; d0
    350  f000				  -	      .byte	LOWC,16	; d#0
    351  f000				  -	      .byte	LOWC,15	; e0
    352  f000				  -	      .byte	LOWC,14	; f0  (very off)
    353  f000				  -	      .byte	LOWC,14	; f#0
    354  f000				  -	      .byte	LOWC,13	; g0
    355  f000				  -	      .byte	LOWC,12	; g#0
    356  f000				  -	      .byte	LOWC,11	; a0
    357  f000				  -	      .byte	LOWC,11	; a#0 (very off)
    358  f000				  -	      .byte	LOWC,10	; b0	 30.7Hz
    359  f000				  -
    360  f000				  -			; ****** SLIGHTLY BUZZY (12 to 23)
    361  f000				  -	      .byte	6,30	; c1	 32.7Hz
    362  f000				  -	      .byte	6,28	; c#1
    363  f000				  -	      .byte	6,27	; d1
    364  f000				  -	      .byte	6,25	; d#1
    365  f000				  -	      .byte	6,24	; e1
    366  f000				  -	      .byte	6,22	; f1
    367  f000				  -	      .byte	6,21	; f#1
    368  f000				  -	      .byte	6,20	; g1
    369  f000				  -	      .byte	6,18	; g#1
    370  f000				  -	      .byte	6,17	; a1
    371  f000				  -	      .byte	6,16	; a#1
    372  f000				  -	      .byte	6,15	; b1	 63.4Hz
    373  f000				  -
    374  f000				  -			; ****** BUZZY (24 to 39)
    375  f000				  -	      .byte	1,31	; c2	 65.5
    376  f000				  -	      .byte	1,30	; c#2	 67.6
    377  f000				  -	      .byte	1,27	; d2	 72.3
    378  f000				  -	      .byte	1,26	; d#2	 77.6
    379  f000				  -	      .byte	1,24	; e2
    380  f000				  -	      .byte	1,23	; f2
    381  f000				  -	      .byte	1,22	; f#2
    382  f000				  -	      .byte	1,20	; g2
    383  f000				  -	      .byte	1,19	; g#2
    384  f000				  -	      .byte	1,18	; a2
    385  f000				  -	      .byte	1,17	; a#2
    386  f000				  -	      .byte	1,16	; b2
    387  f000				  -	      .byte	1,15	; c3	126.8Hz
    388  f000				  -	      .byte	1,14	; c#3
    389  f000				  -	      .byte	1,13	; d3	149.7Hz
    390  f000				  -	      .byte	1,12	; d#3	161.2Hz (very off)
    391  f000				  -			; ****** PURE (40 to 71) - best key is A3 Major
    392  f000				  -	      .byte	12,31	; e3	163.8Hz
    393  f000				  -	      .byte	12,29	; f3
    394  f000				  -	      .byte	12,28	; f#3
    395  f000				  -	      .byte	12,26	; g3
    396  f000				  -	      .byte	12,24	; g#3
    397  f000				  -	      .byte	12,23	; a3  songs in key of A benefit from Perceptual Tuning
    398  f000				  -	      .byte	12,22	; a#3
    399  f000				  -	      .byte	12,20	; b3
    400  f000				  -	      .byte	12,19	; c4  (middle C)
    401  f000				  -	      .byte	12,18	; c#4
    402  f000				  -	      .byte	12,17	; d4
    403  f000				  -	      .byte	12,16	; d#4
    404  f000				  -	      .byte	12,15	; e4
    405  f000				  -	      .byte	12,14	; f4
    406  f000				  -	      .byte	12,13	; f#4
    407  f000				  -	      .byte	12,12	; g4  (very off)
    408  f000				  -	      .byte	12,12	; g#4
    409  f000				  -	      .byte	12,11	; a4
    410  f000				  -	      .byte	12,10	; a#4
    411  f000				  -	      .byte	4,31	; b4
    412  f000				  -	      .byte	4,29	; c5
    413  f000				  -	      .byte	4,28	; c#5
    414  f000				  -	      .byte	4,26	; d5
    415  f000				  -	      .byte	4,24	; d#5
    416  f000				  -	      .byte	4,23	; e5
    417  f000				  -	      .byte	4,22	; f5
    418  f000				  -	      .byte	4,20	; f#5
    419  f000				  -	      .byte	4,19	; g5
    420  f000				  -	      .byte	4,18	; g#5
    421  f000				  -	      .byte	4,17	; a5
    422  f000				  -	      .byte	4,16	; a#5
    423  f000				  -	      .byte	4,15	; b5
    424  f000				  -
    425  f000				  -			; ****** TUNED WIND (72 to 83)
    426  f000				  -	      .byte	8,30	; c
    427  f000				  -	      .byte	8,28	; c#
    428  f000				  -	      .byte	8,27	; d
    429  f000				  -	      .byte	8,25	; d#
    430  f000				  -	      .byte	8,24	; e
    431  f000				  -	      .byte	8,22	; f
    432  f000				  -	      .byte	8,21	; f#
    433  f000				  -	      .byte	8,20	; g
    434  f000				  -	      .byte	8,18	; g#
    435  f000				  -	      .byte	8,17	; a
    436  f000				  -	      .byte	8,16	; a#
    437  f000				  -	      .byte	8,15	; b
    438  f000				  -
    439  f000				  -	      include	"tiadrumkit.asm"
    440  f000				  -
    441  f000				  -trackerend
    442  f000				  -
    443  f000				  -	      echo	"  (tracker module is using ",[(trackerend-trackerstart)]d," bytes)"
    444  f000				  -
    445  f000					      endif		;MUSICTRACKER
------- FILE rpmegafighter.bas.asm
   9278  f000					      endif
   9279  f000					      ifnconst	included.hiscore.asm
------- FILE hiscore.asm LEVEL 2 PASS 3
      0  f000					      include	hiscore.asm
      1  f000							; Provided under the CC0 license. See the included LICENSE.txt for details.
      2  f000
      3  f000				  -	      ifconst	HSSUPPORT
      4  f000				  -
      5  f000				  -	      ifconst	BANKSETROM
      6  f000				  -	      ifconst	isBANKSETBANK
      7  f000				  -HSCHARSHERE =	1
      8  f000				  -	      endif
      9  f000				  -	      else		; !BANKSETROM so embed the character strings
     10  f000				  -HSCHARSHERE =	1
     11  f000				  -	      endif
     12  f000				  -
     13  f000				  -	      ifnconst	isBANKSETBANK
     14  f000				  -hiscorestart
     15  f000				  -
     16  f000				  -detectatarivoxeeprom
     17  f000				  -hiscoremodulestart
     18  f000				  -			; do a test to see if atarivox eeprom can be accessed, and save results
     19  f000				  -	      jsr	AVoxDetect
     20  f000				  -	      eor	#$ff	; invert for easy 7800basic if...then logic
     21  f000				  -	      sta	avoxdetected
     22  f000				  -	      lda	#$0
     23  f000				  -	      sta	SWACNT
     24  f000				  -	      lda	avoxdetected
     25  f000				  -	      rts
     26  f000				  -
     27  f000				  -detecthsc
     28  f000				  -			; check for the HSC ROM signature...
     29  f000				  -	      lda	XCTRL1s
     30  f000				  -	      ora	#%00001100
     31  f000				  -	      sta	XCTRL1s
     32  f000				  -	      sta	XCTRL1
     33  f000				  -
     34  f000				  -	      lda	$3900
     35  f000				  -	      eor	#$C6
     36  f000				  -	      bne	detecthscfail
     37  f000				  -	      lda	$3904
     38  f000				  -	      eor	#$FE
     39  f000				  -	      bne	detecthscfail
     40  f000				  -
     41  f000				  -			; check if it's initialized...
     42  f000				  -	      ldy	#0
     43  f000				  -	      lda	#$ff
     44  f000				  -checkhscinit
     45  f000				  -	      and	$1000,y
     46  f000				  -	      dey
     47  f000				  -	      bne	checkhscinit
     48  f000				  -	      cmp	#$ff
     49  f000				  -	      beq	dominimalhscinit
     50  f000				  -			; Y is 0
     51  f000				  -	      lda	#0
     52  f000				  -checkhscinit2
     53  f000				  -	      ora	$1000,y
     54  f000				  -	      dey
     55  f000				  -	      bne	checkhscinit2
     56  f000				  -	      cmp	#0
     57  f000				  -	      bne	hscisalreadyinit
     58  f000				  -dominimalhscinit
     59  f000				  -			; if we're here, we need to do a minimal HSC init...
     60  f000				  -	      ldy	#$28
     61  f000				  -hscinitloop1
     62  f000				  -	      lda	hscheader,y
     63  f000				  -	      sta	$1000,y
     64  f000				  -	      dey
     65  f000				  -	      bpl	hscinitloop1
     66  f000				  -	      ldy	#$89
     67  f000				  -	      lda	#$7F
     68  f000				  -hscinitloop2
     69  f000				  -	      sta	$10B3,y
     70  f000				  -	      dey
     71  f000				  -	      cpy	#$ff
     72  f000				  -	      bne	hscinitloop2
     73  f000				  -hscisalreadyinit
     74  f000				  -	      lda	#$ff
     75  f000				  -	      rts
     76  f000				  -hscheader
     77  f000				  -	      .byte	$00,$00,$68,$83,$AA,$55,$9C,$FF,$07,$12,$02,$1F,$00,$00,$00,$00
     78  f000				  -	      .byte	$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
     79  f000				  -	      .byte	$00,$00,$00,$00,$00,$00,$00,$00,$03
     80  f000				  -detecthscfail
     81  f000				  -	      lda	XCTRL1s
     82  f000				  -	      and	#%11110111
     83  f000				  -	      sta	XCTRL1s
     84  f000				  -	      lda	#0
     85  f000				  -	      rts
     86  f000				  -	      endif		; isBANKSETBANK
     87  f000				  -
     88  f000				  -	      ifnconst	hiscorefont
     89  f000				  -	      echo	""
     90  f000				  -	      echo	"WARNING: High score support is enabled, but the hiscorefont.png was"
     91  f000				  -	      echo	" NOT imported with incgraphic. The high score display code"
     92  f000				  -	      echo	" has been omitted from this build."
     93  f000				  -	      echo	""
     94  f000				  -	      else		; hiscorefont
     95  f000				  -	      ifnconst	isBANKSETBANK
     96  f000				  -hscdrawscreen
     97  f000				  -
     98  f000				  -			; we use 20 lines on a 24 line display
     99  f000				  -			; HSSCOREY to dynamically centers based on
    100  f000				  -			;HSSCOREY = 0
    101  f000				  -HSSCOREY   =	((WZONECOUNT*WZONEHEIGHT/8)-22)/2
    102  f000				  -HSCURSORY  =	((HSSCOREY/(WZONEHEIGHT/8))*WZONEHEIGHT)
    103  f000				  -
    104  f000				  -	      ifconst	HSSCORESIZE
    105  f000				  -SCORESIZE  =	HSSCORESIZE
    106  f000				  -	      else
    107  f000				  -SCORESIZE  =	6
    108  f000				  -	      endif
    109  f000				  -
    110  f000				  -	      jsr	mutetia
    111  f000				  -	      ifconst	pokeysupport
    112  f000				  -	      jsr	mutepokey
    113  f000				  -	      endif		; pokeysupport
    114  f000				  -
    115  f000				  -			;save shadow registers for later return...
    116  f000				  -	      lda	sCTRL
    117  f000				  -	      pha
    118  f000				  -	      lda	sCHARBASE
    119  f000				  -	      pha
    120  f000				  -
    121  f000				  -	      jsr	blacken320colors
    122  f000				  -	      jsr	drawoverwait
    123  f000				  -	      jsr	drawwait
    124  f000				  -	      jsr	hiscorecleardlmem
    125  f000				  -	      jsr	clearscreen
    126  f000				  -
    127  f000				  -	      lda	#$60
    128  f000				  -	      sta	charactermode
    129  f000				  -
    130  f000				  -			;set the character base to the HSC font
    131  f000				  -	      lda	#>hiscorefont
    132  f000				  -	      sta	CHARBASE
    133  f000				  -	      sta	sCHARBASE
    134  f000				  -	      lda	#%01000011	;Enable DMA, mode=320A
    135  f000				  -	      sta	CTRL
    136  f000				  -	      sta	sCTRL
    137  f000				  -
    138  f000				  -	      lda	#60
    139  f000				  -	      sta	hsjoydebounce
    140  f000				  -
    141  f000				  -	      lda	#0
    142  f000				  -	      sta	hscursorx
    143  f000				  -	      sta	framecounter
    144  f000				  -
    145  f000				  -	      ifnconst	HSCOLORCHASESTART
    146  f000				  -	      lda	#$8D	; default is blue. why not?
    147  f000				  -	      else
    148  f000				  -	      lda	#HSCOLORCHASESTART
    149  f000				  -	      endif
    150  f000				  -	      sta	hscolorchaseindex
    151  f000				  -	      lda	#$0F
    152  f000				  -	      sta	P0C2	; base text is white
    153  f000				  -	      jsr	hschasecolors
    154  f000				  -
    155  f000				  -			; ** plot all of the initials
    156  f000				  -	      lda	#<HSRAMInitials
    157  f000				  -	      sta	temp1	; charmaplo
    158  f000				  -	      lda	#>HSRAMInitials
    159  f000				  -	      sta	temp2	; charmaphi
    160  f000				  -	      lda	#32+29	; palette=0-29 | 32-(width=3)
    161  f000				  -	      sta	temp3	; palette/width
    162  f000				  -	      lda	#104
    163  f000				  -	      sta	temp4	; X
    164  f000				  -	      lda	#((HSSCOREY+6)/(WZONEHEIGHT/8))
    165  f000				  -	      sta	temp5	; Y
    166  f000				  -plothsinitialsloop
    167  f000				  -	      jsr	plotcharacters
    168  f000				  -	      clc
    169  f000				  -	      lda	temp3
    170  f000				  -	      adc	#32
    171  f000				  -	      sta	temp3
    172  f000				  -	      inc	temp5
    173  f000				  -	      if	WZONEHEIGHT = 8
    174  f000				  -	      inc	temp5
    175  f000				  -	      endif
    176  f000				  -	      clc
    177  f000				  -	      lda	#3
    178  f000				  -	      adc	temp1
    179  f000				  -	      sta	temp1
    180  f000				  -	      cmp	#(<(HSRAMInitials+15))
    181  f000				  -	      bcc	plothsinitialsloop
    182  f000				  -
    183  f000				  -	      ifconst	HSGAMENAMELEN
    184  f000				  -			;plot the game name...
    185  f000				  -	      lda	#<HSGAMENAMEtable
    186  f000				  -	      sta	temp1	; charmaplo
    187  f000				  -	      lda	#>HSGAMENAMEtable
    188  f000				  -	      sta	temp2	; charmaphi
    189  f000				  -	      lda	#(32-HSGAMENAMELEN)	; palette=0*29 | 32-(width=3)
    190  f000				  -	      sta	temp3	; palette/width
    191  f000				  -	      lda	#(80-(HSGAMENAMELEN*2))
    192  f000				  -	      sta	temp4	; X
    193  f000				  -	      lda	#((HSSCOREY+0)/(WZONEHEIGHT/8))
    194  f000				  -	      sta	temp5	; Y
    195  f000				  -	      jsr	plotcharacters
    196  f000				  -	      endif		; HSGAMENAMELEN
    197  f000				  -
    198  f000				  -			;plot "difficulty"...
    199  f000				  -	      ldy	gamedifficulty
    200  f000				  -	      ifnconst	HSNOLEVELNAMES
    201  f000				  -	      lda	highscoredifficultytextlo,y
    202  f000				  -	      sta	temp1
    203  f000				  -	      lda	highscoredifficultytexthi,y
    204  f000				  -	      sta	temp2
    205  f000				  -	      sec
    206  f000				  -	      lda	#32
    207  f000				  -	      sbc	highscoredifficultytextlen,y
    208  f000				  -	      sta	temp3	; palette/width
    209  f000				  -	      sec
    210  f000				  -	      lda	#40
    211  f000				  -	      sbc	highscoredifficultytextlen,y
    212  f000				  -	      asl
    213  f000				  -	      sta	temp4	; X
    214  f000				  -	      else
    215  f000				  -	      lda	#<HSHIGHSCOREStext
    216  f000				  -	      sta	temp1	; charmaplo
    217  f000				  -	      lda	#>HSHIGHSCOREStext
    218  f000				  -	      sta	temp2	; charmaphi
    219  f000				  -	      lda	#(32-11)	; palette=0*29 | 32-(width=3)
    220  f000				  -	      sta	temp3	; palette/width
    221  f000				  -	      lda	#(80-(11*2))
    222  f000				  -	      sta	temp4	; X
    223  f000				  -	      endif		; HSNOLEVELNAMES
    224  f000				  -
    225  f000				  -	      lda	#((HSSCOREY+2)/(WZONEHEIGHT/8))
    226  f000				  -	      sta	temp5	; Y
    227  f000				  -	      jsr	plotcharacters
    228  f000				  -	      ldy	hsdisplaymode	; 0=attact mode, 1=player eval, 2=player 1 eval, 3=player 2 player eval, 4=player 2 player evel (joy1)
    229  f000				  -	      bne	carronwithscoreevaluation
    230  f000				  -	      jmp	donoscoreevaluation
    231  f000				  -carronwithscoreevaluation
    232  f000				  -	      dey
    233  f000				  -	      lda	highscorelabeltextlo,y
    234  f000				  -	      sta	temp1
    235  f000				  -	      lda	highscorelabeltexthi,y
    236  f000				  -	      sta	temp2
    237  f000				  -	      sec
    238  f000				  -	      lda	#(32-15)	; palette=0*29 | 32-(width=3)
    239  f000				  -	      sta	temp3	; palette/width
    240  f000				  -	      lda	highscorelabeladjust1,y
    241  f000				  -	      sta	temp4	; X
    242  f000				  -	      lda	#((HSSCOREY+18)/(WZONEHEIGHT/8))
    243  f000				  -	      sta	temp5	; Y
    244  f000				  -	      jsr	plotcharacters
    245  f000				  -
    246  f000				  -	      ldy	hsdisplaymode	; 0=attact mode, 1=player eval, 2=player 1 eval, 3=player 2 player eval, 4=player 2 player evel (joy1)
    247  f000				  -	      dey
    248  f000				  -			;plot the current player score...
    249  f000				  -	      lda	#(32-SCORESIZE)	; palette=0*32
    250  f000				  -	      sta	temp3	; palette/width
    251  f000				  -	      lda	highscorelabeladjust2,y
    252  f000				  -	      sta	temp4	; X
    253  f000				  -	      lda	#((HSSCOREY+18)/(WZONEHEIGHT/8))
    254  f000				  -	      sta	temp5	; Y
    255  f000				  -
    256  f000				  -	      lda	scorevarlo,y
    257  f000				  -	      sta	temp7	; score variable lo
    258  f000				  -	      lda	scorevarhi,y
    259  f000				  -	      sta	temp8	; score variable hi
    260  f000				  -
    261  f000				  -	      lda	#(hiscorefont_mode | %01100000)	; charactermode
    262  f000				  -	      sta	temp9
    263  f000				  -
    264  f000				  -	      lda	#<(hiscorefont+33)	; +33 to get to '0' character
    265  f000				  -	      sta	temp1	; charmaplo
    266  f000				  -	      lda	#>(hiscorefont+33)
    267  f000				  -	      sta	temp2	; charmaphi
    268  f000				  -	      lda	#SCORESIZE
    269  f000				  -	      sta	temp6
    270  f000				  -	      ifnconst	DOUBLEWIDE
    271  f000				  -	      jsr	plotvalue
    272  f000				  -	      else
    273  f000				  -	      jsr	plotvaluedw
    274  f000				  -	      endif
    275  f000				  -
    276  f000				  -USED_PLOTVALUE =	1	; ensure that plotvalue gets compiled in
    277  f000				  -
    278  f000				  -	      ifconst	HSGAMERANKS
    279  f000				  -
    280  f000				  -	      ldx	#$ff	; start at 0 after the inx...
    281  f000				  -comparescore2rankloop
    282  f000				  -	      inx
    283  f000				  -	      ldy	#0
    284  f000				  -	      lda	rankvalue_0,x
    285  f000				  -	      cmp	(temp7),y
    286  f000				  -	      bcc	score2rankloopdone
    287  f000				  -	      bne	comparescore2rankloop
    288  f000				  -	      iny
    289  f000				  -	      lda	rankvalue_1,x
    290  f000				  -	      cmp	(temp7),y
    291  f000				  -	      bcc	score2rankloopdone
    292  f000				  -	      bne	comparescore2rankloop
    293  f000				  -	      iny
    294  f000				  -	      lda	(temp7),y
    295  f000				  -	      cmp	rankvalue_2,x
    296  f000				  -	      bcs	score2rankloopdone
    297  f000				  -	      jmp	comparescore2rankloop
    298  f000				  -score2rankloopdone
    299  f000				  -	      stx	hsnewscorerank
    300  f000				  -
    301  f000				  -	      lda	ranklabello,x
    302  f000				  -	      sta	temp1
    303  f000				  -	      lda	ranklabelhi,x
    304  f000				  -	      sta	temp2
    305  f000				  -	      sec
    306  f000				  -	      lda	#32	; palette=0*29 | 32-(width=3)
    307  f000				  -	      sbc	ranklabellengths,x
    308  f000				  -	      sta	temp3	; palette/width
    309  f000				  -	      sec
    310  f000				  -	      lda	#(40+6)
    311  f000				  -	      sbc	ranklabellengths,x
    312  f000				  -	      asl
    313  f000				  -	      sta	temp4	; X
    314  f000				  -	      lda	#((HSSCOREY+20)/(WZONEHEIGHT/8))
    315  f000				  -	      sta	temp5	; Y
    316  f000				  -	      jsr	plotcharacters
    317  f000				  -
    318  f000				  -	      ldx	hsnewscorerank
    319  f000				  -
    320  f000				  -	      lda	#<highscoreranklabel
    321  f000				  -	      sta	temp1
    322  f000				  -	      lda	#>highscoreranklabel
    323  f000				  -	      sta	temp2
    324  f000				  -
    325  f000				  -	      lda	#(32-5)	; palette=0*29 | 32-(width=3)
    326  f000				  -	      sta	temp3	; palette/width
    327  f000				  -	      lda	#(40-6)
    328  f000				  -	      sec
    329  f000				  -	      sbc	ranklabellengths,x
    330  f000				  -	      asl
    331  f000				  -	      sta	temp4	; X
    332  f000				  -	      lda	#((HSSCOREY+20)/(WZONEHEIGHT/8))
    333  f000				  -	      sta	temp5	; Y
    334  f000				  -	      jsr	plotcharacters
    335  f000				  -	      endif		; HSGAMERANKS
    336  f000				  -
    337  f000				  -
    338  f000				  -			; ** which line did this player beat?
    339  f000				  -	      lda	#$ff
    340  f000				  -	      sta	hsnewscoreline
    341  f000				  -	      ldx	#$fd
    342  f000				  -comparescoreadd2x
    343  f000				  -	      inx
    344  f000				  -comparescoreadd1x
    345  f000				  -	      inx
    346  f000				  -comparescore2lineloop
    347  f000				  -	      inc	hsnewscoreline
    348  f000				  -	      inx		; initialrun, x=0
    349  f000				  -	      cpx	#15
    350  f000				  -	      beq	nohighscoreforyou
    351  f000				  -	      ldy	#0
    352  f000				  -	      lda	HSRAMScores,x
    353  f000				  -	      cmp	(temp7),y	; first score digit
    354  f000				  -	      bcc	score2lineloopdonedel1x
    355  f000				  -	      bne	comparescoreadd2x
    356  f000				  -	      iny
    357  f000				  -	      inx
    358  f000				  -	      lda	HSRAMScores,x
    359  f000				  -	      cmp	(temp7),y
    360  f000				  -	      bcc	score2lineloopdonedel2x
    361  f000				  -	      bne	comparescoreadd1x
    362  f000				  -	      iny
    363  f000				  -	      inx
    364  f000				  -	      lda	(temp7),y
    365  f000				  -	      cmp	HSRAMScores,x
    366  f000				  -	      bcs	score2lineloopdonedel3x
    367  f000				  -	      jmp	comparescore2lineloop
    368  f000				  -nohighscoreforyou
    369  f000				  -	      lda	#$ff
    370  f000				  -	      sta	hsnewscoreline
    371  f000				  -	      sta	countdownseconds
    372  f000				  -	      jmp	donoscoreevaluation
    373  f000				  -score2lineloopdonedel3x
    374  f000				  -	      dex
    375  f000				  -score2lineloopdonedel2x
    376  f000				  -	      dex
    377  f000				  -score2lineloopdonedel1x
    378  f000				  -	      dex
    379  f000				  -
    380  f000				  -			; 0 1 2
    381  f000				  -			; 3 4 5
    382  f000				  -			; 6 7 8
    383  f000				  -			; 9 0 1
    384  f000				  -			; 2 3 4
    385  f000				  -
    386  f000				  -	      stx	temp9
    387  f000				  -	      cpx	#11
    388  f000				  -	      beq	postsortscoresuploop
    389  f000				  -	      ldx	#11
    390  f000				  -sortscoresuploop
    391  f000				  -	      lda	HSRAMScores,x
    392  f000				  -	      sta	HSRAMScores+3,x
    393  f000				  -	      lda	HSRAMInitials,x
    394  f000				  -	      sta	HSRAMInitials+3,x
    395  f000				  -	      dex
    396  f000				  -	      cpx	temp9
    397  f000				  -	      bne	sortscoresuploop
    398  f000				  -postsortscoresuploop
    399  f000				  -
    400  f000				  -			;stick the score and cleared initials in the slot...
    401  f000				  -	      inx
    402  f000				  -	      ldy	#0
    403  f000				  -	      sty	hsinitialhold
    404  f000				  -	      lda	(temp7),y
    405  f000				  -	      sta	HSRAMScores,x
    406  f000				  -	      iny
    407  f000				  -	      lda	(temp7),y
    408  f000				  -	      sta	HSRAMScores+1,x
    409  f000				  -	      iny
    410  f000				  -	      lda	(temp7),y
    411  f000				  -	      sta	HSRAMScores+2,x
    412  f000				  -	      lda	#0
    413  f000				  -	      sta	HSRAMInitials,x
    414  f000				  -	      lda	#29
    415  f000				  -	      sta	HSRAMInitials+1,x
    416  f000				  -	      sta	HSRAMInitials+2,x
    417  f000				  -
    418  f000				  -	      stx	hsinitialpos
    419  f000				  -
    420  f000				  -	      ifconst	vox_highscore
    421  f000				  -	      lda	<#vox_highscore
    422  f000				  -	      sta	speech_addr
    423  f000				  -	      lda	>#vox_highscore
    424  f000				  -	      sta	speech_addr+1
    425  f000				  -	      endif		; vox_highscore
    426  f000				  -	      ifconst	sfx_highscore
    427  f000				  -	      lda	<#sfx_highscore
    428  f000				  -	      sta	temp1
    429  f000				  -	      lda	>#sfx_highscore
    430  f000				  -	      sta	temp2
    431  f000				  -	      lda	#0
    432  f000				  -	      sta	temp3
    433  f000				  -	      jsr	schedulesfx
    434  f000				  -	      endif		; sfx_highscore
    435  f000				  -	      ifconst	songdatastart_song_highscore
    436  f000				  -	      lda	#<songchanneltable_song_highscore
    437  f000				  -	      sta	songpointerlo
    438  f000				  -	      lda	#>songchanneltable_song_highscore
    439  f000				  -	      sta	songpointerhi
    440  f000				  -	      lda	#73
    441  f000				  -	      sta	songtempo
    442  f000				  -	      jsr	setsongchannels
    443  f000				  -	      endif		; songdatastart_song_highscore
    444  f000				  -
    445  f000				  -
    446  f000				  -donoscoreevaluation
    447  f000				  -
    448  f000				  -	      lda	#(32+(32-SCORESIZE))	; palette=0*32 | 32-(width=6)
    449  f000				  -	      sta	temp3	; palette/width
    450  f000				  -	      lda	#(72+(4*(6-SCORESIZE)))
    451  f000				  -	      sta	temp4	; X
    452  f000				  -	      lda	#((HSSCOREY+6)/(WZONEHEIGHT/8))
    453  f000				  -	      sta	temp5	; Y
    454  f000				  -	      lda	#<HSRAMScores
    455  f000				  -	      sta	temp7	; score variable lo
    456  f000				  -	      lda	#>HSRAMScores
    457  f000				  -	      sta	temp8	; score variable hi
    458  f000				  -	      lda	#(hiscorefont_mode | %01100000)	; charactermode
    459  f000				  -	      sta	temp9
    460  f000				  -plothsscoresloop
    461  f000				  -	      lda	#<(hiscorefont+33)	; +33 to get to '0' character
    462  f000				  -	      sta	temp1	; charmaplo
    463  f000				  -	      lda	#>(hiscorefont+33)
    464  f000				  -	      sta	temp2	; charmaphi
    465  f000				  -	      lda	#6
    466  f000				  -	      sta	temp6
    467  f000				  -	      ifnconst	DOUBLEWIDE
    468  f000				  -	      jsr	plotvalue
    469  f000				  -	      else
    470  f000				  -	      jsr	plotvaluedw
    471  f000				  -	      endif
    472  f000				  -	      clc
    473  f000				  -	      lda	temp3
    474  f000				  -	      adc	#32
    475  f000				  -	      sta	temp3
    476  f000				  -	      inc	temp5
    477  f000				  -	      if	WZONEHEIGHT = 8
    478  f000				  -	      inc	temp5
    479  f000				  -	      endif
    480  f000				  -	      clc
    481  f000				  -	      lda	#3
    482  f000				  -	      adc	temp7
    483  f000				  -	      sta	temp7
    484  f000				  -	      cmp	#(<(HSRAMScores+15))
    485  f000				  -	      bcc	plothsscoresloop
    486  f000				  -plothsindex
    487  f000				  -	      lda	#32+31	; palette=0*32 | 32-(width=1)
    488  f000				  -	      sta	temp3	; palette/width
    489  f000				  -	      lda	#44
    490  f000				  -	      sta	temp4	; X
    491  f000				  -	      lda	#((HSSCOREY+6)/(WZONEHEIGHT/8))
    492  f000				  -	      sta	temp5	; Y
    493  f000				  -	      lda	#<hsgameslotnumbers
    494  f000				  -	      sta	temp7	; score variable lo
    495  f000				  -	      lda	#>hsgameslotnumbers
    496  f000				  -	      sta	temp8	; score variable hi
    497  f000				  -	      lda	#(hiscorefont_mode | %01100000)	; charactermode
    498  f000				  -	      sta	temp9
    499  f000				  -plothsindexloop
    500  f000				  -	      lda	#<(hiscorefont+33)
    501  f000				  -	      sta	temp1	; charmaplo
    502  f000				  -	      lda	#>(hiscorefont+33)
    503  f000				  -	      sta	temp2	; charmaphi
    504  f000				  -	      lda	#1
    505  f000				  -	      sta	temp6	; number of characters
    506  f000				  -	      ifnconst	DOUBLEWIDE
    507  f000				  -	      jsr	plotvalue
    508  f000				  -	      else
    509  f000				  -	      jsr	plotvaluedw
    510  f000				  -	      endif
    511  f000				  -	      clc
    512  f000				  -	      lda	temp3
    513  f000				  -	      adc	#32
    514  f000				  -	      sta	temp3
    515  f000				  -	      inc	temp5
    516  f000				  -	      if	WZONEHEIGHT = 8
    517  f000				  -	      inc	temp5
    518  f000				  -	      endif
    519  f000				  -	      inc	temp7
    520  f000				  -	      lda	temp7
    521  f000				  -	      cmp	#(<(hsgameslotnumbers+5))
    522  f000				  -	      bcc	plothsindexloop
    523  f000				  -
    524  f000				  -	      jsr	savescreen
    525  f000				  -	      ifnconst	HSSECONDS
    526  f000				  -	      lda	#6
    527  f000				  -	      else
    528  f000				  -	      lda	#HSSECONDS
    529  f000				  -	      endif
    530  f000				  -
    531  f000				  -	      sta	countdownseconds
    532  f000				  -
    533  f000				  -keepdisplayinghs
    534  f000				  -	      jsr	restorescreen
    535  f000				  -
    536  f000				  -	      jsr	setuphsinpt1
    537  f000				  -
    538  f000				  -	      lda	hsnewscoreline
    539  f000				  -	      bpl	carryonkeepdisplayinghs
    540  f000				  -	      jmp	skipenterscorecontrol
    541  f000				  -carryonkeepdisplayinghs
    542  f000				  -
    543  f000				  -
    544  f000				  -	      ifnconst	HSSECONDS
    545  f000				  -	      lda	#6
    546  f000				  -	      else
    547  f000				  -	      lda	#HSSECONDS
    548  f000				  -	      endif
    549  f000				  -
    550  f000				  -	      sta	countdownseconds
    551  f000				  -
    552  f000				  -			;plot the "cursor" initial sprite...
    553  f000				  -	      lda	hsinitialhold
    554  f000				  -
    555  f000				  -	      sta	temp1
    556  f000				  -	      lda	#>(hiscorefont+32)
    557  f000				  -	      sta	temp2
    558  f000				  -	      lda	#31	; palette=0*32 | 32-(width=1)
    559  f000				  -	      sta	temp3	; palette/width
    560  f000				  -	      lda	hscursorx
    561  f000				  -	      asl
    562  f000				  -	      asl
    563  f000				  -	      clc
    564  f000				  -	      adc	#104
    565  f000				  -	      sta	temp4	; X
    566  f000				  -	      lda	hsnewscoreline
    567  f000				  -	      asl
    568  f000				  -	      asl
    569  f000				  -	      asl
    570  f000				  -	      asl
    571  f000				  -	      adc	#((3*16)+HSCURSORY)
    572  f000				  -	      sta	temp5	; Y
    573  f000				  -	      lda	#%01000000
    574  f000				  -	      sta	temp6
    575  f000				  -	      jsr	plotsprite
    576  f000				  -
    577  f000				  -	      ldx	hscursorx
    578  f000				  -	      ldy	hsdisplaymode
    579  f000				  -	      ifnconst	.HSup
    580  f000				  -	      lda	sSWCHA
    581  f000				  -	      cpy	#3
    582  f000				  -	      bne	hsskipadjustjoystick1
    583  f000				  -	      asl
    584  f000				  -	      asl
    585  f000				  -	      asl
    586  f000				  -	      asl
    587  f000				  -hsskipadjustjoystick1
    588  f000				  -	      sta	hsswcha
    589  f000				  -	      else		; there are user-defined routines!
    590  f000				  -	      jsr	.HSdown
    591  f000				  -	      lda	hsreturn	; b0
    592  f000				  -	      asl
    593  f000				  -	      pha
    594  f000				  -	      jsr	.HSup
    595  f000				  -	      pla
    596  f000				  -	      ora	hsreturn
    597  f000				  -	      asl
    598  f000				  -	      asl
    599  f000				  -	      asl
    600  f000				  -	      asl
    601  f000				  -	      eor	#$FF
    602  f000				  -	      sta	hsswcha
    603  f000				  -	      endif		; .HSup
    604  f000				  -	      lda	SWCHB
    605  f000				  -	      and	#%00000010
    606  f000				  -	      bne	hsskipselectswitch
    607  f000				  -	      lda	#%00010000
    608  f000				  -	      sta	hsswcha
    609  f000				  -	      bne	hsdodebouncecheck
    610  f000				  -hsskipselectswitch
    611  f000				  -	      lda	hsswcha
    612  f000				  -	      and	#%00110000
    613  f000				  -	      cmp	#%00110000
    614  f000				  -	      beq	hsjoystickskipped
    615  f000				  -hsdodebouncecheck
    616  f000				  -	      lda	hsjoydebounce
    617  f000				  -	      beq	hsdontdebounce
    618  f000				  -	      jmp	hspostjoystick
    619  f000				  -hsdontdebounce
    620  f000				  -	      ldx	#1	; small tick sound
    621  f000				  -	      jsr	playhssfx
    622  f000				  -	      lda	hsswcha
    623  f000				  -	      and	#%00110000
    624  f000				  -	      ldx	hscursorx
    625  f000				  -	      cmp	#%00100000	; check down
    626  f000				  -	      bne	hsjoycheckup
    627  f000				  -	      ldy	hsinitialhold
    628  f000				  -	      cpx	#0
    629  f000				  -	      bne	skipavoid31_1
    630  f000				  -	      cpy	#0	; if we're about to change to the <- char (#31) then double-decrement to skip over it
    631  f000				  -	      bne	skipavoid31_1
    632  f000				  -	      dey
    633  f000				  -skipavoid31_1
    634  f000				  -	      dey
    635  f000				  -	      jmp	hssetdebounce
    636  f000				  -hsjoycheckup
    637  f000				  -	      cmp	#%00010000	; check up
    638  f000				  -	      bne	hsjoystickskipped
    639  f000				  -	      ldy	hsinitialhold
    640  f000				  -	      cpx	#0
    641  f000				  -	      bne	skipavoid31_2
    642  f000				  -	      cpy	#30	; if we're about to change to the <- char (#31) then double-increment to skip over it
    643  f000				  -	      bne	skipavoid31_2
    644  f000				  -	      iny
    645  f000				  -skipavoid31_2
    646  f000				  -	      iny
    647  f000				  -hssetdebounce
    648  f000				  -	      tya
    649  f000				  -	      and	#31
    650  f000				  -	      sta	hsinitialhold
    651  f000				  -	      lda	#15
    652  f000				  -	      sta	hsjoydebounce
    653  f000				  -	      bne	hspostjoystick
    654  f000				  -hsjoystickskipped
    655  f000				  -			; check the fire button only when the stick isn't engaged
    656  f000				  -	      lda	hsinpt1
    657  f000				  -	      bpl	hsbuttonskipped
    658  f000				  -	      lda	hsjoydebounce
    659  f000				  -	      bne	hspostjoystick
    660  f000				  -hsfiredontdebounce
    661  f000				  -	      lda	hsinitialhold
    662  f000				  -	      cmp	#31
    663  f000				  -	      beq	hsmovecursorback
    664  f000				  -	      inc	hscursorx
    665  f000				  -	      inc	hsinitialpos
    666  f000				  -	      lda	hscursorx
    667  f000				  -	      cmp	#3
    668  f000				  -	      bne	skiphsentryisdone
    669  f000				  -	      lda	#0
    670  f000				  -	      sta	framecounter
    671  f000				  -	      lda	#$ff
    672  f000				  -	      sta	hsnewscoreline
    673  f000				  -	      dec	hsinitialpos
    674  f000				  -	      bne	skiphsentryisdone
    675  f000				  -hsmovecursorback
    676  f000				  -	      lda	hscursorx
    677  f000				  -	      beq	skiphsmovecursorback
    678  f000				  -	      lda	#29
    679  f000				  -	      ldx	hsinitialpos
    680  f000				  -	      sta	HSRAMInitials,x
    681  f000				  -	      dec	hsinitialpos
    682  f000				  -	      dec	hscursorx
    683  f000				  -	      dex
    684  f000				  -	      lda	HSRAMInitials,x
    685  f000				  -	      sta	hsinitialhold
    686  f000				  -skiphsmovecursorback
    687  f000				  -skiphsentryisdone
    688  f000				  -	      ldx	#0
    689  f000				  -	      jsr	playhssfx
    690  f000				  -	      lda	#20
    691  f000				  -	      sta	hsjoydebounce
    692  f000				  -	      bne	hspostjoystick
    693  f000				  -
    694  f000				  -hsbuttonskipped
    695  f000				  -	      lda	#0
    696  f000				  -	      sta	hsjoydebounce
    697  f000				  -hspostjoystick
    698  f000				  -
    699  f000				  -	      ldx	hsinitialpos
    700  f000				  -	      lda	hsinitialhold
    701  f000				  -	      sta	HSRAMInitials,x
    702  f000				  -
    703  f000				  -	      jmp	skiphschasecolors
    704  f000				  -
    705  f000				  -skipenterscorecontrol
    706  f000				  -	      jsr	hschasecolors
    707  f000				  -	      jsr	setuphsinpt1
    708  f000				  -	      lda	hsjoydebounce
    709  f000				  -	      bne	skiphschasecolors
    710  f000				  -	      lda	hsinpt1
    711  f000				  -	      bmi	returnfromhs
    712  f000				  -skiphschasecolors
    713  f000				  -
    714  f000				  -	      jsr	drawscreen
    715  f000				  -
    716  f000				  -	      lda	countdownseconds
    717  f000				  -	      beq	returnfromhs
    718  f000				  -	      jmp	keepdisplayinghs
    719  f000				  -returnfromhs
    720  f000				  -
    721  f000				  -	      ifconst	songdatastart_song_highscore
    722  f000				  -	      lda	hsdisplaymode
    723  f000				  -	      beq	skipclearHSCsong
    724  f000				  -	      lda	#0
    725  f000				  -	      sta	songtempo
    726  f000				  -skipclearHSCsong
    727  f000				  -	      endif
    728  f000				  -	      jsr	drawwait
    729  f000				  -	      jsr	clearscreen
    730  f000				  -	      lda	#0
    731  f000				  -	      ldy	#7
    732  f000				  -	      jsr	blacken320colors
    733  f000				  -			;lda ssCHARBASE
    734  f000				  -	      pla
    735  f000				  -	      sta	sCHARBASE
    736  f000				  -			;lda ssCTRL
    737  f000				  -	      pla
    738  f000				  -	      sta	sCTRL
    739  f000				  -	      rts
    740  f000				  -
    741  f000				  -setuphsinpt1
    742  f000				  -	      lda	#$ff
    743  f000				  -	      sta	hsinpt1
    744  f000				  -	      lda	hsjoydebounce
    745  f000				  -	      beq	skipdebounceadjust
    746  f000				  -	      dec	hsjoydebounce
    747  f000				  -	      bne	skipstorefirebuttonstatus
    748  f000				  -skipdebounceadjust
    749  f000				  -	      lda	SWCHB
    750  f000				  -	      and	#%00000001
    751  f000				  -	      bne	hscheckresetover
    752  f000				  -	      lda	#$ff
    753  f000				  -	      sta	hsinpt1
    754  f000				  -	      rts
    755  f000				  -hscheckresetover
    756  f000				  -	      ifnconst	.HSselect
    757  f000				  -	      ldx	hsdisplaymode
    758  f000				  -	      cpx	#3
    759  f000				  -	      bne	hsskipadjustjoyfire1
    760  f000				  -	      lda	sINPT3
    761  f000				  -	      jmp	hsskipadjustjoyfire1done
    762  f000				  -hsskipadjustjoyfire1
    763  f000				  -	      lda	sINPT1
    764  f000				  -hsskipadjustjoyfire1done
    765  f000				  -	      sta	hsinpt1
    766  f000				  -	      else		; there are user-defined routines!
    767  f000				  -	      jsr	.HSselect
    768  f000				  -	      lda	hsreturn
    769  f000				  -	      ror		; carry
    770  f000				  -	      ror		; b7
    771  f000				  -	      sta	hsinpt1
    772  f000				  -	      endif		; .HSselect
    773  f000				  -skipstorefirebuttonstatus
    774  f000				  -	      rts
    775  f000				  -
    776  f000				  -blacken320colors
    777  f000				  -	      ldy	#7
    778  f000				  -blacken320colorsloop
    779  f000				  -	      sta	P0C2,y
    780  f000				  -	      dey
    781  f000				  -	      bpl	blacken320colorsloop
    782  f000				  -	      rts
    783  f000				  -
    784  f000				  -hschasecolors
    785  f000				  -	      lda	framecounter
    786  f000				  -	      and	#3
    787  f000				  -	      bne	hschasecolorsreturn
    788  f000				  -	      inc	hscolorchaseindex
    789  f000				  -	      lda	hscolorchaseindex
    790  f000				  -
    791  f000				  -	      sta	P5C2
    792  f000				  -	      sbc	#$02
    793  f000				  -	      sta	P4C2
    794  f000				  -	      sbc	#$02
    795  f000				  -	      sta	P3C2
    796  f000				  -	      sbc	#$02
    797  f000				  -	      sta	P2C2
    798  f000				  -	      sbc	#$02
    799  f000				  -	      sta	P1C2
    800  f000				  -hschasecolorsreturn
    801  f000				  -	      rts
    802  f000				  -
    803  f000				  -playhssfx
    804  f000				  -	      lda	hssfx_lo,x
    805  f000				  -	      sta	temp1
    806  f000				  -	      lda	hssfx_hi,x
    807  f000				  -	      sta	temp2
    808  f000				  -	      lda	#0
    809  f000				  -	      sta	temp3
    810  f000				  -	      jmp	schedulesfx
    811  f000				  -
    812  f000				  -hssfx_lo
    813  f000				  -	      .byte	<sfx_hsletterpositionchange, <sfx_hslettertick
    814  f000				  -hssfx_hi
    815  f000				  -	      .byte	>sfx_hsletterpositionchange, >sfx_hslettertick
    816  f000				  -
    817  f000				  -sfx_hsletterpositionchange
    818  f000				  -	      .byte	$10,$18,$00
    819  f000				  -	      .byte	$02,$06,$08
    820  f000				  -	      .byte	$02,$06,$04
    821  f000				  -	      .byte	$00,$00,$00
    822  f000				  -sfx_hslettertick
    823  f000				  -	      .byte	$10,$18,$00
    824  f000				  -	      .byte	$00,$00,$0a
    825  f000				  -	      .byte	$00,$00,$00
    826  f000				  -
    827  f000				  -highscorelabeladjust1
    828  f000				  -	      .byte	(80-(14*2)-(SCORESIZE*2)),(80-(16*2)-(SCORESIZE*2)),(80-(16*2)-(SCORESIZE*2)),(80-(16*2)-(SCORESIZE*2))
    829  f000				  -highscorelabeladjust2
    830  f000				  -	      .byte	(80+(14*2)-(SCORESIZE*2)),(80+(16*2)-(SCORESIZE*2)),(80+(16*2)-(SCORESIZE*2)),(80+(16*2)-(SCORESIZE*2))
    831  f000				  -
    832  f000				  -scorevarlo
    833  f000				  -	      .byte	<(score0+((6-SCORESIZE)/2)),<(score0+((6-SCORESIZE)/2)),<(score1+((6-SCORESIZE)/2)),<(score1+((6-SCORESIZE)/2))
    834  f000				  -scorevarhi
    835  f000				  -	      .byte	>(score0+((6-SCORESIZE)/2)),>(score0+((6-SCORESIZE)/2)),>(score1+((6-SCORESIZE)/2)),>(score1+((6-SCORESIZE)/2))
    836  f000				  -
    837  f000				  -	      endif		; !isBANKSETBANK
    838  f000				  -
    839  f000				  -	      ifnconst	HSNOLEVELNAMES
    840  f000				  -	      ifnconst	isBANKSETBANK
    841  f000				  -highscoredifficultytextlo
    842  f000				  -	      .byte	<easylevelname, <mediumlevelname, <hardlevelname, <expertlevelname
    843  f000				  -highscoredifficultytexthi
    844  f000				  -	      .byte	>easylevelname, >mediumlevelname, >hardlevelname, >expertlevelname
    845  f000				  -	      endif		; !isBANKSETBANK
    846  f000				  -
    847  f000				  -	      ifnconst	HSCUSTOMLEVELNAMES
    848  f000				  -	      ifnconst	isBANKSETBANK
    849  f000				  -highscoredifficultytextlen
    850  f000				  -	      .byte	22, 30, 26, 24
    851  f000				  -	      endif		; !isBANKSETBANK
    852  f000				  -
    853  f000				  -	      ifconst	HSCHARSHERE
    854  f000				  -
    855  f000				  -easylevelname
    856  f000				  -	      .byte	$04,$00,$12,$18,$1d,$0b,$04,$15,$04,$0b,$1d,$07,$08,$06,$07,$1d,$12,$02,$0e,$11,$04,$12
    857  f000				  -mediumlevelname
    858  f000				  -	      .byte	$08,$0d,$13,$04,$11,$0c,$04,$03,$08,$00,$13,$04,$1d,$0b,$04,$15,$04,$0b,$1d,$07,$08,$06,$07,$1d,$12,$02,$0e,$11,$04,$12
    859  f000				  -hardlevelname
    860  f000				  -	      .byte	$00,$03,$15,$00,$0d,$02,$04,$03,$1d,$0b,$04,$15,$04,$0b,$1d,$07,$08,$06,$07,$1d,$12,$02,$0e,$11,$04,$12
    861  f000				  -expertlevelname
    862  f000				  -	      .byte	$04,$17,$0f,$04,$11,$13,$1d,$0b,$04,$15,$04,$0b,$1d,$07,$08,$06,$07,$1d,$12,$02,$0e,$11,$04,$12
    863  f000				  -	      endif		; HSCHARSHERE
    864  f000				  -	      else		; HSCUSTOMLEVELNAMES
    865  f000				  -	      include	"7800hsgamediffnames.asm"
    866  f000				  -	      endif		; HSCUSTOMLEVELNAMES
    867  f000				  -	      else		; HSNOLEVELNAMES
    868  f000				  -	      ifconst	HSCHARSHERE
    869  f000				  -HSHIGHSCOREStext
    870  f000				  -	      .byte	$07,$08,$06,$07,$1d,$12,$02,$0e,$11,$04,$12
    871  f000				  -	      endif		; HSCHARSHERE
    872  f000				  -	      endif		; HSNOLEVELNAMES
    873  f000				  -
    874  f000				  -	      ifnconst	isBANKSETBANK
    875  f000				  -highscorelabeltextlo
    876  f000				  -	      .byte	<player0label, <player1label, <player2label, <player2label
    877  f000				  -highscorelabeltexthi
    878  f000				  -	      .byte	>player0label, >player1label, >player2label, >player2label
    879  f000				  -	      endif		; !isBANKSETBANK
    880  f000				  -
    881  f000				  -	      ifconst	HSCHARSHERE
    882  f000				  -player0label
    883  f000				  -	      .byte	$0f,$0b,$00,$18,$04,$11,$1d,$12,$02,$0e,$11,$04,$1a,$1d,$1d
    884  f000				  -
    885  f000				  -player1label
    886  f000				  -	      .byte	$0f,$0b,$00,$18,$04,$11,$1d,$22,$1d,$12,$02,$0e,$11,$04,$1a
    887  f000				  -
    888  f000				  -player2label
    889  f000				  -	      .byte	$0f,$0b,$00,$18,$04,$11,$1d,$23,$1d,$12,$02,$0e,$11,$04,$1a
    890  f000				  -	      endif		; HSCHARSHERE
    891  f000				  -
    892  f000				  -
    893  f000				  -	      ifconst	HSGAMENAMELEN
    894  f000				  -	      ifconst	HSCHARSHERE
    895  f000				  -HSGAMENAMEtable
    896  f000				  -	      include	"7800hsgamename.asm"
    897  f000				  -	      endif		; HSCHARSHERE
    898  f000				  -	      endif		; HSGAMENAMELEN
    899  f000				  -	      ifconst	HSGAMERANKS
    900  f000				  -	      include	"7800hsgameranks.asm"
    901  f000				  -	      ifconst	HSCHARSHERE
    902  f000				  -highscoreranklabel
    903  f000				  -	      .byte	$11,$00,$0d,$0a,$1a
    904  f000				  -	      endif		; HSCHARSHERE
    905  f000				  -	      endif		; HSGAMERANKS
    906  f000				  -
    907  f000				  -			;ensure our table doesn't wrap a page...
    908  f000				  -	      if	((<*)>251)
    909  f000				  -	      align	256
    910  f000				  -	      endif
    911  f000				  -hsgameslotnumbers
    912  f000				  -	      .byte	33,34,35,36,37
    913  f000				  -	      endif		; hiscorefont
    914  f000				  -
    915  f000				  -
    916  f000				  -	      ifnconst	isBANKSETBANK
    917  f000				  -loaddifficultytable
    918  f000				  -	      lda	gamedifficulty
    919  f000				  -	      and	#$03	; ensure the user hasn't selected an invalid difficulty
    920  f000				  -	      sta	gamedifficulty
    921  f000				  -	      cmp	hsdifficulty	; check game difficulty is the same as RAM table
    922  f000				  -	      bne	loaddifficultytablecontinue1
    923  f000				  -	      rts		; this high score difficulty table is already loaded
    924  f000				  -loaddifficultytablecontinue1
    925  f000				  -	      lda	gamedifficulty
    926  f000				  -	      sta	hsdifficulty
    927  f000				  -			;we need to check the device for the table
    928  f000				  -	      lda	hsdevice
    929  f000				  -	      bne	loaddifficultytablecontinue2
    930  f000				  -			; there's no save device. clear out this table.
    931  f000				  -	      jmp	cleardifficultytablemem
    932  f000				  -loaddifficultytablecontinue2
    933  f000				  -	      lda	hsdevice
    934  f000				  -	      and	#1
    935  f000				  -	      beq	memdeviceisntHSC
    936  f000				  -	      jmp	loaddifficultytableHSC
    937  f000				  -memdeviceisntHSC
    938  f000				  -	      jmp	loaddifficultytableAVOX
    939  f000				  -
    940  f000				  -savedifficultytable
    941  f000				  -			;*** we need to check which device we should use...
    942  f000				  -	      lda	hsdevice
    943  f000				  -	      bne	savedifficultytablerealdevice
    944  f000				  -	      rts		; its a ram device
    945  f000				  -savedifficultytablerealdevice
    946  f000				  -	      and	#1
    947  f000				  -	      beq	savememdeviceisntHSC
    948  f000				  -	      jmp	savedifficultytableHSC
    949  f000				  -savememdeviceisntHSC
    950  f000				  -	      jmp	savedifficultytableAVOX
    951  f000				  -
    952  f000				  -savedifficultytableAVOX
    953  f000				  -			; the load call already setup the memory structure and atarivox memory location
    954  f000				  -	      jsr	savealoadedHSCtablecontinue
    955  f000				  -savedifficultytableAVOXskipconvert
    956  f000				  -	      lda	#HSIDHI
    957  f000				  -	      sta	eeprombuffer
    958  f000				  -	      lda	#HSIDLO
    959  f000				  -	      sta	eeprombuffer+1
    960  f000				  -	      lda	hsdifficulty
    961  f000				  -	      sta	eeprombuffer+2
    962  f000				  -	      lda	#32
    963  f000				  -	      jsr	AVoxWriteBytes
    964  f000				  -	      rts
    965  f000				  -
    966  f000				  -savedifficultytableHSC
    967  f000				  -			;we always load a table before reaching here, so the
    968  f000				  -			;memory structures from the load should be intact...
    969  f000				  -	      ldy	hsgameslot
    970  f000				  -	      bpl	savealoadedHSCtable
    971  f000				  -	      rts
    972  f000				  -savealoadedHSCtable
    973  f000				  -	      lda	HSCGameDifficulty,y
    974  f000				  -	      cmp	#$7F
    975  f000				  -	      bne	savealoadedHSCtablecontinue
    976  f000				  -	      jsr	initializeHSCtableentry
    977  f000				  -savealoadedHSCtablecontinue
    978  f000				  -			;convert our RAM table to HSC format and write it out...
    979  f000				  -	      ldy	#0
    980  f000				  -	      ldx	#0
    981  f000				  -savedifficultytableScores
    982  f000				  -
    983  f000				  -	      lda	HSRAMInitials,x
    984  f000				  -	      sta	temp3
    985  f000				  -	      lda	HSRAMInitials+1,x
    986  f000				  -	      sta	temp4
    987  f000				  -	      lda	HSRAMInitials+2,x
    988  f000				  -	      sta	temp5
    989  f000				  -	      jsr	encodeHSCInitials	; takes 3 byte initials from temp3,4,5 and stores 2 byte initials in temp1,2
    990  f000				  -
    991  f000				  -	      lda	temp1
    992  f000				  -	      sta	(HSGameTableLo),y
    993  f000				  -	      iny
    994  f000				  -	      lda	temp2
    995  f000				  -	      sta	(HSGameTableLo),y
    996  f000				  -	      iny
    997  f000				  -
    998  f000				  -	      lda	HSRAMScores,x
    999  f000				  -	      sta	(HSGameTableLo),y
   1000  f000				  -	      iny
   1001  f000				  -	      lda	HSRAMScores+1,x
   1002  f000				  -	      sta	(HSGameTableLo),y
   1003  f000				  -	      iny
   1004  f000				  -	      lda	HSRAMScores+2,x
   1005  f000				  -	      sta	(HSGameTableLo),y
   1006  f000				  -	      iny
   1007  f000				  -	      inx
   1008  f000				  -	      inx
   1009  f000				  -	      inx		; +3
   1010  f000				  -	      cpx	#15
   1011  f000				  -	      bne	savedifficultytableScores
   1012  f000				  -	      rts
   1013  f000				  -
   1014  f000				  -loaddifficultytableHSC
   1015  f000				  -			; routine responsible for loading the difficulty table from HSC
   1016  f000				  -	      jsr	findindexHSC
   1017  f000				  -	      ldy	hsgameslot
   1018  f000				  -	      lda	HSCGameDifficulty,y
   1019  f000				  -	      cmp	#$7F
   1020  f000				  -	      bne	loaddifficultytableHSCcontinue
   1021  f000				  -			;there was an error. use a new RAM table instead...
   1022  f000				  -	      jsr	initializeHSCtableentry
   1023  f000				  -	      jmp	cleardifficultytablemem
   1024  f000				  -loaddifficultytableHSCcontinue
   1025  f000				  -			; parse the data into the HS memory...
   1026  f000				  -	      ldy	#0
   1027  f000				  -	      ldx	#0
   1028  f000				  -loaddifficultytableScores
   1029  f000				  -	      lda	(HSGameTableLo),y
   1030  f000				  -	      sta	temp1
   1031  f000				  -	      iny
   1032  f000				  -	      lda	(HSGameTableLo),y
   1033  f000				  -	      sta	temp2
   1034  f000				  -	      jsr	decodeHSCInitials	; takes 2 byte initials from temp1,2 and stores 3 byte initials in temp3,4,5
   1035  f000				  -	      iny
   1036  f000				  -	      lda	(HSGameTableLo),y
   1037  f000				  -	      sta	HSRAMScores,x
   1038  f000				  -	      lda	temp3
   1039  f000				  -	      sta	HSRAMInitials,x
   1040  f000				  -	      inx
   1041  f000				  -	      iny
   1042  f000				  -	      lda	(HSGameTableLo),y
   1043  f000				  -	      sta	HSRAMScores,x
   1044  f000				  -	      lda	temp4
   1045  f000				  -	      sta	HSRAMInitials,x
   1046  f000				  -	      inx
   1047  f000				  -	      iny
   1048  f000				  -	      lda	(HSGameTableLo),y
   1049  f000				  -	      sta	HSRAMScores,x
   1050  f000				  -	      lda	temp5
   1051  f000				  -	      sta	HSRAMInitials,x
   1052  f000				  -	      inx
   1053  f000				  -	      iny
   1054  f000				  -	      cpx	#15
   1055  f000				  -	      bne	loaddifficultytableScores
   1056  f000				  -	      ldx	#14
   1057  f000				  -	      lda	#$ff
   1058  f000				  -validatescoresloop
   1059  f000				  -	      and	HSRAMScores,x
   1060  f000				  -	      dex
   1061  f000				  -	      bpl	validatescoresloop
   1062  f000				  -	      cmp	#$ff
   1063  f000				  -	      bne	exitloaddifficultytableScores
   1064  f000				  -	      jmp	cleardifficultytablemem
   1065  f000				  -exitloaddifficultytableScores
   1066  f000				  -	      rts
   1067  f000				  -
   1068  f000				  -decodeHSCInitials
   1069  f000				  -			; takes 2 byte initials from temp1,2 and stores 3 byte initials in temp3,4,5
   1070  f000				  -			; 2 bytes are packed in the form: 22211111 22_33333
   1071  f000				  -	      lda	#0
   1072  f000				  -	      sta	temp4
   1073  f000				  -	      lda	temp1
   1074  f000				  -	      and	#%00011111
   1075  f000				  -	      sta	temp3
   1076  f000				  -
   1077  f000				  -	      lda	temp2
   1078  f000				  -	      and	#%00011111
   1079  f000				  -	      sta	temp5
   1080  f000				  -
   1081  f000				  -	      lda	temp1
   1082  f000				  -	      asl
   1083  f000				  -	      rol	temp4
   1084  f000				  -	      asl
   1085  f000				  -	      rol	temp4
   1086  f000				  -	      asl
   1087  f000				  -	      rol	temp4
   1088  f000				  -	      lda	temp2
   1089  f000				  -	      asl
   1090  f000				  -	      rol	temp4
   1091  f000				  -	      asl
   1092  f000				  -	      rol	temp4
   1093  f000				  -	      rts
   1094  f000				  -encodeHSCInitials
   1095  f000				  -			; takes 3 byte initials from temp3,4,5 and stores 2 byte initials in temp1,2
   1096  f000				  -			; 2 bytes are packed in the form: 22211111 22_33333
   1097  f000				  -			; start with packing temp1...
   1098  f000				  -	      lda	temp4
   1099  f000				  -	      and	#%00011100
   1100  f000				  -	      sta	temp1
   1101  f000				  -	      asl	temp1
   1102  f000				  -	      asl	temp1
   1103  f000				  -	      asl	temp1
   1104  f000				  -	      lda	temp3
   1105  f000				  -	      and	#%00011111
   1106  f000				  -	      ora	temp1
   1107  f000				  -	      sta	temp1
   1108  f000				  -			; ...temp1 is now packed, on to temp2...
   1109  f000				  -	      lda	temp5
   1110  f000				  -	      asl
   1111  f000				  -	      asl
   1112  f000				  -	      ror	temp4
   1113  f000				  -	      ror
   1114  f000				  -	      ror	temp4
   1115  f000				  -	      ror
   1116  f000				  -	      sta	temp2
   1117  f000				  -	      rts
   1118  f000				  -
   1119  f000				  -findindexHSCerror
   1120  f000				  -			;the HSC is stuffed. return the bad slot flag
   1121  f000				  -	      ldy	#$ff
   1122  f000				  -	      sty	hsgameslot
   1123  f000				  -	      rts
   1124  f000				  -
   1125  f000				  -findindexHSC
   1126  f000				  -HSCGameID1 =	$1029
   1127  f000				  -HSCGameID2 =	$106E
   1128  f000				  -HSCGameDifficulty =	$10B3
   1129  f000				  -HSCGameIndex =	$10F8
   1130  f000				  -			; routine responsible for finding the game index from HSC
   1131  f000				  -			; call with x=0 to create a new table if none exist, call with x=$ff to avoid creating new tables
   1132  f000				  -			; the HS loading routine will use x=$ff, the HS saving routine will use x=0
   1133  f000				  -	      ldy	#69	; start +1 to account for the dey
   1134  f000				  -findindexHSCloop
   1135  f000				  -	      dey
   1136  f000				  -	      bmi	findindexHSCerror
   1137  f000				  -	      lda	HSCGameDifficulty,y
   1138  f000				  -	      cmp	#$7F
   1139  f000				  -	      beq	findourindexHSC
   1140  f000				  -	      cmp	gamedifficulty
   1141  f000				  -	      bne	findindexHSCloop
   1142  f000				  -	      lda	HSCGameID1,y
   1143  f000				  -	      cmp	#HSIDHI
   1144  f000				  -	      bne	findindexHSCloop
   1145  f000				  -	      lda	HSCGameID2,y
   1146  f000				  -	      cmp	#HSIDLO
   1147  f000				  -	      bne	findindexHSCloop
   1148  f000				  -findourindexHSC
   1149  f000				  -			; if we're here we found our index in the table
   1150  f000				  -			; or we found the first empty one
   1151  f000				  -	      sty	hsgameslot
   1152  f000				  -	      jsr	setupHSCGamepointer	; setup the pointer to the HS Table for this game...
   1153  f000				  -	      rts
   1154  f000				  -
   1155  f000				  -
   1156  f000				  -initializeHSCtableentry
   1157  f000				  -	      ldy	hsgameslot
   1158  f000				  -			; we need to make a new entry...
   1159  f000				  -	      lda	#HSIDHI
   1160  f000				  -	      sta	HSCGameID1,y
   1161  f000				  -	      lda	#HSIDLO
   1162  f000				  -	      sta	HSCGameID2,y
   1163  f000				  -	      lda	gamedifficulty
   1164  f000				  -	      sta	HSCGameDifficulty,y
   1165  f000				  -	      ldx	#0
   1166  f000				  -fixHSDGameDifficultylistLoop
   1167  f000				  -	      inx
   1168  f000				  -	      txa
   1169  f000				  -	      sta	HSCGameIndex,y
   1170  f000				  -	      iny
   1171  f000				  -	      cpy	#69
   1172  f000				  -	      bne	fixHSDGameDifficultylistLoop
   1173  f000				  -	      rts
   1174  f000				  -
   1175  f000				  -setupHSCGamepointer
   1176  f000				  -			; this routines sets (HSGameTableLo) pointing to the game's HS table
   1177  f000				  -	      lda	#$17
   1178  f000				  -	      sta	HSGameTableHi
   1179  f000				  -	      lda	#$FA
   1180  f000				  -	      sta	HSGameTableLo
   1181  f000				  -setupHSCGamepointerLoop
   1182  f000				  -	      lda	HSGameTableLo
   1183  f000				  -	      sec
   1184  f000				  -	      sbc	#25
   1185  f000				  -	      sta	HSGameTableLo
   1186  f000				  -	      lda	HSGameTableHi
   1187  f000				  -	      sbc	#0
   1188  f000				  -	      sta	HSGameTableHi
   1189  f000				  -	      iny
   1190  f000				  -	      cpy	#69
   1191  f000				  -	      bne	setupHSCGamepointerLoop
   1192  f000				  -	      rts
   1193  f000				  -
   1194  f000				  -loaddifficultytableAVOX
   1195  f000				  -			; routine responsible for loading the difficulty table from Avox
   1196  f000				  -			; we reuse HSC routines to format data to/from our Avox RAM buffer...
   1197  f000				  -	      lda	#>(eeprombuffer+3)
   1198  f000				  -	      sta	HSGameTableHi
   1199  f000				  -	      lda	#<(eeprombuffer+3)
   1200  f000				  -	      sta	HSGameTableLo
   1201  f000				  -
   1202  f000				  -			; the start location in EEPROM, subtract 32...
   1203  f000				  -	      lda	#$5F
   1204  f000				  -	      sta	HSVoxHi
   1205  f000				  -	      lda	#$E0
   1206  f000				  -	      sta	HSVoxLo
   1207  f000				  -	      lda	#0
   1208  f000				  -	      sta	temp1
   1209  f000				  -loaddifficultytableAVOXloop
   1210  f000				  -	      inc	temp1
   1211  f000				  -	      beq	loaddifficultytableAVOXfull
   1212  f000				  -	      clc
   1213  f000				  -	      lda	HSVoxLo
   1214  f000				  -	      adc	#32
   1215  f000				  -	      sta	HSVoxLo
   1216  f000				  -	      lda	HSVoxHi
   1217  f000				  -	      adc	#0
   1218  f000				  -	      sta	HSVoxHi
   1219  f000				  -	      lda	#3
   1220  f000				  -	      jsr	AVoxReadBytes	; read in 3 bytes, ID1,ID2,Difficulty
   1221  f000				  -	      lda	eeprombuffer
   1222  f000				  -	      cmp	#$FF
   1223  f000				  -	      beq	loaddifficultytableAVOXempty
   1224  f000				  -	      cmp	#HSIDHI
   1225  f000				  -	      bne	loaddifficultytableAVOXloop
   1226  f000				  -	      lda	eeprombuffer+1
   1227  f000				  -	      cmp	#HSIDLO
   1228  f000				  -	      bne	loaddifficultytableAVOXloop
   1229  f000				  -	      lda	eeprombuffer+2
   1230  f000				  -	      cmp	gamedifficulty
   1231  f000				  -	      bne	loaddifficultytableAVOXloop
   1232  f000				  -loaddifficultytableAVOXdone
   1233  f000				  -	      lda	#32
   1234  f000				  -	      jsr	AVoxReadBytes
   1235  f000				  -	      jsr	loaddifficultytableHSCcontinue
   1236  f000				  -	      rts
   1237  f000				  -loaddifficultytableAVOXfull
   1238  f000				  -	      lda	#0
   1239  f000				  -	      sta	hsdevice	; looks like all 255 entries are taken... disable it.
   1240  f000				  -loaddifficultytableAVOXempty
   1241  f000				  -	      jmp	cleardifficultytablemem
   1242  f000				  -	      rts
   1243  f000				  -
   1244  f000				  -cleardifficultytablemem
   1245  f000				  -	      ldy	#29
   1246  f000				  -	      lda	#0
   1247  f000				  -cleardifficultytablememloop
   1248  f000				  -	      sta	HSRAMTable,y
   1249  f000				  -	      dey
   1250  f000				  -	      bpl	cleardifficultytablememloop
   1251  f000				  -	      rts
   1252  f000				  -hiscoremoduleend
   1253  f000				  -
   1254  f000				  -hiscorecleardlmem
   1255  f000				  -	      ldx	#(WZONECOUNT-1)
   1256  f000				  -hiscorecleardlmemloop1
   1257  f000				  -	      lda	DLPOINTL,x
   1258  f000				  -	      sta	dlpnt
   1259  f000				  -	      lda	DLPOINTH,x
   1260  f000				  -	      sta	dlpnt+1
   1261  f000				  -	      lda	#0
   1262  f000				  -	      ldy	#17
   1263  f000				  -hiscorecleardlmemloop2
   1264  f000				  -	      sta	(dlpnt),y
   1265  f000				  -	      dey
   1266  f000				  -	      bpl	hiscorecleardlmemloop2
   1267  f000				  -	      dex
   1268  f000				  -	      bpl	hiscorecleardlmemloop1
   1269  f000				  -	      rts
   1270  f000				  -
   1271  f000				  -	      ifconst	DOUBLEWIDE
   1272  f000				  -plotvaluedw
   1273  f000				  -plotdigitcount =	temp6
   1274  f000				  -	      lda	#0
   1275  f000				  -	      tay
   1276  f000				  -	      ldx	valbufend
   1277  f000				  -
   1278  f000				  -	      lda	plotdigitcount
   1279  f000				  -	      and	#1
   1280  f000				  -	      beq	pvnibble2chardw
   1281  f000				  -	      lda	#0
   1282  f000				  -	      sta	VALBUFFER,x	; just in case we skip this digit
   1283  f000				  -	      beq	pvnibble2char_skipnibbledw
   1284  f000				  -
   1285  f000				  -pvnibble2chardw
   1286  f000				  -			; high nibble...
   1287  f000				  -	      lda	(temp7),y
   1288  f000				  -	      and	#$f0
   1289  f000				  -	      lsr
   1290  f000				  -	      lsr
   1291  f000				  -	      lsr
   1292  f000				  -	      lsr
   1293  f000				  -
   1294  f000				  -	      clc
   1295  f000				  -	      adc	temp1	; add the offset to character graphics to our value
   1296  f000				  -	      sta	VALBUFFER,x
   1297  f000				  -	      inx
   1298  f000				  -	      dec	plotdigitcount
   1299  f000				  -pvnibble2char_skipnibbledw
   1300  f000				  -			; low nibble...
   1301  f000				  -	      lda	(temp7),y
   1302  f000				  -	      and	#$0f
   1303  f000				  -	      clc
   1304  f000				  -	      adc	temp1	; add the offset to character graphics to our value
   1305  f000				  -	      sta	VALBUFFER,x
   1306  f000				  -	      inx
   1307  f000				  -	      iny
   1308  f000				  -
   1309  f000				  -	      dec	plotdigitcount
   1310  f000				  -	      bne	pvnibble2chardw
   1311  f000				  -			;point to the start of our valuebuffer
   1312  f000				  -	      clc
   1313  f000				  -	      lda	#<VALBUFFER
   1314  f000				  -	      adc	valbufend
   1315  f000				  -	      sta	temp1
   1316  f000				  -	      lda	#>VALBUFFER
   1317  f000				  -	      adc	#0
   1318  f000				  -	      sta	temp2
   1319  f000				  -
   1320  f000				  -			;advance valbufend to the end of our value buffer
   1321  f000				  -	      stx	valbufend
   1322  f000				  -
   1323  f000				  -	      ifnconst	plotvalueonscreen
   1324  f000				  -	      jmp	plotcharacters
   1325  f000				  -	      else
   1326  f000				  -	      jmp	plotcharacterslive
   1327  f000				  -	      endif
   1328  f000				  -	      endif		; DOUBLEWIDE
   1329  f000				  -
   1330  f000				  -hiscoreend
   1331  f000				  -	      echo	" (hiscore module is using ",[(hiscoreend-hiscorestart)]d," bytes)"
   1332  f000				  -	      endif		; !isBANKSETBANK
   1333  f000					      endif		; HSSUPPORT
   1334  f000
------- FILE rpmegafighter.bas.asm
   9281  f000					      endif
   9282  f000					      ifnconst	included.fourbitfade.asm
------- FILE fourbitfade.asm LEVEL 2 PASS 3
      0  f000					      include	fourbitfade.asm
      1  f000							; ** fourbit fade, which is useful for audio levels and brightness fades
      2  f000							; ** input:  A=value to fade, fourbitfadevalue=global fade value
      3  f000							; **	      N.B. the global fade value is in the upper nibble. i.e. $Fx-0x
      4  f000							; ** output: A=faded value in lo nibble. orig top nibble is preserved,
      5  f000							; **	      other registers are preserved
      6  f000
      7  f000				  -	      ifconst	FOURBITFADE
      8  f000				  -
      9  f000				  -			; non-interrupt routine
     10  f000				  -
     11  f000				  -fourbitfade
     12  f000				  -	      sty	fourbittemp1
     13  f000				  -	      pha
     14  f000				  -	      and	#$0F
     15  f000				  -	      ora	fourbitfadevalue
     16  f000				  -	      tay
     17  f000				  -	      pla
     18  f000				  -	      and	#$F0
     19  f000				  -	      ora	fourbitfadelut,y
     20  f000				  -	      ldy	fourbittemp1	; restore Y
     21  f000				  -	      rts
     22  f000				  -
     23  f000				  -			; interrupt routine
     24  f000				  -
     25  f000				  -fourbitfadeint
     26  f000				  -	      sty	fourbittemp1int
     27  f000				  -	      pha
     28  f000				  -	      and	#$0F
     29  f000				  -	      ora	fourbitfadevalueint
     30  f000				  -	      tay
     31  f000				  -	      pla
     32  f000				  -	      and	#$F0
     33  f000				  -	      ora	fourbitfadelut,y
     34  f000				  -	      ldy	fourbittemp1int	; restore Y
     35  f000				  -	      rts
     36  f000				  -
     37  f000				  -fourbitfadelut
     38  f000				  -	      .byte	$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00
     39  f000				  -	      .byte	$00,$00,$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$01,$01,$01,$01
     40  f000				  -	      .byte	$00,$00,$00,$00,$00,$00,$01,$01,$01,$01,$01,$02,$02,$02,$02,$02
     41  f000				  -	      .byte	$00,$00,$00,$00,$01,$01,$01,$01,$02,$02,$02,$02,$03,$03,$03,$03
     42  f000				  -	      .byte	$00,$00,$00,$00,$01,$01,$01,$02,$02,$02,$03,$03,$03,$04,$04,$04
     43  f000				  -	      .byte	$00,$00,$00,$01,$01,$01,$02,$02,$03,$03,$03,$04,$04,$04,$05,$05
     44  f000				  -	      .byte	$00,$00,$00,$01,$01,$02,$02,$03,$03,$03,$04,$04,$05,$05,$06,$06
     45  f000				  -	      .byte	$00,$00,$01,$01,$02,$02,$03,$03,$04,$04,$05,$05,$06,$06,$07,$07
     46  f000				  -	      .byte	$00,$00,$01,$01,$02,$02,$03,$03,$04,$05,$05,$06,$06,$07,$07,$08
     47  f000				  -	      .byte	$00,$00,$01,$01,$02,$03,$03,$04,$05,$05,$06,$06,$07,$08,$08,$09
     48  f000				  -	      .byte	$00,$00,$01,$02,$02,$03,$04,$04,$05,$06,$06,$07,$08,$08,$09,$0a
     49  f000				  -	      .byte	$00,$00,$01,$02,$03,$03,$04,$05,$06,$06,$07,$08,$09,$09,$0a,$0b
     50  f000				  -	      .byte	$00,$00,$01,$02,$03,$04,$04,$05,$06,$07,$08,$08,$09,$0a,$0b,$0c
     51  f000				  -	      .byte	$00,$00,$01,$02,$03,$04,$05,$06,$07,$07,$08,$09,$0a,$0b,$0c,$0d
     52  f000				  -	      .byte	$00,$00,$01,$02,$03,$04,$05,$06,$07,$08,$09,$0a,$0b,$0c,$0d,$0e
     53  f000				  -	      .byte	$00,$01,$02,$03,$04,$05,$06,$07,$08,$09,$0a,$0b,$0c,$0d,$0e,$0f
     54  f000				  -
     55  f000				  -fourbitfadeend
     56  f000				  -
     57  f000				  -	      echo	"  (fourbitfade module is using ",[(fourbitfadeend-fourbitfade)]d," bytes of rom)"
     58  f000				  -
     59  f000					      endif
------- FILE rpmegafighter.bas.asm
   9284  f000					      endif
   9285  f000					      ifnconst	included.plotsprite4.asm
------- FILE plotsprite4.asm LEVEL 2 PASS 3
      0  f000					      include	plotsprite4.asm
      1  f000							; Provided under the CC0 license. See the included LICENSE.txt for details.
      2  f000
      3  f000				  -	      ifconst	PLOTSP4
      4  f000				  -
      5  f000				  -plotsprite4
      6  f000				  -	      ifnconst	NODRAWWAIT
      7  f000				  -	      ifconst	DOUBLEBUFFER
      8  f000				  -	      lda	doublebufferstate
      9  f000				  -	      bne	skipplotsprite4wait
     10  f000				  -	      endif		; DOUBLEBUFFER
     11  f000				  -	      ifconst	DEBUGWAITCOLOR
     12  f000				  -	      lda	#$41
     13  f000				  -	      sta	BACKGRND
     14  f000				  -	      endif
     15  f000				  -plotsprite4wait
     16  f000				  -	      lda	visibleover
     17  f000				  -	      bne	plotsprite4wait
     18  f000				  -skipplotsprite4wait
     19  f000				  -	      ifconst	DEBUGWAITCOLOR
     20  f000				  -	      lda	#$0
     21  f000				  -	      sta	BACKGRND
     22  f000				  -	      endif
     23  f000				  -	      endif
     24  f000				  -
     25  f000				  -			;arguments:
     26  f000				  -			; temp1=lo graphicdata
     27  f000				  -			; temp2=hi graphicdata
     28  f000				  -			; temp3=palette | width byte
     29  f000				  -			; temp4=x
     30  f000				  -			; temp5=y
     31  f000				  -
     32  f000				  -	      lda	temp5	;Y position
     33  f000				  -	      lsr		; 2 - Divide by 8 or 16
     34  f000				  -	      lsr		; 2
     35  f000				  -	      lsr		; 2
     36  f000				  -	      if	WZONEHEIGHT = 16
     37  f000				  -	      lsr		; 2
     38  f000				  -	      endif
     39  f000				  -
     40  f000				  -	      tax
     41  f000				  -
     42  f000				  -	      ifnconst	NOLIMITCHECKING
     43  f000				  -
     44  f000				  -			; the next block allows for vertical masking, and ensures we don't overwrite non-DL memory
     45  f000				  -
     46  f000				  -	      cmp	#WZONECOUNT
     47  f000				  -
     48  f000				  -	      bcc	continueplotsprite41	; the sprite is fully on-screen, so carry on...
     49  f000				  -			; otherwise, check to see if the bottom half is in zone 0...
     50  f000				  -
     51  f000				  -	      if	WZONEHEIGHT = 16
     52  f000				  -	      cmp	#15
     53  f000				  -	      else
     54  f000				  -	      cmp	#31
     55  f000				  -	      endif
     56  f000				  -
     57  f000				  -	      bne	exitplotsprite41
     58  f000				  -	      ldx	#0
     59  f000				  -	      jmp	continueplotsprite42
     60  f000				  -exitplotsprite41
     61  f000				  -	      rts
     62  f000				  -	      endif
     63  f000				  -
     64  f000				  -continueplotsprite41
     65  f000				  -
     66  f000				  -	      ifconst	VSCROLL
     67  f000				  -	      ldy	Xx3,x
     68  f000				  -	      lda	DLLMEM+11,y
     69  f000				  -	      else		; !VSCROLL
     70  f000				  -	      lda	DLPOINTL,x	;Get pointer to DL that this sprite starts in
     71  f000				  -	      endif		; !VSCROLL
     72  f000				  -	      ifconst	DOUBLEBUFFER
     73  f000				  -	      clc
     74  f000				  -	      adc	doublebufferdloffset
     75  f000				  -	      endif		; DOUBLEBUFFER
     76  f000				  -	      sta	dlpnt
     77  f000				  -	      ifconst	VSCROLL
     78  f000				  -	      lda	DLLMEM+10,y
     79  f000				  -	      else		; !VSCROLL
     80  f000				  -	      lda	DLPOINTH,x
     81  f000				  -	      endif		; !VSCROLL
     82  f000				  -	      ifconst	DOUBLEBUFFER
     83  f000				  -	      adc	#0
     84  f000				  -	      endif		; DOUBLEBUFFER
     85  f000				  -	      sta	dlpnt+1
     86  f000				  -
     87  f000				  -			;Create DL entry for upper part of sprite
     88  f000				  -
     89  f000				  -	      ldy	dlend,x	;Get the index to the end of this DL
     90  f000				  -
     91  f000				  -	      ifconst	CHECKOVERWRITE
     92  f000				  -	      cpy	#DLLASTOBJ
     93  f000				  -	      beq	checkcontinueplotsprite42
     94  f000				  -continueplotsprite41a
     95  f000				  -	      endif
     96  f000				  -
     97  f000				  -	      lda	temp1	; graphic data, lo byte
     98  f000				  -	      sta	(dlpnt),y	;Low byte of data address
     99  f000				  -
    100  f000				  -	      iny
    101  f000				  -	      lda	temp3	;palette|width
    102  f000				  -	      sta	(dlpnt),y
    103  f000				  -
    104  f000				  -	      iny
    105  f000				  -	      lda	temp5	;Y position
    106  f000				  -	      and	#(WZONEHEIGHT - 1)
    107  f000				  -	      cmp	#1	; clear carry if our sprite is just in this zone
    108  f000				  -	      ora	temp2	; graphic data, hi byte
    109  f000				  -	      sta	(dlpnt),y
    110  f000				  -
    111  f000				  -	      iny
    112  f000				  -	      lda	temp4	;Horizontal position
    113  f000				  -	      sta	(dlpnt),y
    114  f000				  -
    115  f000				  -	      iny
    116  f000				  -	      sty	dlend,x
    117  f000				  -
    118  f000				  -	      ifconst	ALWAYSTERMINATE
    119  f000				  -	      iny
    120  f000				  -	      lda	#0
    121  f000				  -	      sta	(dlpnt),y
    122  f000				  -	      endif
    123  f000				  -
    124  f000				  -checkcontinueplotsprite42
    125  f000				  -
    126  f000				  -	      bcc	doneSPDL4	;branch if the sprite was fully in the last zone
    127  f000				  -
    128  f000				  -			;Create DL entry for lower part of sprite
    129  f000				  -
    130  f000				  -	      inx		;Next region
    131  f000				  -
    132  f000				  -	      ifnconst	NOLIMITCHECKING
    133  f000				  -	      cpx	#WZONECOUNT
    134  f000				  -
    135  f000				  -	      bcc	continueplotsprite42	; the second half of the sprite is fully on-screen, so carry on...
    136  f000				  -	      rts
    137  f000				  -continueplotsprite42
    138  f000				  -	      endif
    139  f000				  -
    140  f000				  -	      ifconst	VSCROLL
    141  f000				  -	      ldy	Xx3,x
    142  f000				  -	      lda	DLLMEM+11,y
    143  f000				  -	      else		; !VSCROLL
    144  f000				  -	      lda	DLPOINTL,x	;Get pointer to next DL
    145  f000				  -	      endif		; !VSCROLL
    146  f000				  -	      ifconst	DOUBLEBUFFER
    147  f000				  -	      clc
    148  f000				  -	      adc	doublebufferdloffset
    149  f000				  -	      endif		; DOUBLEBUFFER
    150  f000				  -	      sta	dlpnt
    151  f000				  -	      ifconst	VSCROLL
    152  f000				  -	      lda	DLLMEM+10,y
    153  f000				  -	      else		; !VSCROLL
    154  f000				  -	      lda	DLPOINTH,x
    155  f000				  -	      endif		; !VSCROLL
    156  f000				  -	      ifconst	DOUBLEBUFFER
    157  f000				  -	      adc	#0
    158  f000				  -	      endif		; DOUBLEBUFFER
    159  f000				  -	      sta	dlpnt+1
    160  f000				  -	      ldy	dlend,x	;Get the index to the end of this DL
    161  f000				  -
    162  f000				  -	      ifconst	CHECKOVERWRITE
    163  f000				  -	      cpy	#DLLASTOBJ
    164  f000				  -	      bne	continueplotsprite42a
    165  f000				  -	      rts
    166  f000				  -continueplotsprite42a
    167  f000				  -	      endif
    168  f000				  -
    169  f000				  -	      lda	temp1	; graphic data, lo byte
    170  f000				  -	      sta	(dlpnt),y
    171  f000				  -
    172  f000				  -	      iny
    173  f000				  -	      lda	temp3	;palette|width
    174  f000				  -	      sta	(dlpnt),y
    175  f000				  -
    176  f000				  -	      iny
    177  f000				  -	      lda	temp5	;Y position
    178  f000				  -	      anc	#(WZONEHEIGHT - 1)	; undocumented. A=A&IMM, then move bit 7 into carry
    179  f000				  -	      ora	temp2	; graphic data, hi byte
    180  f000				  -	      sbc	#(WZONEHEIGHT-1)	; start at the DMA hole. -1 because carry is clear
    181  f000				  -	      sta	(dlpnt),y
    182  f000				  -
    183  f000				  -	      iny
    184  f000				  -	      lda	temp4	;Horizontal position
    185  f000				  -	      sta	(dlpnt),y
    186  f000				  -
    187  f000				  -	      iny
    188  f000				  -	      sty	dlend,x
    189  f000				  -
    190  f000				  -	      ifconst	ALWAYSTERMINATE
    191  f000				  -	      iny
    192  f000				  -	      lda	#0
    193  f000				  -	      sta	(dlpnt),y
    194  f000				  -	      endif
    195  f000				  -
    196  f000				  -doneSPDL4
    197  f000				  -	      rts
    198  f000				  -
    199  f000					      endif		; PLOTSP4
------- FILE rpmegafighter.bas.asm
   9287  f000					      endif
   9288  f000					      ifnconst	included.lzsa1compression.asm
------- FILE lzsa1compression.asm LEVEL 2 PASS 3
      0  f000					      include	lzsa1compression.asm
      1  f000							; ***************************************************************************
      2  f000							; ***************************************************************************
      3  f000							;
      4  f000							; lzsa1_6502.s
      5  f000							;
      6  f000							; NMOS 6502 decompressor for data stored in Emmanuel Marty's LZSA1 format.
      7  f000							;
      8  f000							; Decompresses a raw LZSA1 block, created with the command-line lzsa utility:
      9  f000							;     lzsa -r <original_file> <compressed_file>
     10  f000							;
     11  f000							; in:
     12  f000							; * LZSA_SRC_LO and LZSA_SRC_HI contain the compressed raw block address
     13  f000							; * LZSA_DST_LO and LZSA_DST_HI contain the destination buffer address
     14  f000							;
     15  f000							; out:
     16  f000							; * the destination buffer will contain the decompressed data
     17  f000							; * LZSA_DST_LO and LZSA_DST_HI contain the last decompressed byte address +1
     18  f000							;
     19  f000							; ***************************************************************************
     20  f000							;
     21  f000							; This code is written for the ACME assembler.
     22  f000							;
     23  f000							; The code is 165 bytes for the small version, and 191 bytes for the normal.
     24  f000							;
     25  f000							; Copyright John Brandwood 2021.
     26  f000							;
     27  f000							; Changes intruduced by Mike Saarna, 2023:
     28  f000							;    -converted to DASM format.
     29  f000							;    -generalised memory locations, for easier incorporation into 7800basic
     30  f000							;    -removed self-modifying code, for execution from rom.
     31  f000							;    -added LZSAFASTCOPYBYTE optimisation ; +24 bytes rom, ~10% quicker
     32  f000							;
     33  f000							; get the original unmodified code from:
     34  f000							; https://raw.githubusercontent.com/emmanuel-marty/lzsa
     35  f000							;
     36  f000							; Distributed under the Boost Software License, Version 1.0.
     37  f000							; (See accompanying file LICENSE_1_0.txt or copy at
     38  f000							; http://www.boost.org/LICENSE_1_0.txt)
     39  f000							;
     40  f000							; ***************************************************************************
     41  f000							; ***************************************************************************
     42  f000
     43  f000
     44  f000
     45  f000							; ***************************************************************************
     46  f000							; ***************************************************************************
     47  f000							;
     48  f000							; Decompression Options & Macros
     49  f000							;
     50  f000
     51  f000							;
     52  f000							; Choose size over decompression speed (within sane limits)?
     53  f000							;
     54  f000
     55  f000		       00 00	   LZSA_SMALL_SIZE =	0
     56  f000		       00 01	   LZSAFASTCOPYBYTE =	1	; +24 bytes rom, ~10% quicker
     57  f000
     58  f000							; ***************************************************************************
     59  f000							; ***************************************************************************
     60  f000							;
     61  f000							; ZP memory allocations... (temp1-temp9 are 7800basic ZP locations)
     62  f000		       00 42	   LSZA1ZPRAM =	temp1
     63  f000		       00 42	   lzsa_winptr =	LSZA1ZPRAM	; 1 word (temp1+temp2)
     64  f000		       00 44	   lzsa_srcptr =	LSZA1ZPRAM + 2	; 1 word (temp3+temp4)
     65  f000		       00 46	   lzsa_dstptr =	LSZA1ZPRAM + 4	; 1 word (temp5+temp6)
     66  f000
     67  f000							; Doesn't need to be ZP allocations...
     68  f000		       00 48	   LSZA1TEMPRAM =	temp7
     69  f000		       00 48	   lzsa_cmdbuf =	LSZA1TEMPRAM	; 1 byte (temp7)
     70  f000		       00 49	   lzsa_cp_npages =	LSZA1TEMPRAM + 1	; 1 byte (temp8)
     71  f000		       00 4a	   lzsa_lz_npages =	LSZA1TEMPRAM + 2	; 1 byte (temp9)
     72  f000
     73  f000							; Alternate names for previous allocations...
     74  f000		       00 42	   lzsa_offset =	lzsa_winptr
     75  f000		       00 44	   LZSA_SRC_LO =	lzsa_srcptr
     76  f000		       00 45	   LZSA_SRC_HI =	lzsa_srcptr+1
     77  f000		       00 46	   LZSA_DST_LO =	lzsa_dstptr
     78  f000		       00 47	   LZSA_DST_HI =	lzsa_dstptr+1
     79  f000
     80  f000				  -	      ifconst	lzsa1support
     81  f000				  -
     82  f000				  -lzsa1modulestart
     83  f000				  -
     84  f000				  -	      if	LZSAFASTCOPYBYTE = 1
     85  f000				  -.cp_fixpointer
     86  f000				  -			; the optimised pointer adjustment fails if .cp_byte copied a whole page.
     87  f000				  -			; so we deal with it as a special case here, out of the regular .cp_byte flow.
     88  f000				  -			; this only happens rarely.
     89  f000				  -	      inc	lzsa_srcptr+1	; CC
     90  f000				  -	      inc	lzsa_dstptr+1
     91  f000				  -	      bcc	.cp_skip3	; always taken
     92  f000				  -			; each of these happen infrequently (~1 in 256 byte copies)
     93  f000				  -.cp_fixsrc1
     94  f000				  -	      inc	lzsa_srcptr+1
     95  f000				  -	      clc
     96  f000				  -	      bcc	.cp_skip1
     97  f000				  -.cp_fixsrc2
     98  f000				  -	      inc	lzsa_dstptr+1
     99  f000				  -	      clc
    100  f000				  -	      bcc	.cp_skip2
    101  f000				  -	      endif
    102  f000				  -
    103  f000				  -			; ***************************************************************************
    104  f000				  -			; ***************************************************************************
    105  f000				  -			;
    106  f000				  -			; lzsa1_unpack - Decompress data stored in Emmanuel Marty's LZSA1 format.
    107  f000				  -			;
    108  f000				  -			; Args: lzsa_srcptr = ptr to compessed data
    109  f000				  -			; Args: lzsa_dstptr = ptr to output buffer
    110  f000				  -			;
    111  f000				  -
    112  f000				  -
    113  f000				  -DECOMPRESS_LZSA1_FAST
    114  f000				  -lzsa1_unpack
    115  f000				  -	      ldy	#0	; Initialize source index.
    116  f000				  -	      ldx	#0	; Initialize hi-byte of length.
    117  f000				  -	      stx	lzsa_cp_npages
    118  f000				  -	      stx	lzsa_lz_npages
    119  f000				  -
    120  f000				  -			;
    121  f000				  -			; Copy bytes from compressed source data.
    122  f000				  -			;
    123  f000				  -			; N.B. X=0 is expected and guaranteed when we get here.
    124  f000				  -			;
    125  f000				  -
    126  f000				  -.cp_length
    127  f000				  -	      if	LZSA_SMALL_SIZE = 1
    128  f000				  -
    129  f000				  -	      jsr	.get_byte
    130  f000				  -
    131  f000				  -	      else		; !LZSA_SMALL_SIZE
    132  f000				  -
    133  f000				  -	      lda	(lzsa_srcptr),y
    134  f000				  -	      inc	lzsa_srcptr+0
    135  f000				  -	      bne	.cp_skip0
    136  f000				  -	      inc	lzsa_srcptr+1
    137  f000				  -
    138  f000				  -	      endif		; !LZSA_SMALL_SIZE
    139  f000				  -
    140  f000				  -.cp_skip0
    141  f000				  -	      sta	lzsa_cmdbuf	; Preserve this for later.
    142  f000				  -	      and	#$70	; Extract literal length.
    143  f000				  -	      lsr		; Set CC before ...
    144  f000				  -	      beq	.lz_offset	; Skip directly to match?
    145  f000				  -
    146  f000				  -	      lsr		; Get 3-bit literal length.
    147  f000				  -	      lsr
    148  f000				  -	      lsr
    149  f000				  -	      cmp	#$07	; Extended length?
    150  f000				  -	      bcc	.cp_got_len
    151  f000				  -
    152  f000				  -	      jsr	.get_length	; X=0, CS from CMP, returns CC.
    153  f000				  -	      stx	lzsa_cp_npages	; Hi-byte of length.
    154  f000				  -
    155  f000				  -.cp_got_len
    156  f000				  -	      tax		; Lo-byte of length.
    157  f000				  -
    158  f000				  -	      if	LZSAFASTCOPYBYTE = 0
    159  f000				  -
    160  f000				  -.cp_byte		; CC throughout the execution of this .cp_page loop.
    161  f000				  -	      lda	(lzsa_srcptr),y	; 5
    162  f000				  -	      sta	(lzsa_dstptr),y	; 5
    163  f000				  -	      inc	lzsa_srcptr+0	; 5
    164  f000				  -	      bne	.cp_skip1	; 3
    165  f000				  -	      inc	lzsa_srcptr+1
    166  f000				  -.cp_skip1
    167  f000				  -	      inc	lzsa_dstptr+0	; 5
    168  f000				  -	      bne	.cp_skip2	; 3
    169  f000				  -	      inc	lzsa_dstptr+1
    170  f000				  -.cp_skip2
    171  f000				  -	      dex		; 2
    172  f000				  -	      bne	.cp_byte	; 3
    173  f000				  -			;  ~29 cycles overall for X=1
    174  f000				  -			;  ~58 cycles overall for X=2
    175  f000				  -			;  ~87 cycles overall for X=3
    176  f000				  -			; ...
    177  f000				  -			; ~174 cycles overall for X=6
    178  f000				  -
    179  f000				  -	      else		; LZSAFASTCOPYBYTE != 0
    180  f000				  -
    181  f000				  -			; according to 7800heat, this loop is hot. It runs on average ~6x.
    182  f000				  -
    183  f000				  -.cp_byte		; CC throughout the execution of this .cp_page loop.
    184  f000				  -	      lda	(lzsa_srcptr),y	; 5+
    185  f000				  -	      sta	(lzsa_dstptr),y	; 5+
    186  f000				  -	      iny		; 2
    187  f000				  -	      dex		; 2
    188  f000				  -	      bne	.cp_byte	; 3/2
    189  f000				  -			; ~17 cycles each iteration
    190  f000				  -	      tya		; 2
    191  f000				  -	      beq	.cp_fixpointer	; 2 unlikely branch - only if we copied a full page
    192  f000				  -	      adc	lzsa_srcptr+0	; 3
    193  f000				  -	      sta	lzsa_srcptr+0	; 3
    194  f000				  -	      bcs	.cp_fixsrc1	; 2 (typical)
    195  f000				  -.cp_skip1
    196  f000				  -	      tya		; 2
    197  f000				  -	      adc	lzsa_dstptr+0	; 3
    198  f000				  -	      sta	lzsa_dstptr+0	; 3
    199  f000				  -	      bcs	.cp_fixsrc2	; 2 (typical)
    200  f000				  -.cp_skip2
    201  f000				  -	      ldy	#0	; 2
    202  f000				  -.cp_skip3
    203  f000				  -			; ~24 cycles overhead, typical
    204  f000				  -
    205  f000				  -			; ~41	cycles for X=1 (+12  cycles vs non-optimized)
    206  f000				  -			; ~58	cycles for X=2 (  0  cycles vs non-optimized)
    207  f000				  -			; ~75	cycles for X=3 (-12  cycles vs non-optimized)
    208  f000				  -			; ...
    209  f000				  -			; ~126 cycles for X=6 (-48  cycles vs non-optimized)
    210  f000				  -	      endif		; ! LZSAFASTCOPYBYTE = 0
    211  f000				  -
    212  f000				  -.cp_npages
    213  f000				  -	      lda	lzsa_cp_npages	; Any full pages left to copy?
    214  f000				  -	      beq	.lz_offset
    215  f000				  -
    216  f000				  -	      dec	lzsa_cp_npages	; Unlikely, so can be slow.
    217  f000				  -	      bcc	.cp_byte	; Always true!
    218  f000				  -
    219  f000				  -	      if	LZSA_SMALL_SIZE = 1
    220  f000				  -
    221  f000				  -			; Copy bytes from decompressed window.
    222  f000				  -			;
    223  f000				  -			; Shorter but slower version.
    224  f000				  -			;
    225  f000				  -			; N.B. X=0 is expected and guaranteed when we get here.
    226  f000				  -			;
    227  f000				  -
    228  f000				  -.lz_offset
    229  f000				  -	      jsr	.get_byte	; Get offset-lo.
    230  f000				  -
    231  f000				  -.offset_lo
    232  f000				  -	      adc	lzsa_dstptr+0	; Always CC from .cp_page loop.
    233  f000				  -	      sta	lzsa_winptr+0
    234  f000				  -
    235  f000				  -	      lda	#$FF
    236  f000				  -	      bit	lzsa_cmdbuf
    237  f000				  -	      bpl	.offset_hi
    238  f000				  -
    239  f000				  -	      jsr	.get_byte	; Get offset-hi.
    240  f000				  -
    241  f000				  -.offset_hi
    242  f000				  -	      adc	lzsa_dstptr+1	; lzsa_winptr < lzsa_dstptr, so
    243  f000				  -	      sta	lzsa_winptr+1	; always leaves CS.
    244  f000				  -
    245  f000				  -.lz_length
    246  f000				  -	      lda	lzsa_cmdbuf	; X=0 from previous loop.
    247  f000				  -	      and	#$0F
    248  f000				  -	      adc	#$03 - 1	; CS from previous ADC.
    249  f000				  -	      cmp	#$12	; Extended length?
    250  f000				  -	      bcc	.lz_got_len
    251  f000				  -
    252  f000				  -	      jsr	.get_length	; CS from CMP, X=0, returns CC.
    253  f000				  -	      stx	lzsa_lz_npages	; Hi-byte of length.
    254  f000				  -
    255  f000				  -.lz_got_len
    256  f000				  -	      tax		; Lo-byte of length.
    257  f000				  -
    258  f000				  -.lz_byte
    259  f000				  -	      lda	(lzsa_winptr),y	; CC throughout the execution of
    260  f000				  -	      sta	(lzsa_dstptr),y	; of this .lz_page loop.
    261  f000				  -	      inc	lzsa_winptr+0
    262  f000				  -	      bne	.lz_skip1
    263  f000				  -	      inc	lzsa_winptr+1
    264  f000				  -.lz_skip1
    265  f000				  -	      inc	lzsa_dstptr+0
    266  f000				  -	      bne	.lz_skip2
    267  f000				  -	      inc	lzsa_dstptr+1
    268  f000				  -.lz_skip2
    269  f000				  -	      dex
    270  f000				  -	      bne	.lz_byte
    271  f000				  -.lz_npages
    272  f000				  -	      lda	lzsa_lz_npages	; Any full pages left to copy?
    273  f000				  -	      beq	.cp_length
    274  f000				  -
    275  f000				  -	      dec	lzsa_lz_npages	; Unlikely, so can be slow.
    276  f000				  -	      bcc	.lz_byte	; Always true!
    277  f000				  -
    278  f000				  -	      else		; !LZSA_SMALL_SIZE
    279  f000				  -
    280  f000				  -			;
    281  f000				  -			; Copy bytes from decompressed window.
    282  f000				  -			;
    283  f000				  -			; Longer but faster.
    284  f000				  -			;
    285  f000				  -			; N.B. X=0 is expected and guaranteed when we get here.
    286  f000				  -			;
    287  f000				  -
    288  f000				  -.lz_offset
    289  f000				  -	      lda	(lzsa_srcptr),y	; Get offset-lo.
    290  f000				  -	      inc	lzsa_srcptr+0
    291  f000				  -	      bne	.offset_lo
    292  f000				  -	      inc	lzsa_srcptr+1
    293  f000				  -
    294  f000				  -.offset_lo
    295  f000				  -	      sta	lzsa_offset+0
    296  f000				  -
    297  f000				  -	      lda	#$FF	; Get offset-hi.
    298  f000				  -	      bit	lzsa_cmdbuf
    299  f000				  -	      bpl	.offset_hi
    300  f000				  -
    301  f000				  -	      lda	(lzsa_srcptr),y
    302  f000				  -	      inc	lzsa_srcptr+0
    303  f000				  -	      bne	.offset_hi
    304  f000				  -	      inc	lzsa_srcptr+1
    305  f000				  -
    306  f000				  -.offset_hi
    307  f000				  -	      sta	lzsa_offset+1
    308  f000				  -
    309  f000				  -.lz_length
    310  f000				  -	      lda	lzsa_cmdbuf	; X=0 from previous loop.
    311  f000				  -	      and	#$0F
    312  f000				  -	      adc	#$03	; Always CC from .cp_page loop.
    313  f000				  -	      cmp	#$12	; Extended length?
    314  f000				  -	      bcc	.got_lz_len
    315  f000				  -
    316  f000				  -	      jsr	.get_length	; X=0, CS from CMP, returns CC.
    317  f000				  -
    318  f000				  -.got_lz_len
    319  f000				  -	      inx		; Hi-byte of length+256.
    320  f000				  -
    321  f000				  -	      eor	#$FF	; Negate the lo-byte of length
    322  f000				  -	      tay
    323  f000				  -	      eor	#$FF
    324  f000				  -
    325  f000				  -.get_lz_dst
    326  f000				  -	      adc	lzsa_dstptr+0	; Calc address of partial page.
    327  f000				  -	      sta	lzsa_dstptr+0	; Always CC from previous CMP.
    328  f000				  -	      iny
    329  f000				  -	      bcs	.get_lz_win
    330  f000				  -	      beq	.get_lz_win	; Is lo-byte of length zero?
    331  f000				  -	      dec	lzsa_dstptr+1
    332  f000				  -
    333  f000				  -.get_lz_win
    334  f000				  -	      clc		; Calc address of match.
    335  f000				  -	      adc	lzsa_offset+0	; N.B. Offset is negative!
    336  f000				  -	      sta	lzsa_winptr+0
    337  f000				  -	      lda	lzsa_dstptr+1
    338  f000				  -	      adc	lzsa_offset+1
    339  f000				  -	      sta	lzsa_winptr+1
    340  f000				  -
    341  f000				  -			; according to 7800heat, this loop is hot. It runs on average ~7.5x.
    342  f000				  -			; TODO: see if there's a chance to unroll it.
    343  f000				  -.lz_byte
    344  f000				  -	      lda	(lzsa_winptr),y
    345  f000				  -	      sta	(lzsa_dstptr),y
    346  f000				  -	      iny
    347  f000				  -	      bne	.lz_byte
    348  f000				  -
    349  f000				  -	      inc	lzsa_dstptr+1
    350  f000				  -	      dex		; Any full pages left to copy?
    351  f000				  -	      bne	.lz_more
    352  f000				  -
    353  f000				  -	      jmp	.cp_length	; Loop around to the beginning.
    354  f000				  -
    355  f000				  -.lz_more
    356  f000				  -	      inc	lzsa_winptr+1	; Unlikely, so can be slow.
    357  f000				  -	      bne	.lz_byte	; Always true!
    358  f000				  -
    359  f000				  -	      endif		; !LZSA_SMALL_SIZE
    360  f000				  -
    361  f000				  -			;
    362  f000				  -			; Get 16-bit length in X:A register pair, return with CC.
    363  f000				  -			;
    364  f000				  -			; N.B. X=0 is expected and guaranteed when we get here.
    365  f000				  -			;
    366  f000				  -
    367  f000				  -.get_length
    368  f000				  -	      clc		; Add on the next byte to get
    369  f000				  -	      adc	(lzsa_srcptr),y	; the length.
    370  f000				  -	      inc	lzsa_srcptr+0
    371  f000				  -	      bne	.skip_inc
    372  f000				  -	      inc	lzsa_srcptr+1
    373  f000				  -.skip_inc
    374  f000				  -
    375  f000				  -	      bcc	.got_length	; No overflow means done.
    376  f000				  -	      clc		; MUST return CC!
    377  f000				  -	      tax		; Preserve overflow value.
    378  f000				  -
    379  f000				  -.extra_byte
    380  f000				  -	      jsr	.get_byte	; So rare, this can be slow!
    381  f000				  -	      pha
    382  f000				  -	      txa		; Overflow to 256 or 257?
    383  f000				  -	      beq	.extra_word
    384  f000				  -
    385  f000				  -.check_length
    386  f000				  -	      pla		; Length-lo.
    387  f000				  -	      bne	.got_length	; Check for zero.
    388  f000				  -	      dex		; Do one less page loop if so.
    389  f000				  -.got_length
    390  f000				  -	      rts
    391  f000				  -
    392  f000				  -.extra_word
    393  f000				  -	      jsr	.get_byte	; So rare, this can be slow!
    394  f000				  -	      tax
    395  f000				  -	      bne	.check_length	; Length-hi == 0 at EOF.
    396  f000				  -
    397  f000				  -.finished
    398  f000				  -	      pla		; Length-lo.
    399  f000				  -	      pla		; Decompression completed, pop
    400  f000				  -	      pla		; return address.
    401  f000				  -	      rts
    402  f000				  -
    403  f000				  -.get_byte
    404  f000				  -	      lda	(lzsa_srcptr),y	; Subroutine version for when
    405  f000				  -	      inc	lzsa_srcptr+0	; inlining isn't advantageous.
    406  f000				  -	      bne	.got_byte
    407  f000				  -	      inc	lzsa_srcptr+1	; Inc & test for bank overflow.
    408  f000				  -.got_byte
    409  f000				  -	      rts
    410  f000				  -
    411  f000				  -lzsa1moduleend
    412  f000				  -
    413  f000				  -	      echo	"  (lzsa1compression module is using ",[(lzsa1moduleend-lzsa1modulestart)]d," bytes of rom)"
    414  f000				  -
    415  f000					      endif		; lzsa1support
------- FILE rpmegafighter.bas.asm
   9290  f000					      endif
   9291  f000							; Provided under the CC0 license. See the included LICENSE.txt for details.
   9292  f000
   9293  f000							;standard routimes needed for pretty much all games
   9294  f000
   9295  f000							; some definitions used with "set debug color"
   9296  f000		       00 91	   DEBUGCALC  =	$91
   9297  f000		       00 41	   DEBUGWASTE =	$41
   9298  f000		       00 c1	   DEBUGDRAW  =	$C1
   9299  f000
   9300  f000							;NMI and IRQ handlers
   9301  f000				   NMI
   9302  f000							;VISIBLEOVER is 255 while the screen is drawn, and 0 right after the visible screen is done.
   9303  f000		       48		      pha		; save A
   9304  f001		       d8		      cld
   9305  f002		       a5 4d		      lda	visibleover
   9306  f004		       49 ff		      eor	#255
   9307  f006		       85 4d		      sta	visibleover
   9308  f008				  -	      ifconst	DEBUGINTERRUPT
   9309  f008				  -	      and	#$93
   9310  f008				  -	      sta	BACKGRND
   9311  f008					      endif
   9312  f008		       8a		      txa		; save X
   9313  f009		       48		      pha
   9314  f00a		       98		      tya		; save Y
   9315  f00b		       48		      pha
   9316  f00c		       ce b2 01 	      dec	interruptindex
   9317  f00f		       d0 03		      bne	skipreallyoffvisible
   9318  f011		       4c 6b f0 	      jmp	reallyoffvisible
   9319  f014				   skipreallyoffvisible
   9320  f014		       a5 4d		      lda	visibleover
   9321  f016		       d0 03		      bne	carryontopscreenroutine
   9322  f018				  -	      ifconst	.bottomscreenroutine
   9323  f018				  -	      lda	interrupthold
   9324  f018				  -	      beq	skipbottomroutine
   9325  f018				  -	      jsr	.bottomscreenroutine
   9326  f018				  -skipbottomroutine
   9327  f018					      endif
   9328  f018		       4c 79 f0 	      jmp	NMIexit
   9329  f01b				   carryontopscreenroutine
   9330  f01b				  -	      ifconst	.topscreenroutine
   9331  f01b				  -	      lda	interrupthold
   9332  f01b				  -	      beq	skiptoproutine
   9333  f01b				  -	      jsr	.topscreenroutine
   9334  f01b				  -skiptoproutine
   9335  f01b					      endif
   9336  f01b					      ifnconst	CANARYOFF
   9337  f01b		       ad c2 01 	      lda	canary
   9338  f01e		       f0 07		      beq	skipcanarytriggered
   9339  f020		       a9 45		      lda	#$45
   9340  f022		       85 20		      sta	BACKGRND
   9341  f024		       4c 63 f0 	      jmp	skipbrkolorset	; common crash dump routine, if available
   9342  f027				   skipcanarytriggered
   9343  f027					      endif
   9344  f027
   9345  f027		       ee 3e 21 	      inc	frameslost	; this is balanced with a "dec frameslost" when drawscreen is called.
   9346  f02a
   9347  f02a							; ** Other important routines that need to regularly run, and can run onscreen.
   9348  f02a							; ** Atarivox can't go here, because Maria might interrupt it while it's bit-banging.
   9349  f02a
   9350  f02a				  -	      ifconst	LONGCONTROLLERREAD
   9351  f02a				  -longcontrollerreads		; ** controllers that take a lot of time to read. We use much of the visible screen here.
   9352  f02a				  -	      ldy	port1control
   9353  f02a				  -	      lda	longreadtype,y
   9354  f02a				  -	      beq	LLRET1
   9355  f02a				  -	      tay
   9356  f02a				  -	      lda	longreadroutinehiP1,y
   9357  f02a				  -	      sta	inttemp4
   9358  f02a				  -	      lda	longreadroutineloP1,y
   9359  f02a				  -	      sta	inttemp3
   9360  f02a				  -	      jmp	(inttemp3)
   9361  f02a				  -LLRET1
   9362  f02a				  -	      ldy	port0control
   9363  f02a				  -	      lda	longreadtype,y
   9364  f02a				  -	      beq	LLRET0
   9365  f02a				  -	      tay
   9366  f02a				  -	      lda	longreadroutinehiP0,y
   9367  f02a				  -	      sta	inttemp4
   9368  f02a				  -	      lda	longreadroutineloP0,y
   9369  f02a				  -	      sta	inttemp3
   9370  f02a				  -	      jmp	(inttemp3)
   9371  f02a				  -LLRET0
   9372  f02a				  -
   9373  f02a				  -
   9374  f02a				  -	      ifconst	PADDLERANGE
   9375  f02a				  -TIMEVAL    =	PADDLERANGE
   9376  f02a				  -	      else
   9377  f02a				  -TIMEVAL    =	160
   9378  f02a				  -	      endif
   9379  f02a				  -TIMEOFFSET =	10
   9380  f02a				  -
   9381  f02a					      endif		; LONGCONTROLLERREAD
   9382  f02a
   9383  f02a
   9384  f02a		       20 03 f2 	      jsr	servicesfxchannels
   9385  f02d				  -	      ifconst	MUSICTRACKER
   9386  f02d				  -	      jsr	servicesong
   9387  f02d					      endif		; MUSICTRACKER
   9388  f02d				  -	      ifconst	RMT
   9389  f02d				  -	      ifnconst	RMTOFFSPEED
   9390  f02d				  -	      ifconst	RMTPALSPEED
   9391  f02d				  -	      lda	ntscslowframe
   9392  f02d				  -	      bne	skiprasterupdate
   9393  f02d				  -	      endif
   9394  f02d				  -	      endif
   9395  f02d				  -	      lda	rasterpause
   9396  f02d				  -	      beq	skiprasterupdate
   9397  f02d				  -	      ifconst	PAUSESILENT
   9398  f02d				  -	      lda	pausestate
   9399  f02d				  -	      bne	skiprasterupdate
   9400  f02d				  -	      endif
   9401  f02d				  -	      jsr	RASTERMUSICTRACKER+3
   9402  f02d				  -skiprasterupdate
   9403  f02d				  -RMT_Iend
   9404  f02d					      endif
   9405  f02d
   9406  f02d		       ee a4 01 	      inc	framecounter
   9407  f030		       ad a4 01 	      lda	framecounter
   9408  f033		       29 3f		      and	#63
   9409  f035		       d0 08		      bne	skipcountdownseconds
   9410  f037		       ad a5 01 	      lda	countdownseconds
   9411  f03a		       f0 03		      beq	skipcountdownseconds
   9412  f03c		       ce a5 01 	      dec	countdownseconds
   9413  f03f				   skipcountdownseconds
   9414  f03f
   9415  f03f		       a2 01		      ldx	#1
   9416  f041				   buttonreadloop
   9417  f041		       8a		      txa
   9418  f042		       48		      pha
   9419  f043		       bc b8 01 	      ldy	port0control,x
   9420  f046		       b9 df f1 	      lda	buttonhandlerlo,y
   9421  f049		       85 da		      sta	inttemp3
   9422  f04b		       b9 d2 f1 	      lda	buttonhandlerhi,y
   9423  f04e		       85 db		      sta	inttemp4
   9424  f050		       05 da		      ora	inttemp3
   9425  f052		       f0 03		      beq	buttonreadloopreturn
   9426  f054		       6c da 00 	      jmp	(inttemp3)
   9427  f057				   buttonreadloopreturn
   9428  f057		       68		      pla
   9429  f058		       aa		      tax
   9430  f059		       ca		      dex
   9431  f05a		       10 e5		      bpl	buttonreadloop
   9432  f05c
   9433  f05c				  -	      ifconst	DOUBLEBUFFER
   9434  f05c				  -	      lda	doublebufferminimumframeindex
   9435  f05c				  -	      beq	skipdoublebufferminimumframeindexadjust
   9436  f05c				  -	      dec	doublebufferminimumframeindex
   9437  f05c				  -skipdoublebufferminimumframeindexadjust
   9438  f05c					      endif
   9439  f05c
   9440  f05c		       4c 79 f0 	      jmp	NMIexit
   9441  f05f
   9442  f05f				   IRQ			; the only source of non-nmi interrupt should be the BRK opcode.
   9443  f05f					      ifnconst	BREAKPROTECTOFF
   9444  f05f		       a9 1a		      lda	#$1A
   9445  f061		       85 20		      sta	BACKGRND
   9446  f063				   skipbrkolorset
   9447  f063				   skipbrkdetected
   9448  f063		       a9 60		      lda	#$60
   9449  f065		       8d 07 21 	      sta	sCTRL
   9450  f068		       85 3c		      sta	CTRL
   9451  f06a					      ifnconst	hiscorefont
   9452  f06a		       02		      .byte.b	$02	; KIL/JAM
   9453  f06b				  -	      else		; hiscorefont is present
   9454  f06b				  -	      ifconst	CRASHDUMP
   9455  f06b				  -	      bit	MSTAT
   9456  f06b				  -	      bpl	skipbrkdetected	; wait for vblank to ensure we're clear of NMI
   9457  f06b				  -
   9458  f06b				  -	      ifconst	dumpbankswitch
   9459  f06b				  -	      lda	dumpbankswitch
   9460  f06b				  -	      pha
   9461  f06b				  -	      endif
   9462  f06b				  -
   9463  f06b				  -			; bankswitch if needed, to get to the hiscore font
   9464  f06b				  -	      ifconst	bankswitchmode
   9465  f06b				  -	      ifconst	included.hiscore.asm.bank
   9466  f06b				  -	      ifconst	MCPDEVCART
   9467  f06b				  -	      lda	#($18 | included.hiscore.asm.bank)
   9468  f06b				  -	      sta	$3000
   9469  f06b				  -	      else
   9470  f06b				  -	      lda	#(included.hiscore.asm.bank)
   9471  f06b				  -	      sta	$8000
   9472  f06b				  -	      endif
   9473  f06b				  -	      endif		; included.hiscore.asm.bank
   9474  f06b				  -	      endif		; bankswitchmode
   9475  f06b				  -
   9476  f06b				  -	      ifconst	DOUBLEBUFFER
   9477  f06b				  -			;turn off double-buffering, if on...
   9478  f06b				  -	      lda	#>DLLMEM
   9479  f06b				  -	      sta	DPPH
   9480  f06b				  -	      lda	#<DLLMEM
   9481  f06b				  -	      sta	DPPL
   9482  f06b				  -	      endif
   9483  f06b				  -
   9484  f06b				  -	      lda	#$00
   9485  f06b				  -	      sta	P0C2
   9486  f06b				  -
   9487  f06b				  -			;update the second-from-top DL...
   9488  f06b				  -	      ldy	#8
   9489  f06b				  -NMIupdatetopDL
   9490  f06b				  -	      lda	show2700,y
   9491  f06b				  -	      sta	ZONE1ADDRESS,y
   9492  f06b				  -	      dey
   9493  f06b				  -	      bpl	NMIupdatetopDL
   9494  f06b				  -
   9495  f06b				  -			; the hiscore font is present, so we try to output the stack
   9496  f06b				  -	      ldy	#0
   9497  f06b				  -copystackloop
   9498  f06b				  -	      pla
   9499  f06b				  -	      pha
   9500  f06b				  -	      lsr
   9501  f06b				  -	      lsr
   9502  f06b				  -	      lsr
   9503  f06b				  -	      lsr
   9504  f06b				  -	      tax
   9505  f06b				  -	      lda	hiscorehexlut,x
   9506  f06b				  -	      sta	$2700,y
   9507  f06b				  -	      iny
   9508  f06b				  -
   9509  f06b				  -	      pla
   9510  f06b				  -	      and	#$0F
   9511  f06b				  -	      tax
   9512  f06b				  -	      lda	hiscorehexlut,x
   9513  f06b				  -	      sta	$2700,y
   9514  f06b				  -	      iny
   9515  f06b				  -
   9516  f06b				  -	      lda	#27	; period
   9517  f06b				  -	      sta	$2700,y
   9518  f06b				  -	      iny
   9519  f06b				  -
   9520  f06b				  -	      cpy	#30
   9521  f06b				  -	      bne	copystackloop
   9522  f06b				  -
   9523  f06b				  -	      lda	#>hiscorefont
   9524  f06b				  -	      sta	CHARBASE
   9525  f06b				  -	      sta	sCHARBASE
   9526  f06b				  -	      lda	#%01000011	;Enable DMA, mode=320A
   9527  f06b				  -	      sta	CTRL
   9528  f06b				  -	      sta	sCTRL
   9529  f06b				  -	      .byte	$02	; KIL/JAM
   9530  f06b				  -hiscorehexlut
   9531  f06b				  -			; 0 1 2 3 4 5 6 7 8 9 A B C D E F
   9532  f06b				  -	      .byte	33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 0, 1, 2, 3, 4, 5
   9533  f06b				  -show2700
   9534  f06b				  -			; lo mode hi width=29 x EODL
   9535  f06b				  -	      .byte	$00, %01100000, $27, 3, 20, 0,0,0
   9536  f06b				  -	      else		; CRASHDUMP
   9537  f06b				  -	      .byte	$02	; KIL/JAM
   9538  f06b				  -	      endif		; crashdump
   9539  f06b					      endif		; hiscorefont
   9540  f06b				  -	      else
   9541  f06b				  -	      RTI
   9542  f06b					      endif
   9543  f06b
   9544  f06b				  -	      ifconst	LONGCONTROLLERREAD
   9545  f06b				  -
   9546  f06b				  -longreadtype
   9547  f06b				  -	      .byte	0, 0, 0, 1	; NONE PROLINE LIGHTGUN PADDLE
   9548  f06b				  -	      .byte	2, 0, 3, 0	; TRKBALL VCSSTICK DRIVING KEYPAD
   9549  f06b				  -	      .byte	3, 3, 0, 0	; STMOUSE AMOUSE ATARIVOX SNES
   9550  f06b				  -
   9551  f06b				  -longreadroutineloP0
   9552  f06b				  -	      .byte	<LLRET0	; 0 = no routine
   9553  f06b				  -	      .byte	<paddleport0update	; 1 = paddle
   9554  f06b				  -	      .byte	<trakball0update	; 2 = trakball
   9555  f06b				  -	      .byte	<mouse0update	; 3 = mouse
   9556  f06b				  -
   9557  f06b				  -longreadroutinehiP0
   9558  f06b				  -	      .byte	>LLRET0	; 0 = no routine
   9559  f06b				  -	      .byte	>paddleport0update	; 1 = paddle
   9560  f06b				  -	      .byte	>trakball0update	; 2 = trackball
   9561  f06b				  -	      .byte	>mouse0update	; 3 = mouse
   9562  f06b				  -
   9563  f06b				  -longreadroutineloP1
   9564  f06b				  -	      .byte	<LLRET1	; 0 = no routine
   9565  f06b				  -	      .byte	<paddleport1update	; 1 = paddle
   9566  f06b				  -	      .byte	<trakball1update	; 2 = trakball
   9567  f06b				  -	      .byte	<mouse1update	; 3 = mouse
   9568  f06b				  -
   9569  f06b				  -longreadroutinehiP1
   9570  f06b				  -	      .byte	>LLRET1	; 0 = no routine
   9571  f06b				  -	      .byte	>paddleport1update	; 1 = paddle
   9572  f06b				  -	      .byte	>trakball1update	; 2 = trackball
   9573  f06b				  -	      .byte	>mouse1update	; 3 = mouse
   9574  f06b				  -
   9575  f06b				  -
   9576  f06b				  -SETTIM64T
   9577  f06b				  -	      bne	skipdefaulttime
   9578  f06b				  -	      ifnconst	PADDLESMOOTHINGOFF
   9579  f06b				  -	      lda	#(TIMEVAL+TIMEOFFSET+1)
   9580  f06b				  -	      else
   9581  f06b				  -	      lda	#(TIMEVAL+TIMEOFFSET)
   9582  f06b				  -	      endif
   9583  f06b				  -skipdefaulttime
   9584  f06b				  -	      tay
   9585  f06b				  -	      dey
   9586  f06b				  -.setTIM64Tloop
   9587  f06b				  -	      sta	TIM64T
   9588  f06b				  -	      cpy	INTIM
   9589  f06b				  -	      bne	.setTIM64Tloop
   9590  f06b				  -	      rts
   9591  f06b					      endif		; LONGCONTROLLERREAD
   9592  f06b
   9593  f06b				   reallyoffvisible
   9594  f06b		       85 24		      sta	WSYNC
   9595  f06d
   9596  f06d		       a9 00		      lda	#0
   9597  f06f		       85 4d		      sta	visibleover
   9598  f071				  -	      ifconst	DEBUGINTERRUPT
   9599  f071				  -	      sta	BACKGRND
   9600  f071					      endif
   9601  f071
   9602  f071		       a9 03		      lda	#3
   9603  f073		       8d b2 01 	      sta	interruptindex
   9604  f076
   9605  f076		       20 4b f1 	      jsr	uninterruptableroutines
   9606  f079
   9607  f079				  -	      ifconst	.userinterrupt
   9608  f079				  -	      lda	interrupthold
   9609  f079				  -	      beq	skipuserintroutine
   9610  f079				  -	      jsr	.userinterrupt
   9611  f079				  -skipuserintroutine
   9612  f079					      endif
   9613  f079
   9614  f079				  -	      ifconst	KEYPADSUPPORT
   9615  f079				  -	      jsr	keypadcolumnread
   9616  f079				  -	      jsr	keypadrowselect
   9617  f079					      endif
   9618  f079
   9619  f079				   NMIexit
   9620  f079		       68		      pla
   9621  f07a		       a8		      tay
   9622  f07b		       68		      pla
   9623  f07c		       aa		      tax
   9624  f07d		       68		      pla
   9625  f07e		       40		      RTI
   9626  f07f
   9627  f07f				   clearscreen
   9628  f07f		       a2 0b		      ldx	#(WZONECOUNT-1)
   9629  f081		       a9 00		      lda	#0
   9630  f083				   clearscreenloop
   9631  f083		       95 65		      sta	dlend,x
   9632  f085		       ca		      dex
   9633  f086		       10 fb		      bpl	clearscreenloop
   9634  f088		       a9 00		      lda	#0
   9635  f08a		       8d ad 01 	      sta	valbufend	; clear the bcd value buffer
   9636  f08d		       8d ae 01 	      sta	valbufendsave
   9637  f090		       60		      rts
   9638  f091
   9639  f091				   restorescreen
   9640  f091		       a2 0b		      ldx	#(WZONECOUNT-1)
   9641  f093		       a9 00		      lda	#0
   9642  f095				   restorescreenloop
   9643  f095		       b5 82		      lda	dlendsave,x
   9644  f097		       95 65		      sta	dlend,x
   9645  f099		       ca		      dex
   9646  f09a		       10 f9		      bpl	restorescreenloop
   9647  f09c		       ad ae 01 	      lda	valbufendsave
   9648  f09f		       8d ad 01 	      sta	valbufend
   9649  f0a2		       60		      rts
   9650  f0a3
   9651  f0a3				   savescreen
   9652  f0a3		       a2 0b		      ldx	#(WZONECOUNT-1)
   9653  f0a5				   savescreenloop
   9654  f0a5		       b5 65		      lda	dlend,x
   9655  f0a7		       95 82		      sta	dlendsave,x
   9656  f0a9		       ca		      dex
   9657  f0aa		       10 f9		      bpl	savescreenloop
   9658  f0ac		       ad ad 01 	      lda	valbufend
   9659  f0af		       8d ae 01 	      sta	valbufendsave
   9660  f0b2				  -	      ifconst	DOUBLEBUFFER
   9661  f0b2				  -	      lda	doublebufferstate
   9662  f0b2				  -	      beq	savescreenrts
   9663  f0b2				  -	      lda	#1
   9664  f0b2				  -	      sta	doublebufferbufferdirty
   9665  f0b2				  -savescreenrts
   9666  f0b2					      endif		; DOUBLEBUFFER
   9667  f0b2		       60		      rts
   9668  f0b3
   9669  f0b3				   drawscreen
   9670  f0b3
   9671  f0b3				  -	      ifconst	interrupthold
   9672  f0b3				  -	      lda	#$FF
   9673  f0b3				  -	      sta	interrupthold	; if the user called drawscreen, we're ready for interrupts
   9674  f0b3					      endif
   9675  f0b3
   9676  f0b3		       a9 00		      lda	#0
   9677  f0b5		       85 42		      sta	temp1	; not B&W if we're here...
   9678  f0b7
   9679  f0b7				   drawscreenwait
   9680  f0b7		       a5 4d		      lda	visibleover
   9681  f0b9		       d0 fc		      bne	drawscreenwait	; make sure the visible screen isn't being drawn
   9682  f0bb
   9683  f0bb							;restore some registers in case the game changed them mid-screen...
   9684  f0bb		       ad 07 21 	      lda	sCTRL
   9685  f0be		       05 42		      ora	temp1
   9686  f0c0		       85 3c		      sta	CTRL
   9687  f0c2		       ad 0b 21 	      lda	sCHARBASE
   9688  f0c5		       85 34		      sta	CHARBASE
   9689  f0c7
   9690  f0c7							;ensure all of the display list is terminated...
   9691  f0c7		       20 31 f1 	      jsr	terminatedisplaylist
   9692  f0ca
   9693  f0ca					      ifnconst	pauseroutineoff
   9694  f0ca		       20 d5 f0 	      jsr	pauseroutine
   9695  f0cd					      endif		; pauseroutineoff
   9696  f0cd
   9697  f0cd							; Make sure the visible screen has *started* before we exit. That way we can rely on drawscreen
   9698  f0cd							; delaying a full frame, but still allowing time for basic calculations.
   9699  f0cd				   visiblescreenstartedwait
   9700  f0cd		       a5 4d		      lda	visibleover
   9701  f0cf		       f0 fc		      beq	visiblescreenstartedwait
   9702  f0d1				   visiblescreenstartedwaitdone
   9703  f0d1		       ce 3e 21 	      dec	frameslost	; ; this gets balanced with an "inc frameslost" by an NMI at the top of the screen
   9704  f0d4		       60		      rts
   9705  f0d5
   9706  f0d5					      ifnconst	pauseroutineoff
   9707  f0d5							; check to see if pause was pressed and released
   9708  f0d5				   pauseroutine
   9709  f0d5		       ad b3 01 	      lda	pausedisable
   9710  f0d8		       d0 47		      bne	leavepauseroutine
   9711  f0da		       a9 08		      lda	#8
   9712  f0dc		       2c 82 02 	      bit	SWCHB
   9713  f0df		       f0 22		      beq	pausepressed
   9714  f0e1
   9715  f0e1				  -	      ifconst	SNES0PAUSE
   9716  f0e1				  -	      lda	port0control
   9717  f0e1				  -	      cmp	#11
   9718  f0e1				  -	      bne	skipsnes0pause
   9719  f0e1				  -	      lda	snesdetected0
   9720  f0e1				  -	      beq	skipsnes0pause
   9721  f0e1				  -	      lda	snes2atari0hi
   9722  f0e1				  -	      and	#%00010000
   9723  f0e1				  -	      beq	pausepressed
   9724  f0e1				  -skipsnes0pause
   9725  f0e1					      endif
   9726  f0e1				  -	      ifconst	SNES1PAUSE
   9727  f0e1				  -
   9728  f0e1				  -	      lda	port1control
   9729  f0e1				  -	      cmp	#11
   9730  f0e1				  -	      bne	skipsnes1pause
   9731  f0e1				  -	      lda	snesdetected1
   9732  f0e1				  -	      beq	skipsnes1pause
   9733  f0e1				  -	      lda	snes2atari1hi
   9734  f0e1				  -	      and	#%00010000
   9735  f0e1				  -	      beq	pausepressed
   9736  f0e1				  -skipsnes1pause
   9737  f0e1					      endif
   9738  f0e1				  -	      ifconst	SNESNPAUSE
   9739  f0e1				  -	      ldx	snesport
   9740  f0e1				  -	      lda	port0control,x
   9741  f0e1				  -	      cmp	#11
   9742  f0e1				  -	      bne	skipsnesNpause
   9743  f0e1				  -	      lda	snesdetected0,x
   9744  f0e1				  -	      beq	skipsnesNpause
   9745  f0e1				  -	      lda	snes2atari0hi,x
   9746  f0e1				  -	      and	#%00010000
   9747  f0e1				  -	      beq	pausepressed
   9748  f0e1				  -skipsnesNpause
   9749  f0e1					      endif
   9750  f0e1				  -	      ifconst	MULTIBUTTONPAUSE
   9751  f0e1				  -	      ldx	#1
   9752  f0e1				  -multibuttonpauseloop
   9753  f0e1				  -	      lda	port0control,x
   9754  f0e1				  -	      cmp	#11
   9755  f0e1				  -	      bcc	multibuttonpauseloopbottom
   9756  f0e1				  -	      lda	sINPT1,x
   9757  f0e1				  -	      and	#1
   9758  f0e1				  -	      beq	pausepressed
   9759  f0e1				  -multibuttonpauseloopbottom
   9760  f0e1				  -	      dex
   9761  f0e1				  -	      bpl	multibuttonpauseloop
   9762  f0e1					      endif		; MULTIBUTTONPAUSE
   9763  f0e1
   9764  f0e1							;pause isn't pressed
   9765  f0e1		       a9 00		      lda	#0
   9766  f0e3		       8d ac 01 	      sta	pausebuttonflag	; clear pause hold state in case its set
   9767  f0e6
   9768  f0e6							;check if we're in an already paused state
   9769  f0e6		       ad 00 21 	      lda	pausestate
   9770  f0e9		       f0 36		      beq	leavepauseroutine	; nope, leave
   9771  f0eb
   9772  f0eb		       c9 01		      cmp	#1	; last frame was the start of pausing
   9773  f0ed		       f0 2b		      beq	enterpausestate2	; move from state 1 to 2
   9774  f0ef
   9775  f0ef		       c9 02		      cmp	#2
   9776  f0f1		       f0 34		      beq	carryonpausing
   9777  f0f3
   9778  f0f3							;pausestate must be >2, which means we're ending an unpause
   9779  f0f3		       a9 00		      lda	#0
   9780  f0f5		       8d ac 01 	      sta	pausebuttonflag
   9781  f0f8		       8d 00 21 	      sta	pausestate
   9782  f0fb		       ad 07 21 	      lda	sCTRL
   9783  f0fe		       85 3c		      sta	CTRL
   9784  f100		       4c 21 f1 	      jmp	leavepauseroutine
   9785  f103
   9786  f103				   pausepressed
   9787  f103							;pause is pressed
   9788  f103		       ad ac 01 	      lda	pausebuttonflag
   9789  f106		       c9 ff		      cmp	#$ff
   9790  f108		       f0 1d		      beq	carryonpausing
   9791  f10a
   9792  f10a							;its a new press, increment the state
   9793  f10a		       ee 00 21 	      inc	pausestate
   9794  f10d
   9795  f10d							;silence volume at the start and end of pausing
   9796  f10d		       a9 00		      lda	#0
   9797  f10f		       85 19		      sta	AUDV0
   9798  f111		       85 1a		      sta	AUDV1
   9799  f113
   9800  f113				  -	      ifconst	pokeysupport
   9801  f113				  -	      ldy	#7
   9802  f113				  -pausesilencepokeyaudioloop
   9803  f113				  -	      sta	(pokeybase),y
   9804  f113				  -	      dey
   9805  f113				  -	      bpl	pausesilencepokeyaudioloop
   9806  f113					      endif		; pokeysupport
   9807  f113
   9808  f113		       a9 ff		      lda	#$ff
   9809  f115		       8d ac 01 	      sta	pausebuttonflag
   9810  f118		       d0 0d		      bne	carryonpausing
   9811  f11a
   9812  f11a				   enterpausestate2
   9813  f11a		       a9 02		      lda	#2
   9814  f11c		       8d 00 21 	      sta	pausestate
   9815  f11f		       d0 06		      bne	carryonpausing
   9816  f121				   leavepauseroutine
   9817  f121		       ad 07 21 	      lda	sCTRL
   9818  f124		       85 3c		      sta	CTRL
   9819  f126		       60		      rts
   9820  f127				   carryonpausing
   9821  f127				  -	      ifconst	.pause
   9822  f127				  -	      jsr	.pause
   9823  f127					      endif		; .pause
   9824  f127		       ad 07 21 	      lda	sCTRL
   9825  f12a		       09 80		      ora	#%10000000	; turn off colorburst during pause...
   9826  f12c		       85 3c		      sta	CTRL
   9827  f12e		       4c d5 f0 	      jmp	pauseroutine
   9828  f131					      endif		; pauseroutineoff
   9829  f131
   9830  f131
   9831  f131				  -	      ifconst	DOUBLEBUFFER
   9832  f131				  -skipterminatedisplaylistreturn
   9833  f131				  -	      rts
   9834  f131					      endif		; DOUBLEBUFFER
   9835  f131				   terminatedisplaylist
   9836  f131				  -	      ifconst	DOUBLEBUFFER
   9837  f131				  -	      lda	doublebufferstate
   9838  f131				  -	      bne	skipterminatedisplaylistreturn	; double-buffering runs it's own DL termination code
   9839  f131					      endif		; DOUBLEBUFFER
   9840  f131				   terminatedisplaybuffer
   9841  f131							;add DL end entry on each DL
   9842  f131		       a2 0b		      ldx	#(WZONECOUNT-1)
   9843  f133				   dlendloop
   9844  f133				  -	      ifconst	VSCROLL
   9845  f133				  -	      ldy	Xx3,x
   9846  f133				  -	      lda	DLLMEM+11,y
   9847  f133					      else		; !VSCROLL
   9848  f133		       bd 75 f5 	      lda	DLPOINTL,x	;Get pointer to DL that this sprite starts in
   9849  f136					      endif		; !VSCROLL
   9850  f136				  -	      ifconst	DOUBLEBUFFER
   9851  f136				  -	      clc
   9852  f136				  -	      adc	doublebufferdloffset
   9853  f136					      endif		; DOUBLEBUFFER
   9854  f136		       85 63		      sta	dlpnt
   9855  f138				  -	      ifconst	VSCROLL
   9856  f138				  -	      lda	DLLMEM+10,y
   9857  f138					      else		; !VSCROLL
   9858  f138		       bd 69 f5 	      lda	DLPOINTH,x
   9859  f13b					      endif		; !VSCROLL
   9860  f13b				  -	      ifconst	DOUBLEBUFFER
   9861  f13b				  -	      adc	#0
   9862  f13b					      endif		; DOUBLEBUFFER
   9863  f13b		       85 64		      sta	dlpnt+1
   9864  f13d		       b4 65		      ldy	dlend,x
   9865  f13f		       a9 00		      lda	#$00
   9866  f141				   dlendmoreloops
   9867  f141		       c8		      iny
   9868  f142		       91 63		      sta	(dlpnt),y
   9869  f144				  -	      ifconst	FRAMESKIPGLITCHFIXWEAK
   9870  f144				  -	      cpy	#DLLASTOBJ+1
   9871  f144				  -	      beq	dlendthiszonedone
   9872  f144				  -	      iny
   9873  f144				  -	      iny
   9874  f144				  -	      iny
   9875  f144				  -	      iny
   9876  f144				  -	      iny
   9877  f144				  -	      sta	(dlpnt),y
   9878  f144				  -dlendthiszonedone
   9879  f144					      endif	FRAMESKIPGLITCHFIXWEAK
   9880  f144				  -	      ifconst	FRAMESKIPGLITCHFIX
   9881  f144				  -	      iny
   9882  f144				  -	      iny
   9883  f144				  -	      iny
   9884  f144				  -	      iny
   9885  f144				  -	      cpy	#DLLASTOBJ-1
   9886  f144				  -	      bcc	dlendmoreloops
   9887  f144					      endif		; FRAMESKIPGLITCHFIX
   9888  f144		       ca		      dex
   9889  f145		       10 ec		      bpl	dlendloop
   9890  f147
   9891  f147					      ifnconst	pauseroutineoff
   9892  f147		       20 d5 f0 	      jsr	pauseroutine
   9893  f14a					      endif		; pauseroutineoff
   9894  f14a		       60		      rts
   9895  f14b
   9896  f14b				   uninterruptableroutines
   9897  f14b							; this is for routines that must happen off the visible screen, each frame.
   9898  f14b
   9899  f14b				  -	      ifconst	AVOXVOICE
   9900  f14b				  -	      jsr	serviceatarivoxqueue
   9901  f14b					      endif
   9902  f14b				  -	      ifconst	MEGA7800SUPPORT
   9903  f14b				  -	      ldx	#1
   9904  f14b				  -mega7800polling
   9905  f14b				  -	      lda	port0control,x
   9906  f14b				  -	      cmp	#12	; mega7800
   9907  f14b				  -	      bne	mega7800handlercheck2
   9908  f14b				  -	      jsr	mega7800handler
   9909  f14b				  -	      jmp	mega7800handlerdone
   9910  f14b				  -mega7800handlercheck2
   9911  f14b				  -	      ifconst	MULTIBUTTON
   9912  f14b				  -	      cmp	#1	; proline
   9913  f14b				  -	      bne	mega7800handlerdone
   9914  f14b				  -	      lda	framecounter
   9915  f14b				  -	      eor	#7	; avoid the same frame as the snes2atari probe
   9916  f14b				  -	      and	#63
   9917  f14b				  -	      bne	mega7800handlerdone
   9918  f14b				  -	      lda	#12
   9919  f14b				  -	      sta	port0control,x
   9920  f14b				  -	      jsr	mega7800handler
   9921  f14b				  -	      endif		; MULTIBUTTON
   9922  f14b				  -mega7800handlerdone
   9923  f14b				  -	      dex
   9924  f14b				  -	      bpl	mega7800polling
   9925  f14b					      endif		; MEGA7800SUPPORT
   9926  f14b
   9927  f14b		       a9 00		      lda	#0
   9928  f14d		       8d b7 01 	      sta	palfastframe
   9929  f150		       8d b6 01 	      sta	ntscslowframe
   9930  f153		       ac b5 01 	      ldy	palframes
   9931  f156		       c8		      iny
   9932  f157		       ae 09 21 	      ldx	paldetected	; 0=ntsc 1=pal
   9933  f15a		       f0 06		      beq	ntsc2palskipcheck
   9934  f15c				   pal2ntscskipcheck
   9935  f15c		       c0 05		      cpy	#5	; every 5th frame, add a frame
   9936  f15e		       d0 0b		      bne	palframeskipdone
   9937  f160		       f0 04		      beq	frameskipdo
   9938  f162				   ntsc2palskipcheck
   9939  f162		       c0 06		      cpy	#6	; every 6th frame, drop a frame
   9940  f164		       d0 05		      bne	palframeskipdone
   9941  f166				   frameskipdo
   9942  f166		       fe b6 01 	      inc	ntscslowframe,x
   9943  f169		       a0 00		      ldy	#0
   9944  f16b				   palframeskipdone
   9945  f16b		       8c b5 01 	      sty	palframes
   9946  f16e				   skippalframeadjusting
   9947  f16e
   9948  f16e				  -	      ifconst	MUSICTRACKER
   9949  f16e				  -			; We normally run the servicesong routine from the top-screen interrupt, but if it
   9950  f16e				  -			; happens to interrupt the scheduling of a sound effect in the game code, we skip it.
   9951  f16e				  -			; If that happens, we try again here. Chances are very small we'll run into the same
   9952  f16e				  -			; problem twice, and if we do, we just drop a musical note or two.
   9953  f16e				  -	      lda	sfxschedulemissed
   9954  f16e				  -	      beq	servicesongwasnotmissed
   9955  f16e				  -	      jsr	servicesong
   9956  f16e				  -servicesongwasnotmissed
   9957  f16e					      endif		; MUSICTRACKER
   9958  f16e
   9959  f16e				  -	      ifconst	RMT
   9960  f16e				  -	      ifnconst	RMTPALSPEED
   9961  f16e				  -	      ifnconst	RMTOFFSPEED
   9962  f16e				  -	      ifconst	PAUSESILENT
   9963  f16e				  -	      lda	pausestate
   9964  f16e				  -	      bne	skiprasterupdate2
   9965  f16e				  -	      endif
   9966  f16e				  -	      lda	palfastframe
   9967  f16e				  -	      beq	skiprasterupdate2
   9968  f16e				  -	      lda	rasterpause
   9969  f16e				  -	      beq	skiprasterupdate2
   9970  f16e				  -	      jsr	RASTERMUSICTRACKER+3
   9971  f16e				  -skiprasterupdate2
   9972  f16e				  -	      endif
   9973  f16e				  -	      endif
   9974  f16e					      endif
   9975  f16e
   9976  f16e		       60		      rts
   9977  f16f
   9978  f16f				   serviceatarivoxqueue
   9979  f16f				  -	      ifconst	AVOXVOICE
   9980  f16f				  -	      lda	voxlock
   9981  f16f				  -	      bne	skipvoxprocessing	; the vox is in the middle of speech address update
   9982  f16f				  -skipvoxqueuesizedec
   9983  f16f				  -	      jmp	processavoxvoice
   9984  f16f				  -skipvoxprocessing
   9985  f16f				  -	      rts
   9986  f16f				  -
   9987  f16f				  -processavoxvoice
   9988  f16f				  -	      ifconst	HSSUPPORT
   9989  f16f				  -			; ** we skip speech if hi-score is on and no vox was detected
   9990  f16f				  -			; ** this is to avoid later collision with snes pads.
   9991  f16f				  -	      lda	hsdevice
   9992  f16f				  -	      and	#2
   9993  f16f				  -	      beq	processavoxvoicereturn
   9994  f16f				  -	      endif		; HSSUPPORT
   9995  f16f				  -	      lda	avoxenable
   9996  f16f				  -	      bne	avoxfixport
   9997  f16f				  -	      SPKOUT	tempavox
   9998  f16f				  -	      rts
   9999  f16f				  -avoxfixport
  10000  f16f				  -	      lda	#0	; restore the port to all bits as inputs...
  10001  f16f				  -	      sta	CTLSWA
  10002  f16f				  -	      rts
  10003  f16f				  -silenceavoxvoice
  10004  f16f				  -	      SPEAK	avoxsilentdata
  10005  f16f				  -processavoxvoicereturn
  10006  f16f				  -	      rts
  10007  f16f				  -avoxsilentdata
  10008  f16f				  -	      .byte	31,255
  10009  f16f					      else
  10010  f16f		       60		      rts
  10011  f170					      endif		; AVOXVOICE
  10012  f170
  10013  f170				   prolinebuttonpadhandler
  10014  f170				  -	      ifconst	MULTIBUTTON
  10015  f170				  -	      lda	framecounter
  10016  f170				  -	      and	#63
  10017  f170				  -	      bne	jbhandlercont1
  10018  f170				  -	      jsr	setonebuttonmode
  10019  f170				  -	      lda	#11
  10020  f170				  -	      sta	port0control,x
  10021  f170				  -	      jsr	snes2atari_signal_go
  10022  f170				  -	      lda	port0control,x
  10023  f170				  -	      cmp	#1	; check if it's still a proline
  10024  f170				  -	      beq	jbhandlercont1
  10025  f170				  -	      jmp	buttonreadloopreturn
  10026  f170				  -jbhandlercont1
  10027  f170				  -	      lda	#2
  10028  f170				  -	      sta	multibuttoncount0,x
  10029  f170					      endif		; MULTIBUTTON
  10030  f170				   joybuttonpadhandler
  10031  f170		       ad 31 21 	      lda	sSWCHA	; clear previous dirs for this pad, from
  10032  f173		       1d c2 f1 	      ora	SWCHA_DIRMASK,x	; our sSWCHA nibble.
  10033  f176		       8d 31 21 	      sta	sSWCHA
  10034  f179		       ad 80 02 	      lda	SWCHA	; load th actual joystick dirs, ensuring
  10035  f17c		       1d c3 f1 	      ora	SWCHA_DIRMASK+1,x	; we don't change the other nibble.
  10036  f17f		       2d 31 21 	      and	sSWCHA
  10037  f182		       8d 31 21 	      sta	sSWCHA
  10038  f185				   joybuttonhandler
  10039  f185		       8a		      txa
  10040  f186		       0a		      asl
  10041  f187		       a8		      tay
  10042  f188		       b9 08 00 	      lda	INPT0,y
  10043  f18b		       4a		      lsr
  10044  f18c							;ora #%00111111
  10045  f18c		       9d 02 21 	      sta	sINPT1,x
  10046  f18f		       b9 09 00 	      lda	INPT1,y
  10047  f192		       29 80		      and	#%10000000
  10048  f194		       1d 02 21 	      ora	sINPT1,x
  10049  f197		       9d 02 21 	      sta	sINPT1,x
  10050  f19a
  10051  f19a		       b5 0c		      lda	INPT4,x
  10052  f19c		       30 19		      bmi	.skip1bjoyfirecheck
  10053  f19e							;one button joystick is down
  10054  f19e		       49 80		      eor	#%10000000
  10055  f1a0		       9d 02 21 	      sta	sINPT1,x
  10056  f1a3
  10057  f1a3		       ad b1 01 	      lda	joybuttonmode
  10058  f1a6		       3d e8 f4 	      and	thisjoy2buttonbit,x
  10059  f1a9		       f0 0c		      beq	.skip1bjoyfirecheck
  10060  f1ab		       ad b1 01 	      lda	joybuttonmode
  10061  f1ae		       1d e8 f4 	      ora	thisjoy2buttonbit,x
  10062  f1b1		       8d b1 01 	      sta	joybuttonmode
  10063  f1b4		       8d 82 02 	      sta	SWCHB
  10064  f1b7				   .skip1bjoyfirecheck
  10065  f1b7		       a9 3f		      lda	#%00111111
  10066  f1b9		       1d 02 21 	      ora	sINPT1,x
  10067  f1bc		       9d 02 21 	      sta	sINPT1,x	; ensure multibutton bits are hi
  10068  f1bf		       4c 57 f0 	      jmp	buttonreadloopreturn
  10069  f1c2
  10070  f1c2				   SWCHA_DIRMASK
  10071  f1c2							;  p0	p1  p0
  10072  f1c2		       f0 0f f0 	      .byte.b	$F0,$0F,$F0
  10073  f1c5
  10074  f1c5				   gunbuttonhandler		; outside of the conditional, so our button handler LUT is valid
  10075  f1c5				  -	      ifconst	LIGHTGUNSUPPORT
  10076  f1c5				  -	      cpx	#0
  10077  f1c5				  -	      bne	secondportgunhandler
  10078  f1c5				  -firstportgunhandler
  10079  f1c5				  -	      lda	SWCHA
  10080  f1c5				  -	      asl
  10081  f1c5				  -	      asl
  10082  f1c5				  -	      asl		; shift D4 to D7
  10083  f1c5				  -	      and	#%10000000
  10084  f1c5				  -	      eor	#%10000000
  10085  f1c5				  -	      sta	sINPT1
  10086  f1c5				  -	      jmp	buttonreadloopreturn
  10087  f1c5				  -secondportgunhandler
  10088  f1c5				  -	      lda	SWCHA
  10089  f1c5				  -	      lsr		; shift D0 into carry
  10090  f1c5				  -	      lsr		; shift carry into D7
  10091  f1c5				  -	      and	#%10000000
  10092  f1c5				  -	      eor	#%10000000
  10093  f1c5				  -	      sta	sINPT3
  10094  f1c5				  -	      jmp	buttonreadloopreturn
  10095  f1c5					      endif		; LIGHTGUNSUPPORT
  10096  f1c5
  10097  f1c5				   controlsusing2buttoncode
  10098  f1c5		       00		      .byte.b	0	; 00=no controller plugged in
  10099  f1c6		       01		      .byte.b	1	; 01=proline joystick
  10100  f1c7		       00		      .byte.b	0	; 02=lightgun
  10101  f1c8		       00		      .byte.b	0	; 03=paddle
  10102  f1c9		       01		      .byte.b	1	; 04=trakball
  10103  f1ca		       01		      .byte.b	1	; 05=vcs joystick
  10104  f1cb		       01		      .byte.b	1	; 06=driving control
  10105  f1cc		       00		      .byte.b	0	; 07=keypad control
  10106  f1cd		       00		      .byte.b	0	; 08=st mouse/cx80
  10107  f1ce		       00		      .byte.b	0	; 09=amiga mouse
  10108  f1cf		       01		      .byte.b	1	; 10=atarivox
  10109  f1d0		       00		      .byte.b	0	; 11=snes2atari
  10110  f1d1		       00		      .byte.b	0	; 12=mega7800
  10111  f1d2
  10112  f1d2				   buttonhandlerhi
  10113  f1d2		       00		      .byte.b	0	; 00=no controller plugged in
  10114  f1d3		       f1		      .byte.b	>prolinebuttonpadhandler	; 01=proline joystick
  10115  f1d4		       f1		      .byte.b	>gunbuttonhandler	; 02=lightgun
  10116  f1d5		       f4		      .byte.b	>paddlebuttonhandler	; 03=paddle
  10117  f1d6		       f1		      .byte.b	>joybuttonhandler	; 04=trakball
  10118  f1d7		       f1		      .byte.b	>joybuttonpadhandler	; 05=vcs joystick
  10119  f1d8		       f1		      .byte.b	>joybuttonhandler	; 06=driving control
  10120  f1d9		       00		      .byte.b	0	; 07=keypad
  10121  f1da		       f4		      .byte.b	>mousebuttonhandler	; 08=st mouse
  10122  f1db		       f4		      .byte.b	>mousebuttonhandler	; 09=amiga mouse
  10123  f1dc		       f1		      .byte.b	>joybuttonhandler	; 10=atarivox
  10124  f1dd		       f0		      .byte.b	>snes2atarihandler	; 11=snes
  10125  f1de		       00		      .byte.b	0	; 12=mega7800
  10126  f1df				   buttonhandlerlo
  10127  f1df		       00		      .byte.b	0	; 00=no controller plugged in
  10128  f1e0		       70		      .byte.b	<prolinebuttonpadhandler	; 01=proline joystick
  10129  f1e1		       c5		      .byte.b	<gunbuttonhandler	; 02=lightgun
  10130  f1e2		       b8		      .byte.b	<paddlebuttonhandler	; 03=paddle
  10131  f1e3		       85		      .byte.b	<joybuttonhandler	; 04=trakball
  10132  f1e4		       70		      .byte.b	<joybuttonpadhandler	; 05=vcs joystick
  10133  f1e5		       85		      .byte.b	<joybuttonhandler	; 06=driving control
  10134  f1e6		       00		      .byte.b	0	; 07=keypad
  10135  f1e7		       b8		      .byte.b	<mousebuttonhandler	; 08=st mouse
  10136  f1e8		       b8		      .byte.b	<mousebuttonhandler	; 09=amiga mouse
  10137  f1e9		       85		      .byte.b	<joybuttonhandler	; 10=atarivox
  10138  f1ea		       00		      .byte.b	<snes2atarihandler	; 11=snes
  10139  f1eb		       00		      .byte.b	0	; 12=mega7800
  10140  f1ec
  10141  f1ec				   drawwait
  10142  f1ec		       24 4d		      bit	visibleover	; 255 if screen is being drawn, 0 when not.
  10143  f1ee		       30 fc		      bmi	drawwait	; make sure the visible screen isn't being drawn
  10144  f1f0		       60		      rts
  10145  f1f1
  10146  f1f1				   drawoverwait
  10147  f1f1		       24 4d		      bit	visibleover	; 255 if screen is being drawn, 0 when not.
  10148  f1f3		       10 fc		      bpl	drawoverwait	; make sure the visible screen is being drawn
  10149  f1f5		       60		      rts
  10150  f1f6
  10151  f1f6
  10152  f1f6				   mutetia
  10153  f1f6		       a9 00		      lda	#0
  10154  f1f8		       a2 03		      ldx	#3
  10155  f1fa				   mutetialoop
  10156  f1fa		       95 4e		      sta	sfx1pointlo,x
  10157  f1fc		       95 17		      sta	AUDF0,x
  10158  f1fe		       ca		      dex
  10159  f1ff		       10 f9		      bpl	mutetialoop
  10160  f201		       60		      rts
  10161  f202
  10162  f202				   servicesfxchannelsdone
  10163  f202					      ifnconst	pokeysupport
  10164  f202		       60		      rts
  10165  f203				  -	      else
  10166  f203				  -	      jmp	checkpokeyplaying
  10167  f203					      endif
  10168  f203				   servicesfxchannels
  10169  f203				  -	      ifconst	PAUSESILENT
  10170  f203				  -	      lda	pausestate
  10171  f203				  -	      beq	servicesfxchannels_1
  10172  f203				  -	      rts
  10173  f203				  -servicesfxchannels_1
  10174  f203					      endif
  10175  f203		       a2 ff		      ldx	#255
  10176  f205				   servicesfxchannelsloop
  10177  f205		       e8		      inx
  10178  f206					      ifnconst	TIASFXMONO
  10179  f206		       e0 02		      cpx	#2
  10180  f208				  -	      else
  10181  f208				  -	      cpx	#1
  10182  f208					      endif
  10183  f208		       f0 f8		      beq	servicesfxchannelsdone
  10184  f20a
  10185  f20a		       a5 de		      lda	sfxschedulelock	; =1 if locked
  10186  f20c		       d0 f4		      bne	servicesfxchannelsdone	; exit if a pointer may be mid-way change
  10187  f20e
  10188  f20e		       b5 4e		      lda	sfx1pointlo,x
  10189  f210		       85 dc		      sta	inttemp5
  10190  f212		       15 50		      ora	sfx1pointhi,x
  10191  f214		       f0 ef		      beq	servicesfxchannelsloop
  10192  f216		       b5 50		      lda	sfx1pointhi,x
  10193  f218		       85 dd		      sta	inttemp6
  10194  f21a
  10195  f21a		       b5 58		      lda	sfx1tick,x
  10196  f21c		       f0 05		      beq	servicesfx_cont1	; this chunk is over, load the next!
  10197  f21e		       d6 58		      dec	sfx1tick,x	; frame countdown is non-zero, subtract one
  10198  f220		       4c 05 f2 	      jmp	servicesfxchannelsloop
  10199  f223				   servicesfx_cont1
  10200  f223
  10201  f223		       a0 01		      ldy	#1	; check to see if they're changing the frame countdown
  10202  f225		       b1 dc		      lda	(inttemp5),y
  10203  f227		       c9 10		      cmp	#$10
  10204  f229		       d0 1b		      bne	servicesfx_cont1a
  10205  f22b		       a0 02		      ldy	#2
  10206  f22d		       b1 dc		      lda	(inttemp5),y
  10207  f22f		       95 56		      sta	sfx1frames,x	; change the frame countdown
  10208  f231		       a9 00		      lda	#0
  10209  f233		       95 58		      sta	sfx1tick,x
  10210  f235							; advance the sound pointer by 3...
  10211  f235		       b5 4e		      lda	sfx1pointlo,x
  10212  f237		       18		      clc
  10213  f238		       69 03		      adc	#3
  10214  f23a		       95 4e		      sta	sfx1pointlo,x
  10215  f23c		       b5 50		      lda	sfx1pointhi,x
  10216  f23e		       69 00		      adc	#0
  10217  f240		       95 50		      sta	sfx1pointhi,x
  10218  f242							; and then fetch another sample for this channel...
  10219  f242		       ca		      dex
  10220  f243		       4c 05 f2 	      jmp	servicesfxchannelsloop
  10221  f246				   servicesfx_cont1a
  10222  f246
  10223  f246		       b5 56		      lda	sfx1frames,x	; set the frame countdown for this sound chunk
  10224  f248		       95 58		      sta	sfx1tick,x
  10225  f24a
  10226  f24a		       b5 52		      lda	sfx1priority,x	; decrease the sound's priority if its non-zero
  10227  f24c		       f0 02		      beq	servicesfx_cont2
  10228  f24e		       d6 52		      dec	sfx1priority,x
  10229  f250				   servicesfx_cont2
  10230  f250
  10231  f250		       a0 00		      ldy	#0	; play the sound
  10232  f252		       b1 dc		      lda	(inttemp5),y
  10233  f254		       85 d8		      sta	inttemp1
  10234  f256
  10235  f256				  -	      ifconst	MUSICTRACKER
  10236  f256				  -	      lda	sfx1notedata,x
  10237  f256				  -	      beq	exitmusictracker	; exit if this isn't a pitched instrument
  10238  f256				  -	      ldy	#0
  10239  f256				  -	      sty	inttemp2
  10240  f256				  -	      clc
  10241  f256				  -	      adc	(inttemp5),y
  10242  f256				  -	      asl		; x2
  10243  f256				  -	      tay
  10244  f256				  -	      lda	tiatrackeroctavenotes,y
  10245  f256				  -	      sta	AUDC0,x
  10246  f256				  -	      iny
  10247  f256				  -	      lda	tiatrackeroctavenotes,y
  10248  f256				  -	      sta	AUDF0,x
  10249  f256				  -	      ldy	#1
  10250  f256				  -	      jmp	sfxvolumeentrypt
  10251  f256				  -exitmusictracker
  10252  f256				  -	      lda	inttemp1
  10253  f256					      endif		; MUSICTRACKER
  10254  f256
  10255  f256		       18		      clc
  10256  f257		       75 54		      adc	sfx1poffset,x	; take into account any pitch modification
  10257  f259		       95 17		      sta	AUDF0,x
  10258  f25b		       c8		      iny
  10259  f25c		       b1 dc		      lda	(inttemp5),y
  10260  f25e		       95 15		      sta	AUDC0,x
  10261  f260		       85 d9		      sta	inttemp2
  10262  f262		       c8		      iny
  10263  f263				   sfxvolumeentrypt
  10264  f263				  -	      ifconst	TIAVOLUME
  10265  f263				  -	      lda	tiavolume
  10266  f263				  -	      asl
  10267  f263				  -	      asl
  10268  f263				  -	      asl
  10269  f263				  -	      asl
  10270  f263				  -	      sta	fourbitfadevalueint
  10271  f263					      endif		; TIAVOLUME
  10272  f263		       b1 dc		      lda	(inttemp5),y
  10273  f265				  -	      ifconst	TIAVOLUME
  10274  f265				  -	      jsr	fourbitfadeint
  10275  f265					      endif		; TIAVOLUME
  10276  f265		       95 19		      sta	AUDV0,x
  10277  f267		       c9 10		      cmp	#$10
  10278  f269		       b0 19		      bcs	sfxsoundloop	; AUDV0>$0F means the sound is looped while priority is active
  10279  f26b
  10280  f26b		       05 d9		      ora	inttemp2
  10281  f26d		       05 d8		      ora	inttemp1	; check if F|C|V=0
  10282  f26f		       f0 23		      beq	zerosfx	; if so, we're at the end of the sound.
  10283  f271
  10284  f271				   advancesfxpointer
  10285  f271							; advance the pointer to the next sound chunk
  10286  f271		       c8		      iny
  10287  f272		       84 da		      sty	inttemp3
  10288  f274		       18		      clc
  10289  f275		       b5 4e		      lda	sfx1pointlo,x
  10290  f277		       65 da		      adc	inttemp3
  10291  f279		       95 4e		      sta	sfx1pointlo,x
  10292  f27b		       b5 50		      lda	sfx1pointhi,x
  10293  f27d		       69 00		      adc	#0
  10294  f27f		       95 50		      sta	sfx1pointhi,x
  10295  f281		       4c 05 f2 	      jmp	servicesfxchannelsloop
  10296  f284
  10297  f284				   sfxsoundloop
  10298  f284		       48		      pha
  10299  f285		       b5 52		      lda	sfx1priority,x
  10300  f287		       d0 04		      bne	sfxsoundloop_carryon
  10301  f289		       68		      pla		; fix the stack before we go
  10302  f28a		       4c 71 f2 	      jmp	advancesfxpointer
  10303  f28d				   sfxsoundloop_carryon
  10304  f28d		       68		      pla
  10305  f28e		       29 f0		      and	#$F0
  10306  f290		       4a		      lsr
  10307  f291		       4a		      lsr
  10308  f292		       4a		      lsr
  10309  f293		       4a		      lsr
  10310  f294
  10311  f294				   zerosfx
  10312  f294		       95 4e		      sta	sfx1pointlo,x
  10313  f296		       95 50		      sta	sfx1pointhi,x
  10314  f298		       95 52		      sta	sfx1priority,x
  10315  f29a		       4c 05 f2 	      jmp	servicesfxchannelsloop
  10316  f29d
  10317  f29d
  10318  f29d				   schedulesfx
  10319  f29d							; called with sfxinstrumentlo=<data sfxinstrumenthi=>data sfxpitchoffset=pitch-offset sfxnoteindex=note index
  10320  f29d		       a0 00		      ldy	#0
  10321  f29f				  -	      ifconst	pokeysupport
  10322  f29f				  -	      lda	sfxinstrumenthi
  10323  f29f				  -	      beq	scheduletiasfx	; drums have undefined instrument
  10324  f29f				  -	      lda	(sfxinstrumentlo),y
  10325  f29f				  -	      cmp	#$20	; POKEY?
  10326  f29f				  -	      bne	scheduletiasfx
  10327  f29f				  -	      jmp	schedulepokeysfx
  10328  f29f					      endif
  10329  f29f				   scheduletiasfx
  10330  f29f							;cmp #$10 ; TIA?
  10331  f29f							;beq continuescheduletiasfx
  10332  f29f							; rts ; unhandled!!!
  10333  f29f				   continuescheduletiasfx
  10334  f29f					      ifnconst	TIASFXMONO
  10335  f29f		       a5 50		      lda	sfx1pointhi
  10336  f2a1		       f0 15		      beq	schedulesfx1	;if channel 1 is idle, use it
  10337  f2a3		       a5 51		      lda	sfx2pointhi
  10338  f2a5		       f0 15		      beq	schedulesfx2	;if channel 2 is idle, use it
  10339  f2a7							; Both channels are scheduled.
  10340  f2a7		       a5 e1		      lda	sfxinstrumenthi
  10341  f2a9		       f0 06		      beq	skipscheduledrums
  10342  f2ab		       a0 01		      ldy	#1
  10343  f2ad		       b1 e0		      lda	(sfxinstrumentlo),y
  10344  f2af		       d0 01		      bne	interruptsfx
  10345  f2b1				   skipscheduledrums
  10346  f2b1		       60		      rts		; the new sound has 0 priority and both channels are busy. Skip playing it.
  10347  f2b2				   interruptsfx
  10348  f2b2							;Compare which active sound has a lower priority. We'll interrupt the lower one.
  10349  f2b2		       a5 52		      lda	sfx1priority
  10350  f2b4		       c5 53		      cmp	sfx2priority
  10351  f2b6		       b0 04		      bcs	schedulesfx2
  10352  f2b8					      endif		; !TIASFXMONO
  10353  f2b8
  10354  f2b8				   schedulesfx1
  10355  f2b8		       a2 00		      ldx	#0	; channel 1
  10356  f2ba					      ifnconst	TIASFXMONO
  10357  f2ba		       f0 02		      beq	skipschedulesfx2
  10358  f2bc				   schedulesfx2
  10359  f2bc		       a2 01		      ldx	#1	; channel 2
  10360  f2be				   skipschedulesfx2
  10361  f2be					      endif		; !TIASFXMONO
  10362  f2be
  10363  f2be				  -	      ifconst	MUSICTRACKER
  10364  f2be				  -	      lda	sfxnoteindex
  10365  f2be				  -	      bpl	skipdrumkitoverride
  10366  f2be				  -	      and	#$7F	; subtract 128
  10367  f2be				  -	      sec
  10368  f2be				  -	      sbc	#4	; drums start at 132, i.e. octave 10
  10369  f2be				  -	      asl
  10370  f2be				  -	      tay
  10371  f2be				  -	      lda	tiadrumkitdefinition,y
  10372  f2be				  -	      sta	sfxinstrumentlo
  10373  f2be				  -	      iny
  10374  f2be				  -	      lda	tiadrumkitdefinition,y
  10375  f2be				  -	      sta	sfxinstrumenthi
  10376  f2be				  -	      lda	#0
  10377  f2be				  -	      sta	sfxnoteindex	; and tell the driver it's a non-pitched instrument
  10378  f2be				  -skipdrumkitoverride
  10379  f2be					      endif		; MUSICTRACKER
  10380  f2be		       a0 01		      ldy	#1	; get priority and sound-resolution (in frames)
  10381  f2c0		       b1 e0		      lda	(sfxinstrumentlo),y
  10382  f2c2		       95 52		      sta	sfx1priority,x
  10383  f2c4		       c8		      iny
  10384  f2c5		       b1 e0		      lda	(sfxinstrumentlo),y
  10385  f2c7		       95 56		      sta	sfx1frames,x
  10386  f2c9		       a5 e0		      lda	sfxinstrumentlo
  10387  f2cb		       18		      clc
  10388  f2cc		       69 03		      adc	#3
  10389  f2ce		       95 4e		      sta	sfx1pointlo,x
  10390  f2d0		       a5 e1		      lda	sfxinstrumenthi
  10391  f2d2		       69 00		      adc	#0
  10392  f2d4		       95 50		      sta	sfx1pointhi,x
  10393  f2d6		       a5 e2		      lda	sfxpitchoffset
  10394  f2d8		       95 54		      sta	sfx1poffset,x
  10395  f2da		       a9 00		      lda	#0
  10396  f2dc		       95 58		      sta	sfx1tick,x
  10397  f2de		       a5 e3		      lda	sfxnoteindex
  10398  f2e0		       95 cd		      sta	sfx1notedata,x
  10399  f2e2		       60		      rts
  10400  f2e3
  10401  f2e3				   plotsprite
  10402  f2e3					      ifnconst	NODRAWWAIT
  10403  f2e3				  -	      ifconst	DOUBLEBUFFER
  10404  f2e3				  -	      lda	doublebufferstate
  10405  f2e3				  -	      bne	skipplotspritewait
  10406  f2e3					      endif		; DOUBLEBUFFER
  10407  f2e3				  -	      ifconst	DEBUGWAITCOLOR
  10408  f2e3				  -	      lda	#$41
  10409  f2e3				  -	      sta	BACKGRND
  10410  f2e3					      endif
  10411  f2e3				   plotspritewait
  10412  f2e3		       a5 4d		      lda	visibleover
  10413  f2e5		       d0 fc		      bne	plotspritewait
  10414  f2e7				   skipplotspritewait
  10415  f2e7				  -	      ifconst	DEBUGWAITCOLOR
  10416  f2e7				  -	      lda	#$0
  10417  f2e7				  -	      sta	BACKGRND
  10418  f2e7					      endif
  10419  f2e7					      endif
  10420  f2e7
  10421  f2e7							;arguments:
  10422  f2e7							; temp1=lo graphicdata
  10423  f2e7							; temp2=hi graphicdata
  10424  f2e7							; temp3=palette | width byte
  10425  f2e7							; temp4=x
  10426  f2e7							; temp5=y
  10427  f2e7							; temp6=mode
  10428  f2e7		       a5 46		      lda	temp5	;Y position
  10429  f2e9		       4a		      lsr		; 2 - Divide by 8 or 16
  10430  f2ea		       4a		      lsr		; 2
  10431  f2eb		       4a		      lsr		; 2
  10432  f2ec					      if	WZONEHEIGHT = 16
  10433  f2ec		       4a		      lsr		; 2
  10434  f2ed					      endif
  10435  f2ed
  10436  f2ed		       aa		      tax
  10437  f2ee
  10438  f2ee					      ifnconst	NOLIMITCHECKING
  10439  f2ee
  10440  f2ee							; the next block allows for vertical masking, and ensures we don't overwrite non-DL memory
  10441  f2ee
  10442  f2ee		       c9 0c		      cmp	#WZONECOUNT
  10443  f2f0
  10444  f2f0		       90 0a		      bcc	continueplotsprite1	; the sprite is fully on-screen, so carry on...
  10445  f2f2							; otherwise, check to see if the bottom half is in zone 0...
  10446  f2f2
  10447  f2f2					      if	WZONEHEIGHT = 16
  10448  f2f2		       c9 0f		      cmp	#15
  10449  f2f4				  -	      else
  10450  f2f4				  -	      cmp	#31
  10451  f2f4					      endif
  10452  f2f4
  10453  f2f4		       d0 05		      bne	exitplotsprite1
  10454  f2f6		       a2 00		      ldx	#0
  10455  f2f8		       4c 31 f3 	      jmp	continueplotsprite2
  10456  f2fb				   exitplotsprite1
  10457  f2fb		       60		      rts
  10458  f2fc
  10459  f2fc				   continueplotsprite1
  10460  f2fc					      endif
  10461  f2fc
  10462  f2fc				  -	      ifconst	VSCROLL
  10463  f2fc				  -	      ldy	Xx3,x
  10464  f2fc				  -	      lda	DLLMEM+11,y
  10465  f2fc					      else		; !VSCROLL
  10466  f2fc		       bd 75 f5 	      lda	DLPOINTL,x	;Get pointer to DL that this sprite starts in
  10467  f2ff					      endif		; !VSCROLL
  10468  f2ff				  -	      ifconst	DOUBLEBUFFER
  10469  f2ff				  -	      clc
  10470  f2ff				  -	      adc	doublebufferdloffset
  10471  f2ff					      endif		; DOUBLEBUFFER
  10472  f2ff		       85 63		      sta	dlpnt
  10473  f301				  -	      ifconst	VSCROLL
  10474  f301				  -	      lda	DLLMEM+10,y
  10475  f301					      else		; !VSCROLL
  10476  f301		       bd 69 f5 	      lda	DLPOINTH,x
  10477  f304					      endif		; !VSCROLL
  10478  f304				  -	      ifconst	DOUBLEBUFFER
  10479  f304				  -	      adc	#0
  10480  f304					      endif		; DOUBLEBUFFER
  10481  f304		       85 64		      sta	dlpnt+1
  10482  f306
  10483  f306							;Create DL entry for upper part of sprite
  10484  f306
  10485  f306		       b4 65		      ldy	dlend,x	;Get the index to the end of this DL
  10486  f308
  10487  f308				  -	      ifconst	CHECKOVERWRITE
  10488  f308				  -	      cpy	#DLLASTOBJ
  10489  f308				  -	      beq	checkcontinueplotsprite2
  10490  f308				  -continueplotsprite1a
  10491  f308					      endif
  10492  f308
  10493  f308		       a5 42		      lda	temp1	; graphic data, lo byte
  10494  f30a		       91 63		      sta	(dlpnt),y	;Low byte of data address
  10495  f30c
  10496  f30c					      ifnconst	ATOMICSPRITEUPDATE
  10497  f30c		       c8		      iny
  10498  f30d		       a5 47		      lda	temp6
  10499  f30f		       91 63		      sta	(dlpnt),y
  10500  f311				  -	      else
  10501  f311				  -	      iny
  10502  f311				  -	      sty	temp8
  10503  f311					      endif
  10504  f311
  10505  f311		       c8		      iny
  10506  f312
  10507  f312		       a5 46		      lda	temp5	;Y position
  10508  f314		       29 0f		      and	#(WZONEHEIGHT - 1)
  10509  f316		       c9 01		      cmp	#1	; clear carry if our sprite is just in this zone
  10510  f318		       05 43		      ora	temp2	; graphic data, hi byte
  10511  f31a		       91 63		      sta	(dlpnt),y
  10512  f31c
  10513  f31c		       c8		      iny
  10514  f31d		       a5 44		      lda	temp3	;palette|width
  10515  f31f		       91 63		      sta	(dlpnt),y
  10516  f321
  10517  f321		       c8		      iny
  10518  f322		       a5 45		      lda	temp4	;Horizontal position
  10519  f324		       91 63		      sta	(dlpnt),y
  10520  f326
  10521  f326		       c8		      iny
  10522  f327		       94 65		      sty	dlend,x
  10523  f329
  10524  f329				  -	      ifconst	ALWAYSTERMINATE
  10525  f329				  -	      iny
  10526  f329				  -	      lda	#0
  10527  f329				  -	      sta	(dlpnt),y
  10528  f329					      endif
  10529  f329
  10530  f329				  -	      ifconst	ATOMICSPRITEUPDATE
  10531  f329				  -	      ldy	temp8
  10532  f329				  -	      lda	temp6
  10533  f329				  -	      sta	(dlpnt),y
  10534  f329					      endif
  10535  f329
  10536  f329				   checkcontinueplotsprite2
  10537  f329
  10538  f329		       90 33		      bcc	doneSPDL	;branch if the sprite was fully in the last zone
  10539  f32b
  10540  f32b							;Create DL entry for lower part of sprite
  10541  f32b
  10542  f32b		       e8		      inx		;Next region
  10543  f32c
  10544  f32c					      ifnconst	NOLIMITCHECKING
  10545  f32c		       e0 0c		      cpx	#WZONECOUNT
  10546  f32e
  10547  f32e		       90 01		      bcc	continueplotsprite2	; the second half of the sprite is fully on-screen, so carry on...
  10548  f330		       60		      rts
  10549  f331				   continueplotsprite2
  10550  f331					      endif
  10551  f331
  10552  f331				  -	      ifconst	VSCROLL
  10553  f331				  -	      ldy	Xx3,x
  10554  f331				  -	      lda	DLLMEM+11,y
  10555  f331					      else		; !VSCROLL
  10556  f331		       bd 75 f5 	      lda	DLPOINTL,x	;Get pointer to next DL
  10557  f334					      endif		; !VSCROLL
  10558  f334				  -	      ifconst	DOUBLEBUFFER
  10559  f334				  -	      clc
  10560  f334				  -	      adc	doublebufferdloffset
  10561  f334					      endif		; DOUBLEBUFFER
  10562  f334		       85 63		      sta	dlpnt
  10563  f336				  -	      ifconst	VSCROLL
  10564  f336				  -	      lda	DLLMEM+10,y
  10565  f336					      else		; !VSCROLL
  10566  f336		       bd 69 f5 	      lda	DLPOINTH,x
  10567  f339					      endif		; !VSCROLL
  10568  f339				  -	      ifconst	DOUBLEBUFFER
  10569  f339				  -	      adc	#0
  10570  f339					      endif		; DOUBLEBUFFER
  10571  f339		       85 64		      sta	dlpnt+1
  10572  f33b		       b4 65		      ldy	dlend,x	;Get the index to the end of this DL
  10573  f33d
  10574  f33d				  -	      ifconst	CHECKOVERWRITE
  10575  f33d				  -	      cpy	#DLLASTOBJ
  10576  f33d				  -	      bne	continueplotsprite2a
  10577  f33d				  -	      rts
  10578  f33d				  -continueplotsprite2a
  10579  f33d					      endif
  10580  f33d
  10581  f33d		       a5 42		      lda	temp1	; graphic data, lo byte
  10582  f33f		       91 63		      sta	(dlpnt),y
  10583  f341
  10584  f341					      ifnconst	ATOMICSPRITEUPDATE
  10585  f341		       c8		      iny
  10586  f342		       a5 47		      lda	temp6
  10587  f344		       91 63		      sta	(dlpnt),y
  10588  f346				  -	      else
  10589  f346				  -	      iny
  10590  f346				  -	      sty	temp8
  10591  f346					      endif
  10592  f346
  10593  f346		       c8		      iny
  10594  f347
  10595  f347		       a5 46		      lda	temp5	;Y position
  10596  f349		       0b 0f		      anc	#(WZONEHEIGHT - 1)	; undocumented. A=A&IMM, then move bit 7 into carry
  10597  f34b		       05 43		      ora	temp2	; graphic data, hi byte
  10598  f34d		       e9 0f		      sbc	#(WZONEHEIGHT-1)	; start at the DMA hole. -1 because carry is clear
  10599  f34f		       91 63		      sta	(dlpnt),y
  10600  f351
  10601  f351		       c8		      iny
  10602  f352
  10603  f352		       a5 44		      lda	temp3	;palette|width
  10604  f354		       91 63		      sta	(dlpnt),y
  10605  f356
  10606  f356		       c8		      iny
  10607  f357
  10608  f357		       a5 45		      lda	temp4	;Horizontal position
  10609  f359		       91 63		      sta	(dlpnt),y
  10610  f35b
  10611  f35b		       c8		      iny
  10612  f35c		       94 65		      sty	dlend,x
  10613  f35e
  10614  f35e				  -	      ifconst	ALWAYSTERMINATE
  10615  f35e				  -	      iny
  10616  f35e				  -	      lda	#0
  10617  f35e				  -	      sta	(dlpnt),y
  10618  f35e					      endif
  10619  f35e
  10620  f35e				  -	      ifconst	ATOMICSPRITEUPDATE
  10621  f35e				  -	      ldy	temp8
  10622  f35e				  -	      lda	temp6
  10623  f35e				  -	      sta	(dlpnt),y
  10624  f35e					      endif
  10625  f35e
  10626  f35e				   doneSPDL
  10627  f35e		       60		      rts
  10628  f35f
  10629  f35f				  -	      ifconst	VSCROLL
  10630  f35f				  -			; x3 table for fast DLL parsing
  10631  f35f				  -Xx3
  10632  f35f				  -	      .byte	0,3,6,9,12,15,18,21,24,27
  10633  f35f				  -	      .byte	30,33,36,39,42,45,48,51,54,57
  10634  f35f				  -	      .byte	60,63,66,69,72,75,78,81,84,87
  10635  f35f				  -maskscrollsprite
  10636  f35f				  -	      .byte	$00,%11000000,($D0+WZONEHEIGHT),0,160	; 5*2 + 32*3 = 106 cycles
  10637  f35f				  -	      .byte	$00,1,($D0+WZONEHEIGHT),160	; 4*2 + 31*3 = 101 cycles
  10638  f35f				  -	      .byte	$00,1,($D0+WZONEHEIGHT),160	; 4*2 + 31*3 = 101 cycles
  10639  f35f				  -	      .byte	$00,1,($D0+WZONEHEIGHT),160	; 4*2 + 31*3 = 101 cycles
  10640  f35f				  -	      .byte	$00,%01000000,($D0+WZONEHEIGHT),16,160	; 5*2 + 16*3 =  58 cycles
  10641  f35f				  -			; MAX	============ 467 cycles
  10642  f35f				  -			; MIN	============  59 cycles
  10643  f35f				  -maskscrollspriteend
  10644  f35f					      endif		; VSCROLL
  10645  f35f
  10646  f35f				   lockzonex
  10647  f35f				  -	      ifconst	ZONELOCKS
  10648  f35f				  -	      ldy	dlend,x
  10649  f35f				  -	      cpy	#DLLASTOBJ
  10650  f35f				  -	      beq	lockzonexreturn	; the zone is either stuffed or locked. abort!
  10651  f35f				  -	      lda	DLPOINTL,x
  10652  f35f				  -	      ifconst	DOUBLEBUFFER
  10653  f35f				  -	      clc
  10654  f35f				  -	      adc	doublebufferdloffset
  10655  f35f				  -	      endif		; DOUBLEBUFFER
  10656  f35f				  -	      sta	dlpnt
  10657  f35f				  -	      lda	DLPOINTH,x
  10658  f35f				  -	      ifconst	DOUBLEBUFFER
  10659  f35f				  -	      adc	#0
  10660  f35f				  -	      endif		; DOUBLEBUFFER
  10661  f35f				  -	      sta	dlpnt+1
  10662  f35f				  -	      iny
  10663  f35f				  -	      lda	#0
  10664  f35f				  -	      sta	(dlpnt),y
  10665  f35f				  -	      dey
  10666  f35f				  -	      tya
  10667  f35f				  -	      ldy	#(DLLASTOBJ-1)
  10668  f35f				  -	      sta	(dlpnt),y
  10669  f35f				  -	      iny
  10670  f35f				  -	      sty	dlend,x
  10671  f35f				  -lockzonexreturn
  10672  f35f				  -	      rts
  10673  f35f					      endif		; ZONELOCKS
  10674  f35f				   unlockzonex
  10675  f35f				  -	      ifconst	ZONELOCKS
  10676  f35f				  -	      ldy	dlend,x
  10677  f35f				  -	      cpy	#DLLASTOBJ
  10678  f35f				  -	      bne	unlockzonexreturn	; if the zone isn't stuffed, it's not locked. abort!
  10679  f35f				  -	      lda	DLPOINTL,x
  10680  f35f				  -	      ifconst	DOUBLEBUFFER
  10681  f35f				  -	      clc
  10682  f35f				  -	      adc	doublebufferdloffset
  10683  f35f				  -	      endif		; DOUBLEBUFFER
  10684  f35f				  -	      sta	dlpnt
  10685  f35f				  -	      lda	DLPOINTH,x
  10686  f35f				  -	      ifconst	DOUBLEBUFFER
  10687  f35f				  -	      adc	#0
  10688  f35f				  -	      endif		; DOUBLEBUFFER
  10689  f35f				  -	      sta	dlpnt+1
  10690  f35f				  -	      dey
  10691  f35f				  -	      lda	(dlpnt),y
  10692  f35f				  -	      tay
  10693  f35f				  -	      sty	dlend,x
  10694  f35f				  -unlockzonexreturn
  10695  f35f					      endif		; ZONELOCKS
  10696  f35f		       60		      rts
  10697  f360
  10698  f360				   plotcharloop
  10699  f360							; ** read from a data indirectly pointed to from temp8,temp9
  10700  f360							; ** format is: lo_data, hi_data, palette|width, x, y
  10701  f360							; ** format ends with lo_data | hi_data = 0
  10702  f360
  10703  f360				  -	      ifconst	DOUBLEBUFFER
  10704  f360				  -	      lda	doublebufferstate
  10705  f360				  -	      bne	skipplotcharloopwait
  10706  f360					      endif		; DOUBLEBUFFER
  10707  f360				  -	      ifconst	DEBUGWAITCOLOR
  10708  f360				  -	      lda	#$61
  10709  f360				  -	      sta	BACKGRND
  10710  f360					      endif
  10711  f360				   plotcharloopwait
  10712  f360		       a5 4d		      lda	visibleover
  10713  f362		       d0 fc		      bne	plotcharloopwait
  10714  f364				  -	      ifconst	DEBUGWAITCOLOR
  10715  f364				  -	      lda	#0
  10716  f364				  -	      sta	BACKGRND
  10717  f364					      endif
  10718  f364				   skipplotcharloopwait
  10719  f364				   plotcharlooploop
  10720  f364		       a0 00		      ldy	#0
  10721  f366		       b1 49		      lda	(temp8),y
  10722  f368		       85 42		      sta	temp1
  10723  f36a		       c8		      iny
  10724  f36b		       b1 49		      lda	(temp8),y
  10725  f36d		       85 43		      sta	temp2
  10726  f36f		       05 42		      ora	temp1
  10727  f371		       d0 01		      bne	plotcharloopcontinue
  10728  f373							;the pointer=0, so return
  10729  f373		       60		      rts
  10730  f374				   plotcharloopcontinue
  10731  f374		       c8		      iny
  10732  f375		       b1 49		      lda	(temp8),y
  10733  f377		       85 44		      sta	temp3
  10734  f379		       c8		      iny
  10735  f37a		       b1 49		      lda	(temp8),y
  10736  f37c		       85 45		      sta	temp4
  10737  f37e		       c8		      iny
  10738  f37f		       b1 49		      lda	(temp8),y
  10739  f381							;sta temp5 ; not needed with our late entry.
  10740  f381		       20 9a f3 	      jsr	plotcharactersskipentry
  10741  f384		       a5 49		      lda	temp8
  10742  f386		       18		      clc
  10743  f387		       69 05		      adc	#5
  10744  f389		       85 49		      sta	temp8
  10745  f38b		       a5 4a		      lda	temp9
  10746  f38d		       69 00		      adc	#0
  10747  f38f		       85 4a		      sta	temp9
  10748  f391		       4c 64 f3 	      jmp	plotcharlooploop
  10749  f394
  10750  f394				   plotcharacters
  10751  f394				  -	      ifconst	DOUBLEBUFFER
  10752  f394				  -	      lda	doublebufferstate
  10753  f394				  -	      bne	skipplotcharacterswait
  10754  f394					      endif		; DOUBLEBUFFER
  10755  f394				  -	      ifconst	DEBUGWAITCOLOR
  10756  f394				  -	      lda	#$41
  10757  f394				  -	      sta	BACKGRND
  10758  f394					      endif
  10759  f394				   plotcharacterswait
  10760  f394		       a5 4d		      lda	visibleover
  10761  f396		       d0 fc		      bne	plotcharacterswait
  10762  f398				  -	      ifconst	DEBUGWAITCOLOR
  10763  f398				  -	      sta	BACKGRND
  10764  f398					      endif
  10765  f398				   skipplotcharacterswait
  10766  f398							;arguments:
  10767  f398							; temp1=lo charactermap
  10768  f398							; temp2=hi charactermap
  10769  f398							; temp3=palette | width byte
  10770  f398							; temp4=x
  10771  f398							; temp5=y
  10772  f398
  10773  f398		       a5 46		      lda	temp5	;Y position
  10774  f39a
  10775  f39a				   plotcharactersskipentry
  10776  f39a
  10777  f39a							;ifconst ZONEHEIGHT
  10778  f39a							; if ZONEHEIGHT = 16
  10779  f39a							; and #$0F
  10780  f39a							; endif
  10781  f39a							; if ZONEHEIGHT = 8
  10782  f39a							; and #$1F
  10783  f39a							; endif
  10784  f39a							;else
  10785  f39a							; and #$0F
  10786  f39a							;endif
  10787  f39a
  10788  f39a		       aa		      tax
  10789  f39b
  10790  f39b				  -	      ifconst	VSCROLL
  10791  f39b				  -	      ldy	Xx3,x
  10792  f39b				  -	      lda	DLLMEM+11,y
  10793  f39b					      else		; !VSCROLL
  10794  f39b		       bd 75 f5 	      lda	DLPOINTL,x	;Get pointer to DL that the characters are in
  10795  f39e					      endif		; !VSCROLL
  10796  f39e				  -	      ifconst	DOUBLEBUFFER
  10797  f39e				  -	      clc
  10798  f39e				  -	      adc	doublebufferdloffset
  10799  f39e					      endif		; DOUBLEBUFFER
  10800  f39e		       85 63		      sta	dlpnt
  10801  f3a0				  -	      ifconst	VSCROLL
  10802  f3a0				  -	      lda	DLLMEM+10,y
  10803  f3a0					      else		; !VSCROLL
  10804  f3a0		       bd 69 f5 	      lda	DLPOINTH,x
  10805  f3a3					      endif		; !VSCROLL
  10806  f3a3				  -	      ifconst	DOUBLEBUFFER
  10807  f3a3				  -	      adc	#0
  10808  f3a3					      endif		; DOUBLEBUFFER
  10809  f3a3		       85 64		      sta	dlpnt+1
  10810  f3a5
  10811  f3a5							;Create DL entry for the characters
  10812  f3a5
  10813  f3a5		       b4 65		      ldy	dlend,x	;Get the index to the end of this DL
  10814  f3a7
  10815  f3a7				  -	      ifconst	CHECKOVERWRITE
  10816  f3a7				  -	      cpy	#DLLASTOBJ
  10817  f3a7				  -	      bne	continueplotcharacters
  10818  f3a7				  -	      rts
  10819  f3a7				  -continueplotcharacters
  10820  f3a7					      endif
  10821  f3a7
  10822  f3a7		       a5 42		      lda	temp1	; character map data, lo byte
  10823  f3a9		       91 63		      sta	(dlpnt),y	;(1) store low address
  10824  f3ab
  10825  f3ab		       c8		      iny
  10826  f3ac		       ad 06 21 	      lda	charactermode
  10827  f3af		       91 63		      sta	(dlpnt),y	;(2) store mode
  10828  f3b1
  10829  f3b1		       c8		      iny
  10830  f3b2		       a5 43		      lda	temp2	; character map, hi byte
  10831  f3b4		       91 63		      sta	(dlpnt),y	;(3) store high address
  10832  f3b6
  10833  f3b6		       c8		      iny
  10834  f3b7		       a5 44		      lda	temp3	;palette|width
  10835  f3b9		       91 63		      sta	(dlpnt),y	;(4) store palette|width
  10836  f3bb
  10837  f3bb		       c8		      iny
  10838  f3bc		       a5 45		      lda	temp4	;Horizontal position
  10839  f3be		       91 63		      sta	(dlpnt),y	;(5) store horizontal position
  10840  f3c0
  10841  f3c0		       c8		      iny
  10842  f3c1		       94 65		      sty	dlend,x	; save display list end byte
  10843  f3c3		       60		      rts
  10844  f3c4
  10845  f3c4
  10846  f3c4				  -	      ifconst	plotvalueonscreen
  10847  f3c4				  -plotcharacterslive
  10848  f3c4				  -			; a version of plotcharacters that draws live and minimally disrupts the screen...
  10849  f3c4				  -
  10850  f3c4				  -			;arguments:
  10851  f3c4				  -			; temp1=lo charactermap
  10852  f3c4				  -			; temp2=hi charactermap
  10853  f3c4				  -			; temp3=palette | width byte
  10854  f3c4				  -			; temp4=x
  10855  f3c4				  -			; temp5=y
  10856  f3c4				  -
  10857  f3c4				  -	      lda	temp5	;Y position
  10858  f3c4				  -
  10859  f3c4				  -	      tax
  10860  f3c4				  -
  10861  f3c4				  -	      ifconst	VSCROLL
  10862  f3c4				  -	      ldy	Xx3,x
  10863  f3c4				  -	      lda	DLLMEM+11,y
  10864  f3c4				  -	      else		; !VSCROLL
  10865  f3c4				  -	      lda	DLPOINTL,x	;Get pointer to DL that the characters are in
  10866  f3c4				  -	      endif		; !VSCROLL
  10867  f3c4				  -	      ifconst	DOUBLEBUFFER
  10868  f3c4				  -	      clc
  10869  f3c4				  -	      adc	doublebufferdloffset
  10870  f3c4				  -	      endif		; DOUBLEBUFFER
  10871  f3c4				  -	      sta	dlpnt
  10872  f3c4				  -	      ifconst	VSCROLL
  10873  f3c4				  -	      lda	DLLMEM+10,y
  10874  f3c4				  -	      else		; !VSCROLL
  10875  f3c4				  -	      lda	DLPOINTH,x
  10876  f3c4				  -	      endif		; !VSCROLL
  10877  f3c4				  -	      ifconst	DOUBLEBUFFER
  10878  f3c4				  -	      adc	#0
  10879  f3c4				  -	      endif		; DOUBLEBUFFER
  10880  f3c4				  -	      sta	dlpnt+1
  10881  f3c4				  -
  10882  f3c4				  -			;Create DL entry for the characters
  10883  f3c4				  -
  10884  f3c4				  -	      ldy	dlend,x	;Get the index to the end of this DL
  10885  f3c4				  -
  10886  f3c4				  -	      ifconst	CHECKOVERWRITE
  10887  f3c4				  -	      cpy	#DLLASTOBJ
  10888  f3c4				  -	      bne	continueplotcharacterslive
  10889  f3c4				  -	      rts
  10890  f3c4				  -continueplotcharacterslive
  10891  f3c4				  -	      endif
  10892  f3c4				  -
  10893  f3c4				  -	      lda	temp1	; character map data, lo byte
  10894  f3c4				  -	      sta	(dlpnt),y	;(1) store low address
  10895  f3c4				  -
  10896  f3c4				  -	      iny
  10897  f3c4				  -			; we don't add the second byte yet, since the charmap could briefly
  10898  f3c4				  -			; render without a proper character map address, width, or position.
  10899  f3c4				  -	      lda	charactermode
  10900  f3c4				  -	      sta	(dlpnt),y	;(2) store mode
  10901  f3c4				  -
  10902  f3c4				  -	      iny
  10903  f3c4				  -	      lda	temp2	; character map, hi byte
  10904  f3c4				  -	      sta	(dlpnt),y	;(3) store high address
  10905  f3c4				  -
  10906  f3c4				  -	      iny
  10907  f3c4				  -	      lda	temp3	;palette|width
  10908  f3c4				  -	      sta	(dlpnt),y	;(4) store palette|width
  10909  f3c4				  -
  10910  f3c4				  -	      iny
  10911  f3c4				  -	      lda	temp4	;Horizontal position
  10912  f3c4				  -	      sta	(dlpnt),y	;(5) store horizontal position
  10913  f3c4				  -
  10914  f3c4				  -	      iny
  10915  f3c4				  -	      sty	dlend,x	; save display list end byte
  10916  f3c4				  -
  10917  f3c4				  -	      rts
  10918  f3c4					      endif		;plotcharacterslive
  10919  f3c4
  10920  f3c4					      ifconst	USED_PLOTVALUE
  10921  f3c4				   plotvalue
  10922  f3c4							; calling 7800basic command:
  10923  f3c4							; plotvalue digit_gfx palette variable/data number_of_digits screen_x screen_y
  10924  f3c4							; ...displays the variable as BCD digits
  10925  f3c4							;
  10926  f3c4							; asm sub arguments:
  10927  f3c4							; temp1=lo charactermap
  10928  f3c4							; temp2=hi charactermap
  10929  f3c4							; temp3=palette | width byte
  10930  f3c4							; temp4=x
  10931  f3c4							; temp5=y
  10932  f3c4							; temp6=number of digits
  10933  f3c4							; temp7=lo variable
  10934  f3c4							; temp8=hi variable
  10935  f3c4							; temp9=character mode
  10936  f3c4
  10937  f3c4		       00 47	   plotdigitcount =	temp6
  10938  f3c4
  10939  f3c4				  -	      ifconst	ZONELOCKS
  10940  f3c4				  -	      ldx	temp5
  10941  f3c4				  -	      ldy	dlend,x
  10942  f3c4				  -	      cpy	#DLLASTOBJ
  10943  f3c4				  -	      bne	carryonplotvalue
  10944  f3c4				  -	      rts
  10945  f3c4				  -carryonplotvalue
  10946  f3c4					      endif
  10947  f3c4
  10948  f3c4		       a9 00		      lda	#0
  10949  f3c6		       a8		      tay
  10950  f3c7		       ae ad 01 	      ldx	valbufend
  10951  f3ca
  10952  f3ca		       a5 47		      lda	plotdigitcount
  10953  f3cc		       29 01		      and	#1
  10954  f3ce		       f0 07		      beq	pvnibble2char
  10955  f3d0		       a9 00		      lda	#0
  10956  f3d2		       9d 00 20 	      sta	VALBUFFER,x	; just in case we skip this digit
  10957  f3d5		       f0 11		      beq	pvnibble2char_skipnibble
  10958  f3d7
  10959  f3d7				   pvnibble2char
  10960  f3d7							; high nibble...
  10961  f3d7		       b1 48		      lda	(temp7),y
  10962  f3d9		       29 f0		      and	#$f0
  10963  f3db		       4a		      lsr
  10964  f3dc		       4a		      lsr
  10965  f3dd		       4a		      lsr
  10966  f3de					      ifnconst	DOUBLEWIDE	; multiply value by 2 for double-width
  10967  f3de		       4a		      lsr
  10968  f3df					      endif
  10969  f3df
  10970  f3df		       18		      clc
  10971  f3e0		       65 42		      adc	temp1	; add the offset to character graphics to our value
  10972  f3e2		       9d 00 20 	      sta	VALBUFFER,x
  10973  f3e5		       e8		      inx
  10974  f3e6		       c6 47		      dec	plotdigitcount
  10975  f3e8
  10976  f3e8				   pvnibble2char_skipnibble
  10977  f3e8							; low nibble...
  10978  f3e8		       b1 48		      lda	(temp7),y
  10979  f3ea		       29 0f		      and	#$0f
  10980  f3ec				  -	      ifconst	DOUBLEWIDE	; multiply value by 2 for double-width
  10981  f3ec				  -	      asl
  10982  f3ec					      endif
  10983  f3ec		       18		      clc
  10984  f3ed		       65 42		      adc	temp1	; add the offset to character graphics to our value
  10985  f3ef		       9d 00 20 	      sta	VALBUFFER,x
  10986  f3f2		       e8		      inx
  10987  f3f3		       c8		      iny
  10988  f3f4
  10989  f3f4		       c6 47		      dec	plotdigitcount
  10990  f3f6		       d0 df		      bne	pvnibble2char
  10991  f3f8
  10992  f3f8							;point to the start of our valuebuffer
  10993  f3f8		       18		      clc
  10994  f3f9		       a9 00		      lda	#<VALBUFFER
  10995  f3fb		       6d ad 01 	      adc	valbufend
  10996  f3fe		       85 42		      sta	temp1
  10997  f400		       a9 20		      lda	#>VALBUFFER
  10998  f402		       69 00		      adc	#0
  10999  f404		       85 43		      sta	temp2
  11000  f406
  11001  f406							;advance valbufend to the end of our value buffer
  11002  f406		       8e ad 01 	      stx	valbufend
  11003  f409
  11004  f409					      ifnconst	plotvalueonscreen
  11005  f409		       4c 94 f3 	      jmp	plotcharacters
  11006  f40c				  -	      else
  11007  f40c				  -	      jmp	plotcharacterslive
  11008  f40c					      endif
  11009  f40c
  11010  f40c					      endif		; USED_PLOTVALUE
  11011  f40c
  11012  f40c
  11013  f40c				  -	      ifconst	USED_PLOTVALUEEXTRA
  11014  f40c				  -plotdigitcount =	temp6
  11015  f40c				  -plotvalueextra
  11016  f40c				  -			; calling 7800basic command:
  11017  f40c				  -			; plotvalue digit_gfx palette variable/data number_of_digits screen_x screen_y
  11018  f40c				  -			; ...displays the variable as BCD digits
  11019  f40c				  -			;
  11020  f40c				  -			; asm sub arguments:
  11021  f40c				  -			; temp1=lo charactermap
  11022  f40c				  -			; temp2=hi charactermap
  11023  f40c				  -			; temp3=palette | width byte
  11024  f40c				  -			; temp4=x
  11025  f40c				  -			; temp5=y
  11026  f40c				  -			; temp6=number of digits
  11027  f40c				  -			; temp7=lo variable
  11028  f40c				  -			; temp8=hi variable
  11029  f40c				  -
  11030  f40c				  -	      lda	#0
  11031  f40c				  -	      tay
  11032  f40c				  -	      ldx	valbufend
  11033  f40c				  -	      ifnconst	plotvalueonscreen
  11034  f40c				  -	      sta	VALBUFFER,x
  11035  f40c				  -	      endif
  11036  f40c				  -
  11037  f40c				  -	      lda	plotdigitcount
  11038  f40c				  -	      and	#1
  11039  f40c				  -
  11040  f40c				  -	      bne	pvnibble2char_skipnibbleextra
  11041  f40c				  -
  11042  f40c				  -pvnibble2charextra
  11043  f40c				  -			; high nibble...
  11044  f40c				  -	      lda	(temp7),y
  11045  f40c				  -	      and	#$f0
  11046  f40c				  -	      lsr
  11047  f40c				  -	      lsr
  11048  f40c				  -	      ifnconst	DOUBLEWIDE	; multiply value by 2 for double-width
  11049  f40c				  -	      lsr
  11050  f40c				  -	      endif
  11051  f40c				  -	      clc
  11052  f40c				  -	      adc	temp1	; add the offset to character graphics to our value
  11053  f40c				  -	      sta	VALBUFFER,x
  11054  f40c				  -	      inx
  11055  f40c				  -
  11056  f40c				  -			; second half of the digit
  11057  f40c				  -	      clc
  11058  f40c				  -	      adc	#1
  11059  f40c				  -	      sta	VALBUFFER,x
  11060  f40c				  -	      inx
  11061  f40c				  -	      dec	plotdigitcount
  11062  f40c				  -
  11063  f40c				  -pvnibble2char_skipnibbleextra
  11064  f40c				  -			; low nibble...
  11065  f40c				  -	      lda	(temp7),y
  11066  f40c				  -	      and	#$0f
  11067  f40c				  -	      ifconst	DOUBLEWIDE	; multiply value by 2 for double-width
  11068  f40c				  -	      asl
  11069  f40c				  -	      endif
  11070  f40c				  -	      asl
  11071  f40c				  -
  11072  f40c				  -	      clc
  11073  f40c				  -	      adc	temp1	; add the offset to character graphics to our value
  11074  f40c				  -	      sta	VALBUFFER,x
  11075  f40c				  -	      inx
  11076  f40c				  -
  11077  f40c				  -	      clc
  11078  f40c				  -	      adc	#1
  11079  f40c				  -	      sta	VALBUFFER,x
  11080  f40c				  -	      inx
  11081  f40c				  -	      iny
  11082  f40c				  -
  11083  f40c				  -	      dec	plotdigitcount
  11084  f40c				  -	      bne	pvnibble2charextra
  11085  f40c				  -
  11086  f40c				  -			;point to the start of our valuebuffer
  11087  f40c				  -	      clc
  11088  f40c				  -	      lda	#<VALBUFFER
  11089  f40c				  -	      adc	valbufend
  11090  f40c				  -	      sta	temp1
  11091  f40c				  -	      lda	#>VALBUFFER
  11092  f40c				  -	      adc	#0
  11093  f40c				  -	      sta	temp2
  11094  f40c				  -
  11095  f40c				  -			;advance valbufend to the end of our value buffer
  11096  f40c				  -	      stx	valbufend
  11097  f40c				  -
  11098  f40c				  -	      ifnconst	plotvalueonscreen
  11099  f40c				  -	      jmp	plotcharacters
  11100  f40c				  -	      else
  11101  f40c				  -	      jmp	plotcharacterslive
  11102  f40c				  -	      endif
  11103  f40c					      endif		; USED_PLOTVALUEEXTRA
  11104  f40c
  11105  f40c				   boxcollision
  11106  f40c				  -	      ifconst	BOXCOLLISION
  11107  f40c				  -			; the worst case cycle-time for the code below is 43 cycles.
  11108  f40c				  -			; unfortunately, prior to getting here we've burned 44 cycles in argument setup. eep!
  11109  f40c				  -
  11110  f40c				  -			;__boxx1 = accumulator
  11111  f40c				  -			;__boxy1 = y
  11112  f40c				  -__boxw1    =	temp3
  11113  f40c				  -__boxh1    =	temp4
  11114  f40c				  -
  11115  f40c				  -__boxx2    =	temp5
  11116  f40c				  -__boxy2    =	temp6
  11117  f40c				  -__boxw2    =	temp7
  11118  f40c				  -__boxh2    =	temp8
  11119  f40c				  -
  11120  f40c				  -DoXCollisionCheck
  11121  f40c				  -			;lda __boxx1 ; skipped. already in the accumulator
  11122  f40c				  -	      cmp	__boxx2	;3
  11123  f40c				  -	      bcs	X1isbiggerthanX2	;2/3
  11124  f40c				  -X2isbiggerthanX1
  11125  f40c				  -			; carry is clear
  11126  f40c				  -	      adc	__boxw1	;3
  11127  f40c				  -	      cmp	__boxx2	;3
  11128  f40c				  -	      bcs	DoYCollisionCheck	;3/2
  11129  f40c				  -	      rts		;6 - carry clear, no collision
  11130  f40c				  -X1isbiggerthanX2
  11131  f40c				  -	      clc		;2
  11132  f40c				  -	      sbc	__boxw2	;3
  11133  f40c				  -	      cmp	__boxx2	;3
  11134  f40c				  -	      bcs	noboxcollision	;3/2
  11135  f40c				  -DoYCollisionCheck
  11136  f40c				  -	      tya		; 2 ; use to be "lda __boxy1"
  11137  f40c				  -	      cmp	__boxy2	;3
  11138  f40c				  -	      bcs	Y1isbiggerthanY2	;3/2
  11139  f40c				  -Y2isbiggerthanY1
  11140  f40c				  -			; carry is clear
  11141  f40c				  -	      adc	__boxh1	;3
  11142  f40c				  -	      cmp	__boxy2	;3
  11143  f40c				  -	      rts		;6
  11144  f40c				  -Y1isbiggerthanY2
  11145  f40c				  -	      clc		;2
  11146  f40c				  -	      sbc	__boxh2	;3
  11147  f40c				  -	      cmp	__boxy2	;3
  11148  f40c				  -	      bcs	noboxcollision	;3/2
  11149  f40c				  -yesboxcollision
  11150  f40c				  -	      sec		;2
  11151  f40c				  -	      rts		;6
  11152  f40c				  -noboxcollision
  11153  f40c				  -	      clc		;2
  11154  f40c				  -	      rts		;6
  11155  f40c					      endif		; BOXCOLLISION
  11156  f40c
  11157  f40c				   randomize
  11158  f40c		       a5 40		      lda	rand
  11159  f40e		       4a		      lsr
  11160  f40f		       26 41		      rol	rand16
  11161  f411		       90 02		      bcc	noeor
  11162  f413		       49 b4		      eor	#$B4
  11163  f415				   noeor
  11164  f415		       85 40		      sta	rand
  11165  f417		       45 41		      eor	rand16
  11166  f419		       60		      rts
  11167  f41a
  11168  f41a							; *** bcd conversion routine courtesy Omegamatrix
  11169  f41a							; *** http://atariage.com/forums/blog/563/entry-10832-hex-to-bcd-conversion-0-99/
  11170  f41a					      ifconst	.calledfunction_converttobcd
  11171  f41a				   converttobcd
  11172  f41a							;value to convert is in the accumulator
  11173  f41a		       85 42		      sta	temp1
  11174  f41c		       4a		      lsr
  11175  f41d		       65 42		      adc	temp1
  11176  f41f		       6a		      ror
  11177  f420		       4a		      lsr
  11178  f421		       4a		      lsr
  11179  f422		       65 42		      adc	temp1
  11180  f424		       6a		      ror
  11181  f425		       65 42		      adc	temp1
  11182  f427		       6a		      ror
  11183  f428		       4a		      lsr
  11184  f429		       29 3c		      and	#$3C
  11185  f42b		       85 43		      sta	temp2
  11186  f42d		       4a		      lsr
  11187  f42e		       65 43		      adc	temp2
  11188  f430		       65 42		      adc	temp1
  11189  f432		       60		      rts		; return the result in the accumulator
  11190  f433					      endif		; .calledfunction_converttobcd
  11191  f433
  11192  f433				  -	      ifconst	.calledfunction_mul8
  11193  f433				  -			; Y and A contain multiplicands, result in A
  11194  f433				  -mul8
  11195  f433				  -	      sty	temp1
  11196  f433				  -	      sta	temp2
  11197  f433				  -	      lda	#0
  11198  f433				  -reptmul8
  11199  f433				  -	      lsr	temp2
  11200  f433				  -	      bcc	skipmul8
  11201  f433				  -	      clc
  11202  f433				  -	      adc	temp1
  11203  f433				  -			;bcs donemul8 might save cycles?
  11204  f433				  -skipmul8
  11205  f433				  -			;beq donemul8 might save cycles?
  11206  f433				  -	      asl	temp1
  11207  f433				  -	      bne	reptmul8
  11208  f433				  -donemul8
  11209  f433				  -	      rts
  11210  f433					      endif		; .calledfunction_mul8
  11211  f433
  11212  f433				  -	      ifconst	.calledfunction_div8
  11213  f433				  -div8
  11214  f433				  -			; A=numerator Y=denominator, result in A
  11215  f433				  -	      cpy	#2
  11216  f433				  -	      bcc	div8end+1	;div by 0 = bad, div by 1=no calc needed, so bail out
  11217  f433				  -	      sty	temp1
  11218  f433				  -	      ldy	#$ff
  11219  f433				  -div8loop
  11220  f433				  -	      sbc	temp1
  11221  f433				  -	      iny
  11222  f433				  -	      bcs	div8loop
  11223  f433				  -div8end
  11224  f433				  -	      tya
  11225  f433				  -			; result in A
  11226  f433				  -	      rts
  11227  f433					      endif		; .calledfunction_div8
  11228  f433
  11229  f433				  -	      ifconst	.calledfunction_mul16
  11230  f433				  -			; Y and A contain multiplicands, result in temp2,A=low, temp1=high
  11231  f433				  -mul16
  11232  f433				  -	      sty	temp1
  11233  f433				  -	      sta	temp2
  11234  f433				  -
  11235  f433				  -	      lda	#0
  11236  f433				  -	      ldx	#8
  11237  f433				  -	      lsr	temp1
  11238  f433				  -mul16_1
  11239  f433				  -	      bcc	mul16_2
  11240  f433				  -	      clc
  11241  f433				  -	      adc	temp2
  11242  f433				  -mul16_2
  11243  f433				  -	      ror
  11244  f433				  -	      ror	temp1
  11245  f433				  -	      dex
  11246  f433				  -	      bne	mul16_1
  11247  f433				  -	      sta	temp2
  11248  f433				  -	      rts
  11249  f433					      endif		; .calledfunction_mul16
  11250  f433
  11251  f433				  -	      ifconst	.calledfunction_div16
  11252  f433				  -			; div int/int
  11253  f433				  -			; numerator in A, denom in temp1
  11254  f433				  -			; returns with quotient in A, remainder in temp1
  11255  f433				  -div16
  11256  f433				  -	      sta	temp2
  11257  f433				  -	      sty	temp1
  11258  f433				  -	      lda	#0
  11259  f433				  -	      ldx	#8
  11260  f433				  -	      asl	temp2
  11261  f433				  -div16_1
  11262  f433				  -	      rol
  11263  f433				  -	      cmp	temp1
  11264  f433				  -	      bcc	div16_2
  11265  f433				  -	      sbc	temp1
  11266  f433				  -div16_2
  11267  f433				  -	      rol	temp2
  11268  f433				  -	      dex
  11269  f433				  -	      bne	div16_1
  11270  f433				  -	      sta	temp1
  11271  f433				  -	      lda	temp2
  11272  f433				  -	      rts
  11273  f433					      endif		; .calledfunction_div16
  11274  f433
  11275  f433				  -	      ifconst	bankswitchmode
  11276  f433				  -BS_jsr
  11277  f433				  -	      ifconst	dumpbankswitch
  11278  f433				  -	      sta	dumpbankswitch
  11279  f433				  -	      endif
  11280  f433				  -	      ifconst	MCPDEVCART
  11281  f433				  -	      ora	#$18
  11282  f433				  -	      sta	$3000
  11283  f433				  -	      else
  11284  f433				  -	      sta	$8000
  11285  f433				  -	      endif
  11286  f433				  -	      pla
  11287  f433				  -	      tax
  11288  f433				  -	      pla
  11289  f433				  -	      rts
  11290  f433				  -
  11291  f433				  -BS_return
  11292  f433				  -	      pla		; bankswitch bank
  11293  f433				  -	      ifconst	dumpbankswitch
  11294  f433				  -	      sta	dumpbankswitch
  11295  f433				  -	      endif
  11296  f433				  -	      ifconst	BANKRAM
  11297  f433				  -	      sta	currentbank
  11298  f433				  -	      ora	currentrambank
  11299  f433				  -	      endif
  11300  f433				  -	      ifconst	MCPDEVCART
  11301  f433				  -	      ora	#$18
  11302  f433				  -	      sta	$3000
  11303  f433				  -	      else
  11304  f433				  -	      sta	$8000
  11305  f433				  -	      endif
  11306  f433				  -	      pla		; bankswitch $0 flag
  11307  f433				  -	      rts
  11308  f433					      endif
  11309  f433
  11310  f433				   checkselectswitch
  11311  f433		       ad 82 02 	      lda	SWCHB	; check the real select switch...
  11312  f436		       29 02		      and	#%00000010
  11313  f438				   checkselectswitchreturn
  11314  f438		       60		      rts
  11315  f439
  11316  f439				   checkresetswitch
  11317  f439		       ad 82 02 	      lda	SWCHB	; check the real reset switch...
  11318  f43c		       29 01		      and	#%00000001
  11319  f43e		       60		      rts
  11320  f43f
  11321  f43f				  -	      ifconst	FINESCROLLENABLED
  11322  f43f				  -finescrolldlls
  11323  f43f				  -	      ldx	temp1	; first DLL index x3
  11324  f43f				  -	      lda	DLLMEM,x
  11325  f43f				  -	      and	#%11110000
  11326  f43f				  -	      ora	finescrolly
  11327  f43f				  -	      sta	DLLMEM,x
  11328  f43f				  -
  11329  f43f				  -	      ldx	temp2	; last DLL index x3
  11330  f43f				  -	      lda	DLLMEM,x
  11331  f43f				  -	      and	#%11110000
  11332  f43f				  -	      ora	finescrolly
  11333  f43f				  -	      eor	#(WZONEHEIGHT-1)
  11334  f43f				  -	      sta	DLLMEM,x
  11335  f43f				  -	      rts
  11336  f43f					      endif		; FINESCROLLENABLED
  11337  f43f
  11338  f43f				  -	      ifconst	USED_ADJUSTVISIBLE
  11339  f43f				  -adjustvisible
  11340  f43f				  -			; called with temp1=first visible zone *3, temp2=last visible zone *3
  11341  f43f				  -	      jsr	waitforvblankstart	; ensure vblank just started
  11342  f43f				  -	      ldx	visibleDLLstart
  11343  f43f				  -findfirstinterrupt
  11344  f43f				  -	      lda	DLLMEM,x
  11345  f43f				  -	      bmi	foundfirstinterrupt
  11346  f43f				  -	      inx
  11347  f43f				  -	      inx
  11348  f43f				  -	      inx
  11349  f43f				  -	      bne	findfirstinterrupt
  11350  f43f				  -foundfirstinterrupt
  11351  f43f				  -	      and	#%01111111	; clear the interrupt bit
  11352  f43f				  -	      sta	DLLMEM,x
  11353  f43f				  -	      ifconst	DOUBLEBUFFER
  11354  f43f				  -	      sta	DLLMEM+DBOFFSET,x
  11355  f43f				  -	      endif		; DOUBLEBUFFER
  11356  f43f				  -	      ldx	overscanDLLstart
  11357  f43f				  -findlastinterrupt
  11358  f43f				  -	      lda	DLLMEM,x
  11359  f43f				  -	      bmi	foundlastinterrupt
  11360  f43f				  -	      dex
  11361  f43f				  -	      dex
  11362  f43f				  -	      dex
  11363  f43f				  -	      bne	findlastinterrupt
  11364  f43f				  -foundlastinterrupt
  11365  f43f				  -	      and	#%01111111	; clear the interrupt bit
  11366  f43f				  -	      sta	DLLMEM,x
  11367  f43f				  -	      ifconst	DOUBLEBUFFER
  11368  f43f				  -	      sta	DLLMEM+DBOFFSET,x
  11369  f43f				  -	      endif		; DOUBLEBUFFER
  11370  f43f				  -			;now we need to set the new interrupts
  11371  f43f				  -	      clc
  11372  f43f				  -	      lda	temp1
  11373  f43f				  -	      adc	visibleDLLstart
  11374  f43f				  -	      tax
  11375  f43f				  -	      lda	DLLMEM,x
  11376  f43f				  -	      ora	#%10000000
  11377  f43f				  -	      sta	DLLMEM,x
  11378  f43f				  -	      ifconst	DOUBLEBUFFER
  11379  f43f				  -	      sta	DLLMEM+DBOFFSET,x
  11380  f43f				  -	      endif		; DOUBLEBUFFER
  11381  f43f				  -	      clc
  11382  f43f				  -	      lda	temp2
  11383  f43f				  -	      adc	visibleDLLstart
  11384  f43f				  -	      tax
  11385  f43f				  -	      lda	DLLMEM,x
  11386  f43f				  -	      ora	#%10000000
  11387  f43f				  -	      sta	DLLMEM,x
  11388  f43f				  -	      ifconst	DOUBLEBUFFER
  11389  f43f				  -	      sta	DLLMEM+DBOFFSET,x
  11390  f43f				  -	      endif		; DOUBLEBUFFER
  11391  f43f				  -	      jsr	vblankresync
  11392  f43f				  -	      rts
  11393  f43f					      endif		; USED_ADJUSTVISIBLE
  11394  f43f
  11395  f43f				   vblankresync
  11396  f43f		       20 af f4 	      jsr	waitforvblankstart	; ensure vblank just started
  11397  f442		       a9 00		      lda	#0
  11398  f444		       85 4d		      sta	visibleover
  11399  f446		       a9 03		      lda	#3
  11400  f448		       8d b2 01 	      sta	interruptindex
  11401  f44b		       60		      rts
  11402  f44c
  11403  f44c				   createallgamedlls
  11404  f44c		       a0 3c		      ldy	#(DLLLUTEND-DLLLUT)
  11405  f44e				   createallgamedllsloop
  11406  f44e		       88		      dey
  11407  f44f		       b9 73 f4 	      lda	DLLLUT,y
  11408  f452		       99 00 18 	      sta	DLLMEM,y
  11409  f455				  -	      ifconst	DOUBLEBUFFER
  11410  f455				  -	      sta	DLLMEM+DBOFFSET,y
  11411  f455					      endif		; DOUBLEBUFFER
  11412  f455		       c0 00		      cpy	#0
  11413  f457		       d0 f5		      bne	createallgamedllsloop
  11414  f459
  11415  f459				  -	      ifconst	DOUBLEBUFFER
  11416  f459				  -	      ldy	#(DLLLUTNONVISSTART-DLLLUTVISSTART)
  11417  f459				  -fixdoublebuffer
  11418  f459				  -	      dey
  11419  f459				  -	      lda	DLLMEM+DBOFFSET+DLLLUTVISSTART-DLLLUT,y
  11420  f459				  -	      clc
  11421  f459				  -	      adc	#DOUBLEBUFFEROFFSET
  11422  f459				  -	      sta	DLLMEM+DBOFFSET+DLLLUTVISSTART-DLLLUT,y
  11423  f459				  -	      dey
  11424  f459				  -	      lda	DLLMEM+DBOFFSET+DLLLUTVISSTART-DLLLUT,y
  11425  f459				  -	      adc	#0
  11426  f459				  -	      sta	DLLMEM+DBOFFSET+DLLLUTVISSTART-DLLLUT,y
  11427  f459				  -	      dey
  11428  f459				  -	      bne	fixdoublebuffer
  11429  f459					      endif
  11430  f459
  11431  f459				  -	      ifconst	BANKSET_DL_IN_CARTRAM
  11432  f459				  -			; N.B. banksets doesn't in-fact allow DL in cart-ram, so this conditional
  11433  f459				  -			; is always skipped. This is here in case some day the limitation is
  11434  f459				  -			; worked around, but it's untested.
  11435  f459				  -
  11436  f459				  -			; With bankset cart ram, we added $8000 to the DL address so plot
  11437  f459				  -			; functions would hit the cart-ram write-address. We need to subtract $80
  11438  f459				  -			; so Maria will read from the cart-ram read-address.
  11439  f459				  -	      ldy	#(DLLLUTNONVISSTART-DLLLUTVISSTART)
  11440  f459				  -fixbanksetaddresses
  11441  f459				  -	      dey
  11442  f459				  -	      dey
  11443  f459				  -	      lda	DLLMEM+DLLLUTVISSTART-DLLLUT,y
  11444  f459				  -	      and	#%01111111
  11445  f459				  -	      sta	DLLMEM+DLLLUTVISSTART-DLLLUT,y
  11446  f459				  -	      ifconst	DOUBLEBUFFER
  11447  f459				  -	      lda	DLLMEM+DBOFFSET+DLLLUTVISSTART-DLLLUT,y
  11448  f459				  -	      and	#%01111111
  11449  f459				  -	      sta	DLLMEM+DBOFFSET+DLLLUTVISSTART-DLLLUT,y
  11450  f459				  -	      endif		; DOUBLEBUFFER
  11451  f459				  -	      dey
  11452  f459				  -	      bne	fixbanksetaddresses
  11453  f459					      endif		; BANKSET_DL_IN_CARTRAM
  11454  f459
  11455  f459		       ad 09 21 	      lda	paldetected
  11456  f45c		       f0 0a		      beq	skippaladjust
  11457  f45e		       a9 4f		      lda	#($0F|(WZONEHEIGHT*4))	; +15 lines
  11458  f460		       8d 06 18 	      sta	DLLMEM+6
  11459  f463				  -	      ifconst	DOUBLEBUFFER
  11460  f463				  -	      sta	DLLMEM+DBOFFSET+6
  11461  f463					      endif
  11462  f463					      if	WSCREENHEIGHT = 192
  11463  f463		       a9 4d		      lda	#($0D|(WZONEHEIGHT*4))	; +6 lines
  11464  f465				  -	      else
  11465  f465				  -	      lda	#($07|(WZONEHEIGHT*4))	; +6 lines
  11466  f465					      endif		;
  11467  f465		       8d 03 18 	      sta	DLLMEM+3
  11468  f468				  -	      ifconst	DOUBLEBUFFER
  11469  f468				  -	      sta	DLLMEM+DBOFFSET+3
  11470  f468					      endif		; DOUBLEBUFFER
  11471  f468
  11472  f468				   skippaladjust
  11473  f468
  11474  f468							; save the DL markers...
  11475  f468		       a9 09		      lda	#(DLLLUTVISSTART-DLLLUT)
  11476  f46a		       8d 3c 21 	      sta	visibleDLLstart
  11477  f46d		       a9 2d		      lda	#(DLLLUTNONVISSTART-DLLLUT)
  11478  f46f		       8d 3d 21 	      sta	overscanDLLstart
  11479  f472		       60		      rts
  11480  f473
  11481  f473							; N.B. max DLL length is 112 bytes (for double-buffered)
  11482  f473
  11483  f473				   DLLLUT
  11484  f473					      if	WSCREENHEIGHT = 192
  11485  f473		       4f 21 00 	      .byte.b	($0F|(WZONEHEIGHT*4)),$21,$00	; 16 blank lines
  11486  f476		       47 21 00 	      .byte.b	($07|(WZONEHEIGHT*4)),$21,$00	;  8 blank lines
  11487  f479		       40 21 00 	      .byte.b	($00|(WZONEHEIGHT*4)),$21,$00	;  1 blank lines
  11488  f47c							;=25 blank lines
  11489  f47c					      endif		; WSCREENHEIGHT = 192
  11490  f47c				  -	      if	WSCREENHEIGHT = 208
  11491  f47c				  -	      .byte	($0E|(WZONEHEIGHT*4)),$21,$00	; 15 blank lines
  11492  f47c				  -	      .byte	($00|(WZONEHEIGHT*4)),$21,$00	;  1 blank lines
  11493  f47c				  -	      .byte	($00|(WZONEHEIGHT*4)),$21,$00	;  1 blank lines
  11494  f47c				  -			;=17 blank lines
  11495  f47c					      endif		; WSCREENHEIGHT = 208
  11496  f47c				  -	      if	WSCREENHEIGHT = 224
  11497  f47c				  -	      .byte	($06|(WZONEHEIGHT*4)),$21,$00	;  7 blank lines
  11498  f47c				  -	      .byte	($00|(WZONEHEIGHT*4)),$21,$00	;  1 blank lines
  11499  f47c				  -	      .byte	($00|(WZONEHEIGHT*4)),$21,$00	;  1 blank lines
  11500  f47c				  -			;= 9 blank lines
  11501  f47c					      endif		; WSCREENHEIGHT = 224
  11502  f47c
  11503  f47c				   DLLLUTVISSTART
  11504  f47c		       cf 18 80 	      .byte.b	($80|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE0ADDRESS,<ZONE0ADDRESS
  11505  f47f							;	 ^--NMI 1: start of visible
  11506  f47f		       4f 19 20 	      .byte.b	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE1ADDRESS,<ZONE1ADDRESS
  11507  f482		       4f 19 c0 	      .byte.b	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE2ADDRESS,<ZONE2ADDRESS
  11508  f485		       4f 1a 60 	      .byte.b	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE3ADDRESS,<ZONE3ADDRESS
  11509  f488		       4f 1b 00 	      .byte.b	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE4ADDRESS,<ZONE4ADDRESS
  11510  f48b		       4f 1b a0 	      .byte.b	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE5ADDRESS,<ZONE5ADDRESS
  11511  f48e		       4f 1c 40 	      .byte.b	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE6ADDRESS,<ZONE6ADDRESS
  11512  f491		       4f 1c e0 	      .byte.b	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE7ADDRESS,<ZONE7ADDRESS
  11513  f494		       4f 1d 80 	      .byte.b	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE8ADDRESS,<ZONE8ADDRESS
  11514  f497		       4f 1e 20 	      .byte.b	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE9ADDRESS,<ZONE9ADDRESS
  11515  f49a		       4f 1e c0 	      .byte.b	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE10ADDRESS,<ZONE10ADDRESS
  11516  f49d		       4f 1f 60 	      .byte.b	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE11ADDRESS,<ZONE11ADDRESS
  11517  f4a0				  -	      ifconst	ZONE12ADDRESS
  11518  f4a0				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE12ADDRESS,<ZONE12ADDRESS
  11519  f4a0					      endif
  11520  f4a0				  -	      ifconst	ZONE13ADDRESS
  11521  f4a0				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE13ADDRESS,<ZONE13ADDRESS
  11522  f4a0					      endif
  11523  f4a0				  -	      ifconst	ZONE14ADDRESS
  11524  f4a0				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE14ADDRESS,<ZONE14ADDRESS
  11525  f4a0					      endif
  11526  f4a0				  -	      ifconst	ZONE15ADDRESS
  11527  f4a0				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE15ADDRESS,<ZONE15ADDRESS
  11528  f4a0					      endif
  11529  f4a0				  -	      ifconst	ZONE16ADDRESS
  11530  f4a0				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE16ADDRESS,<ZONE16ADDRESS
  11531  f4a0					      endif
  11532  f4a0				  -	      ifconst	ZONE17ADDRESS
  11533  f4a0				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE17ADDRESS,<ZONE17ADDRESS
  11534  f4a0					      endif
  11535  f4a0				  -	      ifconst	ZONE18ADDRESS
  11536  f4a0				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE18ADDRESS,<ZONE18ADDRESS
  11537  f4a0					      endif
  11538  f4a0				  -	      ifconst	ZONE19ADDRESS
  11539  f4a0				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE19ADDRESS,<ZONE19ADDRESS
  11540  f4a0					      endif
  11541  f4a0				  -	      ifconst	ZONE20ADDRESS
  11542  f4a0				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE20ADDRESS,<ZONE20ADDRESS
  11543  f4a0					      endif
  11544  f4a0				  -	      ifconst	ZONE21ADDRESS
  11545  f4a0				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE21ADDRESS,<ZONE21ADDRESS
  11546  f4a0					      endif
  11547  f4a0				  -	      ifconst	ZONE22ADDRESS
  11548  f4a0				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE22ADDRESS,<ZONE22ADDRESS
  11549  f4a0					      endif
  11550  f4a0				  -	      ifconst	ZONE23ADDRESS
  11551  f4a0				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE23ADDRESS,<ZONE23ADDRESS
  11552  f4a0					      endif
  11553  f4a0				  -	      ifconst	ZONE24ADDRESS
  11554  f4a0				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE24ADDRESS,<ZONE24ADDRESS
  11555  f4a0					      endif
  11556  f4a0				  -	      ifconst	ZONE25ADDRESS
  11557  f4a0				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE25ADDRESS,<ZONE25ADDRESS
  11558  f4a0					      endif
  11559  f4a0				  -	      ifconst	ZONE26ADDRESS
  11560  f4a0				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE26ADDRESS,<ZONE26ADDRESS
  11561  f4a0					      endif
  11562  f4a0				  -	      ifconst	ZONE27ADDRESS
  11563  f4a0				  -	      .byte	($00|(WZONEHEIGHT*4)|(WZONEHEIGHT-1)),>ZONE27ADDRESS,<ZONE27ADDRESS
  11564  f4a0					      endif
  11565  f4a0				   DLLLUTNONVISSTART
  11566  f4a0		       c3 21 00 	      .byte.b	($83|(WZONEHEIGHT*4)),$21,$00	;  4 blank lines
  11567  f4a3							;	 ^--NMI 2: start of non-visible
  11568  f4a3		       cf 21 00 	      .byte.b	($8F|(WZONEHEIGHT*4)),$21,$00	; 16 blank lines
  11569  f4a6							;	 ^--NMI 3: start of overscan
  11570  f4a6		       4f 21 00 	      .byte.b	($0F|(WZONEHEIGHT*4)),$21,$00	; 16 blank lines
  11571  f4a9		       4f 21 00 	      .byte.b	($0F|(WZONEHEIGHT*4)),$21,$00	; 16 blank lines
  11572  f4ac		       4f 21 00 	      .byte.b	($0F|(WZONEHEIGHT*4)),$21,$00	; 16 blank lines
  11573  f4af				   DLLLUTEND
  11574  f4af							;echo "DLL size: ",[(DLLLUTEND-DLLLUT)]d,"bytes"
  11575  f4af							;echo "DLL code size: ",[(DLLLUTEND-createallgamedlls)]d,"bytes"
  11576  f4af
  11577  f4af				   waitforvblankstart
  11578  f4af				   vblankendwait
  11579  f4af		       24 28		      BIT	MSTAT
  11580  f4b1		       30 fc		      bmi	vblankendwait
  11581  f4b3				   vblankstartwait
  11582  f4b3		       24 28		      BIT	MSTAT
  11583  f4b5		       10 fc		      bpl	vblankstartwait
  11584  f4b7		       60		      rts
  11585  f4b8
  11586  f4b8				  -	      ifconst	DOUBLEBUFFER
  11587  f4b8				  -flipdisplaybufferreturn
  11588  f4b8				  -	      rts
  11589  f4b8				  -flipdisplaybuffer
  11590  f4b8				  -	      ifconst	interrupthold
  11591  f4b8				  -	      lda	#$FF
  11592  f4b8				  -	      sta	interrupthold
  11593  f4b8				  -	      endif
  11594  f4b8				  -	      lda	doublebufferstate
  11595  f4b8				  -	      beq	flipdisplaybufferreturn	; exit if we're not in double-buffer
  11596  f4b8				  -
  11597  f4b8				  -	      jsr	terminatedisplaybuffer	; terminate the working buffer before we flip
  11598  f4b8				  -
  11599  f4b8				  -			; ensure we don't flip mid-display. otherwise the displayed DL will be the one the game is working on.
  11600  f4b8				  -
  11601  f4b8				  -flipdisplaybufferwait1
  11602  f4b8				  -	      lda	visibleover
  11603  f4b8				  -	      beq	flipdisplaybufferwait1
  11604  f4b8				  -
  11605  f4b8				  -flipdisplaybufferwait
  11606  f4b8				  -	      lda	visibleover
  11607  f4b8				  -	      bne	flipdisplaybufferwait
  11608  f4b8				  -
  11609  f4b8				  -quickbufferflip
  11610  f4b8				  -	      lda	doublebufferstate
  11611  f4b8				  -	      lsr		; /2, so we'll see 0 or 1, rather than 1 or 3
  11612  f4b8				  -	      tax
  11613  f4b8				  -
  11614  f4b8				  -	      lda	doublebufferminimumframetarget
  11615  f4b8				  -	      beq	skipminimumframecode
  11616  f4b8				  -	      lda	doublebufferminimumframeindex
  11617  f4b8				  -	      bne	flipdisplaybufferwait1
  11618  f4b8				  -	      lda	doublebufferminimumframetarget
  11619  f4b8				  -	      sta	doublebufferminimumframeindex
  11620  f4b8				  -skipminimumframecode
  11621  f4b8				  -
  11622  f4b8				  -	      lda	DLLMEMLutHi,x
  11623  f4b8				  -	      sta	DPPH
  11624  f4b8				  -	      lda	DLLMEMLutLo,x
  11625  f4b8				  -	      sta	DPPL
  11626  f4b8				  -
  11627  f4b8				  -	      lda	NewPageflipstate,x
  11628  f4b8				  -	      sta	doublebufferstate
  11629  f4b8				  -	      lda	NewPageflipoffset,x
  11630  f4b8				  -	      sta	doublebufferdloffset
  11631  f4b8				  -
  11632  f4b8				  -	      ifnconst	BANKSET_DL_IN_CARTRAM
  11633  f4b8				  -	      lda	doublebufferbufferdirty
  11634  f4b8				  -	      beq	flipdisplaybufferreturn
  11635  f4b8				  -
  11636  f4b8				  -			; The doublebuffer buffer is dirty, so the game code must have issued a savescreen recently.
  11637  f4b8				  -			; To make savescreen work with the new working buffer, we need to copy over the saved objects
  11638  f4b8				  -			; from the displayed buffer to the working buffer...
  11639  f4b8				  -
  11640  f4b8				  -	      lda	doublebufferdloffset
  11641  f4b8				  -	      eor	#DOUBLEBUFFEROFFSET
  11642  f4b8				  -	      sta	temp6	; make temp6 the anti-doublebufferdloffset variable
  11643  f4b8				  -
  11644  f4b8				  -	      ldx	#(WZONECOUNT-1)
  11645  f4b8				  -copybufferzoneloop
  11646  f4b8				  -
  11647  f4b8				  -	      lda	DLPOINTL,x
  11648  f4b8				  -	      clc
  11649  f4b8				  -	      adc	doublebufferdloffset
  11650  f4b8				  -	      sta	temp1
  11651  f4b8				  -	      lda	DLPOINTH,x
  11652  f4b8				  -	      adc	#0
  11653  f4b8				  -	      sta	temp2
  11654  f4b8				  -
  11655  f4b8				  -	      lda	DLPOINTL,x
  11656  f4b8				  -	      clc
  11657  f4b8				  -	      adc	temp6
  11658  f4b8				  -	      sta	temp3
  11659  f4b8				  -	      lda	DLPOINTH,x
  11660  f4b8				  -	      adc	#0
  11661  f4b8				  -	      sta	temp4
  11662  f4b8				  -
  11663  f4b8				  -	      lda	dlendsave,x
  11664  f4b8				  -	      tay
  11665  f4b8				  -copybuffercharsloop
  11666  f4b8				  -	      lda	(temp3),y
  11667  f4b8				  -	      sta	(temp1),y
  11668  f4b8				  -	      dey
  11669  f4b8				  -	      bpl	copybuffercharsloop
  11670  f4b8				  -	      dex
  11671  f4b8				  -	      bpl	copybufferzoneloop
  11672  f4b8				  -	      lda	#0
  11673  f4b8				  -	      sta	doublebufferbufferdirty
  11674  f4b8				  -	      endif		; ! BANKSET_DL_IN_CARTRAM
  11675  f4b8				  -	      rts
  11676  f4b8				  -
  11677  f4b8				  -doublebufferoff
  11678  f4b8				  -	      lda	#1
  11679  f4b8				  -	      sta	doublebufferstate
  11680  f4b8				  -	      jsr	flipdisplaybuffer
  11681  f4b8				  -	      lda	#0
  11682  f4b8				  -	      sta	doublebufferstate
  11683  f4b8				  -	      sta	doublebufferdloffset
  11684  f4b8				  -	      rts
  11685  f4b8				  -
  11686  f4b8				  -DLLMEMLutLo
  11687  f4b8				  -	      .byte	<DLLMEM,<(DLLMEM+DBOFFSET)
  11688  f4b8				  -DLLMEMLutHi
  11689  f4b8				  -	      .byte	>DLLMEM,>(DLLMEM+DBOFFSET)
  11690  f4b8				  -NewPageflipstate
  11691  f4b8				  -	      .byte	3,1
  11692  f4b8				  -NewPageflipoffset
  11693  f4b8				  -	      .byte	DOUBLEBUFFEROFFSET,0
  11694  f4b8				  -
  11695  f4b8					      endif		; DOUBLEBUFFER
  11696  f4b8
  11697  f4b8				  -	      ifconst	MOUSESUPPORT
  11698  f4b8				  -
  11699  f4b8				  -rotationalcompare
  11700  f4b8				  -			; old = 00 01 10 11
  11701  f4b8				  -	      .byte	$00, $01, $ff, $00	; new=00
  11702  f4b8				  -	      .byte	$ff, $00, $00, $01	; new=01
  11703  f4b8				  -	      .byte	$01, $00, $00, $ff	; new=10
  11704  f4b8				  -	      .byte	$00, $ff, $01, $00	; new=11
  11705  f4b8				  -
  11706  f4b8				  -			; 0000YyXx st mouse
  11707  f4b8				  -
  11708  f4b8				  -			; 0000xyXY amiga mouse
  11709  f4b8				  -
  11710  f4b8				  -	      ifconst	MOUSEXONLY
  11711  f4b8				  -amigatoataribits		; swap bits 1 and 4...
  11712  f4b8				  -	      .byte	%0000, %0000, %0010, %0010
  11713  f4b8				  -	      .byte	%0000, %0000, %0010, %0010
  11714  f4b8				  -	      .byte	%0001, %0001, %0011, %0011
  11715  f4b8				  -	      .byte	%0001, %0001, %0011, %0011
  11716  f4b8				  -
  11717  f4b8				  -			; null change bits
  11718  f4b8				  -	      .byte	%0000, %0001, %0010, %0011
  11719  f4b8				  -	      .byte	%0000, %0001, %0010, %0011
  11720  f4b8				  -	      .byte	%0000, %0001, %0010, %0011
  11721  f4b8				  -	      .byte	%0000, %0001, %0010, %0011
  11722  f4b8				  -
  11723  f4b8				  -	      else		; !MOUSEXONLY
  11724  f4b8				  -
  11725  f4b8				  -amigatoataribits		; swap bits 1 and 4...
  11726  f4b8				  -	      .byte	%0000, %1000, %0010, %1010
  11727  f4b8				  -	      .byte	%0100, %1100, %0110, %1110
  11728  f4b8				  -	      .byte	%0001, %1001, %0011, %1011
  11729  f4b8				  -	      .byte	%0101, %1101, %0111, %1111
  11730  f4b8				  -			; null change bits
  11731  f4b8				  -	      .byte	%0000, %0001, %0010, %0011
  11732  f4b8				  -	      .byte	%0100, %0101, %0110, %0111
  11733  f4b8				  -	      .byte	%1000, %1001, %1010, %1011
  11734  f4b8				  -	      .byte	%1100, %1101, %1110, %1111
  11735  f4b8				  -	      endif		; !MOUSEXONLY
  11736  f4b8				  -
  11737  f4b8					      endif		; MOUSESUPPORT
  11738  f4b8
  11739  f4b8				   mouse0update
  11740  f4b8				  -	      ifconst	MOUSE0SUPPORT
  11741  f4b8				  -
  11742  f4b8				  -mousetableselect =	inttemp2
  11743  f4b8				  -mousexdelta =	inttemp3
  11744  f4b8				  -mouseydelta =	inttemp4
  11745  f4b8				  -lastSWCHA  =	inttemp6
  11746  f4b8				  -
  11747  f4b8				  -			; 0000YyXx st mouse
  11748  f4b8				  -			; 0000xyXY amiga mouse
  11749  f4b8				  -
  11750  f4b8				  -	      lda	#$ff
  11751  f4b8				  -	      sta	lastSWCHA
  11752  f4b8				  -
  11753  f4b8				  -	      ldy	port0control
  11754  f4b8				  -
  11755  f4b8				  -	      lda	#%00010000
  11756  f4b8				  -	      cpy	#9	; AMIGA?
  11757  f4b8				  -	      bne	skipamigabitsfix0
  11758  f4b8				  -	      lda	#0
  11759  f4b8				  -skipamigabitsfix0
  11760  f4b8				  -	      sta	mousetableselect
  11761  f4b8				  -	      ifconst	DRIVINGBOOST
  11762  f4b8				  -	      cpy	#6	; DRIVING?
  11763  f4b8				  -	      bne	skipdriving0setup
  11764  f4b8				  -			; swap mousex0 and mousey0. mousex seen by the 7800basic program
  11765  f4b8				  -			; trails the actual mousex0, so we can smoothly interpolate toward
  11766  f4b8				  -			; the actual position. This actual position is stored in mousey0
  11767  f4b8				  -			; after the driver has run.
  11768  f4b8				  -	      ldx	mousex0
  11769  f4b8				  -	      lda	mousey0
  11770  f4b8				  -	      stx	mousey0
  11771  f4b8				  -	      sta	mousex0
  11772  f4b8				  -skipdriving0setup
  11773  f4b8				  -	      endif		; DRIVINGBOOST
  11774  f4b8				  -
  11775  f4b8				  -	      lda	#0
  11776  f4b8				  -	      sta	mousexdelta
  11777  f4b8				  -	      sta	mouseydelta
  11778  f4b8				  -
  11779  f4b8				  -	      ifnconst	MOUSETIME
  11780  f4b8				  -	      ifnconst	MOUSEXONLY
  11781  f4b8				  -	      lda	#180	; minimum for x+y
  11782  f4b8				  -	      else
  11783  f4b8				  -	      lda	#100	; minimum for just x
  11784  f4b8				  -	      endif
  11785  f4b8				  -	      else
  11786  f4b8				  -	      lda	#MOUSETIME
  11787  f4b8				  -	      endif
  11788  f4b8				  -	      jsr	SETTIM64T	; INTIM is in Y
  11789  f4b8				  -
  11790  f4b8				  -mouse0updateloop
  11791  f4b8				  -	      lda	SWCHA
  11792  f4b8				  -	      asr	#%11110000	; Undocumented. A = A & #IMM, then LSR A.
  11793  f4b8				  -	      cmp	lastSWCHA
  11794  f4b8				  -	      beq	mouse0loopcondition
  11795  f4b8				  -	      sta	lastSWCHA
  11796  f4b8				  -	      lsr
  11797  f4b8				  -	      lsr
  11798  f4b8				  -	      lsr
  11799  f4b8				  -
  11800  f4b8				  -	      ora	mousetableselect	; atari/amiga decoding table selection
  11801  f4b8				  -
  11802  f4b8				  -			; st mice encode on different bits/joystick-lines than amiga mice...
  11803  f4b8				  -			; 0000YyXx st mouse
  11804  f4b8				  -			; 0000xyXY amiga mouse
  11805  f4b8				  -			; ...so can shuffle the amiga bits to reuse the st driver.
  11806  f4b8				  -	      tay
  11807  f4b8				  -	      lax	amigatoataribits,y
  11808  f4b8				  -
  11809  f4b8				  -	      ifnconst	MOUSEXONLY
  11810  f4b8				  -			; first the Y...
  11811  f4b8				  -	      and	#%00001100
  11812  f4b8				  -	      ora	mousecodey0
  11813  f4b8				  -	      tay
  11814  f4b8				  -	      lda	rotationalcompare,y
  11815  f4b8				  -	      clc
  11816  f4b8				  -	      adc	mouseydelta
  11817  f4b8				  -	      sta	mouseydelta
  11818  f4b8				  -	      tya
  11819  f4b8				  -	      lsr
  11820  f4b8				  -	      lsr
  11821  f4b8				  -	      sta	mousecodey0
  11822  f4b8				  -	      txa
  11823  f4b8				  -			; ...then the X...
  11824  f4b8				  -	      and	#%00000011
  11825  f4b8				  -	      tax
  11826  f4b8				  -	      endif		; !MOUSEXONLY
  11827  f4b8				  -
  11828  f4b8				  -	      asl
  11829  f4b8				  -	      asl
  11830  f4b8				  -	      ora	mousecodex0
  11831  f4b8				  -	      tay
  11832  f4b8				  -	      lda	rotationalcompare,y
  11833  f4b8				  -	      adc	mousexdelta	; carry was clear by previous ASL
  11834  f4b8				  -	      sta	mousexdelta
  11835  f4b8				  -	      stx	mousecodex0
  11836  f4b8				  -mouse0loopcondition
  11837  f4b8				  -	      lda	TIMINT
  11838  f4b8				  -	      bpl	mouse0updateloop
  11839  f4b8				  -
  11840  f4b8				  -			; *** adapt to selected device resolution.
  11841  f4b8				  -	      ldx	port0control
  11842  f4b8				  -
  11843  f4b8				  -	      ifconst	PRECISIONMOUSING
  11844  f4b8				  -	      ldy	port0resolution
  11845  f4b8				  -	      bne	mouse0halveddone
  11846  f4b8				  -	      cpx	#6	; half-resolution is no good for driving wheels
  11847  f4b8				  -	      beq	mouse0halveddone
  11848  f4b8				  -			; resolution=0 is half mouse resolution, necessary for precision
  11849  f4b8				  -			; mousing on a 160x240 screen with a 1000 dpi mouse.
  11850  f4b8				  -
  11851  f4b8				  -	      lda	mousexdelta
  11852  f4b8				  -	      cmp	#$80
  11853  f4b8				  -	      ror		; do a signed divide by 2.
  11854  f4b8				  -	      clc
  11855  f4b8				  -	      adc	mousex0
  11856  f4b8				  -	      sta	mousex0
  11857  f4b8				  -	      ifnconst	MOUSEXONLY
  11858  f4b8				  -	      lda	mouseydelta
  11859  f4b8				  -	      clc
  11860  f4b8				  -	      adc	mousey0
  11861  f4b8				  -	      sta	mousey0
  11862  f4b8				  -	      endif
  11863  f4b8				  -			; at half resolution we just exit after updating x and y
  11864  f4b8				  -	      jmp	LLRET0
  11865  f4b8				  -mouse0halveddone
  11866  f4b8				  -	      endif		; PRECISIONMOUSING
  11867  f4b8				  -
  11868  f4b8				  -	      ifnconst	MOUSEXONLY
  11869  f4b8				  -	      asl	mouseydelta	; *2 because Y resolution is finer
  11870  f4b8				  -	      ldy	port0resolution
  11871  f4b8				  -	      dey
  11872  f4b8				  -	      lda	#0
  11873  f4b8				  -mousey0resolutionfix
  11874  f4b8				  -	      clc
  11875  f4b8				  -	      adc	mouseydelta
  11876  f4b8				  -	      dey
  11877  f4b8				  -	      bpl	mousey0resolutionfix
  11878  f4b8				  -	      clc
  11879  f4b8				  -	      adc	mousey0
  11880  f4b8				  -	      sta	mousey0
  11881  f4b8				  -	      endif		; MOUSEXONLY
  11882  f4b8				  -
  11883  f4b8				  -	      ldy	port0resolution
  11884  f4b8				  -	      dey
  11885  f4b8				  -	      lda	#0
  11886  f4b8				  -mousex0resolutionfix
  11887  f4b8				  -	      clc
  11888  f4b8				  -	      adc	mousexdelta
  11889  f4b8				  -	      dey
  11890  f4b8				  -	      bpl	mousex0resolutionfix
  11891  f4b8				  -	      ifnconst	DRIVINGBOOST
  11892  f4b8				  -	      clc
  11893  f4b8				  -	      adc	mousex0
  11894  f4b8				  -	      sta	mousex0
  11895  f4b8				  -	      else
  11896  f4b8				  -	      cpx	#6
  11897  f4b8				  -	      beq	carryonmouse0boost
  11898  f4b8				  -	      clc
  11899  f4b8				  -	      adc	mousex0
  11900  f4b8				  -	      sta	mousex0
  11901  f4b8				  -	      jmp	LLRET0
  11902  f4b8				  -carryonmouse0boost
  11903  f4b8				  -	      sta	mousexdelta
  11904  f4b8				  -	      clc
  11905  f4b8				  -	      adc	mousecodey0
  11906  f4b8				  -	      sta	mousecodey0
  11907  f4b8				  -	      clc
  11908  f4b8				  -	      adc	mousex0
  11909  f4b8				  -	      tay		; save the target X
  11910  f4b8				  -	      adc	mousey0	; average in the smoothly-trailing X
  11911  f4b8				  -	      ror
  11912  f4b8				  -	      sta	mousex0	; mousex0 now has the smoothly trailing X
  11913  f4b8				  -	      sty	mousey0	; and mousey0 has the the target X
  11914  f4b8				  -
  11915  f4b8				  -			; check to see if the coordinate wrapped. If so, undo the averaging code.
  11916  f4b8				  -			; A has mousex0, the smoothly trailing X
  11917  f4b8				  -	      sbc	mousey0	; less the target X
  11918  f4b8				  -	      bpl	skipabsolutedrive0
  11919  f4b8				  -	      eor	#$ff
  11920  f4b8				  -skipabsolutedrive0
  11921  f4b8				  -	      cmp	#64	; just an unreasonably large change
  11922  f4b8				  -	      bcc	skipdrivewrapfix0
  11923  f4b8				  -	      sty	mousex0	; if X wrapped, we catch the trailing X up to the target X
  11924  f4b8				  -skipdrivewrapfix0
  11925  f4b8				  -
  11926  f4b8				  -			; get rid of the tweening if the distance travelled was very small
  11927  f4b8				  -	      lda	mousexdelta
  11928  f4b8				  -	      cmp	port0resolution
  11929  f4b8				  -	      bcs	skipbetweenfix0
  11930  f4b8				  -	      lda	mousex0
  11931  f4b8				  -	      sta	mousey0
  11932  f4b8				  -skipbetweenfix0
  11933  f4b8				  -
  11934  f4b8				  -drivingboostreductioncheck0
  11935  f4b8				  -			; The below code amounts to mousecodey0=mousecodey0-(mousecodey0/8)
  11936  f4b8				  -			; +ve mousecodey0 is converted to -ve to do the calculation, and then
  11937  f4b8				  -			; negated again because truncation during BCD math results in
  11938  f4b8				  -			; differing magnitudes, depending if the value is +ve or -ve.
  11939  f4b8				  -driving0fix
  11940  f4b8				  -	      lax	mousecodey0
  11941  f4b8				  -	      cmp	#$80
  11942  f4b8				  -	      bcs	driving0skipnegate1
  11943  f4b8				  -	      eor	#$FF
  11944  f4b8				  -	      adc	#1
  11945  f4b8				  -	      sta	mousecodey0
  11946  f4b8				  -driving0skipnegate1
  11947  f4b8				  -	      cmp	#$80
  11948  f4b8				  -	      ror
  11949  f4b8				  -	      cmp	#$80
  11950  f4b8				  -	      ror
  11951  f4b8				  -	      cmp	#$80
  11952  f4b8				  -	      ror
  11953  f4b8				  -	      sta	inttemp1
  11954  f4b8				  -	      lda	mousecodey0
  11955  f4b8				  -	      sec
  11956  f4b8				  -	      sbc	inttemp1
  11957  f4b8				  -	      cpx	#$80
  11958  f4b8				  -	      bcs	driving0skipnegate2
  11959  f4b8				  -	      eor	#$FF
  11960  f4b8				  -	      adc	#1
  11961  f4b8				  -driving0skipnegate2
  11962  f4b8				  -	      sta	mousecodey0
  11963  f4b8				  -drivingboostdone0
  11964  f4b8				  -	      endif		; DRIVINGBOOST
  11965  f4b8				  -
  11966  f4b8				  -	      jmp	LLRET0
  11967  f4b8				  -
  11968  f4b8					      endif		; MOUSE0SUPPORT
  11969  f4b8
  11970  f4b8				   mouse1update
  11971  f4b8				  -	      ifconst	MOUSE1SUPPORT
  11972  f4b8				  -
  11973  f4b8				  -mousetableselect =	inttemp2
  11974  f4b8				  -mousexdelta =	inttemp3
  11975  f4b8				  -mouseydelta =	inttemp4
  11976  f4b8				  -lastSWCHA  =	inttemp6
  11977  f4b8				  -
  11978  f4b8				  -			; 0000YyXx st mouse
  11979  f4b8				  -			; 0000xyXY amiga mouse
  11980  f4b8				  -
  11981  f4b8				  -	      lda	#$ff
  11982  f4b8				  -	      sta	lastSWCHA
  11983  f4b8				  -
  11984  f4b8				  -	      ldy	port1control
  11985  f4b8				  -
  11986  f4b8				  -	      lda	#%00010000
  11987  f4b8				  -	      cpy	#9	; AMIGA?
  11988  f4b8				  -	      bne	skipamigabitsfix1
  11989  f4b8				  -	      lda	#0
  11990  f4b8				  -skipamigabitsfix1
  11991  f4b8				  -	      sta	mousetableselect
  11992  f4b8				  -	      ifconst	DRIVINGBOOST
  11993  f4b8				  -	      cpy	#6	; DRIVING?
  11994  f4b8				  -	      bne	skipdriving1setup
  11995  f4b8				  -			; swap mousex1 and mousey1. mousex seen by the 7800basic program
  11996  f4b8				  -			; trails the actual mousex1, so we can smoothly interpolate toward
  11997  f4b8				  -			; the actual position. This actual position is stored in mousey1
  11998  f4b8				  -			; after the driver has run.
  11999  f4b8				  -	      ldx	mousex1
  12000  f4b8				  -	      lda	mousey1
  12001  f4b8				  -	      stx	mousey1
  12002  f4b8				  -	      sta	mousex1
  12003  f4b8				  -skipdriving1setup
  12004  f4b8				  -	      endif		; DRIVINGBOOST
  12005  f4b8				  -
  12006  f4b8				  -	      lda	#0
  12007  f4b8				  -	      sta	mousexdelta
  12008  f4b8				  -	      sta	mouseydelta
  12009  f4b8				  -
  12010  f4b8				  -	      ifnconst	MOUSETIME
  12011  f4b8				  -	      ifnconst	MOUSEXONLY
  12012  f4b8				  -	      lda	#180	; minimum for x+y
  12013  f4b8				  -	      else
  12014  f4b8				  -	      lda	#100	; minimum for just x
  12015  f4b8				  -	      endif
  12016  f4b8				  -	      else
  12017  f4b8				  -	      lda	#MOUSETIME
  12018  f4b8				  -	      endif
  12019  f4b8				  -	      jsr	SETTIM64T	; INTIM is in Y
  12020  f4b8				  -
  12021  f4b8				  -mouse1updateloop
  12022  f4b8				  -	      lda	SWCHA
  12023  f4b8				  -	      and	#%00001111
  12024  f4b8				  -	      cmp	lastSWCHA
  12025  f4b8				  -	      beq	mouse1loopcondition
  12026  f4b8				  -	      sta	lastSWCHA
  12027  f4b8				  -
  12028  f4b8				  -	      ora	mousetableselect	; atari/amiga decoding table selection
  12029  f4b8				  -
  12030  f4b8				  -			; st mice encode on different bits/joystick-lines than amiga mice...
  12031  f4b8				  -			; 0000YyXx st mouse
  12032  f4b8				  -			; 0000xyXY amiga mouse
  12033  f4b8				  -			; ...so can shuffle the amiga bits to reuse the st driver.
  12034  f4b8				  -	      tay
  12035  f4b8				  -	      lax	amigatoataribits,y
  12036  f4b8				  -
  12037  f4b8				  -	      ifnconst	MOUSEXONLY
  12038  f4b8				  -			; first the Y...
  12039  f4b8				  -	      and	#%00001100
  12040  f4b8				  -	      ora	mousecodey1
  12041  f4b8				  -	      tay
  12042  f4b8				  -	      lda	rotationalcompare,y
  12043  f4b8				  -	      clc
  12044  f4b8				  -	      adc	mouseydelta
  12045  f4b8				  -	      sta	mouseydelta
  12046  f4b8				  -	      tya
  12047  f4b8				  -	      lsr
  12048  f4b8				  -	      lsr
  12049  f4b8				  -	      sta	mousecodey1
  12050  f4b8				  -	      txa
  12051  f4b8				  -			; ...then the X...
  12052  f4b8				  -	      and	#%00000011
  12053  f4b8				  -	      tax
  12054  f4b8				  -	      endif		; !MOUSEXONLY
  12055  f4b8				  -
  12056  f4b8				  -	      asl
  12057  f4b8				  -	      asl
  12058  f4b8				  -	      ora	mousecodex1
  12059  f4b8				  -	      tay
  12060  f4b8				  -	      lda	rotationalcompare,y
  12061  f4b8				  -	      adc	mousexdelta	; carry was clear by previous ASL
  12062  f4b8				  -	      sta	mousexdelta
  12063  f4b8				  -	      stx	mousecodex1
  12064  f4b8				  -mouse1loopcondition
  12065  f4b8				  -	      lda	TIMINT
  12066  f4b8				  -	      bpl	mouse1updateloop
  12067  f4b8				  -
  12068  f4b8				  -			; *** adapt to selected device resolution.
  12069  f4b8				  -	      ldx	port1control
  12070  f4b8				  -
  12071  f4b8				  -	      ifconst	PRECISIONMOUSING
  12072  f4b8				  -	      ldy	port1resolution
  12073  f4b8				  -	      bne	mouse1halveddone
  12074  f4b8				  -	      cpx	#6	; half-resolution is no good for driving wheels
  12075  f4b8				  -	      beq	mouse1halveddone
  12076  f4b8				  -			; resolution=0 is half mouse resolution, necessary for precision
  12077  f4b8				  -			; mousing on a 160x240 screen with a 1000 dpi mouse.
  12078  f4b8				  -
  12079  f4b8				  -	      lda	mousexdelta
  12080  f4b8				  -	      cmp	#$80
  12081  f4b8				  -	      ror		; do a signed divide by 2.
  12082  f4b8				  -	      clc
  12083  f4b8				  -	      adc	mousex1
  12084  f4b8				  -	      sta	mousex1
  12085  f4b8				  -	      ifnconst	MOUSEXONLY
  12086  f4b8				  -	      lda	mouseydelta
  12087  f4b8				  -	      clc
  12088  f4b8				  -	      adc	mousey1
  12089  f4b8				  -	      sta	mousey1
  12090  f4b8				  -	      endif
  12091  f4b8				  -			; at half resolution we just exit after updating x and y
  12092  f4b8				  -	      jmp	LLRET1
  12093  f4b8				  -mouse1halveddone
  12094  f4b8				  -	      endif		; PRECISIONMOUSING
  12095  f4b8				  -
  12096  f4b8				  -	      ifnconst	MOUSEXONLY
  12097  f4b8				  -	      asl	mouseydelta	; *2 because Y resolution is finer
  12098  f4b8				  -	      ldy	port1resolution
  12099  f4b8				  -	      dey
  12100  f4b8				  -	      lda	#0
  12101  f4b8				  -mousey1resolutionfix
  12102  f4b8				  -	      clc
  12103  f4b8				  -	      adc	mouseydelta
  12104  f4b8				  -	      dey
  12105  f4b8				  -	      bpl	mousey1resolutionfix
  12106  f4b8				  -	      clc
  12107  f4b8				  -	      adc	mousey1
  12108  f4b8				  -	      sta	mousey1
  12109  f4b8				  -	      endif		; MOUSEXONLY
  12110  f4b8				  -
  12111  f4b8				  -	      ldy	port1resolution
  12112  f4b8				  -	      dey
  12113  f4b8				  -	      lda	#0
  12114  f4b8				  -mousex1resolutionfix
  12115  f4b8				  -	      clc
  12116  f4b8				  -	      adc	mousexdelta
  12117  f4b8				  -	      dey
  12118  f4b8				  -	      bpl	mousex1resolutionfix
  12119  f4b8				  -	      ifnconst	DRIVINGBOOST
  12120  f4b8				  -	      clc
  12121  f4b8				  -	      adc	mousex1
  12122  f4b8				  -	      sta	mousex1
  12123  f4b8				  -	      else
  12124  f4b8				  -	      cpx	#6
  12125  f4b8				  -	      beq	carryonmouse1boost
  12126  f4b8				  -	      clc
  12127  f4b8				  -	      adc	mousex1
  12128  f4b8				  -	      sta	mousex1
  12129  f4b8				  -	      jmp	LLRET1
  12130  f4b8				  -carryonmouse1boost
  12131  f4b8				  -	      sta	mousexdelta
  12132  f4b8				  -	      clc
  12133  f4b8				  -	      adc	mousecodey1
  12134  f4b8				  -	      sta	mousecodey1
  12135  f4b8				  -	      clc
  12136  f4b8				  -	      adc	mousex1
  12137  f4b8				  -	      tay		; save the target X
  12138  f4b8				  -	      adc	mousey1	; average in the smoothly-trailing X
  12139  f4b8				  -	      ror
  12140  f4b8				  -	      sta	mousex1	; mousex0 now has the smoothly trailing X
  12141  f4b8				  -	      sty	mousey1	; and mousey0 has the the target X
  12142  f4b8				  -
  12143  f4b8				  -			; check to see if the coordinate wrapped. If so, undo the averaging code.
  12144  f4b8				  -			; A has mousex1, the smoothly trailing X
  12145  f4b8				  -	      sbc	mousey1	; less the target X
  12146  f4b8				  -	      bpl	skipabsolutedrive1
  12147  f4b8				  -	      eor	#$ff
  12148  f4b8				  -skipabsolutedrive1
  12149  f4b8				  -	      cmp	#64	; just an unreasonably large change
  12150  f4b8				  -	      bcc	skipdrivewrapfix1
  12151  f4b8				  -	      sty	mousex1	; if X wrapped, we catch the trailing X up to the target X
  12152  f4b8				  -skipdrivewrapfix1
  12153  f4b8				  -
  12154  f4b8				  -			; get rid of the tweening if the distance travelled was very small
  12155  f4b8				  -	      lda	mousexdelta
  12156  f4b8				  -	      cmp	port1resolution
  12157  f4b8				  -	      bcs	skipbetweenfix1
  12158  f4b8				  -	      lda	mousex1
  12159  f4b8				  -	      sta	mousey1
  12160  f4b8				  -skipbetweenfix1
  12161  f4b8				  -
  12162  f4b8				  -drivingboostreductioncheck1
  12163  f4b8				  -			; The below code amounts to mousecodey0=mousecodey0-(mousecodey0/8)
  12164  f4b8				  -			; +ve mousecodey0 is converted to -ve to do the calculation, and then
  12165  f4b8				  -			; negated again because truncation during BCD math results in
  12166  f4b8				  -			; differing magnitudes, depending if the value is +ve or -ve.
  12167  f4b8				  -driving1fix
  12168  f4b8				  -	      lax	mousecodey1
  12169  f4b8				  -	      cmp	#$80
  12170  f4b8				  -	      bcs	driving0skipnegate1
  12171  f4b8				  -	      eor	#$FF
  12172  f4b8				  -	      adc	#1
  12173  f4b8				  -	      sta	mousecodey1
  12174  f4b8				  -driving0skipnegate1
  12175  f4b8				  -	      cmp	#$80
  12176  f4b8				  -	      ror
  12177  f4b8				  -	      cmp	#$80
  12178  f4b8				  -	      ror
  12179  f4b8				  -	      cmp	#$80
  12180  f4b8				  -	      ror
  12181  f4b8				  -	      sta	inttemp1
  12182  f4b8				  -	      lda	mousecodey1
  12183  f4b8				  -	      sec
  12184  f4b8				  -	      sbc	inttemp1
  12185  f4b8				  -	      cpx	#$80
  12186  f4b8				  -	      bcs	driving1skipnegate2
  12187  f4b8				  -	      eor	#$FF
  12188  f4b8				  -	      adc	#1
  12189  f4b8				  -driving1skipnegate2
  12190  f4b8				  -	      sta	mousecodey1
  12191  f4b8				  -drivingboostdone1
  12192  f4b8				  -	      endif		; DRIVINGBOOST
  12193  f4b8				  -
  12194  f4b8				  -	      jmp	LLRET1
  12195  f4b8				  -
  12196  f4b8					      endif		; MOUSE1SUPPORT
  12197  f4b8
  12198  f4b8
  12199  f4b8				   trakball0update
  12200  f4b8				  -	      ifconst	TRAKBALL0SUPPORT
  12201  f4b8				  -	      ifnconst	TRAKTIME
  12202  f4b8				  -	      ifnconst	TRAKXONLY
  12203  f4b8				  -	      lda	#180	; minimum for x+y
  12204  f4b8				  -	      else		; !TRAKXONLY
  12205  f4b8				  -	      lda	#100	; minimum for just x
  12206  f4b8				  -	      endif		; !TRAKXONLY
  12207  f4b8				  -	      else		; !TRAKTIME
  12208  f4b8				  -	      lda	#TRAKTIME
  12209  f4b8				  -	      endif		; !TRAKTIME
  12210  f4b8				  -	      jsr	SETTIM64T	; INTIM is in Y
  12211  f4b8				  -	      ldx	#0
  12212  f4b8				  -	      ifnconst	TRAKXONLY
  12213  f4b8				  -	      ldy	#0
  12214  f4b8				  -	      endif		; TRAKXONLY
  12215  f4b8				  -trakball0updateloop
  12216  f4b8				  -	      lda	SWCHA
  12217  f4b8				  -	      and	#%00110000
  12218  f4b8				  -	      cmp	trakballcodex0
  12219  f4b8				  -	      sta	trakballcodex0
  12220  f4b8				  -	      beq	trakball0movementXdone
  12221  f4b8				  -	      and	#%00010000
  12222  f4b8				  -	      beq	trakball0negativeX
  12223  f4b8				  -trakball0positiveX
  12224  f4b8				  -			;(2 from beq)
  12225  f4b8				  -	      inx		; 2
  12226  f4b8				  -	      jmp	trakball0movementXdone	; 3
  12227  f4b8				  -trakball0negativeX
  12228  f4b8				  -			;(3 from beq)
  12229  f4b8				  -	      dex		; 2
  12230  f4b8				  -	      nop		; 2
  12231  f4b8				  -trakball0movementXdone
  12232  f4b8				  -
  12233  f4b8				  -	      ifnconst	TRAKXONLY
  12234  f4b8				  -	      lda	SWCHA
  12235  f4b8				  -	      and	#%11000000
  12236  f4b8				  -	      cmp	trakballcodey0
  12237  f4b8				  -	      sta	trakballcodey0
  12238  f4b8				  -	      beq	trakball0movementYdone
  12239  f4b8				  -	      and	#%01000000
  12240  f4b8				  -	      beq	trakball0negativeY
  12241  f4b8				  -trakball0positiveY
  12242  f4b8				  -			;(2 from beq)
  12243  f4b8				  -	      iny		; 2
  12244  f4b8				  -	      jmp	trakball0movementYdone	; 3
  12245  f4b8				  -trakball0negativeY
  12246  f4b8				  -			;(3 from beq)
  12247  f4b8				  -	      dey		; 2
  12248  f4b8				  -	      nop		; 2
  12249  f4b8				  -trakball0movementYdone
  12250  f4b8				  -	      endif		; !TRAKXONLY
  12251  f4b8				  -
  12252  f4b8				  -	      lda	TIMINT
  12253  f4b8				  -	      bpl	trakball0updateloop
  12254  f4b8				  -	      lda	#0
  12255  f4b8				  -	      cpx	#0
  12256  f4b8				  -	      beq	trakball0skipXadjust
  12257  f4b8				  -	      clc
  12258  f4b8				  -trakball0Xloop
  12259  f4b8				  -	      adc	port0resolution
  12260  f4b8				  -	      dex
  12261  f4b8				  -	      bne	trakball0Xloop
  12262  f4b8				  -	      clc
  12263  f4b8				  -	      adc	trakballx0
  12264  f4b8				  -	      sta	trakballx0
  12265  f4b8				  -trakball0skipXadjust
  12266  f4b8				  -	      ifnconst	TRAKXONLY
  12267  f4b8				  -	      lda	#0
  12268  f4b8				  -	      cpy	#0
  12269  f4b8				  -	      beq	trakball0skipYadjust
  12270  f4b8				  -	      clc
  12271  f4b8				  -trakball0yloop
  12272  f4b8				  -	      adc	port0resolution
  12273  f4b8				  -	      dey
  12274  f4b8				  -	      bne	trakball0yloop
  12275  f4b8				  -	      clc
  12276  f4b8				  -	      adc	trakbally0
  12277  f4b8				  -	      sta	trakbally0
  12278  f4b8				  -trakball0skipYadjust
  12279  f4b8				  -	      endif		; !TRAKXONLY
  12280  f4b8				  -
  12281  f4b8				  -	      jmp	LLRET0
  12282  f4b8					      endif
  12283  f4b8
  12284  f4b8
  12285  f4b8
  12286  f4b8				   trakball1update
  12287  f4b8				  -	      ifconst	TRAKBALL1SUPPORT
  12288  f4b8				  -	      ifnconst	TRAKTIME
  12289  f4b8				  -	      ifnconst	TRAKXONLY
  12290  f4b8				  -	      lda	#180	; minimum for x+y
  12291  f4b8				  -	      else		; !TRAKXONLY
  12292  f4b8				  -	      lda	#100	; minimum for just x
  12293  f4b8				  -	      endif		; !TRAKXONLY
  12294  f4b8				  -	      else		; !TRAKTIME
  12295  f4b8				  -	      lda	#TRAKTIME
  12296  f4b8				  -	      endif		; !TRAKTIME
  12297  f4b8				  -	      jsr	SETTIM64T	; INTIM is in Y
  12298  f4b8				  -	      ldx	#0
  12299  f4b8				  -	      ifnconst	TRAKXONLY
  12300  f4b8				  -	      ldy	#0
  12301  f4b8				  -	      endif		; TRAKXONLY
  12302  f4b8				  -trakball1updateloop
  12303  f4b8				  -	      lda	SWCHA
  12304  f4b8				  -	      and	#%00000011
  12305  f4b8				  -	      cmp	trakballcodex1
  12306  f4b8				  -	      sta	trakballcodex1
  12307  f4b8				  -	      beq	trakball1movementXdone
  12308  f4b8				  -	      and	#%00000001
  12309  f4b8				  -	      beq	trakball1negativeX
  12310  f4b8				  -trakball1positiveX
  12311  f4b8				  -			;(2 from beq)
  12312  f4b8				  -	      inx		; 2
  12313  f4b8				  -	      jmp	trakball1movementXdone	; 3
  12314  f4b8				  -trakball1negativeX
  12315  f4b8				  -			;(3 from beq)
  12316  f4b8				  -	      dex		; 2
  12317  f4b8				  -	      nop		; 2
  12318  f4b8				  -trakball1movementXdone
  12319  f4b8				  -
  12320  f4b8				  -	      ifnconst	TRAKXONLY
  12321  f4b8				  -	      lda	SWCHA
  12322  f4b8				  -	      and	#%00001100
  12323  f4b8				  -	      cmp	trakballcodey1
  12324  f4b8				  -	      sta	trakballcodey1
  12325  f4b8				  -	      beq	trakball1movementYdone
  12326  f4b8				  -	      and	#%00000100
  12327  f4b8				  -	      beq	trakball1negativeY
  12328  f4b8				  -trakball1positiveY
  12329  f4b8				  -			;(2 from beq)
  12330  f4b8				  -	      iny		; 2
  12331  f4b8				  -	      jmp	trakball1movementYdone	; 3
  12332  f4b8				  -trakball1negativeY
  12333  f4b8				  -			;(3 from beq)
  12334  f4b8				  -	      dey		; 2
  12335  f4b8				  -	      nop		; 2
  12336  f4b8				  -trakball1movementYdone
  12337  f4b8				  -	      endif		; !TRAKXONLY
  12338  f4b8				  -
  12339  f4b8				  -	      lda	TIMINT
  12340  f4b8				  -	      bpl	trakball1updateloop
  12341  f4b8				  -	      lda	#0
  12342  f4b8				  -	      cpx	#0
  12343  f4b8				  -	      beq	trakball1skipXadjust
  12344  f4b8				  -	      clc
  12345  f4b8				  -trakball1Xloop
  12346  f4b8				  -	      adc	port1resolution
  12347  f4b8				  -	      dex
  12348  f4b8				  -	      bne	trakball1Xloop
  12349  f4b8				  -	      clc
  12350  f4b8				  -	      adc	trakballx1
  12351  f4b8				  -	      sta	trakballx1
  12352  f4b8				  -trakball1skipXadjust
  12353  f4b8				  -	      ifnconst	TRAKXONLY
  12354  f4b8				  -	      lda	#0
  12355  f4b8				  -	      cpy	#0
  12356  f4b8				  -	      beq	trakball1skipYadjust
  12357  f4b8				  -	      clc
  12358  f4b8				  -trakball1yloop
  12359  f4b8				  -	      adc	port1resolution
  12360  f4b8				  -	      dey
  12361  f4b8				  -	      bne	trakball1yloop
  12362  f4b8				  -	      clc
  12363  f4b8				  -	      adc	trakbally1
  12364  f4b8				  -	      sta	trakbally1
  12365  f4b8				  -trakball1skipYadjust
  12366  f4b8				  -	      endif		; !TRAKXONLY
  12367  f4b8				  -
  12368  f4b8				  -	      jmp	LLRET1
  12369  f4b8					      endif
  12370  f4b8
  12371  f4b8
  12372  f4b8				   paddleport0update
  12373  f4b8				  -	      ifconst	PADDLE0SUPPORT
  12374  f4b8				  -	      lda	#6
  12375  f4b8				  -	      sta	VBLANK	; start charging the paddle caps
  12376  f4b8				  -	      lda	#0	; use PADDLE timing
  12377  f4b8				  -	      jsr	SETTIM64T	; INTIM is in Y
  12378  f4b8				  -
  12379  f4b8				  -paddleport0updateloop
  12380  f4b8				  -	      lda	INPT0
  12381  f4b8				  -	      bmi	skippaddle0setposition
  12382  f4b8				  -	      sty	paddleposition0
  12383  f4b8				  -skippaddle0setposition
  12384  f4b8				  -	      ifconst	TWOPADDLESUPPORT
  12385  f4b8				  -	      lda	INPT1
  12386  f4b8				  -	      bmi	skippaddle1setposition
  12387  f4b8				  -	      sty	paddleposition1
  12388  f4b8				  -skippaddle1setposition
  12389  f4b8				  -	      endif
  12390  f4b8				  -	      ldy	INTIM
  12391  f4b8				  -	      cpy	#TIMEOFFSET
  12392  f4b8				  -	      bcs	paddleport0updateloop
  12393  f4b8				  -
  12394  f4b8				  -	      lda	#%10000110
  12395  f4b8				  -	      sta	VBLANK	; dump paddles to ground... this may not be great for genesis controllers
  12396  f4b8				  -	      sec
  12397  f4b8				  -	      lda	paddleposition0
  12398  f4b8				  -	      sbc	#TIMEOFFSET
  12399  f4b8				  -	      ifconst	PADDLESCALEX2
  12400  f4b8				  -	      asl
  12401  f4b8				  -	      endif
  12402  f4b8				  -
  12403  f4b8				  -	      ifnconst	PADDLESMOOTHINGOFF
  12404  f4b8				  -	      clc
  12405  f4b8				  -	      adc	paddleprevious0
  12406  f4b8				  -	      ror
  12407  f4b8				  -	      sta	paddleprevious0
  12408  f4b8				  -	      endif
  12409  f4b8				  -
  12410  f4b8				  -	      sta	paddleposition0
  12411  f4b8				  -
  12412  f4b8				  -	      ifconst	TWOPADDLESUPPORT
  12413  f4b8				  -	      sec
  12414  f4b8				  -	      lda	paddleposition1
  12415  f4b8				  -	      sbc	#TIMEOFFSET
  12416  f4b8				  -	      ifconst	PADDLESCALEX2
  12417  f4b8				  -	      asl
  12418  f4b8				  -	      endif
  12419  f4b8				  -
  12420  f4b8				  -	      ifnconst	PADDLESMOOTHINGOFF
  12421  f4b8				  -	      clc
  12422  f4b8				  -	      adc	paddleprevious1
  12423  f4b8				  -	      ror
  12424  f4b8				  -	      sta	paddleprevious1
  12425  f4b8				  -	      endif
  12426  f4b8				  -	      sta	paddleposition1
  12427  f4b8				  -	      endif		; TWOPADDLESUPPORT
  12428  f4b8				  -
  12429  f4b8				  -	      jmp	LLRET0
  12430  f4b8					      endif
  12431  f4b8
  12432  f4b8				   paddleport1update
  12433  f4b8				  -	      ifconst	PADDLE1SUPPORT
  12434  f4b8				  -	      lda	#6
  12435  f4b8				  -	      sta	VBLANK	; start charging the paddle caps
  12436  f4b8				  -
  12437  f4b8				  -	      lda	#0	; use PADDLE timing
  12438  f4b8				  -	      jsr	SETTIM64T	; INTIM is in Y
  12439  f4b8				  -
  12440  f4b8				  -paddleport1updateloop
  12441  f4b8				  -	      lda	INPT2
  12442  f4b8				  -	      bmi	skippaddle2setposition
  12443  f4b8				  -	      sty	paddleposition2
  12444  f4b8				  -skippaddle2setposition
  12445  f4b8				  -	      ifconst	TWOPADDLESUPPORT
  12446  f4b8				  -	      lda	INPT3
  12447  f4b8				  -	      bmi	skippaddle3setposition
  12448  f4b8				  -	      sty	paddleposition3
  12449  f4b8				  -skippaddle3setposition
  12450  f4b8				  -	      endif
  12451  f4b8				  -	      ldy	INTIM
  12452  f4b8				  -	      cpy	#TIMEOFFSET
  12453  f4b8				  -	      bcs	paddleport1updateloop
  12454  f4b8				  -
  12455  f4b8				  -	      lda	#%10000110
  12456  f4b8				  -	      sta	VBLANK	; dump paddles to ground... this may not be great for genesis controllers
  12457  f4b8				  -	      sec
  12458  f4b8				  -	      lda	paddleposition2
  12459  f4b8				  -	      sbc	#TIMEOFFSET
  12460  f4b8				  -	      ifconst	PADDLESCALEX2
  12461  f4b8				  -	      asl
  12462  f4b8				  -	      endif
  12463  f4b8				  -
  12464  f4b8				  -	      ifnconst	PADDLESMOOTHINGOFF
  12465  f4b8				  -	      clc
  12466  f4b8				  -	      adc	paddleprevious2
  12467  f4b8				  -	      ror
  12468  f4b8				  -	      sta	paddleprevious2
  12469  f4b8				  -	      endif
  12470  f4b8				  -
  12471  f4b8				  -	      sta	paddleposition2
  12472  f4b8				  -
  12473  f4b8				  -	      ifconst	TWOPADDLESUPPORT
  12474  f4b8				  -	      sec
  12475  f4b8				  -	      lda	paddleposition3
  12476  f4b8				  -	      sbc	#TIMEOFFSET
  12477  f4b8				  -	      ifconst	PADDLESCALEX2
  12478  f4b8				  -	      asl
  12479  f4b8				  -	      endif
  12480  f4b8				  -
  12481  f4b8				  -	      ifnconst	PADDLESMOOTHINGOFF
  12482  f4b8				  -	      clc
  12483  f4b8				  -	      adc	paddleprevious3
  12484  f4b8				  -	      ror
  12485  f4b8				  -	      sta	paddleprevious3
  12486  f4b8				  -	      endif
  12487  f4b8				  -	      sta	paddleposition3
  12488  f4b8				  -	      endif		; TWOPADDLESUPPORT
  12489  f4b8				  -
  12490  f4b8				  -	      jmp	LLRET1
  12491  f4b8					      endif
  12492  f4b8
  12493  f4b8
  12494  f4b8				   paddlebuttonhandler		; outside of conditional, for button-handler LUT
  12495  f4b8				  -	      ifconst	PADDLESUPPORT
  12496  f4b8				  -			; x=0|1 for port, rather than paddle #.
  12497  f4b8				  -			; Only the first paddle button will integrate into "joy0fire" testing. If the
  12498  f4b8				  -			; game wants to support 2 paddles, up to the game to instead test the
  12499  f4b8				  -			; joystick right+left directions instead.
  12500  f4b8				  -	      lda	SWCHA	; top of nibble is first paddle button
  12501  f4b8				  -	      cpx	#0	; port 0?
  12502  f4b8				  -	      beq	skippaddleport2shift
  12503  f4b8				  -	      asl		; shift second port to upper nibble
  12504  f4b8				  -	      asl
  12505  f4b8				  -	      asl
  12506  f4b8				  -	      asl
  12507  f4b8				  -skippaddleport2shift
  12508  f4b8				  -	      and	#%11000000
  12509  f4b8				  -	      eor	#%11000000	; invert
  12510  f4b8				  -	      sta	sINPT1,x
  12511  f4b8				  -	      jmp	buttonreadloopreturn
  12512  f4b8					      endif		; PADDLESUPPORT
  12513  f4b8
  12514  f4b8				   mousebuttonhandler		; outside of conditional, for button-handler LUT
  12515  f4b8				  -	      ifconst	MOUSESUPPORT
  12516  f4b8				  -			; stick the mouse buttons in the correct shadow register...
  12517  f4b8				  -	      txa
  12518  f4b8				  -	      asl
  12519  f4b8				  -	      tay		; y=x*2
  12520  f4b8				  -	      lda	INPT4,x
  12521  f4b8				  -	      eor	#%10000000
  12522  f4b8				  -	      lsr
  12523  f4b8				  -	      sta	sINPT1,x
  12524  f4b8				  -
  12525  f4b8				  -	      lda	INPT1,y
  12526  f4b8				  -	      and	#%10000000
  12527  f4b8				  -	      eor	#%10000000
  12528  f4b8				  -	      ora	sINPT1,x
  12529  f4b8				  -	      sta	sINPT1,x
  12530  f4b8				  -	      jmp	buttonreadloopreturn
  12531  f4b8					      endif		; MOUSESUPPORT
  12532  f4b8
  12533  f4b8				  -	      ifconst	KEYPADSUPPORT
  12534  f4b8				  -			; ** select keypad rows 0 to 3 over 4 frames...
  12535  f4b8				  -keypadrowselect
  12536  f4b8				  -	      inc	keypadcounter
  12537  f4b8				  -	      ldy	#0
  12538  f4b8				  -	      lda	port0control
  12539  f4b8				  -	      cmp	#7
  12540  f4b8				  -	      bne	skipport0val
  12541  f4b8				  -	      iny		; y=y+1
  12542  f4b8				  -skipport0val
  12543  f4b8				  -	      lda	port1control
  12544  f4b8				  -	      cmp	#7
  12545  f4b8				  -	      bne	skipport1val
  12546  f4b8				  -	      iny
  12547  f4b8				  -	      iny		; y=y+2
  12548  f4b8				  -skipport1val
  12549  f4b8				  -	      cpy	#0
  12550  f4b8				  -	      beq	exitkeypadrowselect
  12551  f4b8				  -	      lda	keyrowdirectionmask,y
  12552  f4b8				  -	      sta	CTLSWA
  12553  f4b8				  -	      tya
  12554  f4b8				  -	      asl
  12555  f4b8				  -	      asl
  12556  f4b8				  -	      sta	inttemp1
  12557  f4b8				  -	      lda	keypadcounter
  12558  f4b8				  -	      and	#3
  12559  f4b8				  -	      ora	inttemp1
  12560  f4b8				  -	      tax
  12561  f4b8				  -	      lda	keyrowselectvalue,x
  12562  f4b8				  -	      sta	SWCHA
  12563  f4b8				  -exitkeypadrowselect
  12564  f4b8				  -	      rts
  12565  f4b8				  -
  12566  f4b8				  -keyrowdirectionmask
  12567  f4b8				  -	      .byte	#%00000000	; 0 : port0=input port1=input
  12568  f4b8				  -	      .byte	#%11110000	; 1 : port0=output port1=input
  12569  f4b8				  -	      .byte	#%00001111	; 2 : port0=input port1=output
  12570  f4b8				  -	      .byte	#%11111111	; 3 : port0=output port1=output
  12571  f4b8				  -
  12572  f4b8				  -keyrowselectvalue
  12573  f4b8				  -	      .byte	#%00000000, #%00000000, #%00000000, #%00000000	; no row selected, all pins high, always
  12574  f4b8				  -	      .byte	#%11100000, #%11010000, #%10110000, #%01110000	; p0 keypad in
  12575  f4b8				  -	      .byte	#%00001110, #%00001101, #%00001011, #%00000111	; p1 keypad in
  12576  f4b8				  -	      .byte	#%11101110, #%11011101, #%10111011, #%01110111	; p0+p1 keypads in
  12577  f4b8					      endif		; KEYPADSUPPORT
  12578  f4b8
  12579  f4b8				  -	      ifconst	KEYPADSUPPORT
  12580  f4b8				  -			; TODO - split into compile-time KEYPAD0SUPPORT and KEYPAD1SUPPORT
  12581  f4b8				  -keypadcolumnread
  12582  f4b8				  -	      lda	port0control
  12583  f4b8				  -	      cmp	#7
  12584  f4b8				  -	      bne	skipkeypadcolumnread0
  12585  f4b8				  -	      lda	keypadcounter
  12586  f4b8				  -	      and	#3
  12587  f4b8				  -	      asl		; x2 because keypad variables are interleaved
  12588  f4b8				  -	      tax
  12589  f4b8				  -	      lda	#0
  12590  f4b8				  -	      sta	keypadmatrix0a,x
  12591  f4b8				  -	      lda	INPT0
  12592  f4b8				  -	      cmp	#$80
  12593  f4b8				  -	      rol	keypadmatrix0a,x
  12594  f4b8				  -	      lda	INPT1
  12595  f4b8				  -	      cmp	#$80
  12596  f4b8				  -	      rol	keypadmatrix0a,x
  12597  f4b8				  -	      lda	INPT4
  12598  f4b8				  -	      cmp	#$80
  12599  f4b8				  -	      rol	keypadmatrix0a,x
  12600  f4b8				  -	      lda	keypadmatrix0a,x
  12601  f4b8				  -	      eor	#%00000111
  12602  f4b8				  -	      sta	keypadmatrix0a,x
  12603  f4b8				  -skipkeypadcolumnread0
  12604  f4b8				  -
  12605  f4b8				  -	      lda	port1control
  12606  f4b8				  -	      cmp	#7
  12607  f4b8				  -	      bne	skipkeypadcolumnread1
  12608  f4b8				  -	      lda	keypadcounter
  12609  f4b8				  -	      and	#3
  12610  f4b8				  -	      asl		; x2 because keypad variables are interleaved
  12611  f4b8				  -	      tax
  12612  f4b8				  -	      lda	#0
  12613  f4b8				  -	      sta	keypadmatrix1a,x
  12614  f4b8				  -	      rol	keypadmatrix1a,x
  12615  f4b8				  -	      lda	INPT2
  12616  f4b8				  -	      cmp	#$80
  12617  f4b8				  -	      rol	keypadmatrix1a,x
  12618  f4b8				  -	      lda	INPT3
  12619  f4b8				  -	      cmp	#$80
  12620  f4b8				  -	      rol	keypadmatrix1a,x
  12621  f4b8				  -	      lda	INPT5
  12622  f4b8				  -	      cmp	#$80
  12623  f4b8				  -	      rol	keypadmatrix1a,x
  12624  f4b8				  -	      lda	keypadmatrix1a,x
  12625  f4b8				  -	      eor	#%00000111
  12626  f4b8				  -	      sta	keypadmatrix1a,x
  12627  f4b8				  -skipkeypadcolumnread1
  12628  f4b8				  -	      rts
  12629  f4b8					      endif		; KEYPADSUPPORT
  12630  f4b8
  12631  f4b8				   setportforinput
  12632  f4b8		       ad 81 02 	      lda	CTLSWA
  12633  f4bb		       3d c2 f1 	      and	SWCHA_DIRMASK,x
  12634  f4be		       8d 81 02 	      sta	CTLSWA
  12635  f4c1		       60		      rts
  12636  f4c2
  12637  f4c2				   setonebuttonmode
  12638  f4c2		       a9 06		      lda	#6	; in case we're in unlocked-bios mode
  12639  f4c4		       85 01		      sta	VBLANK	; if we were on paddles, the line is grounded out.
  12640  f4c6		       a9 14		      lda	#$14
  12641  f4c8		       8d 83 02 	      sta	CTLSWB
  12642  f4cb		       ad 82 02 	      lda	SWCHB
  12643  f4ce		       1d e8 f4 	      ora	thisjoy2buttonbit,x	; disable: write 1 to the 2-button bit
  12644  f4d1		       8d 82 02 	      sta	SWCHB
  12645  f4d4		       60		      rts
  12646  f4d5
  12647  f4d5				   settwobuttonmode
  12648  f4d5		       a9 06		      lda	#6	; in case we're in unlocked-bios mode
  12649  f4d7		       85 01		      sta	VBLANK	; if we were on paddles, the line is grounded out.
  12650  f4d9		       a9 14		      lda	#$14
  12651  f4db		       8d 83 02 	      sta	CTLSWB
  12652  f4de		       ad 82 02 	      lda	SWCHB
  12653  f4e1		       3d e9 f4 	      and	thisjoy2buttonbit+1,x	; enable: write 0 to the 2-button bit
  12654  f4e4		       8d 82 02 	      sta	SWCHB
  12655  f4e7		       60		      rts
  12656  f4e8
  12657  f4e8				   thisjoy2buttonbit
  12658  f4e8							; p0	p1   p0
  12659  f4e8		       04 10 04 	      .byte.b	$04, $10, $04
  12660  f4eb
  12661  f4eb				  -	      ifconst	CHANGEDMAHOLES
  12662  f4eb				  -removedmaholes
  12663  f4eb				  -	      ldx	#0
  12664  f4eb				  -removedllholesloop
  12665  f4eb				  -	      lda	DLLMEM,x
  12666  f4eb				  -	      and	#%10001111
  12667  f4eb				  -	      sta	DLLMEM,x
  12668  f4eb				  -	      ifconst	DOUBLEBUFFER
  12669  f4eb				  -	      sta	DLLMEM+DBOFFSET,x
  12670  f4eb				  -	      endif
  12671  f4eb				  -	      inx
  12672  f4eb				  -	      inx
  12673  f4eb				  -	      inx
  12674  f4eb				  -	      ifconst	DOUBLEBUFFER
  12675  f4eb				  -	      cpx	#DBOFFSET
  12676  f4eb				  -	      bcc	removedllholesloop
  12677  f4eb				  -	      else
  12678  f4eb				  -	      bpl	removedllholesloop
  12679  f4eb				  -	      endif
  12680  f4eb				  -	      rts
  12681  f4eb				  -
  12682  f4eb				  -createdmaholes
  12683  f4eb				  -	      ldx	#0
  12684  f4eb				  -createdllholesloop
  12685  f4eb				  -	      lda	DLLMEM,x
  12686  f4eb				  -	      ora	#(WZONEHEIGHT*4)
  12687  f4eb				  -	      sta	DLLMEM,x
  12688  f4eb				  -	      ifconst	DOUBLEBUFFER
  12689  f4eb				  -	      sta	DLLMEM+DBOFFSET,x
  12690  f4eb				  -	      endif
  12691  f4eb				  -	      inx
  12692  f4eb				  -	      inx
  12693  f4eb				  -	      inx
  12694  f4eb				  -	      ifconst	DOUBLEBUFFER
  12695  f4eb				  -	      cpx	#DBOFFSET
  12696  f4eb				  -	      bcc	createdllholesloop
  12697  f4eb				  -	      else
  12698  f4eb				  -	      bpl	createdllholesloop
  12699  f4eb				  -	      endif
  12700  f4eb				  -	      rts
  12701  f4eb					      endif
  12702  f4eb
  12703  f4eb							; Provided under the CC0 license. See the included LICENSE.txt for details.
  12704  f4eb
  12705  f4eb				   START
  12706  f4eb				   start
  12707  f4eb
  12708  f4eb							;******** more or less the Atari recommended startup procedure
  12709  f4eb
  12710  f4eb		       78		      sei
  12711  f4ec		       d8		      cld
  12712  f4ed
  12713  f4ed					      ifnconst	NOTIALOCK
  12714  f4ed		       a9 07		      lda	#$07
  12715  f4ef				  -	      else
  12716  f4ef				  -	      lda	#$06
  12717  f4ef					      endif
  12718  f4ef		       85 01		      sta	INPTCTRL	;lock 7800 into 7800 mode
  12719  f4f1		       a9 7f		      lda	#$7F
  12720  f4f3		       85 3c		      sta	CTRL	;disable DMA
  12721  f4f5		       a9 00		      lda	#$00
  12722  f4f7		       85 38		      sta	OFFSET
  12723  f4f9					      ifnconst	NOTIALOCK
  12724  f4f9		       85 01		      sta	INPTCTRL
  12725  f4fb		       85 20		      sta	BACKGRND	; black default, in case a flash cart is using something else
  12726  f4fd					      endif
  12727  f4fd		       a2 ff		      ldx	#$FF
  12728  f4ff		       9a		      txs
  12729  f500
  12730  f500							;************** Clear Memory
  12731  f500
  12732  f500							; ** Clear 1800-27FF, pg0+pg1 memory.
  12733  f500				   ClearMemPages
  12734  f500		       a9 00		      lda	#0
  12735  f502		       a8		      tay		; y=0
  12736  f503		       85 80		      sta	$80
  12737  f505		       a2 18		      ldx	#$18
  12738  f507				   ClearMemPagesLoop
  12739  f507		       86 81		      stx	$81	; needed for when we step on ZP memory
  12740  f509		       91 80		      sta	($80),y	;Store data
  12741  f50b		       c8		      iny		;Next byte
  12742  f50c		       d0 f9		      bne	ClearMemPagesLoop
  12743  f50e		       e8		      inx
  12744  f50f		       e0 28		      cpx	#$28
  12745  f511		       d0 f4		      bne	ClearMemPagesLoop
  12746  f513		       85 81		      sta	$81
  12747  f515
  12748  f515							;seed random number with hopefully-random timer value
  12749  f515		       a9 01		      lda	#1
  12750  f517		       0d 84 02 	      ora	INTIM
  12751  f51a		       85 40		      sta	rand
  12752  f51c
  12753  f51c							; detect the console type...
  12754  f51c				   pndetectvblankstart
  12755  f51c		       a5 28		      lda	MSTAT
  12756  f51e		       10 fc		      bpl	pndetectvblankstart	; if we're not in VBLANK, wait for it to start
  12757  f520				   pndetectvblankover
  12758  f520		       a5 28		      lda	MSTAT
  12759  f522		       30 fc		      bmi	pndetectvblankover	; then wait for it to be over
  12760  f524		       a0 00		      ldy	#$00
  12761  f526		       a2 00		      ldx	#$00
  12762  f528				   pndetectvblankhappening
  12763  f528		       a5 28		      lda	MSTAT
  12764  f52a		       30 07		      bmi	pndetectinvblank	; if VBLANK starts, exit our counting loop
  12765  f52c		       85 24		      sta	WSYNC
  12766  f52e		       85 24		      sta	WSYNC
  12767  f530		       e8		      inx
  12768  f531		       d0 f5		      bne	pndetectvblankhappening
  12769  f533				   pndetectinvblank
  12770  f533		       e0 7d		      cpx	#125
  12771  f535		       90 02		      bcc	pndetecispal
  12772  f537		       a0 01		      ldy	#$01
  12773  f539				   pndetecispal
  12774  f539		       8c 09 21 	      sty	paldetected
  12775  f53c
  12776  f53c		       20 4c f4 	      jsr	createallgamedlls
  12777  f53f
  12778  f53f		       a9 18		      lda	#>DLLMEM
  12779  f541		       85 2c		      sta	DPPH
  12780  f543		       a9 00		      lda	#<DLLMEM
  12781  f545		       85 30		      sta	DPPL
  12782  f547
  12783  f547				  -	      ifconst	pokeysupport
  12784  f547				  -			; pokey support is compiled in, so try to detect it...
  12785  f547				  -	      jsr	detectpokeylocation
  12786  f547					      endif
  12787  f547
  12788  f547		       a9 01		      lda	#1	; default for port 0 and 1 is a regular joystick
  12789  f549		       8d b8 01 	      sta	port0control
  12790  f54c		       8d b9 01 	      sta	port1control
  12791  f54f
  12792  f54f							;Setup port A to read mode
  12793  f54f							;lda #$00
  12794  f54f							;sta SWCHA
  12795  f54f							;sta CTLSWA
  12796  f54f
  12797  f54f				  -	      ifconst	HSSUPPORT
  12798  f54f				  -	      ifconst	bankswitchmode
  12799  f54f				  -	      ifconst	included.hiscore.asm.bank
  12800  f54f				  -	      ifconst	MCPDEVCART
  12801  f54f				  -	      lda	#($18 | included.hiscore.asm.bank)
  12802  f54f				  -	      ifconst	dumpbankswitch
  12803  f54f				  -	      sta	dumpbankswitch
  12804  f54f				  -	      endif
  12805  f54f				  -	      sta	$3000
  12806  f54f				  -	      else
  12807  f54f				  -	      lda	#(included.hiscore.asm.bank)
  12808  f54f				  -	      ifconst	dumpbankswitch
  12809  f54f				  -	      sta	dumpbankswitch
  12810  f54f				  -	      endif
  12811  f54f				  -	      sta	$8000
  12812  f54f				  -	      endif
  12813  f54f				  -	      endif		; included.hiscore.asm.bank
  12814  f54f				  -	      endif		; bankswitchmode
  12815  f54f				  -			; try to detect HSC
  12816  f54f				  -	      jsr	detecthsc
  12817  f54f				  -	      and	#1
  12818  f54f				  -	      sta	hsdevice
  12819  f54f				  -skipHSCdetect
  12820  f54f				  -			; try to detect AtariVox eeprom
  12821  f54f				  -	      jsr	detectatarivoxeeprom
  12822  f54f				  -	      and	#2
  12823  f54f				  -	      ora	hsdevice
  12824  f54f				  -	      cmp	#3
  12825  f54f				  -	      bne	storeAinhsdevice
  12826  f54f				  -			; For now, we tie break by giving HSC priority over AtariVox.
  12827  f54f				  -			; Later we should check each device's priority byte if set, instead,
  12828  f54f				  -	      lda	#2
  12829  f54f				  -storeAinhsdevice
  12830  f54f				  -	      sta	hsdevice
  12831  f54f				  -	      lda	#$ff
  12832  f54f				  -	      sta	hsdifficulty
  12833  f54f				  -	      sta	hsgameslot
  12834  f54f				  -	      sta	hsnewscoreline
  12835  f54f					      endif		; HSSUPPORT
  12836  f54f
  12837  f54f				  -	      ifconst	AVOXVOICE
  12838  f54f				  -	      jsr	silenceavoxvoice
  12839  f54f					      endif
  12840  f54f
  12841  f54f				  -	      ifconst	MULTIBUTTON
  12842  f54f				  -	      ifnconst	HSSUPPORT
  12843  f54f				  -min_detectatarivoxeeprom
  12844  f54f				  -	      jsr	i2c_startwrite
  12845  f54f				  -	      bcc	min_no_eeprom_error
  12846  f54f				  -	      lda	#$ff
  12847  f54f				  -	      jmp	min_avoxdetect_done
  12848  f54f				  -min_no_eeprom_error
  12849  f54f				  -	      lda	#$30
  12850  f54f				  -	      jsr	i2c_txbyte
  12851  f54f				  -	      lda	#$00
  12852  f54f				  -	      jsr	i2c_txbyte
  12853  f54f				  -	      jsr	i2c_stopwrite
  12854  f54f				  -min_avoxdetect_done
  12855  f54f				  -	      eor	#$FF
  12856  f54f				  -	      sta	avoxdetected
  12857  f54f				  -	      jmp	min_detectatarivoxeepromdone
  12858  f54f				  -	      include	"i2c7800.inc"
  12859  f54f				  -	      I2C_SUBS	temp9
  12860  f54f				  -min_detectatarivoxeepromdone
  12861  f54f				  -	      endif		; HSSUPPORT
  12862  f54f					      endif		; MULTIBUTTON
  12863  f54f
  12864  f54f				  -	      ifconst	MULTIBUTTON
  12865  f54f				  -	      lda	avoxdetected
  12866  f54f				  -	      beq	skipassignavox
  12867  f54f				  -	      lda	#10
  12868  f54f				  -	      sta	port1control	; designate port 1 as atarivox so multibutton won't disturb it.
  12869  f54f				  -skipassignavox
  12870  f54f					      endif		; MULTIBUTTON
  12871  f54f
  12872  f54f				  -	      ifconst	RMT
  12873  f54f				  -	      ifconst	RMTVOLUME
  12874  f54f				  -	      lda	#$F0	; default to full RMT volume
  12875  f54f				  -	      sta	rmtvolume
  12876  f54f				  -	      ifconst	TIAVOLUME
  12877  f54f				  -	      sta	tiavolume
  12878  f54f				  -	      endif		; TIAVOLUME
  12879  f54f				  -	      endif		; RMTVOLUME
  12880  f54f					      else		; !RMT
  12881  f54f				  -	      ifconst	TIAVOLUME
  12882  f54f				  -	      lda	#$F0	; default to full TIA volume
  12883  f54f				  -	      sta	tiavolume
  12884  f54f					      endif		; TIAVOLUME
  12885  f54f					      endif		; RMT
  12886  f54f
  12887  f54f				  -	      ifconst	bankswitchmode
  12888  f54f				  -			; we need to switch to the first bank as a default. this needs to
  12889  f54f				  -			; happen before DMA, in case there's a topscreenroutine in bank 0
  12890  f54f				  -	      ifconst	MCPDEVCART
  12891  f54f				  -	      lda	#$18	; xxx11nnn - switch to bank 0
  12892  f54f				  -	      ifconst	dumpbankswitch
  12893  f54f				  -	      sta	dumpbankswitch
  12894  f54f				  -	      endif
  12895  f54f				  -	      sta	$3000
  12896  f54f				  -	      else
  12897  f54f				  -	      lda	#0
  12898  f54f				  -	      ifconst	dumpbankswitch
  12899  f54f				  -	      sta	dumpbankswitch
  12900  f54f				  -	      endif
  12901  f54f				  -	      sta	$8000
  12902  f54f				  -	      endif
  12903  f54f					      endif
  12904  f54f
  12905  f54f							; CTRL 76543210
  12906  f54f							; 7 colorburst kill
  12907  f54f							; 6,5 dma ctrl 2=normal DMA, 3=no DMA
  12908  f54f							; 4 character width 1=2 byte chars, 0=1 byte chars
  12909  f54f							; 3 border control 0=background color border, 1=black border
  12910  f54f							; 2 kangaroo mode 0=transparency, 1=kangaroo
  12911  f54f							; 1,0 read mode 0=160x2/160x4 1=N/A 2=320B/320D 3=320A/320C
  12912  f54f
  12913  f54f				  -	      ifconst	DOUBLEWIDE
  12914  f54f				  -	      lda	#%01010000	;Enable DMA, mode=160x2/160x4, 2x character width
  12915  f54f					      else
  12916  f54f		       a9 40		      lda	#%01000000	;Enable DMA, mode=160x2/160x4
  12917  f551					      endif
  12918  f551
  12919  f551		       20 af f4 	      jsr	waitforvblankstart	; give the some vblank time to minimally update the display
  12920  f554
  12921  f554		       85 3c		      sta	CTRL
  12922  f556		       8d 07 21 	      sta	sCTRL
  12923  f559
  12924  f559		       20 3f f4 	      jsr	vblankresync
  12925  f55c
  12926  f55c		       a2 01		      ldx	#1
  12927  f55e		       20 d5 f4 	      jsr	settwobuttonmode
  12928  f561		       a2 00		      ldx	#0
  12929  f563		       20 d5 f4 	      jsr	settwobuttonmode
  12930  f566
  12931  f566					      ifnconst	.altgamestart
  12932  f566		       4c 00 80 	      jmp	game
  12933  f569				  -	      else
  12934  f569				  -	      jmp	.altgamestart
  12935  f569					      endif
  12936  f569
  12937  f569							; Provided under the CC0 license. See the included LICENSE.txt for details.
  12938  f569
  12939  f569							; A tunable parameter, to claim some memory back from DL usage
  12940  f569		       00 00	   MEMSKIP    =	$00
  12941  f569
  12942  f569							;************** Setup DLL entries
  12943  f569
  12944  f569							; setup some working definitions, to avoid ifnconst mess elsewhere...
  12945  f569					      ifnconst	SCREENHEIGHT
  12946  f569		       00 c0	   WSCREENHEIGHT =	192
  12947  f569				  -	      else
  12948  f569				  -WSCREENHEIGHT =	SCREENHEIGHT
  12949  f569					      endif
  12950  f569
  12951  f569				  -	      ifnconst	ZONEHEIGHT
  12952  f569				  -WZONEHEIGHT =	16
  12953  f569					      else
  12954  f569		       00 10	   WZONEHEIGHT =	ZONEHEIGHT
  12955  f569					      endif
  12956  f569
  12957  f569					      ifnconst	ZONECOUNT
  12958  f569				  -	      ifconst	VSCROLL
  12959  f569				  -WZONECOUNT =	((WSCREENHEIGHT/WZONEHEIGHT)+1)
  12960  f569					      else		; !VSCROLL
  12961  f569		       00 0c	   WZONECOUNT =	(WSCREENHEIGHT/WZONEHEIGHT)
  12962  f569					      endif		; !VSCROLL
  12963  f569				  -	      else
  12964  f569				  -	      ifconst	VSCROLL
  12965  f569				  -WZONECOUNT =	(ZONECOUNT+1)
  12966  f569				  -	      else		; !VSCROLL
  12967  f569				  -WZONECOUNT =	ZONECOUNT
  12968  f569				  -	      endif		; !VSCROLL
  12969  f569					      endif
  12970  f569
  12971  f569							; top of the frame, non-visible lines. this is based on NTSC,
  12972  f569							; but we add in extra NV lines at the end of the display to ensure
  12973  f569							; our PAL friends can play the game without it crashing.
  12974  f569		       00 19	   NVLINES    =	((243-WSCREENHEIGHT)/2)
  12975  f569
  12976  f569					      ifnconst	DLMEMSTART
  12977  f569					      ifnconst	DOUBLEBUFFER
  12978  f569				   WDLMEMSTART SET	$1880
  12979  f569				  -	      else
  12980  f569				  -WDLMEMSTART SET	$18E0
  12981  f569					      endif		; DOUBLEBUFFER
  12982  f569				  -	      else
  12983  f569				  -WDLMEMSTART SET	DLMEMSTART
  12984  f569					      endif
  12985  f569
  12986  f569				  -	      if	MEMSKIP > 0
  12987  f569				  -	      echo	"   ",[WDLMEMSTART],"to",[WDLMEMSTART+MEMSKIP-1],"was freed for game usage with MEMSKIP."
  12988  f569				  -WDLMEMSTART SET	(WDLMEMSTART + MEMSKIP)
  12989  f569					      endif		; MEMSKIP > 0
  12990  f569
  12991  f569					      ifnconst	DLMEMEND
  12992  f569				  -	      ifconst	EXTRADLMEMORY
  12993  f569				  -WDLMEMEND  =	$23FF
  12994  f569					      else
  12995  f569		       1f ff	   WDLMEMEND  =	$1FFF
  12996  f569					      endif
  12997  f569				  -	      else
  12998  f569				  -WDLMEMEND  =	DLMEMEND
  12999  f569					      endif
  13000  f569
  13001  f569
  13002  f569				   WMEMSIZE   SET	(WDLMEMEND-WDLMEMSTART+1)
  13003  f569
  13004  f569				  -	      ifconst	VSCROLL
  13005  f569				  -	      ifnconst	DOUBLEBUFFER
  13006  f569				  -			; give the last zone extra ram for the dma mask objects...
  13007  f569				  -WMEMSIZE   SET	(WMEMSIZE-(maskscrollspriteend-maskscrollsprite))
  13008  f569				  -	      endif		; DOUBLEBUFFER
  13009  f569					      endif		; VSCROLL
  13010  f569
  13011  f569					      ifnconst	DOUBLEBUFFER
  13012  f569		       00 9b	   DLLASTOBJ  =	((((WMEMSIZE/WZONECOUNT)-2)/5)*5)	; -2 to always ensure we have 1x double-byte terminator
  13013  f569				  -	      else
  13014  f569				  -DLLASTOBJ  =	((((WMEMSIZE/WZONECOUNT)-4)/10)*5)	; -4 to always ensure we have 2x double-byte terminators
  13015  f569					      endif
  13016  f569
  13017  f569		       00 9d	   TDOUBLEBUFFEROFFSET =	(DLLASTOBJ+2)	; offset between DL buffers. ie. half the real DL
  13018  f569				  -	      if	TDOUBLEBUFFEROFFSET > 255
  13019  f569				  -DOUBLEBUFFEROFFSET =	255
  13020  f569					      else
  13021  f569		       00 9d	   DOUBLEBUFFEROFFSET =	(DLLASTOBJ+2)
  13022  f569					      endif
  13023  f569
  13024  f569				  -	      ifconst	EXTRADLMEMORY
  13025  f569				  -SECONDDLHALFSTART SET	$2300
  13026  f569					      endif
  13027  f569
  13028  f569				   DLPOINTH
  13029  f569				   DLINDEX    SET	0
  13030  f569					      REPEAT	WZONECOUNT
  13031  f569				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13032  f569				  -	      ifconst	EXTRADLMEMORY
  13033  f569				  -	      if	TMPMEMADDRESS > $1FFF
  13034  f569				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13035  f569				  -	      else
  13036  f569				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13037  f569				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13038  f569				  -SECONDDLHALFSTART SET	TMPMEMADDRESS
  13039  f569				  -	      endif
  13040  f569				  -	      endif		; TMPMEMADDRESS > $1FFF
  13041  f569					      endif		; EXTRADLMEMORY
  13042  f569							;echo " "," ZONE",[DLINDEX]d,"ADDRESS: ",TMPMEMADDRESS
  13043  f569		       18		      .byte.b	>TMPMEMADDRESS
  13044  f569				   DLINDEX    SET	DLINDEX + 1
  13030  f569					      REPEND
  13031  f569				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13032  f56a				  -	      ifconst	EXTRADLMEMORY
  13033  f56a				  -	      if	TMPMEMADDRESS > $1FFF
  13034  f56a				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13035  f56a				  -	      else
  13036  f56a				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13037  f56a				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13038  f56a				  -SECONDDLHALFSTART SET	TMPMEMADDRESS
  13039  f56a				  -	      endif
  13040  f56a				  -	      endif		; TMPMEMADDRESS > $1FFF
  13041  f56a					      endif		; EXTRADLMEMORY
  13042  f56a							;echo " "," ZONE",[DLINDEX]d,"ADDRESS: ",TMPMEMADDRESS
  13043  f56a		       19		      .byte.b	>TMPMEMADDRESS
  13044  f56a				   DLINDEX    SET	DLINDEX + 1
  13030  f56a					      REPEND
  13031  f56a				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13032  f56b				  -	      ifconst	EXTRADLMEMORY
  13033  f56b				  -	      if	TMPMEMADDRESS > $1FFF
  13034  f56b				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13035  f56b				  -	      else
  13036  f56b				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13037  f56b				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13038  f56b				  -SECONDDLHALFSTART SET	TMPMEMADDRESS
  13039  f56b				  -	      endif
  13040  f56b				  -	      endif		; TMPMEMADDRESS > $1FFF
  13041  f56b					      endif		; EXTRADLMEMORY
  13042  f56b							;echo " "," ZONE",[DLINDEX]d,"ADDRESS: ",TMPMEMADDRESS
  13043  f56b		       19		      .byte.b	>TMPMEMADDRESS
  13044  f56b				   DLINDEX    SET	DLINDEX + 1
  13030  f56b					      REPEND
  13031  f56b				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13032  f56c				  -	      ifconst	EXTRADLMEMORY
  13033  f56c				  -	      if	TMPMEMADDRESS > $1FFF
  13034  f56c				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13035  f56c				  -	      else
  13036  f56c				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13037  f56c				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13038  f56c				  -SECONDDLHALFSTART SET	TMPMEMADDRESS
  13039  f56c				  -	      endif
  13040  f56c				  -	      endif		; TMPMEMADDRESS > $1FFF
  13041  f56c					      endif		; EXTRADLMEMORY
  13042  f56c							;echo " "," ZONE",[DLINDEX]d,"ADDRESS: ",TMPMEMADDRESS
  13043  f56c		       1a		      .byte.b	>TMPMEMADDRESS
  13044  f56c				   DLINDEX    SET	DLINDEX + 1
  13030  f56c					      REPEND
  13031  f56c				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13032  f56d				  -	      ifconst	EXTRADLMEMORY
  13033  f56d				  -	      if	TMPMEMADDRESS > $1FFF
  13034  f56d				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13035  f56d				  -	      else
  13036  f56d				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13037  f56d				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13038  f56d				  -SECONDDLHALFSTART SET	TMPMEMADDRESS
  13039  f56d				  -	      endif
  13040  f56d				  -	      endif		; TMPMEMADDRESS > $1FFF
  13041  f56d					      endif		; EXTRADLMEMORY
  13042  f56d							;echo " "," ZONE",[DLINDEX]d,"ADDRESS: ",TMPMEMADDRESS
  13043  f56d		       1b		      .byte.b	>TMPMEMADDRESS
  13044  f56d				   DLINDEX    SET	DLINDEX + 1
  13030  f56d					      REPEND
  13031  f56d				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13032  f56e				  -	      ifconst	EXTRADLMEMORY
  13033  f56e				  -	      if	TMPMEMADDRESS > $1FFF
  13034  f56e				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13035  f56e				  -	      else
  13036  f56e				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13037  f56e				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13038  f56e				  -SECONDDLHALFSTART SET	TMPMEMADDRESS
  13039  f56e				  -	      endif
  13040  f56e				  -	      endif		; TMPMEMADDRESS > $1FFF
  13041  f56e					      endif		; EXTRADLMEMORY
  13042  f56e							;echo " "," ZONE",[DLINDEX]d,"ADDRESS: ",TMPMEMADDRESS
  13043  f56e		       1b		      .byte.b	>TMPMEMADDRESS
  13044  f56e				   DLINDEX    SET	DLINDEX + 1
  13030  f56e					      REPEND
  13031  f56e				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13032  f56f				  -	      ifconst	EXTRADLMEMORY
  13033  f56f				  -	      if	TMPMEMADDRESS > $1FFF
  13034  f56f				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13035  f56f				  -	      else
  13036  f56f				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13037  f56f				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13038  f56f				  -SECONDDLHALFSTART SET	TMPMEMADDRESS
  13039  f56f				  -	      endif
  13040  f56f				  -	      endif		; TMPMEMADDRESS > $1FFF
  13041  f56f					      endif		; EXTRADLMEMORY
  13042  f56f							;echo " "," ZONE",[DLINDEX]d,"ADDRESS: ",TMPMEMADDRESS
  13043  f56f		       1c		      .byte.b	>TMPMEMADDRESS
  13044  f56f				   DLINDEX    SET	DLINDEX + 1
  13030  f56f					      REPEND
  13031  f56f				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13032  f570				  -	      ifconst	EXTRADLMEMORY
  13033  f570				  -	      if	TMPMEMADDRESS > $1FFF
  13034  f570				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13035  f570				  -	      else
  13036  f570				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13037  f570				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13038  f570				  -SECONDDLHALFSTART SET	TMPMEMADDRESS
  13039  f570				  -	      endif
  13040  f570				  -	      endif		; TMPMEMADDRESS > $1FFF
  13041  f570					      endif		; EXTRADLMEMORY
  13042  f570							;echo " "," ZONE",[DLINDEX]d,"ADDRESS: ",TMPMEMADDRESS
  13043  f570		       1c		      .byte.b	>TMPMEMADDRESS
  13044  f570				   DLINDEX    SET	DLINDEX + 1
  13030  f570					      REPEND
  13031  f570				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13032  f571				  -	      ifconst	EXTRADLMEMORY
  13033  f571				  -	      if	TMPMEMADDRESS > $1FFF
  13034  f571				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13035  f571				  -	      else
  13036  f571				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13037  f571				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13038  f571				  -SECONDDLHALFSTART SET	TMPMEMADDRESS
  13039  f571				  -	      endif
  13040  f571				  -	      endif		; TMPMEMADDRESS > $1FFF
  13041  f571					      endif		; EXTRADLMEMORY
  13042  f571							;echo " "," ZONE",[DLINDEX]d,"ADDRESS: ",TMPMEMADDRESS
  13043  f571		       1d		      .byte.b	>TMPMEMADDRESS
  13044  f571				   DLINDEX    SET	DLINDEX + 1
  13030  f571					      REPEND
  13031  f571				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13032  f572				  -	      ifconst	EXTRADLMEMORY
  13033  f572				  -	      if	TMPMEMADDRESS > $1FFF
  13034  f572				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13035  f572				  -	      else
  13036  f572				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13037  f572				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13038  f572				  -SECONDDLHALFSTART SET	TMPMEMADDRESS
  13039  f572				  -	      endif
  13040  f572				  -	      endif		; TMPMEMADDRESS > $1FFF
  13041  f572					      endif		; EXTRADLMEMORY
  13042  f572							;echo " "," ZONE",[DLINDEX]d,"ADDRESS: ",TMPMEMADDRESS
  13043  f572		       1e		      .byte.b	>TMPMEMADDRESS
  13044  f572				   DLINDEX    SET	DLINDEX + 1
  13030  f572					      REPEND
  13031  f572				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13032  f573				  -	      ifconst	EXTRADLMEMORY
  13033  f573				  -	      if	TMPMEMADDRESS > $1FFF
  13034  f573				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13035  f573				  -	      else
  13036  f573				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13037  f573				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13038  f573				  -SECONDDLHALFSTART SET	TMPMEMADDRESS
  13039  f573				  -	      endif
  13040  f573				  -	      endif		; TMPMEMADDRESS > $1FFF
  13041  f573					      endif		; EXTRADLMEMORY
  13042  f573							;echo " "," ZONE",[DLINDEX]d,"ADDRESS: ",TMPMEMADDRESS
  13043  f573		       1e		      .byte.b	>TMPMEMADDRESS
  13044  f573				   DLINDEX    SET	DLINDEX + 1
  13030  f573					      REPEND
  13031  f573				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13032  f574				  -	      ifconst	EXTRADLMEMORY
  13033  f574				  -	      if	TMPMEMADDRESS > $1FFF
  13034  f574				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13035  f574				  -	      else
  13036  f574				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13037  f574				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13038  f574				  -SECONDDLHALFSTART SET	TMPMEMADDRESS
  13039  f574				  -	      endif
  13040  f574				  -	      endif		; TMPMEMADDRESS > $1FFF
  13041  f574					      endif		; EXTRADLMEMORY
  13042  f574							;echo " "," ZONE",[DLINDEX]d,"ADDRESS: ",TMPMEMADDRESS
  13043  f574		       1f		      .byte.b	>TMPMEMADDRESS
  13044  f574				   DLINDEX    SET	DLINDEX + 1
  13045  f575					      REPEND
  13046  f575
  13047  f575				  -	      ifconst	EXTRADLMEMORY
  13048  f575				  -	      echo	"   ",[SECONDDLHALFSTART],"to",[$27FF],"was claimed as extra DL memory."
  13049  f575					      endif
  13050  f575
  13051  f575
  13052  f575				   DLPOINTL
  13053  f575				   DLINDEX    SET	0
  13054  f575					      REPEAT	WZONECOUNT
  13055  f575				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13056  f575				  -	      ifconst	EXTRADLMEMORY
  13057  f575				  -	      if	TMPMEMADDRESS > $1FFF
  13058  f575				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13059  f575				  -	      else
  13060  f575				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13061  f575				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13062  f575				  -	      endif
  13063  f575				  -	      endif		; TMPMEMADDRESS > $1FFF
  13064  f575					      endif		; EXTRADLMEMORY
  13065  f575		       80		      .byte.b	<TMPMEMADDRESS
  13066  f575				   DLINDEX    SET	DLINDEX + 1
  13054  f575					      REPEND
  13055  f575				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13056  f576				  -	      ifconst	EXTRADLMEMORY
  13057  f576				  -	      if	TMPMEMADDRESS > $1FFF
  13058  f576				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13059  f576				  -	      else
  13060  f576				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13061  f576				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13062  f576				  -	      endif
  13063  f576				  -	      endif		; TMPMEMADDRESS > $1FFF
  13064  f576					      endif		; EXTRADLMEMORY
  13065  f576		       20		      .byte.b	<TMPMEMADDRESS
  13066  f576				   DLINDEX    SET	DLINDEX + 1
  13054  f576					      REPEND
  13055  f576				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13056  f577				  -	      ifconst	EXTRADLMEMORY
  13057  f577				  -	      if	TMPMEMADDRESS > $1FFF
  13058  f577				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13059  f577				  -	      else
  13060  f577				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13061  f577				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13062  f577				  -	      endif
  13063  f577				  -	      endif		; TMPMEMADDRESS > $1FFF
  13064  f577					      endif		; EXTRADLMEMORY
  13065  f577		       c0		      .byte.b	<TMPMEMADDRESS
  13066  f577				   DLINDEX    SET	DLINDEX + 1
  13054  f577					      REPEND
  13055  f577				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13056  f578				  -	      ifconst	EXTRADLMEMORY
  13057  f578				  -	      if	TMPMEMADDRESS > $1FFF
  13058  f578				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13059  f578				  -	      else
  13060  f578				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13061  f578				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13062  f578				  -	      endif
  13063  f578				  -	      endif		; TMPMEMADDRESS > $1FFF
  13064  f578					      endif		; EXTRADLMEMORY
  13065  f578		       60		      .byte.b	<TMPMEMADDRESS
  13066  f578				   DLINDEX    SET	DLINDEX + 1
  13054  f578					      REPEND
  13055  f578				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13056  f579				  -	      ifconst	EXTRADLMEMORY
  13057  f579				  -	      if	TMPMEMADDRESS > $1FFF
  13058  f579				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13059  f579				  -	      else
  13060  f579				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13061  f579				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13062  f579				  -	      endif
  13063  f579				  -	      endif		; TMPMEMADDRESS > $1FFF
  13064  f579					      endif		; EXTRADLMEMORY
  13065  f579		       00		      .byte.b	<TMPMEMADDRESS
  13066  f579				   DLINDEX    SET	DLINDEX + 1
  13054  f579					      REPEND
  13055  f579				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13056  f57a				  -	      ifconst	EXTRADLMEMORY
  13057  f57a				  -	      if	TMPMEMADDRESS > $1FFF
  13058  f57a				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13059  f57a				  -	      else
  13060  f57a				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13061  f57a				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13062  f57a				  -	      endif
  13063  f57a				  -	      endif		; TMPMEMADDRESS > $1FFF
  13064  f57a					      endif		; EXTRADLMEMORY
  13065  f57a		       a0		      .byte.b	<TMPMEMADDRESS
  13066  f57a				   DLINDEX    SET	DLINDEX + 1
  13054  f57a					      REPEND
  13055  f57a				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13056  f57b				  -	      ifconst	EXTRADLMEMORY
  13057  f57b				  -	      if	TMPMEMADDRESS > $1FFF
  13058  f57b				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13059  f57b				  -	      else
  13060  f57b				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13061  f57b				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13062  f57b				  -	      endif
  13063  f57b				  -	      endif		; TMPMEMADDRESS > $1FFF
  13064  f57b					      endif		; EXTRADLMEMORY
  13065  f57b		       40		      .byte.b	<TMPMEMADDRESS
  13066  f57b				   DLINDEX    SET	DLINDEX + 1
  13054  f57b					      REPEND
  13055  f57b				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13056  f57c				  -	      ifconst	EXTRADLMEMORY
  13057  f57c				  -	      if	TMPMEMADDRESS > $1FFF
  13058  f57c				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13059  f57c				  -	      else
  13060  f57c				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13061  f57c				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13062  f57c				  -	      endif
  13063  f57c				  -	      endif		; TMPMEMADDRESS > $1FFF
  13064  f57c					      endif		; EXTRADLMEMORY
  13065  f57c		       e0		      .byte.b	<TMPMEMADDRESS
  13066  f57c				   DLINDEX    SET	DLINDEX + 1
  13054  f57c					      REPEND
  13055  f57c				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13056  f57d				  -	      ifconst	EXTRADLMEMORY
  13057  f57d				  -	      if	TMPMEMADDRESS > $1FFF
  13058  f57d				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13059  f57d				  -	      else
  13060  f57d				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13061  f57d				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13062  f57d				  -	      endif
  13063  f57d				  -	      endif		; TMPMEMADDRESS > $1FFF
  13064  f57d					      endif		; EXTRADLMEMORY
  13065  f57d		       80		      .byte.b	<TMPMEMADDRESS
  13066  f57d				   DLINDEX    SET	DLINDEX + 1
  13054  f57d					      REPEND
  13055  f57d				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13056  f57e				  -	      ifconst	EXTRADLMEMORY
  13057  f57e				  -	      if	TMPMEMADDRESS > $1FFF
  13058  f57e				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13059  f57e				  -	      else
  13060  f57e				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13061  f57e				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13062  f57e				  -	      endif
  13063  f57e				  -	      endif		; TMPMEMADDRESS > $1FFF
  13064  f57e					      endif		; EXTRADLMEMORY
  13065  f57e		       20		      .byte.b	<TMPMEMADDRESS
  13066  f57e				   DLINDEX    SET	DLINDEX + 1
  13054  f57e					      REPEND
  13055  f57e				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13056  f57f				  -	      ifconst	EXTRADLMEMORY
  13057  f57f				  -	      if	TMPMEMADDRESS > $1FFF
  13058  f57f				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13059  f57f				  -	      else
  13060  f57f				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13061  f57f				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13062  f57f				  -	      endif
  13063  f57f				  -	      endif		; TMPMEMADDRESS > $1FFF
  13064  f57f					      endif		; EXTRADLMEMORY
  13065  f57f		       c0		      .byte.b	<TMPMEMADDRESS
  13066  f57f				   DLINDEX    SET	DLINDEX + 1
  13054  f57f					      REPEND
  13055  f57f				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13056  f580				  -	      ifconst	EXTRADLMEMORY
  13057  f580				  -	      if	TMPMEMADDRESS > $1FFF
  13058  f580				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13059  f580				  -	      else
  13060  f580				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13061  f580				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13062  f580				  -	      endif
  13063  f580				  -	      endif		; TMPMEMADDRESS > $1FFF
  13064  f580					      endif		; EXTRADLMEMORY
  13065  f580		       60		      .byte.b	<TMPMEMADDRESS
  13066  f580				   DLINDEX    SET	DLINDEX + 1
  13067  f581					      REPEND
  13068  f581
  13069  f581
  13070  f581				   DLINDEX    SET	0
  13071  f581					      REPEAT	WZONECOUNT
  13072  f581				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13073  f581				  -	      ifconst	EXTRADLMEMORY
  13074  f581				  -	      if	TMPMEMADDRESS > $1FFF
  13075  f581				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13076  f581				  -	      else
  13077  f581				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13078  f581				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13079  f581				  -	      endif
  13080  f581				  -	      endif		; TMPMEMADDRESS > $1FFF
  13081  f581					      endif		; EXTRADLMEMORY
  13082  f581
  13083  f581		       18 80	   ZONE0ADDRESS =	TMPMEMADDRESS
  13084  f581				   LASTZONEADDRESS SET	TMPMEMADDRESS
  13085  f581
  13086  f581				   DLINDEX    SET	DLINDEX + 1
  13071  f581					      REPEND
  13072  f581				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13073  f581				  -	      ifconst	EXTRADLMEMORY
  13074  f581				  -	      if	TMPMEMADDRESS > $1FFF
  13075  f581				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13076  f581				  -	      else
  13077  f581				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13078  f581				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13079  f581				  -	      endif
  13080  f581				  -	      endif		; TMPMEMADDRESS > $1FFF
  13081  f581					      endif		; EXTRADLMEMORY
  13082  f581
  13083  f581		       19 20	   ZONE1ADDRESS =	TMPMEMADDRESS
  13084  f581				   LASTZONEADDRESS SET	TMPMEMADDRESS
  13085  f581
  13086  f581				   DLINDEX    SET	DLINDEX + 1
  13071  f581					      REPEND
  13072  f581				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13073  f581				  -	      ifconst	EXTRADLMEMORY
  13074  f581				  -	      if	TMPMEMADDRESS > $1FFF
  13075  f581				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13076  f581				  -	      else
  13077  f581				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13078  f581				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13079  f581				  -	      endif
  13080  f581				  -	      endif		; TMPMEMADDRESS > $1FFF
  13081  f581					      endif		; EXTRADLMEMORY
  13082  f581
  13083  f581		       19 c0	   ZONE2ADDRESS =	TMPMEMADDRESS
  13084  f581				   LASTZONEADDRESS SET	TMPMEMADDRESS
  13085  f581
  13086  f581				   DLINDEX    SET	DLINDEX + 1
  13071  f581					      REPEND
  13072  f581				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13073  f581				  -	      ifconst	EXTRADLMEMORY
  13074  f581				  -	      if	TMPMEMADDRESS > $1FFF
  13075  f581				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13076  f581				  -	      else
  13077  f581				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13078  f581				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13079  f581				  -	      endif
  13080  f581				  -	      endif		; TMPMEMADDRESS > $1FFF
  13081  f581					      endif		; EXTRADLMEMORY
  13082  f581
  13083  f581		       1a 60	   ZONE3ADDRESS =	TMPMEMADDRESS
  13084  f581				   LASTZONEADDRESS SET	TMPMEMADDRESS
  13085  f581
  13086  f581				   DLINDEX    SET	DLINDEX + 1
  13071  f581					      REPEND
  13072  f581				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13073  f581				  -	      ifconst	EXTRADLMEMORY
  13074  f581				  -	      if	TMPMEMADDRESS > $1FFF
  13075  f581				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13076  f581				  -	      else
  13077  f581				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13078  f581				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13079  f581				  -	      endif
  13080  f581				  -	      endif		; TMPMEMADDRESS > $1FFF
  13081  f581					      endif		; EXTRADLMEMORY
  13082  f581
  13083  f581		       1b 00	   ZONE4ADDRESS =	TMPMEMADDRESS
  13084  f581				   LASTZONEADDRESS SET	TMPMEMADDRESS
  13085  f581
  13086  f581				   DLINDEX    SET	DLINDEX + 1
  13071  f581					      REPEND
  13072  f581				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13073  f581				  -	      ifconst	EXTRADLMEMORY
  13074  f581				  -	      if	TMPMEMADDRESS > $1FFF
  13075  f581				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13076  f581				  -	      else
  13077  f581				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13078  f581				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13079  f581				  -	      endif
  13080  f581				  -	      endif		; TMPMEMADDRESS > $1FFF
  13081  f581					      endif		; EXTRADLMEMORY
  13082  f581
  13083  f581		       1b a0	   ZONE5ADDRESS =	TMPMEMADDRESS
  13084  f581				   LASTZONEADDRESS SET	TMPMEMADDRESS
  13085  f581
  13086  f581				   DLINDEX    SET	DLINDEX + 1
  13071  f581					      REPEND
  13072  f581				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13073  f581				  -	      ifconst	EXTRADLMEMORY
  13074  f581				  -	      if	TMPMEMADDRESS > $1FFF
  13075  f581				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13076  f581				  -	      else
  13077  f581				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13078  f581				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13079  f581				  -	      endif
  13080  f581				  -	      endif		; TMPMEMADDRESS > $1FFF
  13081  f581					      endif		; EXTRADLMEMORY
  13082  f581
  13083  f581		       1c 40	   ZONE6ADDRESS =	TMPMEMADDRESS
  13084  f581				   LASTZONEADDRESS SET	TMPMEMADDRESS
  13085  f581
  13086  f581				   DLINDEX    SET	DLINDEX + 1
  13071  f581					      REPEND
  13072  f581				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13073  f581				  -	      ifconst	EXTRADLMEMORY
  13074  f581				  -	      if	TMPMEMADDRESS > $1FFF
  13075  f581				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13076  f581				  -	      else
  13077  f581				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13078  f581				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13079  f581				  -	      endif
  13080  f581				  -	      endif		; TMPMEMADDRESS > $1FFF
  13081  f581					      endif		; EXTRADLMEMORY
  13082  f581
  13083  f581		       1c e0	   ZONE7ADDRESS =	TMPMEMADDRESS
  13084  f581				   LASTZONEADDRESS SET	TMPMEMADDRESS
  13085  f581
  13086  f581				   DLINDEX    SET	DLINDEX + 1
  13071  f581					      REPEND
  13072  f581				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13073  f581				  -	      ifconst	EXTRADLMEMORY
  13074  f581				  -	      if	TMPMEMADDRESS > $1FFF
  13075  f581				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13076  f581				  -	      else
  13077  f581				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13078  f581				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13079  f581				  -	      endif
  13080  f581				  -	      endif		; TMPMEMADDRESS > $1FFF
  13081  f581					      endif		; EXTRADLMEMORY
  13082  f581
  13083  f581		       1d 80	   ZONE8ADDRESS =	TMPMEMADDRESS
  13084  f581				   LASTZONEADDRESS SET	TMPMEMADDRESS
  13085  f581
  13086  f581				   DLINDEX    SET	DLINDEX + 1
  13071  f581					      REPEND
  13072  f581				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13073  f581				  -	      ifconst	EXTRADLMEMORY
  13074  f581				  -	      if	TMPMEMADDRESS > $1FFF
  13075  f581				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13076  f581				  -	      else
  13077  f581				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13078  f581				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13079  f581				  -	      endif
  13080  f581				  -	      endif		; TMPMEMADDRESS > $1FFF
  13081  f581					      endif		; EXTRADLMEMORY
  13082  f581
  13083  f581		       1e 20	   ZONE9ADDRESS =	TMPMEMADDRESS
  13084  f581				   LASTZONEADDRESS SET	TMPMEMADDRESS
  13085  f581
  13086  f581				   DLINDEX    SET	DLINDEX + 1
  13071  f581					      REPEND
  13072  f581				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13073  f581				  -	      ifconst	EXTRADLMEMORY
  13074  f581				  -	      if	TMPMEMADDRESS > $1FFF
  13075  f581				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13076  f581				  -	      else
  13077  f581				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13078  f581				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13079  f581				  -	      endif
  13080  f581				  -	      endif		; TMPMEMADDRESS > $1FFF
  13081  f581					      endif		; EXTRADLMEMORY
  13082  f581
  13083  f581		       1e c0	   ZONE10ADDRESS =	TMPMEMADDRESS
  13084  f581				   LASTZONEADDRESS SET	TMPMEMADDRESS
  13085  f581
  13086  f581				   DLINDEX    SET	DLINDEX + 1
  13071  f581					      REPEND
  13072  f581				   TMPMEMADDRESS SET	(((DLINDEX*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART)
  13073  f581				  -	      ifconst	EXTRADLMEMORY
  13074  f581				  -	      if	TMPMEMADDRESS > $1FFF
  13075  f581				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13076  f581				  -	      else
  13077  f581				  -	      if	((((DLINDEX+1)*WMEMSIZE)/WZONECOUNT)+WDLMEMSTART) > $1FFF
  13078  f581				  -TMPMEMADDRESS SET	(TMPMEMADDRESS + $300)
  13079  f581				  -	      endif
  13080  f581				  -	      endif		; TMPMEMADDRESS > $1FFF
  13081  f581					      endif		; EXTRADLMEMORY
  13082  f581
  13083  f581		       1f 60	   ZONE11ADDRESS =	TMPMEMADDRESS
  13084  f581				   LASTZONEADDRESS SET	TMPMEMADDRESS
  13085  f581
  13086  f581				   DLINDEX    SET	DLINDEX + 1
  13087  f581					      REPEND
  13088  f581
  13089  f581
     $1880 to $1fff used as zone memory, allowing 31 display objects per zone.
  13090  f581					      echo	"   ",[WDLMEMSTART],"to",[WDLMEMEND],"used as zone memory, allowing",[(DLLASTOBJ/5)]d,"display objects per zone."
  13091  f581
  13092  f581				   DLHEIGHT
  13093  f581					      REPEAT	WZONECOUNT
  13094  f581		       0f		      .byte.b	(WZONEHEIGHT-1)
  13093  f581					      REPEND
  13094  f582		       0f		      .byte.b	(WZONEHEIGHT-1)
  13093  f582					      REPEND
  13094  f583		       0f		      .byte.b	(WZONEHEIGHT-1)
  13093  f583					      REPEND
  13094  f584		       0f		      .byte.b	(WZONEHEIGHT-1)
  13093  f584					      REPEND
  13094  f585		       0f		      .byte.b	(WZONEHEIGHT-1)
  13093  f585					      REPEND
  13094  f586		       0f		      .byte.b	(WZONEHEIGHT-1)
  13093  f586					      REPEND
  13094  f587		       0f		      .byte.b	(WZONEHEIGHT-1)
  13093  f587					      REPEND
  13094  f588		       0f		      .byte.b	(WZONEHEIGHT-1)
  13093  f588					      REPEND
  13094  f589		       0f		      .byte.b	(WZONEHEIGHT-1)
  13093  f589					      REPEND
  13094  f58a		       0f		      .byte.b	(WZONEHEIGHT-1)
  13093  f58a					      REPEND
  13094  f58b		       0f		      .byte.b	(WZONEHEIGHT-1)
  13093  f58b					      REPEND
  13094  f58c		       0f		      .byte.b	(WZONEHEIGHT-1)
  13095  f58d					      REPEND
  13096  f58d
  13097  f58d							; Provided under the CC0 license. See the included LICENSE.txt for details.
  13098  f58d
  13099  f58d							; a simple guard, than ensures the 7800basic code hasn't
  13100  f58d							; spilled into the encryption area...
     2545 bytes left in the 7800basic reserved area.
  13101  f58d					      echo	"   ",($FF7E-*)d,"bytes left in the 7800basic reserved area."
  13102  f58d				  -	      if	(*>$FF7D)
  13103  f58d				  -	      echo
  13104  f58d				  -	      echo	"***************************"
  13105  f58d				  -	      echo	"*** Abort: ROM Overflow ***"
  13106  f58d				  -	      echo	"***************************"
  13107  f58d				  -	      ERR		; abort the assembly
  13108  f58d					      endif
  13109  f58d
  13110  f58d							; throw a compile
  13111  f58d				  -	      ifconst	RMT
  13112  f58d				  -	      ifnconst	pokeysupport
  13113  f58d				  -	      echo
  13114  f58d				  -	      echo	"************************************************************"
  13115  f58d				  -	      echo	"*** ABORT: RMT Tracker requires 'set pokeysupport $xxxx' ***"
  13116  f58d				  -	      echo	"************************************************************"
  13117  f58d				  -	      ERR		; abort
  13118  f58d				  -	      endif		; pokeysupport
  13119  f58d				  -	      ifnconst	pokeyaddress
  13120  f58d				  -	      echo
  13121  f58d				  -	      echo	"************************************************************"
  13122  f58d				  -	      echo	"*** ABORT: RMT Tracker requires 'set pokeysupport $xxxx' ***"
  13123  f58d				  -	      echo	"************************************************************"
  13124  f58d				  -	      ERR		; abort
  13125  f58d				  -	      endif		; pokeyaddress
  13126  f58d					      endif
  13127  f58d
  13128  f58d							; Provided under the CC0 license. See the included LICENSE.txt for details.
  13129  f58d
  13130  f58d				  -	      ifconst	DEV
  13131  f58d				  -	      ifnconst	ZONEHEIGHT
  13132  f58d				  -	      echo	"* the 4k 7800basic area has",[($FF7E - *)]d,"bytes free."
  13133  f58d				  -	      else
  13134  f58d				  -	      if	ZONEHEIGHT = 8
  13135  f58d				  -	      echo	"* the 4k 7800basic area has",[($FF7E - *)]d,"bytes free."
  13136  f58d				  -	      else
  13137  f58d				  -	      echo	"* the 4k 7800basic area has",[($FF7E - *)]d,"bytes free."
  13138  f58d				  -	      endif
  13139  f58d				  -	      endif
  13140  f58d					      endif
  13141  f58d
  13142  f58d				  -	      if	START_OF_ROM = .
  13143  f58d				  -	      .byte	0
  13144  f58d					      endif
  13145  f58d				   START_OF_ROM SET	0
  13146  f58d
  13147  f58d							; FF7E/FF7F contains the 7800basic crc checksum word
  13148  f58d
  13149  f58d							; FF80 - FFF7 contains the 7800 encryption key
  13150  f58d
  13151  f58d					      ifnconst	bankswitchmode
  13152  fff8					      ORG	$FFF8
  13153  fff8				  -	      else
  13154  fff8				  -	      ifconst	ROM128K
  13155  fff8				  -	      ORG	$27FF8
  13156  fff8				  -	      RORG	$FFF8
  13157  fff8				  -	      endif
  13158  fff8				  -	      ifconst	ROM144K
  13159  fff8				  -	      ORG	$27FF8
  13160  fff8				  -	      RORG	$FFF8
  13161  fff8				  -	      endif
  13162  fff8				  -	      ifconst	ROM256K
  13163  fff8				  -	      ORG	$47FF8
  13164  fff8				  -	      RORG	$FFF8
  13165  fff8				  -	      endif
  13166  fff8				  -	      ifconst	ROM272K
  13167  fff8				  -	      ORG	$47FF8
  13168  fff8				  -	      RORG	$FFF8
  13169  fff8				  -	      endif
  13170  fff8				  -	      ifconst	ROM512K
  13171  fff8				  -	      ORG	$87FF8
  13172  fff8				  -	      RORG	$FFF8
  13173  fff8				  -	      endif
  13174  fff8				  -	      ifconst	ROM528K
  13175  fff8				  -	      ORG	$87FF8
  13176  fff8				  -	      RORG	$FFF8
  13177  fff8				  -	      endif
  13178  fff8					      endif
  13179  fff8
  13180  fff8
  13181  fff8		       ff		      .byte.b	$FF	; region verification. $FF=all regions
  13182  fff9		       f7		      .byte.b	$F7	; high nibble:  encryption check from $N000 to $FF7F. we only hash the last 4k for faster boot.
  13183  fffa							; low nibble :  N=7 atari rainbow start, N=3 no atari rainbow
  13184  fffa
  13185  fffa							;Vectors
  13186  fffa		       00 f0		      .word.w	NMI
  13187  fffc		       eb f4		      .word.w	START
  13188  fffe		       5f f0		      .word.w	IRQ
  13189  10000
